{"version":3,"sources":["node_modules/socialcalc/dist/SocialCalc.js","third-party/class-js/lib/Class.js","third-party/wikiwyg/lib/Document/Emitter.js","third-party/wikiwyg/lib/Document/Emitter/HTML.js","third-party/wikiwyg/lib/Document/Parser.js","third-party/wikiwyg/lib/Document/Parser/Wikitext.js","static/jquery.js","static/vex.combined.min.js","static/jquery-ui.min.js"],"names":["root","factory","define","amd","bind","this","module","exports","call","SocialCalc","window","Constants","cellDataType","v","n","t","f","c","textdatadefaulttype","s_BrowserNotSupported","s_InternalError","s_pssUnknownColType","s_pssUnknownRowType","s_pssUnknownLineType","s_cfspUnknownCellType","doCanonicalizeSheet","s_escUnknownSheetCmd","s_escUnknownSetCoordCmd","s_escUnknownCmd","s_caccCircRef","defaultRowNameWidth","defaultAssumedRowHeight","defaultCellIDPrefix","defaultCellLayout","defaultCellFontStyle","defaultCellFontSize","defaultCellFontFamily","defaultPaneDividerWidth","defaultPaneDividerHeight","defaultGridCSS","defaultCommentClass","defaultCommentStyle","defaultCommentNoGridClass","defaultCommentNoGridStyle","defaultReadonlyClass","defaultReadonlyStyle","defaultReadonlyNoGridClass","defaultReadonlyNoGridStyle","defaultReadonlyComment","defaultColWidth","defaultMinimumColWidth","defaultHighlightTypeCursorClass","defaultHighlightTypeCursorStyle","defaultHighlightTypeRangeClass","defaultHighlightTypeRangeStyle","defaultColnameClass","defaultColnameStyle","defaultSelectedColnameClass","defaultSelectedColnameStyle","defaultRownameClass","defaultRownameStyle","defaultSelectedRownameClass","defaultSelectedRownameStyle","defaultUpperLeftClass","defaultUpperLeftStyle","defaultSkippedCellClass","defaultSkippedCellStyle","defaultPaneDividerClass","defaultPaneDividerStyle","defaultUnhideLeftClass","defaultUnhideLeftStyle","defaultUnhideRightClass","defaultUnhideRightStyle","defaultUnhideTopClass","defaultUnhideTopStyle","defaultUnhideBottomClass","defaultUnhideBottomStyle","defaultColResizeBarClass","defaultRowResizeBarClass","s_rcMissingSheet","defaultLinkFormatString","defaultPageLinkFormatString","defaultFormatp","defaultFormatc","defaultFormatdt","defaultFormatd","defaultFormatt","defaultDisplayTRUE","defaultDisplayFALSE","defaultImagePrefix","defaultTableEditorIDPrefix","defaultPageUpDnAmount","AllowCtrlS","defaultTableControlThickness","cteGriddivClass","s_statusline_executing","s_statusline_displaying","s_statusline_ordering","s_statusline_calculating","s_statusline_calculatingls","s_statusline_doingserverfunc","s_statusline_incell","s_statusline_calcstart","s_statusline_sum","s_statusline_recalcneeded","s_statusline_circref","s_statusline_sendemail","s_inputboxdisplaymultilinetext","defaultInputEchoClass","defaultInputEchoStyle","defaultInputEchoPromptClass","defaultInputEchoPromptStyle","defaultInputEchoHintClass","defaultInputEchoHintStyle","ietUnknownFunction","CH_radius1","CH_radius2","s_CHfillAllTooltip","s_CHfillContentsTooltip","s_CHmovePasteAllTooltip","s_CHmovePasteContentsTooltip","s_CHmoveInsertAllTooltip","s_CHmoveInsertContentsTooltip","s_CHindicatorOperationLookup","Fill","FillC","Move","MoveI","MoveC","MoveIC","s_CHindicatorDirectionLookup","Down","Right","Horizontal","Vertical","defaultTCSliderThickness","defaultTCButtonThickness","defaultTCThumbThickness","TCmainStyle","TCmainClass","TCendcapStyle","TCendcapClass","TCpanesliderClass","s_panesliderTooltiph","s_panesliderTooltipv","TClessbuttonStyle","TClessbuttonClass","TClessbuttonRepeatWait","TClessbuttonRepeatInterval","TCmorebuttonStyle","TCmorebuttonClass","TCmorebuttonRepeatWait","TCmorebuttonRepeatInterval","TCscrollareaStyle","TCscrollareaClass","TCscrollareaRepeatWait","TCscrollareaRepeatInterval","TCthumbClass","TCthumbStyle","TCPStrackinglineClass","TCPStrackinglineStyle","TCPStrackinglineThickness","TCTDFSthumbstatusvClass","TCTDFSthumbstatusvStyle","TCTDFSthumbstatushClass","TCTDFSthumbstatushStyle","TCTDFSthumbstatusrownumClass","TCTDFSthumbstatusrownumStyle","TCTDFStopOffsetv","TCTDFSleftOffsetv","s_TCTDFthumbstatusPrefixv","TCTDFStopOffseth","TCTDFSleftOffseth","s_TCTDFthumbstatusPrefixh","TooltipOffsetX","TooltipOffsetY","TDpopupElementClass","TDpopupElementStyle","SCToolbarbackground","SCTabbackground","SCTabselectedCSS","SCTabplainCSS","SCToolbartext","SCFormulabarheight","SCStatuslineheight","SCStatuslineCSS","SCFormatNumberFormats","SCFormatTextFormats","SCFormatPadsizes","SCFormatFontsizes","SCFormatFontfamilies","SCFormatFontlook","SCFormatTextAlignhoriz","SCFormatNumberAlignhoriz","SCFormatAlignVertical","SCFormatColwidth","SCFormatRecalc","SCFormatUserMaxCol","SCFormatUserMaxRow","ISCButtonNormalBackground","ISCButtonBorderNormal","ISCButtonBorderHover","ISCButtonBorderDown","ISCButtonDownBackground","s_PopupListCancel","s_PopupListCustom","s_loc_align_center","s_loc_align_left","s_loc_align_right","s_loc_alignment","s_loc_audit","s_loc_audit_trail_this_session","s_loc_auto","s_loc_auto_sum","s_loc_auto_wX_commas","s_loc_automatic","s_loc_background","s_loc_bold","s_loc_bold_XampX_italics","s_loc_bold_italic","s_loc_borders","s_loc_borders_off","s_loc_borders_on","s_loc_bottom","s_loc_bottom_border","s_loc_cell_settings","s_loc_csv_format","s_loc_cancel","s_loc_category","s_loc_center","s_loc_clear","s_loc_clear_socialcalc_clipboard","s_loc_clipboard","s_loc_color","s_loc_column_","s_loc_comment","s_loc_copy","s_loc_custom","s_loc_cut","s_loc_default","s_loc_default_alignment","s_loc_default_column_width","s_loc_default_font","s_loc_default_format","s_loc_default_padding","s_loc_delete","s_loc_delete_column","s_loc_delete_contents","s_loc_delete_row","s_loc_description","s_loc_display_clipboard_in","s_loc_down","s_loc_edit","s_loc_existing_names","s_loc_family","s_loc_fill_down","s_loc_fill_right","s_loc_font","s_loc_format","s_loc_formula","s_loc_function_list","s_loc_functions","s_loc_grid","s_loc_hidden","s_loc_hide_column","s_loc_hide_row","s_loc_horizontal","s_loc_insert_column","s_loc_insert_row","s_loc_italic","s_loc_last_sort","s_loc_left","s_loc_left_border","s_loc_link","s_loc_link_input_box","s_loc_list","s_loc_load_socialcalc_clipboard_with_this","s_loc_lock_cell","s_loc_major_sort","s_loc_manual","s_loc_merge_cells","s_loc_middle","s_loc_minor_sort","s_loc_move_insert","s_loc_move_paste","s_loc_multiXline_input_box","s_loc_name","s_loc_names","s_loc_no_padding","s_loc_normal","s_loc_number","s_loc_number_horizontal","s_loc_ok","s_loc_padding","s_loc_page_name","s_loc_paste","s_loc_paste_formats","s_loc_plain_text","s_loc_recalc","s_loc_recalculation","s_loc_redo","s_loc_right","s_loc_right_border","s_loc_sheet_settings","s_loc_save","s_loc_save_to","s_loc_set_cell_contents","s_loc_set_cells_to_sort","s_loc_set_value_to","s_loc_set_to_link_format","s_loc_setXclear_move_from","s_loc_show_cell_settings","s_loc_show_sheet_settings","s_loc_show_in_new_browser_window","s_loc_size","s_loc_socialcalcXsave_format","s_loc_sort","s_loc_sort_","s_loc_sort_cells","s_loc_swap_colors","s_loc_tabXdelimited_format","s_loc_text","s_loc_text_horizontal","s_loc_this_is_aXbrXsample","s_loc_top","s_loc_top_border","s_loc_undone_steps","s_loc_url","s_loc_undo","s_loc_unlock_cell","s_loc_unmerge_cells","s_loc_up","s_loc_value","s_loc_vertical","s_loc_wikitext","s_loc_workspace","s_loc_XnewX","s_loc_XnoneX","s_loc_Xselect_rangeX","SVStatuslineheight","SVStatuslineCSS","FormatNumber_separatorchar","FormatNumber_decimalchar","FormatNumber_defaultCurrency","s_FormatNumber_daynames","s_FormatNumber_daynames3","s_FormatNumber_monthnames","s_FormatNumber_monthnames3","s_FormatNumber_am","s_FormatNumber_am1","s_FormatNumber_pm","s_FormatNumber_pm1","s_parseerrexponent","s_parseerrchar","s_parseerrstring","s_parseerrspecialvalue","s_parseerrtwoops","s_parseerrmissingopenparen","s_parseerrcloseparennoopen","s_parseerrmissingcloseparen","s_parseerrmissingoperand","s_parseerrerrorinformula","s_calcerrerrorvalueinformula","s_parseerrerrorinformulabadval","s_formularangeresult","s_calcerrnumericnan","s_calcerrnumericoverflow","s_sheetunavailable","s_calcerrcellrefmissing","s_calcerrsheetnamemissing","s_circularnameref","s_calcerrunknownname","s_calcerrincorrectargstofunction","s_sheetfuncunknownfunction","s_sheetfunclnarg","s_sheetfunclog10arg","s_sheetfunclogsecondarg","s_sheetfunclogfirstarg","s_sheetfuncroundsecondarg","s_sheetfuncddblife","s_sheetfuncslnlife","s_fdef_ABS","s_fdef_ACOS","s_fdef_AND","s_fdef_ASIN","s_fdef_ATAN","s_fdef_ATAN2","s_fdef_AVERAGE","s_fdef_CHOOSE","s_fdef_COLUMNS","s_fdef_COS","s_fdef_CONCAT","s_fdef_CONCATENATE","s_fdef_COUNT","s_fdef_COUNTA","s_fdef_COUNTBLANK","s_fdef_COUNTIF","s_fdef_DATE","s_fdef_DAVERAGE","s_fdef_DAY","s_fdef_DCOUNT","s_fdef_DCOUNTA","s_fdef_DDB","s_fdef_DEGREES","s_fdef_DGET","s_fdef_DMAX","s_fdef_DMIN","s_fdef_DPRODUCT","s_fdef_DSTDEV","s_fdef_DSTDEVP","s_fdef_DSUM","s_fdef_DVAR","s_fdef_DVARP","s_fdef_EVEN","s_fdef_EXACT","s_fdef_EXP","s_fdef_FACT","s_fdef_FALSE","s_fdef_FIND","s_fdef_FV","s_fdef_HLOOKUP","s_fdef_HOUR","s_fdef_IF","s_fdef_INDEX","s_fdef_INT","s_fdef_IRR","s_fdef_ISBLANK","s_fdef_ISERR","s_fdef_ISERROR","s_fdef_ISLOGICAL","s_fdef_ISNA","s_fdef_ISNONTEXT","s_fdef_ISNUMBER","s_fdef_ISTEXT","s_fdef_LEFT","s_fdef_LEN","s_fdef_LN","s_fdef_LOG","s_fdef_LOG10","s_fdef_LOWER","s_fdef_MATCH","s_fdef_MAX","s_fdef_MID","s_fdef_MIN","s_fdef_MINUTE","s_fdef_MOD","s_fdef_MONTH","s_fdef_N","s_fdef_NA","s_fdef_NOT","s_fdef_NOW","s_fdef_NPER","s_fdef_NPV","s_fdef_ODD","s_fdef_OR","s_fdef_PI","s_fdef_PMT","s_fdef_POWER","s_fdef_PRODUCT","s_fdef_PROPER","s_fdef_PV","s_fdef_RADIANS","s_fdef_RATE","s_fdef_REPLACE","s_fdef_REPT","s_fdef_RIGHT","s_fdef_ROUND","s_fdef_ROWS","s_fdef_SECOND","s_fdef_SIN","s_fdef_SLN","s_fdef_SQRT","s_fdef_STDEV","s_fdef_STDEVP","s_fdef_SUBSTITUTE","s_fdef_SUM","s_fdef_SUMIF","s_fdef_SUMIFS","s_fdef_SYD","s_fdef_T","s_fdef_TAN","s_fdef_TIME","s_fdef_TODAY","s_fdef_TRIM","s_fdef_TRUE","s_fdef_TRUNC","s_fdef_UPPER","s_fdef_VALUE","s_fdef_VAR","s_fdef_VARP","s_fdef_VLOOKUP","s_fdef_WEEKDAY","s_fdef_YEAR","s_fdef_SUMPRODUCT","s_fdef_CEILING","s_fdef_FLOOR","s_farg_v","s_farg_vn","s_farg_xy","s_farg_choose","s_farg_range","s_farg_rangec","s_farg_date","s_farg_dfunc","s_farg_ddb","s_farg_find","s_farg_fv","s_farg_hlookup","s_farg_iffunc","s_farg_index","s_farg_irr","s_farg_tc","s_farg_log","s_farg_match","s_farg_mid","s_farg_nper","s_farg_npv","s_farg_pmt","s_farg_pv","s_farg_rate","s_farg_replace","s_farg_vp","s_farg_valpre","s_farg_csl","s_farg_cslp","s_farg_subs","s_farg_sumif","s_farg_hms","s_farg_txt","s_farg_vlookup","s_farg_weekday","s_farg_dt","s_farg_rangen","s_farg_vsig","function_classlist","s_fclass_all","s_fclass_stat","s_fclass_lookup","s_fclass_datetime","s_fclass_financial","s_fclass_test","s_fclass_math","s_fclass_text","s_fclass_action","s_fclass_gui","lastone","ConstantsDefaultClasses","defaultComment","defaultCommentNoGrid","defaultHighlightTypeCursor","defaultHighlightTypeRange","defaultColname","defaultSelectedColname","defaultRowname","defaultSelectedRowname","defaultUpperLeft","defaultSkippedCell","defaultPaneDivider","cteGriddiv","defaultInputEcho","classname","style","TCmain","TCendcap","TCpaneslider","TClessbutton","TCmorebutton","TCscrollarea","TCthumb","TCPStrackingline","TCTDFSthumbstatus","TDpopupElement","ConstantsSetClasses","prefix","item","defaults","scc","undefined","ConstantsSetImagePrefix","imagePrefix","replace","Callbacks","expand_wiki","expand_markup","displayvalue","sheetobj","linkstyle","default_expand_markup","MakePageLink","NormalizeSheetName","Cell","coord","datavalue","datatype","formula","valuetype","readonly","CellProperties","errors","comment","bt","br","bb","bl","layout","font","color","bgcolor","cellformat","nontextvalueformat","textvalueformat","colspan","rowspan","cssc","csss","mod","displaystring","parseinfo","hcolspan","hrowspan","CellPropertiesTable","Sheet","ResetSheet","statuscallback","statuscallbackparams","sheet","reload","cells","attribs","lastcol","lastrow","defaultlayout","usermaxcol","usermaxrow","rowattribs","hide","height","colattribs","width","names","layouts","layouthash","fonts","fonthash","colors","colorhash","borderstyles","borderstylehash","cellformats","cellformathash","valueformats","valueformathash","matched_cells","selected_search_cell","copiedfrom","changes","UndoStack","renderneeded","changedrendervalues","recalcchangedavalue","hiddencolrow","sci","SheetCommandInfo","ioEventTree","ioParameterList","prototype","AddCell","newcell","LastCol","last_col","cell_id","cr","coordToCr","col","LastRow","last_row","row","GetAssuredCell","ParseSheetSave","savedsheet","CellFromStringParts","cell","parts","j","CreateSheetSave","range","canonicalize","CellToString","CanonicalizeSheet","full","EncodeCellAttributes","EncodeSheetAttributes","DecodeCellAttributes","DecodeSheetAttributes","ScheduleSheetCommands","cmd","saveundo","SheetUndo","SheetRedo","CreateAuditString","GetStyleNum","atype","GetStyleString","num","RecalcSheet","line","i","name","lines","split","length","defaultcolwidth","defaultrowheight","defaulttextformat","defaultnontextformat","defaultfont","defaulttextvalueformat","defaultnontextvalueformat","defaultcolor","defaultbgcolor","circularreferencecell","recalc","needsrecalc","decodeFromSave","toUpperCase","desc","definition","match","alert","charAt","ro","toLowerCase","sheetfields","sheetfieldsshort","sheetfieldsxlat","sheetfieldsxlatshort","sheetfieldsxlatxlt","cr1","cr2","value","prange","result","xlt","ParseRange","maxrow","maxcol","push","crToCoord","rcColname","encodeForSave","newborderstyles","newcellformats","newcolors","newfonts","newlayouts","newvalueformats","namesorder","join","r","b","l","borderstylesxlat","layoutsxlat","fontsxlat","colorsxlat","cellformatsxlat","valueformatsxlat","filled","an","a","newa","newxlat","used","ahash","alist","sort","Array","colorsUsed","borderstylesUsed","fontsUsed","layoutsUsed","cellformatsUsed","valueformatsUsed","unshift","InitAttrib","def","val","InitAttribs","namelist","SetAttrib","SetAttribStar","rowheight","newattribs","changed","CheckChanges","attribname","oldval","cmdname","DoCmd","cmdstr","str","alignvert","padtop","padright","padbottom","padleft","fontlook","fontsize","fontfamily","timerobj","firsttimerdelay","timerdelay","maxtimeslice","CmdExtensionCallbacks","parseobj","Parse","PushChange","setTimeout","SheetCommandsTimerRoutine","errortext","starttime","Date","EOF","ExecuteSheetCommand","err","message","console","log","NextLine","increment_amount","down","valid_datatype","type","editor","GetSpreadsheetControlObject","range2","returnval","hasrange","startcell","endcell","bottom","top","left","right","Range2Remove","cmd1","rest","what","attrib","pos","pos2","undostart","fillright","rowstart","colstart","crbase","rowoffset","coloffset","basecell","clipsheet","cliprange","numcols","numrows","attribtable","colend","rowend","newcolstart","newrowstart","newcolend","newrowend","rownext","colnext","colthis","rowbefore","colbefore","oldformula","oldcr","cols","dirs","lastsortcol","sortlist","sortcells","sortvalues","sorttypes","sortfunction","valtype","originalrow","sortedcr","v1","v2","cmdextension","undoNum","trackLine","cellProperties","cellChanged","RestOfStringNoMove","AddDo","NextToken","RestOfString","AddUndo","test","indexOf","substring","celldisplayneeded","_app","prevvaluetype","quashedCellCoord","quashedCell","Clipboard","clipboard","inc","OffsetFormulaCoords","Math","max","currentClipCol","currentClipRow","sourceColname","colWidth","colHide","sourceRow","rowHide","slast","a1","b1","ta","cresult","tb","widgetsClean","AdjustFormulaCoords","tempRenderContext","RenderContext","CalculateCellSkipData","cellsToExpand","skipCell","cellskip","skipCellCR","mergerCellCoords","cellsToShrink","mergerCellCR","coordToCR","movingcells","dest","destcr","inserthoriz","insertvert","pushamount","movedto","ReplaceFormulaCoords","recalconce","parseInt","context","rowpanes","first","timeout","SetRowPaneFirstLast","griddiv","document","getElementById","removeChild","FitToEditTable","colpanes","SetColPaneFirstLast","func","data","tos","TOS","undo","Undo","didredo","Redo","command","stack","ttext","ttype","newcr","updatedformula","scf","Formula","tokentype","TokenType","token_op","op","token_string","string","token_coord","tokenOpExpansion","TokenOpExpansion","ParseFormulaIntoTokens","text","sheetref","RecalcInfo","currentState","state","idle","start_calc","order","calc","start_wait","done_wait","recalctimer","timeslicedelay","queue","LoadSheet","sheetname","RecalcData","inrecalc","celllist","celllistitem","calclist","calclistlength","firstcalc","lastcalc","nextcalc","count","checkinfo","RecalcCheckInfo","oldcoord","parsepos","inrange","inrangestart","c1","c2","r1","r2","scri","FreshnessInfoReset","RecalcClearTimeout","RecalcSetTimeout","RecalcTimerRoutine","clearTimeout","RecalcLoadedSheet","recalcneeded","live","AddSheetToCache","SheetCache","waitingForLoading","previousrecalcsheet","eresult","status","recalcdata","do_statuscallback","arg","RecalcCheckCell","total","evaluate_parsed_formula","firstRenderScheduled","ScheduleRender","RemoteFunctionInfo","waitingForServer","funcname","error","reRenderCellList","FreshnessInfo","recalc_completed","shift","startcoord","rangecoord","coordvals","token_name","mainloop","LookupName","delimiter","lineEnd","pos1","oldpos","maxRedo","maxUndo","pop","args","arguments","hideRowsCols","showGrid","showRCHeaders","rownamewidth","pixelsPerRow","colwidth","totalwidth","totalheight","colunhideleft","colunhideright","rowunhidetop","rowunhidebottom","highlights","cursorsuffix","highlightTypes","cursor","className","cursorinsertup","cursorinsertleft","cellIDprefix","defaultlinkstyle","defaultHTMLlinkstyle","defaultfontstyle","defaultfontsize","defaultfontfamily","defaultpanedividerwidth","defaultpanedividerheight","gridCSS","commentClassName","commentCSS","commentNoGridClassName","commentNoGridCSS","readonlyClassName","readonlyCSS","readonlyNoGridClassName","readonlyNoGridCSS","readonlyComment","classnames","colname","rowname","selectedcolname","selectedrowname","upperleft","skippedcell","panedivider","unhideleft","unhideright","unhidetop","unhidebottom","colresizebar","rowresizebar","explicitStyles","needcellskip","needprecompute","last","PrecomputeSheetFontsAndLayouts","CalculateColWidthData","CalculateRowHeightData","panenum","CoordInPane","rowpane","colpane","CellInPane","InitializeTable","tableobj","RenderSheet","oldtable","RenderColGroup","RenderColHeaders","RenderSizingRow","RenderRow","rownum","RenderSpacingRow","RenderCell","colnum","noElement","layoutre","dparts","sparts","s","weight","size","family","skiprow","skipcol","skipcoord","borderCollapse","cellSpacing","cellPadding","newrow","colgroupobj","tbodyobj","parentnode","createElement","appendChild","parentNode","replaceChild","newcol","newdiv","cssText","verticalAlign","innerHTML","container","position","unhide","fixPosition","resizeBar","overflow","w","span","sheetattribs","stylestr","CreatePseudoElement","id","colSpan","rowSpan","FormatValueForDisplay","title","classList","add","setStyles","panerowlimits","panecollimits","collow","colhigh","floor","String","fromCharCode","letters","coordToCol","coordToRow","ch","charCodeAt","decodeFromAjax","special_chars","Lookup","list","element","part","GetViewportInfo","innerWidth","innerHeight","horizontalScroll","pageXOffset","verticalScroll","pageYOffset","documentElement","clientWidth","clientHeight","scrollLeft","scrollTop","body","GetElementPosition","offsetLeft","offsetTop","GetComputedStyle","offsetParent","GetElementPositionWithScroll","rect","getBoundingClientRect","GetElementFixedParent","tagName","computedStyle","currentStyle","defaultView","getComputedStyle","LookupElement","array","AssignID","obj","idPrefix","GetCellContents","cellobj","valueformat","valuesubtype","valueinputwidget","formula_name","html_display_value","html_formated_value","format_text_for_display","format_number_for_display","parameters","formula_details","FunctionList","cell_html","checkedValue","parameterValue","index","paramRegExp","RegExp","html","htmlIndex","css","rawvalue","dvsc","dvue","textval","encodeURI","expand_text_link","u","FormatNumber","formatNumberWithFormat","DetermineValueType","tvalue","matches","year","hour","minute","second","denom","intgr","constr","isNaN","slice","navigator","convert_date_gregorian_to_julian","InputConstants","TRUE","FALSE","#N/A","#NULL!","#NUM!","#DIV/0!","#VALUE!","#REF!","#NAME?","url","ParseCellLinkText","pagename","newwin","workspacename","workspace","pageform","urlend","descstart","lastlt","lastIndexOf","lastbrkt","lastbrace","descend","wsend","ConvertSaveToOtherFormat","savestr","outputformat","dorecalc","clipextents","div","ele","ConvertOtherFormatToSave","inputstr","inputformat","inquote","maxc","SetConvertedCell","TableEditor","toplevel","fullgrid","noEdit","tablewidth","tableheight","inputBox","inputEcho","verticaltablecontrol","horizontaltablecontrol","logo","cellhandles","busy","ensureecell","deferredCommands","deferredEmailCommands","gridposition","headposition","firstscrollingrow","firstscrollingrowtop","lastnonscrollingrow","lastvisiblerow","firstscrollingcol","firstscrollingcolleft","lastnonscrollingcol","lastvisiblecol","rowpositions","colpositions","ecell","workingvalues","imageprefix","pageUpDnAmount","recalcFunction","EditorSheetStatusCallback","ctrlkeyFunction","charname","sel","cliptext","MoveECell","RangeAnchor","RangeExtend","pasteTextarea","GetEditorCellElement","ECellReadonly","EditorScheduleSheetCommands","display","focus","select","blur","KeyboardFocus","pastescclipboard","clipstr","ntvf","newntvf","prompt","CtrlSEditor","StatusCallback","MoveECellCallback","RangeChangeCallback","SettingsCallbacks","CreateTableEditor","ResizeTableEditor","SaveEditorSettings","LoadEditorSettings","flags","EditorRenderSheet","ignorebusy","EditorStepSet","GetStatuslineString","params","EditorGetStatuslineString","EditorMouseRegister","EditorMouseUnregister","EditorMouseRange","EditorProcessKey","e","EditorAddToInput","DisplayCellContents","EditorDisplayCellContents","EditorSaveEdit","EditorApplySetCommandsToRange","cmdline","MoveECellWithKey","ReplaceCell","UpdateCellCSS","SetECellHeaders","selected","EnsureECellVisible","RangeRemove","CalculateEditorPositions","renderwidgets","DoRenderStep","SchedulePositionCalculations","DoPositionCalculations","CalculateRowPositions","positions","sizes","CalculateColPositions","ScrollRelative","vertical","amount","ScrollRelativeBoth","vamount","hamount","PageRelative","direction","LimitLastPanes","ScrollTableUpOneRow","ScrollTableDownOneRow","ScrollTableLeftOneCol","ScrollTableRightOneCol","StopPropagation","SetMouseMoveUp","RemoveMouseMoveUp","TableControl","CreateTableControl","main","table","tbody","tr","td","layouttable","background","firstChild","InputEcho","CellHandles","userAgent","removeEventListener","SafariPasteFunction","addEventListener","MouseWheelRegister","WheelMove","EditorProcessMouseWheel","KeyboardSetFocus","preventDefault","setting","anchorcoord","save","anchorrow","anchorcol","load","cmdTokens","TriggerIoAction","Email","dcmd","signalstatus","emailcmd","sstr","progress","circ","sum","emailing","emailreponse","calculating","EditorMouseInfo","registeredElements","ignore","mousedowncoord","mouselastcoord","mouseresizecol","mouseresizeclientx","mouseresizedisplay","mouseinfo","ProcessEditorMouseDown","ProcessEditorDblClick","attachEvent","oldelement","detachEvent","splice","event","stopPropagation","cancelBubble","returnValue","move","up","setCapture","releaseCapture","target","srcElement","nodeType","mobj","clientX","clientY","GridMousePosition","rowheader","rowselect","ProcessEditorRowselectMouseDown","ProcessEditorRowsizeMouseDown","colheader","colselect","ProcessEditorColselectMouseDown","ProcessEditorColsizeMouseDown","shiftKey","CmdGotFocus","clickedCell","widget_id","cell_widget","ProcessEditorMouseMove","ProcessEditorMouseUp","inputtext","wval","GetText","partialexpr","SetText","Blur","ShowInputBox","ShowCellHandles","SetDragAutoRepeat","mouseresizecolnum","coltoresize","mousedownclientx","mousecoltounhide","coltounhide","sizedisplay","zIndex","lastChild","childNodes","ProcessEditorColsizeMouseMove","ProcessEditorColsizeMouseUp","newsize","FinishColRowSize","coord1","coord2","coord3","ProcessEditorRowselectMouseMove","ProcessEditorRowselectMouseUp","ProcessEditorColselectMouseMove","ProcessEditorColselectMouseUp","spreadsheetDiv","offsetHeight","mouseresizerownum","rowtoresize","mouseresizerow","mousedownclienty","mouserowtounhide","rowtounhide","ProcessEditorRowsizeMouseMove","ProcessEditorRowsizeMouseUp","AutoRepeatInfo","timer","repeatinterval","repeatcallback","callback","repeatinfo","rowfooter","colfooter","distance","DragAutoRepeat","EditorOpenCellEdit","disabled","Focus","Select","ecoord","erow","ecol","substr","skipOne","valueinfo","fch","oldvalue","EditedTriggerCell","actionFormulaCells","editedCellRef","actionCellId","function_name","delta","mousewheelinfo","wobj","functionobj","ceil","offsetWidth","controlborder","headerColOffset","headerRowOffset","rowindex","colindex","shifted","min","newelement","headercell","totalrows","needed","firstRow","lastRow","ComputeTableControlPositions","ignoreRender","PositionTableControlElements","toprow","offset","trowobj","leftcol","cellposition","dv","dh","vplen","vlimit","hplen","hlimit","newfirst","totalsize","current","panes","lastpane","lastvisible","sizearray","defaultsize","plen","oldrownum","newbottomrow","oldchild","bottomrownum","rowneedsrefresh","maxrowspan","newrownum","insertBefore","InputBox","onmousedown","InputBoxOnMouseDown","formulabar","InputBoxDisplayCellContents","show","ShowInputEcho","newtext","InputBoxFocus","selection","createRange","duplicate","moveToElementText","collapse","selectionStart","selectionEnd","inputbox","Keyboard","focusTable","interval","hint","functionbox","DragRegister","MouseDown","DragFunctionStart","MouseMove","DragFunctionPosition","MouseUp","Disabled","positionobj","SetInputEchoText","inputecho","clearInterval","setInterval","InputEchoHeartbeat","fname","fstr","newstr","FillFunctionInfo","FunctionArgString","InputEchoMouseDown","noCursorSuffix","movedmouse","draghandle","imagetype","dragpalette","dragtooltip","fillinghandle","CellHandlesMouseMoveOnHandle","CellHandlesMouseDown","moveshow","doshow","colinc","rowinc","mouseDown","whichhandle","SegmentDivHit","CellHandlesHoverTimeout","segtable","divWithMouseHit","x","y","len","sqrt","pow","quadrant","dragtype","filltype","startingcoord","startingX","startingY","CellHandlesMouseMove","CellHandlesMouseUp","crstart","crend","CellHandlesDragAutoRepeat","abs","newcoord","vscroll","hscroll","cstr","cmdtype","cmdtype2","sizec","sizer","deltac","deltar","endcap","paneslider","lessbutton","morebutton","scrollarea","thumb","endcapstart","panesliderstart","lessbuttonstart","morebuttonstart","scrollareastart","scrollareaend","scrollareasize","thumbpos","controlthickness","sliderthickness","buttonthickness","thumbthickness","minscrollingpanesize","control","functions","vh","SCLoc","LocalizeString","backgroundImage","TCPSDragFunctionStart","TCPSDragFunctionMove","TCPSDragFunctionStop","repeatwait","normalstyle","downstyle","hoverstyle","Repeat","ButtonRegister","ScrollAreaClick","TCTDragFunctionStart","TCTDragFunctionMove","TCTDragFunctionStop","buttoninfo","bobj","clickpos","border","realend","draginfo","dobj","trackingline","offsetY","offsetX","thumbstatus","rowmsgele","rowpreviewele","thumbcontext","pane","TCTDragFunctionRowSetStatus","msg","thumbrowshown","DragInfo","draggingElement","startX","startY","startZ","relativeOffset","horizontal","parent","DragMouseDown","DragUnregister","DragMouseMove","DragMouseUp","ButtonInfo","buttonElement","doingHover","buttonDown","paramobj","ButtonMouseDown","ButtonMouseOver","ButtonMouseOut","MouseOver","MouseOut","ButtonMouseUp","ButtonRepeat","MouseWheelInfo","ProcessMouseWheel","passThru","wheelDelta","detail","keyboardTables","specialKeysCommon","8","9","13","25","27","33","34","35","36","37","38","39","40","45","46","113","specialKeysIE","controlKeysIE","65","67","83","86","88","90","specialKeysOpera","controlKeysOpera","specialKeysSafari","63232","63233","63234","63235","63272","63273","63275","63276","63277","63237","controlKeysSafari","97","99","115","118","120","122","ignoreKeysSafari","63236","63238","63239","63240","63241","63242","63243","63244","63245","63246","63247","63289","specialKeysFirefox","controlKeysFirefox","ignoreKeysFirefox","16","17","18","20","19","44","91","92","112","114","116","117","119","121","123","144","145","224","areListener","didProcessKey","statusFromProcessKey","repeatingKeyPress","chForProcessKey","onkeydown","ProcessKeyDown","onkeypress","ProcessKeyPress","kt","which","keyCode","ctrlKey","ProcessKey","metaKey","charCode","ft","format_definitions","separatorchar","decimalchar","daynames","daynames3","monthnames3","monthnames","allowedcolors","BLACK","BLUE","CYAN","GREEN","MAGENTA","RED","WHITE","YELLOW","alloweddates","H","M","MM","S","SS","commands","copy","integer_placeholder","fraction_placeholder","decimal","currency","general","separator","date","comparison","section","datevalues","julian_offset","seconds_in_a_day","seconds_in_an_hour","format_string","currency_char","operandstr","fromend","cval","operandstrlc","startval","estartval","hrs","mins","secs","ehrs","emins","esecs","ampmstr","ymd","minOK","thisformat","gotcomparison","compop","compval","cpos","oppos","sectioninfo","decimalscale","scaledvalue","strvalue","strparts","integervalue","fractionvalue","integerdigits2","integerpos","fractionpos","textcolor","textstyle","scfn","isFinite","formatTextWithFormat","negativevalue","zerovalue","FormatNumber_DefaultCurrency","parse_format_string","hascomparison","operators","operands","commas","percent","fractiondigits","integerdigits","hasdate","convert_date_julian_to_gregorian","mspos","sectionstart","thousandssep","factor","LOG10E","day","month","format_defs","lastwasinteger","lastwasslash","lastwasasterisk","lastwasunderscore","quotestr","inbracket","bracketstr","bracketdata","ingeneral","indate","chpos","integerpart","parse_format_bracket","operator","operand","ampstr","juliandate","intFunc","L","N","I","J","K","ParseState","alpha","stringquote","numexp1","numexp2","alphanumeric","specialvalue","space","CharClass","numstart","eof","incoord","quote","specialstart","CharClassTable"," ","!","\"","'","#","$","%","&","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7",":","<","=",">","A","B","C","D","E","F","G","O","P","Q","R","T","U","V","W","X","Y","Z","^","_","d","g","h","k","m","o","p","q","z","UpperCaseTable","SpecialConstants","TokenPrecedence","TypeLookupTable","unaryminus","n*","e*","t*","unaryplus","unarypercent","plus","n%","nd","nt","ndt","n$","nl","concat","th","tw","tl","oneargnumeric","twoargnumeric","propagateerror","cclass","haddecimal","last_token","last_token_type","last_token_text","parsestate","charclass","charclasstable","uppercasetable","pushtoken","ParsePushToken","coordregex","twochrop","topcode","opcode","allowrangereturn","revpolish","ConvertInfixToPolish","EvaluatePolish","pii","tprecedence","tstackprecedence","token_precedence","parsestack","function_start","debug_log","DebugLog","logObject","rii","prii","value1","value2","tostype","tostype2","resulttype","cond","vmatch","smatch","lookup_result_type","LookupResultType","typelookup","operand_as_number","OperandAsNumber","operand_as_text","OperandAsText","operand_value_and_type","OperandValueAndType","operands_as_coord_on_sheet","OperandsAsCoordOnSheet","missingOperandError","PushOperand","parameterInfo","OperandsAsRangeOnSheet","CalculateFunction","type1","type2","table1","TopOfStackValueAndType","stacklen","operandinfo","cellvtype","coordsheet","StepThroughRangeDown","FindInSheetCache","PlainCoord","OperandAsCoord","OperandAsType","OperandAsRange","operandtype","othersheet","OperandAsSheetName","nvalue","isEnd","specialc","startedwalk","checknamecirc","rangevalue","sequence","sheet1","rp","OrderRangeParts","DecodeRangeParts","sheetdata","coordsheetdata","col1num","ncols","row1num","nrows","FunctionClasses","FunctionArgDefs","StoreIoEventFormula","operand_reverse","io_parameters","Clone","reverse","ioTimeTriggerList","radioGroupList","PushTriggerTime","coordA1","sheetData","triggerTimeCellId","currentTriggerTimeList","rangeinfo","cellCoord","ArrayValuesEqual","timeZoneOffsetMins","getTimezoneOffset","start_1_1_1970","triggerUTCTimeList","toString","triggerCellId","PushTriggerCord","cellcr","formDataViewer","CurrentSpreadsheetControlObject","CurrentSpreadsheetViewerObject","loaded","formFields","LoadFormFields","formFieldName","sheetCmd","formFieldsLength","headerCoord","valueCoord","sheetCmdTwo","destination","source","property","A1","A2","fobj","foperand","ffunc","argnum","CopyFunctionArgs","FunctionArgsError","FunctionSpecificError","errortype","CheckForErrorValue","classes","cname","items","nargs","fdata","adef","SeriesFunctions","maxval","minval","mk","sk","mk1","sk1","typelookupplus","resulttypesum","counta","countblank","product","SumProductFunction","products","DSeriesFunctions","dbrange","fieldname","criteriarange","dbinfo","criteriainfo","fieldasnum","targetcol","criteriafieldnums","testok","criteriacr","criteria","testcol","testcr","countmatches","FieldToColnum","criterianum","CRITERIAROW","TestCriteria","fieldtype","LookupFunctions","lookupvalue","rangelookup","offsetvalue","cincr","rincr","previousOK","csave","rsave","IndexFunction","indexinfo","CountifSumifFunctions","sumrange","f2operand","SumifsFunction","ranges","criterias","all_good","IfFunction","op1","op2","DateFunction","TimeFunction","hours","minutes","seconds","DMYFunctions","dtype","doffset","datevalue","HMSFunctions","fraction","datetime","ExactFunction","v1type","v2type","ArgList","FIND","LEFT","LEN","LOWER","MID","PROPER","REPLACE","REPT","RIGHT","SUBSTITUTE","TRIM","HEXCODE","UPPER","StringFunctions","start","numargs","argdef","operand_value","operand_type","word","fulltext","oldtext","code","next","IsFunctions","NTVFunctions","Math1Functions","acos","asin","atan","cos","PI","exp","sin","tan","Math2Functions","xval","yval","quotient","atan2","LogFunction","RoundFunction","round","CeilingFloorFunctions","sig","AndOrFunctions","NotFunction","ChooseFunction","cindex","ColumnsRowsFunctions","ZeroArgFunctions","tzoffset","nowdays","getTime","NOW","TODAY","random","RAND","DDBFunction","method","depreciation","accumulateddepreciation","cost","salvage","lifetime","period","SLNFunction","SYDFunction","sumperiods","InterestFunctions","dval","eval","fval","pv","fv","rate","payment","paytype","guess","part1","part2","part3","part4","part5","olddelta","maxloop","tries","oldrate","aval","bval","epsilon","NPVFunction","resulttypenpv","IRRFunction","oldsum","rangeoperand","cashflows","IoFunctions","parameter","repeatIndex","wantedType","argList","BUTTON","IMAGEBUTTON","EMAIL","EMAILIF","EMAILONEDIT","EMAILAT","EMAILONEDITIF","EMAILATIF","SUBMIT","TEXTBOX","AUTOCOMPLETE","SELECT","CHECKBOX","RADIOBUTTON","COPYVALUE","COPYFORMULA","INSERT","DELETEIF","COMMAND","COMMANDIF","PANEL","SPLASH","STYLE","repeatCount","parameterType","validParameterType","getStandardizedList","cssParameter","optionSource","options","optionRegExp","showindices","firstPanelIndex","splashdone","showrows","showcols","parameterIndex","showPanelFound","showIndex","panelCoordData","getStandardizedCoords","spreadsheet","ss","forceRender","lastShowDimension","showGridDimension","lastIndex","sheetHideList","showList","getIndexOf","arrayIndex","sheetHideIndex","getRowIndex","AddAutocomplete","autocompleteSource","ui","autocomplete","filter","term","matcher","escapeRegex","grep","label","minLength","autoFocus","AutoComplete","change","Button","conditionsParameter","parameterdata","getStandardizedValues","sheetCommandList","CopyValueToRange","CopyFormulaToRange","insertCommand","colOffset","rowOffset","insertcellCoord","cellcoord","sourceDataIndex","copyCellRange","deleteCommand","criteriaParameter","testRangeParameter","criteriaValue","celldata","commandsParameter","conditionCell","cellCommand","trim","formulaData","sheetCommand","destCellCoord","cellValueType","cellDataValue","cellFormula","sourceData","emailFormulaCellId","optionalTriggerCellId","parameterValues","parameterCellRefs","maxRangeSize","rangeSizeCounter","conditionIndex","toAddressParamOffset","setStatusBarMessage","emailContentsList","rangeIndex","conditionRangeIndex","toaddressRangeIndex","subjectsRangeIndex","bodyRangeIndex","emailContents","Submit","formDataValues","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","colIndex","SelectList","selectListCellId","getHTMLselectListCellValue","selectListWidget","updateInputWidgetFormula","autoCompleteCellId","getHTMLAutoCompleteCellValue","autoCompleteWidget","TextBox","textBoxCellId","getHTMLTextBoxCellValue","textBoxWidget","CheckBox","checkBoxCellId","getHTMLCheckBoxCellValue","checkBoxWidget","checked","RadioButton","radioButtonGroupName","getHTMLRadioButtonValue","radioButtonWidget","each","attr","widgetCellId","getHTMLWidgetCellValue","inputValue","paramIndex","UpdateFormDataSheet","formCellId","parameterData","getStandardizedParameter","listParameter","listValues","includeCellCoord","includeCellData","constantDatatype","sourcerangeinfo","sourceCoord","sheets","constants","asloaded","recalcing","recalcdone","loadsheet","sfsc","nsheetname","newsheet","sfscc","newsheetname","recalcstate","volatile","scffi","scfsc","comparitor","basestring","basevalue","testvalue","search","Popup","Types","Controls","Current","Create","pt","SetValue","sp","spt","spc","spcdata","changedcallback","SetDisabled","Hide","GetValue","Initialize","Reset","CClick","Show","Close","Cancel","CreatePopupDiv","mainele","backgroundColor","moveable","dragregistered","EnsurePosition","GetLayoutValues","popup","popupele","DestroyPopupDiv","RGBToHex","rgbvals","ToHex","HexDigits","FromHex","HexToRGB","makeRGB","splitRGB","rgb","List","spcid","custom","skip","cancel","MakeCustom","customele","listdiv","contentele","MakeList","ensureWithin","bg","SPLoc","ItemClicked","oele","nele","CustomToList","CustomOK","rowele","ColorChooser","spca","sampleWidth","sampleHeight","img","backgroundImageDefault","backgroundPosition","backgroundImageDisabled","CreateGrid","padding","grid","fontSize","borderRight","backgroundRepeat","marginTop","defaultbox","onclick","DefaultClicked","CustomClicked","CloseOK","GridMouseDown","DetermineColors","SetColors","gridToG","sptc","steps","commonrgb","mousedown","gpos","newrgb","oldrgb","ControlClicked","cid","CustomToGrid","SpreadsheetControl","requestedHeight","requestedWidth","requestedSpaceBelow","viewheight","tabs","tabnums","tabreplacements","currentTab","views","editorDiv","sortrange","moverange","multipartBoundary","toolbarbackground","tabbackground","tabselectedCSS","tabplainCSS","toolbartext","formulabarheight","statuslineheight","statuslineCSS","ExportCallback","statusline","SpreadsheetControlStatuslineCallback","statuslineid","recalcid1","recalcid2","movefrom","formulabuttons","formulafunctions","image","tooltip","DoFunctionList","multilineinput","DoMultiline","link","DoLink","DoSum","findbuttons","SearchUp","SearchDown","edit","oncreate","settings","view","SettingsControls","SettingControlReset","cellattribs","SettingsControlLoadPanel","values","sheetspanel","cellspanel","SpreadsheetControlSettingsSwitch","onclickFocus","viewobj","colorchooser","formatnumber","initialdata","formattext","textalignhoriz","numberalignhoriz","cformatnumber","cformattext","cfontfamily","cfontlook","cfontsize","calignhoriz","calignvert","ctextcolor","cbgcolor","cbt","cbr","cbb","cbl","cpadtop","cpadright","cpadbottom","cpadleft","SettingsControlInitializePanel","replacements","itemtitle","regex","replacement","sectiontitle","parttitle","itembody","bodypart","divStyle","SpreadsheetControlSortOnclick","SpreadsheetControlSortSave","SpreadsheetControlSortLoad","audit","ObjToSource","check","na","SpreadsheetControlCommentOnclick","onunclick","SpreadsheetControlCommentOnunclick","SpreadsheetControlNamesOnclick","SpreadsheetControlNamesOnunclick","SpreadsheetControlClipboardOnclick","InitializeSpreadsheetControl","node","spacebelow","DoOnResize","SizeSSDiv","ExecuteCommand","combostr","SpreadsheetControlExecuteCommand","CreateSheetHTML","SpreadsheetControlCreateSheetHTML","CreateSpreadsheetSave","otherparts","SpreadsheetControlCreateSpreadsheetSave","DecodeSpreadsheetSave","SpreadsheetControlDecodeSpreadsheetSave","CreateCellHTML","SpreadsheetControlCreateCellHTML","CreateCellHTMLSave","SpreadsheetControlCreateCellHTMLSave","child","vname","button","bele","SCLocSS","LocalizeSubstrings","Buttons","button_undo","button_redo","button_copy","button_cut","button_paste","button_pasteformats","button_lock","button_unlock","button_delete","button_filldown","button_fillright","button_movefrom","button_movepaste","button_moveinsert","button_alignleft","button_aligncenter","button_alignright","button_borderon","button_borderoff","button_swapcolors","button_merge","button_insertrow","button_insertcol","button_deleterow","button_deletecol","button_hiderow","button_hidecol","button_recalc","ISCButtonHoverBackground","DoButtonCmd","formulabarDiv","src","skipImagePrefix","marginLeft","input","searchBar","append","on","FindInSheet","keyup","CalculateSheetNonViewHeight","nonviewheight","appViewDiv","formDataDiv","SpreadsheetViewer","InitializeSpreadsheetViewer","statuslineDiv","paddingTop","paddingBottom","SetSpreadsheetControlObject","nodeIndex","LocalizeStringList","csco","needresize","resized","nodestyle","newval","fudgefactorX","fudgefactorY","marginBottom","marginRight","SetTab","newtab","tname","newtabnum","newview","menutabs","tools","needsresize","onresize","rele1","rele2","UpdateSortRangeProposal","LoadColumnChoosers","nrange","rparts","sele","oldindex","selectedIndex","Option","cl","clele","slist","slistele","rele","lele","SpreadsheetCmdTable","slists","min_col","max_col","min_row","max_row","visibility","SpreadsheetCmdLookup","SpreadsheetCmdSLookup","cut","paste","pasteformats","lock","unlock","delete","filldown","erase","borderon","borderoff","merge","unmerge","align-left","align-center","align-right","align-default","insertrow","insertcol","deleterow","deletecol","hiderow","hidecol","redo","eobj","cellHTML","fcl","idp","GetFunctionNamesStr","GetFunctionInfoStr","vp","FillFunctionNames","scsc","FunctionClassChosen","FunctionChosen","HideFunctions","DoFunctionPaste","mele","HideMultiline","DoMultilineClear","DoMultilinePaste","setformat","HideLink","DoLinkClear","DoLinkPaste","ltsym","gtsym","obsym","cbsym","descele","urlele","pagenameele","workspaceele","formatele","foundvalue","searchstatus","search_cells","cellvalue","SearchSheet","selected_cell","new_cell","textContent","n_options","SpreadsheetControlCommentMoveECell","SpreadsheetControlCommentDisplay","SpreadsheetControlCommentSet","SpreadsheetControlNamesRangeChange","SpreadsheetControlNamesFillNameList","SpreadsheetControlNamesChangedName","currentname","SpreadsheetControlNamesSetValue","SpreadsheetControlNamesSave","SpreadsheetControlNamesDelete","clipele","SpreadsheetControlClipboardFormat","SpreadsheetControlClipboardLoad","savetype","SpreadsheetControlClipboardClear","SpreadsheetControlClipboardExport","sheettable","celltable","sheettoolbar","celltoolbar","SettingsControlSetCurrentPanel","SettingsControlSave","sc","panelobj","CurrentPanel","SettingsControlUnloadPanel","partname","extranl","otherpartsstr","otherpartsnames","mpregex","searchinfo","boundary","boundaryregex","blanklineregex","ending","partlist","exec","pnum","end","PopupChangeCallback","ctrlname","ctrl","str1","str2","cv","fontFamily","paddingRight","paddingLeft","borderTop","borderBottom","borderLeft","BorderSideGetValue","textAlign","fontStyle","fontWeight","PopupListSetValue","PopupListGetValue","ctl","PopupListInitialize","otext","InitialData","optionvals","PopupListReset","PopupList","OnReset","ChangedCallback","ColorChooserSetValue","ColorChooserGetValue","ColorChooserInitialize","ColorChooserReset","BorderSideSetValue","idname","idstart","BorderSideInitialize","SettingsControlOnchangeBorder","nameparts","ctrlidsuffix","ctrltype","BorderSide","OnClick","ColorComboOnClick","thickness","OtherSaveParts","whichpart","strtoedit","editbox","ebta","CtrlSEditorDone","idprefix","edittextarea","_view","SpreadsheetViewerStatuslineCallback","hasStatusLine","statuslineHTML","statuslineFull","noRecalc","repeatingMacroTimer","repeatingMacroInterval","repeatingMacroCommands","LoadSave","SpreadsheetViewerLoadSave","SpreadsheetViewerDecodeSpreadsheetSave","spreadsheetobj","rmstr","t2","startupmacro","repeatingmacro","SpreadsheetViewerDoRepeatingMacro","GetSpreadsheetViewerObject","repeatmacro","SpreadsheetViewerRepeatMacroCommand","SpreadsheetViewerStopRepeatingMacro","SpreadsheetViewerDoButtonCmd","csvo","slstr","SpreadsheetViewerCreateSheetHTML","hasreturnonly","self","thread","cb","ms","nextTick","Class","classDefinition","classWrapper","$1","baseClassName","$2","$3","incValues","strict","option","klass","global","init","isa","baseName","superFunc","addGlobal","newGlobals","extend","pairs","ii","ll","eval_strict","apply","last_key","globals","globals_after","proto","instantiate","output","content","insert","receiver","begin_node","tag","_wafl","onload","_label","imageName","_href","end_node","text_node","parse","grammar","create_grammar","parse_blocks","container_type","types","blocks","matched","find_match","handle_match","JSON","stringify","subparse","matched_func","re","capture","lookbehind","parse_phrases","phrases","begin","filtered_text","parser","matched_block","matched_phrase","$4","all_blocks","all_phrases","re_huggy","brace1","brace2","im_types","yahoo","ymsgr","callto","callme","skype","aim","im_label","im_re","key","re_list","bullet","filter_out","exclusion","_all_blocks","_all_phrases","ol","ul","blockquote","subl","li","li2","_html","pre","hr","hx","empty","else","waflparagraph","waflphrase","asis","wikilink","wikilink2","file","href","im","mail","tt","del","Error","isWindow","isFunction","inArray","readyState","ready","getAttribute","parseJSON","isEmptyObject","acceptData","expando","cache","guid","toJSON","noop","camelCase","isArray","map","cleanData","deleteExpando","db","activeElement","eb","fb","createDocumentFragment","vb","getElementsByTagName","querySelectorAll","nodeName","wb","defaultChecked","xb","ownerDocument","yb","find","zb","qb","removeAttribute","Ab","_data","Bb","hasData","events","handle","Cb","noCloneEvent","removeEvent","outerHTML","html5Clone","defaultSelected","defaultValue","Fb","appendTo","getDefaultComputedStyle","detach","Gb","Eb","Db","contentWindow","contentDocument","write","close","Mb","get","Vb","Ub","Wb","Xb","Qb","Yb","Zb","Jb","boxSizing","Kb","Ib","boxSizingReliable","parseFloat","$b","gc","_b","now","hc","opacity","ic","fc","jc","_queueHooks","unqueued","fire","always","overflowX","overflowY","inlineBlockNeedsLayout","zoom","shrinkWrapBlocks","bc","hidden","done","_removeData","kc","cssHooks","expand","lc","ec","Deferred","elem","startTime","duration","tweens","run","notifyWith","resolveWith","promise","props","opts","specialEasing","originalProperties","originalOptions","createTween","Tween","easing","stop","rejectWith","fx","anim","complete","fail","Mc","Nc","dataTypes","Jc","Oc","ajaxSettings","flatOptions","Pc","contents","mimeType","getResponseHeader","converters","Qc","responseFields","dataFilter","dataType","Wc","Sc","$c","XMLHttpRequest","_c","ActiveXObject","ed","parentWindow","hasOwnProperty","fn","jquery","constructor","selector","toArray","pushStack","prevObject","eq","isPlainObject","isReady","isNumeric","ownLast","globalEval","execScript","makeArray","Object","proxy","support","getElementsByClassName","qsa","ob","setAttribute","pb","mb","cacheLength","gb","hb","attrHandle","ib","sourceIndex","nextSibling","jb","kb","lb","nb","preFilter","dir","rb","sb","ub","relative","TAG","uniqueSort","getById","ID","ab","needsContext","CLASS","ATTR","PSEUDO","CHILD","bool","isXML","setDocument","attributes","createComment","getElementsByName","getAttributeNode","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","contains","sortDetached","specified","detectDuplicates","sortStable","getText","nodeValue","selectors","createPseudo","~","pseudos","setFilters","not","has","innerText","lang","location","hash","hasFocus","tabIndex","enabled","header","even","odd","lt","gt","nth","radio","checkbox","password","submit","reset","filters","compile","expr","unique","isXMLDoc","is","parseHTML","children","prev","sibling","closest","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","once","memory","stopOnFalse","disable","remove","locked","fireWith","fired","then","resolve","reject","notify","pipe","when","readyWait","holdReady","trigger","off","frameElement","doScroll","noData","applet ","embed ","object ","removeData","dequeue","clearQueue","access","leadingWhitespace","htmlSerialize","cloneNode","appendChecked","noCloneChecked","checkClone","click","focusin","handler","triggered","dispatch","special","delegateType","bindType","origType","namespace","delegateCount","setup","teardown","Event","isTrigger","namespace_re","noBubble","isPropagationStopped","isDefaultPrevented","_default","fix","delegateTarget","preDispatch","handlers","currentTarget","isImmediatePropagationStopped","handleObj","postDispatch","fixHooks","mouseHooks","keyHooks","fromElement","pageX","clientLeft","pageY","clientTop","relatedTarget","toElement","beforeunload","originalEvent","simulate","isSimulated","defaultPrevented","getPreventDefault","timeStamp","stopImmediatePropagation","mouseenter","mouseleave","submitBubbles","form","_submit_bubble","changeBubbles","propertyName","_just_changed","focusinBubbles","one","triggerHandler","legend","area","param","thead","optgroup","tfoot","colgroup","caption","clone","buildFragment","createTextNode","domManip","prepend","before","after","replaceWith","_evalUrl","prependTo","insertAfter","replaceAll","cssFloat","backgroundClip","clearCloneStyle","Hb","Lb","getPropertyValue","minWidth","maxWidth","runtimeStyle","pixelLeft","swap","reliableHiddenOffsets","pixelPosition","reliableMarginRight","Nb","Ob","Pb","Rb","Sb","Tb","letterSpacing","cssNumber","columnCount","fillOpacity","lineHeight","orphans","widows","cssProps","float","set","margin","toggle","prop","cur","unit","propHooks","step","linear","swing","ac","cc","dc","Animation","tweener","prefilter","speed","speeds","old","fadeTo","animate","finish","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","tick","slow","fast","delay","getSetAttribute","hrefNormalized","checkOn","optSelected","enctype","optDisabled","radioValue","mc","valHooks","scrollHeight","nc","oc","pc","qc","rc","removeAttr","attrHooks","propFix","setAttributeNode","createAttribute","coords","contenteditable","tc","uc","removeProp","for","class","vc","addClass","removeClass","toggleClass","hasClass","hover","unbind","delegate","undelegate","wc","xc","yc","Function","parseXML","DOMParser","parseFromString","async","loadXML","zc","Ac","Bc","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Kc","Lc","active","lastModified","etag","isLocal","processData","contentType","accepts","xml","json","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","ifModified","statusText","statusCode","getAllResponseHeaders","setRequestHeader","overrideMimeType","abort","success","crossDomain","traditional","hasContent","headers","beforeSend","send","getJSON","getScript","throws","wrapAll","wrapInner","wrap","unwrap","visible","Rc","Tc","Uc","Vc","encodeURIComponent","serialize","serializeArray","xhr","Xc","Yc","Zc","cors","open","username","xhrFields","onreadystatechange","responseText","script","text script","head","scriptCharset","charset","ad","bd","jsonp","jsonpCallback","cd","animated","dd","setOffset","using","scrollTo","Height","Width","","andSelf","fd","jQuery","gd","noConflict","animation","WebkitAnimation","MozAnimation","MsAnimation","OAnimation","closeByEscape","globalID","animationEndEvent","baseClassNames","vex","overlay","closing","defaultOptions","showCloseButton","escapeButtonCloses","overlayClosesOnClick","appendLocation","overlayClassName","overlayCSS","contentClassName","contentCSS","closeClassName","closeCSS","$vex","$vexOverlay","$vexContent","$closeButton","setupBodyClassName","afterOpen","getAllVexes","getVexByID","closeByID","closeAll","beforeClose","afterClose","hideLoading","showLoading","require","buttons","YES","NO","onSubmit","getFormValueOnSubmit","focusFirstInput","defaultAlertOptions","defaultConfirmOptions","buildDialogForm","confirm","placeholder","buttonsToDOM","dialog","_curInst","_keyEvent","_disabledInputs","_datepickerShowing","_inDialog","_mainDivId","_inlineClass","_appendClass","_triggerClass","_dialogClass","_disableClass","_unselectableClass","_currentClass","_dayOverClass","regional","closeText","prevText","nextText","currentText","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","weekHeader","dateFormat","firstDay","isRTL","showMonthAfterYear","yearSuffix","_defaults","showOn","showAnim","showOptions","defaultDate","appendText","buttonText","buttonImage","buttonImageOnly","hideIfNoPrevNext","navigationAsDateFormat","gotoCurrent","changeMonth","changeYear","yearRange","showOtherMonths","selectOtherMonths","showWeek","calculateWeek","iso8601Week","shortYearCutoff","minDate","maxDate","beforeShowDay","beforeShow","onSelect","onChangeMonthYear","onClose","numberOfMonths","showCurrentAtPos","stepMonths","stepBigMonths","altField","altFormat","constrainInput","showButtonPanel","autoSize","en","dpDiv","datepicker","_isDisabledDatepicker","inline","_refresh","_trigger","version","BACKSPACE","COMMA","DELETE","DOWN","END","ENTER","ESCAPE","HOME","PAGE_DOWN","PAGE_UP","PERIOD","SPACE","TAB","UP","scrollParent","uniqueId","removeUniqueId","focusable","tabbable","outerWidth","outerHeight","ie","disableSelection","enableSelection","plugin","plugins","widget","Widget","_createWidget","_proto","_childConstructors","_super","_superApply","widgetEventPrefix","widgetName","widgetFullName","bridge","_init","defaultElement","create","uuid","eventNamespace","bindings","hoverable","_on","destroy","_getCreateOptions","_create","_getCreateEventData","_destroy","_setOptions","_setOption","enable","_off","_delay","_hoverable","_focusable","focusout","effect","effects","mouseup","_mouseInit","_mouseDown","started","_mouseDestroy","_mouseMoveDelegate","_mouseUpDelegate","_mouseMoved","_mouseStarted","_mouseUp","_mouseDownEvent","_mouseCapture","mouseDelayMet","_mouseDelayTimer","_mouseDistanceMet","_mouseDelayMet","_mouseStart","_mouseMove","documentMode","_mouseDrag","_mouseStop","scrollbarWidth","getScrollInfo","isDocument","scrollWidth","getWithinInfo","of","within","collision","at","my","targetWidth","targetHeight","elemWidth","elemHeight","collisionPosition","collisionWidth","collisionHeight","important","fit","flip","flipfit","mouse","addClasses","axis","connectToSortable","containment","cursorAt","helper","iframeFix","refreshPositions","revert","revertDuration","scope","scroll","scrollSensitivity","scrollSpeed","snap","snapMode","snapTolerance","drag","_setPositionRelative","_setHandleClassName","_removeHandleClassName","destroyOnClear","_blurActiveElement","_getHandle","_blockFrames","iframeBlocks","_unblockFrames","handleElement","_createHelper","_cacheHelperProportions","ddmanager","_cacheMargins","cssPosition","hasFixedAncestor","positionAbs","_refreshOffsets","originalPosition","_generatePosition","originalPageX","originalPageY","_adjustOffsetFromHelper","_setContainment","_clear","dropBehaviour","prepareOffsets","_normalizeRightBottom","dragStart","margins","_getParentOffset","_getRelativeOffset","_convertPositionTo","_uiHash","drop","dropped","dragStop","helperProportions","_isRootNode","relativeContainer","cancelHelperRemoval","sortables","sortable","isOver","_storedCSS","_helper","_intersectsWith","containerCache","_parent","currentItem","fromOutside","_revert","_cursor","_opacity","scrollParentNotHidden","overflowOffset","snapElements","snapping","release","snapItem","_zIndex","draggable","accept","activeClass","greedy","hoverClass","tolerance","activate","deactivate","out","over","isover","isout","proportions","_addToManager","droppables","_splice","_activate","_deactivate","_over","_out","_drop","droppable","intersect","absolute","default","greedyChild","alsoResize","animateDuration","animateEasing","aspectRatio","autoHide","ghost","handles","maxHeight","minHeight","resize","_num","_isNumber","_hasScroll","_aspectRatio","originalElement","_proportionallyResizeElements","resizable","elementIsWrapper","originalResizeStyle","_proportionallyResize","se","sw","ne","nw","_handles","_renderAxis","mouseover","resizing","_renderProxy","originalSize","sizeDiff","originalMousePosition","_propagate","_change","_updatePrevProperties","_updateVirtualBoundaries","_updateRatio","_respectSize","_updateCache","_applyChanges","prevPosition","prevSize","_vBoundaries","_getPaddingPlusBorderDimensions","outerDimensions","elementOffset","containerElement","containerOffset","containerPosition","parentData","containerSize","autoRefresh","selecting","unselected","unselecting","dragged","refresh","$element","startselected","selectees","opos","connectWith","dropOnEmpty","forcePlaceholderSize","forceHelperSize","beforeStop","receive","update","_isOverAxis","_isFloating","instance","reverting","_refreshItems","_removeCurrentsFromItems","currentContainer","domPosition","_createPlaceholder","storedCursor","storedStylesheet","_storedOpacity","_storedZIndex","_preserveHelperProportions","containers","dragging","lastPositionAbs","_intersectsWithPointer","_intersectsWithSides","_rearrange","_contactContainers","_noFinalSort","_getItemsAsjQuery","connected","attribute","expression","forcePointerForContainers","floating","_getDragVerticalDirection","_getDragHorizontalDirection","_connectWith","toleranceElement","refreshContainers","_createTrPlaceholder","counter","sender","collapsible","heightStyle","icons","activeHeader","beforeActivate","hideProps","borderTopWidth","borderBottomWidth","showProps","prevShow","prevHide","_processPanels","panel","_createIcons","_destroyIcons","_setupEvents","_keydown","altKey","_eventHandler","_panelKeyDown","panels","_findActive","aria-selected","aria-expanded","aria-hidden","keydown","oldHeader","oldPanel","newHeader","newPanel","_toggle","_animate","_toggleComplete","submenu","menus","role","activeMenu","mouseHandled","mousedown .ui-menu-item","click .ui-menu-item","mouseenter .ui-menu-item","previousFilter","mouseleave .ui-menu","collapseAll","_closeOnDocumentClick","previousPage","nextPage","_move","previous","filterTimer","_filterMenuItems","_isDivider","_itemRole","menu","listbox","_scrollIntoView","_close","_startOpening","_open","isFirstItem","isLastItem","response","requestIndex","pending","isMultiLine","valueMethod","isNewMenu","_value","_searchTimeout","keypress","selectedItem","cancelBlur","searching","_initSource","_appendTo","menufocus","liveRegion","menuselect","aria-live","aria-relevant","_search","cancelSearch","_response","__response","_normalize","_suggest","_renderMenu","_resizeMenu","_renderItemData","_renderItem","messages","noResults","results","primary","secondary","_determineButtonType","hasTitle","_resetButton","markerClassName","maxRows","_widgetDatepicker","setDefaults","_attachDatepicker","_newInst","_connectDatepicker","_inlineDatepicker","selectedDay","selectedMonth","selectedYear","drawMonth","drawYear","_attachments","_doKeyDown","_doKeyPress","_doKeyUp","_autoSize","_disableDatepicker","_get","_showDatepicker","alt","_lastInput","_hideDatepicker","setMonth","setDate","getDay","_formatDate","_setDate","_getDefaultDate","_updateDatepicker","_updateAlternate","_dialogDatepicker","_dialogInst","_dialogInput","_pos","blockUI","_destroyDatepicker","_enableDatepicker","_getInst","_optionDatepicker","_getDateDatepicker","_getMinMaxDate","_changeDatepicker","_refreshDatepicker","_setDateDatepicker","_setDateFromField","_getDate","_selectDay","_adjustDate","_clearDate","_gotoToday","_possibleChars","lastVal","parseDate","_getFormatConfig","_findPos","_checkOffset","_shouldFocusInput","_generateHTML","_attachHandlers","_getNumberOfMonths","yearshtml","_tidyDialog","unblockUI","_checkExternalClick","_adjustInstDate","currentDay","currentMonth","currentYear","_notifyChange","_selectMonthYear","_selectDate","formatDate","noWeekends","_ticksTo1970","_getDaysInMonth","_daylightSavingAdjust","ATOM","COOKIE","ISO_8601","RFC_822","RFC_850","RFC_1036","RFC_1123","RFC_2822","RSS","TICKS","TIMESTAMP","W3C","getYear","_restrictMinMax","_determineDate","setHours","setMinutes","setSeconds","setMilliseconds","today","selectDay","selectMonth","selectYear","te","_canAdjustMonth","_isInRange","_generateMonthYearHeader","_getFirstDayOfMonth","initialized","autoOpen","closeOnEscape","dialogClass","modal","resizeStart","resizeStop","sizeRelatedOptions","resizableRelatedOptions","originalCss","originalTitle","_createWrapper","uiDialog","_createTitlebar","_createButtonPane","_makeDraggable","_makeResizable","_isOpen","_trackFocus","_untrackInstance","_destroyOverlay","_focusedElement","opener","_hide","isOpen","moveToTop","_moveToTop","_focusTabbable","_size","_position","_createOverlay","_show","_makeFocusTarget","uiDialogButtonPane","uiDialogTitlebarClose","_keepFocus","aria-describedby","uiDialogTitlebar","_title","aria-labelledby","uiButtonSet","_createButtons","showText","_minHeight","_trackingInstances","_allowInteraction","oldValue","_constrainedValue","aria-valuemin","valueDiv","_refreshValue","indeterminate","_percentage","toFixed","overlayDiv","aria-valuemax","aria-valuenow","ids","_drawButton","_drawMenu","tabindex","aria-autocomplete","aria-owns","aria-haspopup","_setText","_resizeButton","_buttonEvents","menuItems","_refreshMenu","menuWrap","menuInstance","_setSelection","_select","focusIndex","_getSelectedItem","_parseOptions","_setAria","_toggleAttr","_documentClick","menuWidget","getSelection","removeAllRanges","addRange","rangeCount","getRangeAt","_selectFocusedItem","aria-activedescendant","orientation","slide","numPages","_keySliding","_mouseSliding","_animateOff","_handleIndex","_detectOrientation","_calculateNewMax","_createRange","_createHandles","_valueMin","_handleEvents","elementSize","_normValueFromMouse","_valueMax","_lastChangedValue","_start","_clickOffset","_slide","_stop","_trimAlignValue","_values","_precision","_precisionOf","culture","incremental","numberFormat","page","spin","_draw","_events","mousewheel","spinning","_spin","mousewheelTimer","mousedown .ui-spinner-button","_repeat","mouseup .ui-spinner-button","mouseenter .ui-spinner-button","mouseleave .ui-spinner-button","uiSpinner","_uiSpinnerHtml","_buttonHtml","_adjustValue","_increment","_parse","_format","Globalize","format","isValid","stepUp","_stepUp","stepDown","_stepDown","pageUp","pageDown","beforeLoad","_isLocal","decodeURIComponent","running","_processTabs","_initialActive","anchors","tab","_getPanelForTab","_tabKeydown","_handlePageNav","activating","_focusNextTab","_panelKeydown","_findNextTab","_setupDisabled","_setupHeightStyle","_sanitizeSelector","tablist","_getList","_createPanel","aria-controls","oldTab","newTab","_getIndex","_ajaxSettings","jqXHR","tooltipClass","track","_addDescribedBy","_removeDescribedBy","tooltips","_disable","_updateContent","_enable","_registerCloseHandlers","_find","_tooltip","mousemove","delayedShow","_removeTooltip","hiding"],"mappings":"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","sourcesContent":["// Taken from https://github.com/umdjs/umd/blob/master/templates/returnExports.js\n// (c) by The UMD contributors\n// MIT License: https://github.com/umdjs/umd/blob/master/LICENSE.md\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory.bind(root, this));\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory.call(root, this);\n    } else {\n        // Browser globals (root is window)\n        root.SocialCalc = factory.call(root, this);\n  }\n}(this, function (window) {\n\n//\n/*\n// The module of the SocialCalc package with customizable constants, strings, etc.\n// This is where most of the common localizations are done.\n//\n// (c) Copyright 2008, 2009, 2010 Socialtext, Inc.\n// All Rights Reserved.\n//\n// The contents of this file are subject to the Artistic License 2.0; you may not\n// use this file except in compliance with the License. You may obtain a copy of \n// the License at http://socialcalc.org/licenses/al-20/.\n//\n// Some of the other files in the SocialCalc package are licensed under\n// different licenses. Please note the licenses of the modules you use.\n//\n// Code History:\n//\n// Initially coded by Dan Bricklin of Software Garden, Inc., for Socialtext, Inc.\n// Based in part on the SocialCalc 1.1.0 code written in Perl.\n// The SocialCalc 1.1.0 code was:\n//    Portions (c) Copyright 2005, 2006, 2007 Software Garden, Inc.\n//    All Rights Reserved.\n//    Portions (c) Copyright 2007 Socialtext, Inc.\n//    All Rights Reserved.\n// The Perl SocialCalc started as modifications to the wikiCalc(R) program, version 1.0.\n// wikiCalc 1.0 was written by Software Garden, Inc.\n// Unless otherwise specified, referring to \"SocialCalc\" in comments refers to this\n// JavaScript version of the code, not the SocialCalc Perl code.\n//\n*/\n\nvar SocialCalc;\nif (!SocialCalc) SocialCalc = {};\n\n// *************************************\n//\n// TO LEARN HOW TO LOCALIZE OR CUSTOMIZE SOCIALCALC, PLEASE READ THIS:\n//\n// The constants are all properties of the SocialCalc.Constants object.\n// They are grouped here by what they are for, which module uses them, etc.\n//\n// Properties whose names start with \"s_\" are strings, or arrays of strings,\n// that are good candidates for translation from the English.\n//\n// Other properties relate to visual settings, localization parameters, etc.\n//\n// These values are not used when SocialCalc modules are first loaded.\n// They may be modified before the first use of the routines that use them,\n// e.g., before creating SocialCalc objects.\n//\n// The exceptions are:\n//    TooltipOffsetX and TooltipOffsetY, as described with their definitions.\n//\n// SocialCalc IS NOT DESIGNED FOR USE WITH A TRANSLATION FUNCTION each time a string\n// is used. Instead, language translations may be done by modifying this object.\n//\n// To customize SocialCalc, you may either replace this file with a modified version\n// or you can overwrite the values before use. An example would be to\n// iterate over all the properties looking for names that start with \"s_\" and\n// use some other mechanism to obtain a localized string and replace the values\n// here with those translated values.\n//\n// There is also a function, SocialCalc.ConstantsSetClasses, that may be used\n// to easily switch SocialCalc from using explicit CSS styles for many things\n// to using CSS classes. See the function, below, for more information.\n//\n// *************************************\n\nSocialCalc.Constants = {\n\n//\n// Main SocialCalc module, socialcalc-3.js:\n//\n\n// eddy cellDataType {\n//    datatype: if present, v=numeric value, t=text value, f=formula,\n//              or c=constant that is not a simple number (like \"$1.20\")\n   cellDataType: { \n\tv:\"value\",\n\tn:\"value\",\n\tt:\"text\",\n\tf:\"formula\",\n\tc:\"constant\"\t\n   },\n// }   \n   \n   //*** Common Constants\n\n   textdatadefaulttype: \"t\", // This sets the default type for text on reading source file\n                             // It should normally be \"t\"\n\n   //*** Common error messages\n\n   s_BrowserNotSupported: \"Browser not supported.\", // error thrown if browser can't handle events like IE or Firefox.\n   s_InternalError: \"Internal SocialCalc error (probably an internal bug): \", // hopefully unlikely, but a test failed\n\n   //*** SocialCalc.ParseSheetSave\n\n   // Errors thrown on unexpected value in save file:\n\n   s_pssUnknownColType: \"Unknown col type item\",\n   s_pssUnknownRowType: \"Unknown row type item\",\n   s_pssUnknownLineType: \"Unknown line type\",\n\n   //*** SocialCalc.CellFromStringParts\n\n   // Error thrown on unexpected value in save file:\n\n   s_cfspUnknownCellType: \"Unknown cell type item\",\n\n   //*** SocialCalc.CanonicalizeSheet\n\n   doCanonicalizeSheet: true, // if true, do the canonicalization calculations\n\n   //*** ExecuteSheetCommand\n\n   s_escUnknownSheetCmd: \"Unknown sheet command: \",\n   s_escUnknownSetCoordCmd: \"Unknown set coord command: \",\n   s_escUnknownCmd: \"Unknown command: \",\n\n   //*** SocialCalc.CheckAndCalcCell\n\n   s_caccCircRef: \"Circular reference to \", // circular reference found during recalc\n\n   //*** SocialCalc.RenderContext\n\n   defaultRowNameWidth: \"30\", // used to set minimum width of the row header column - a string in pixels\n   defaultAssumedRowHeight: 15, // used when guessing row heights - number\n   defaultCellIDPrefix: \"cell_\", // if non-null, each cell will render with an ID starting with this\n\n   // Default sheet display values\n\n   defaultCellLayout: \"padding:2px 2px 1px 2px;vertical-align:top;\",\n   defaultCellFontStyle: \"normal normal\",\n   defaultCellFontSize: \"small\",\n   defaultCellFontFamily: \"Verdana,Arial,Helvetica,sans-serif\",\n\n   defaultPaneDividerWidth: \"3\", // a string\n   defaultPaneDividerHeight: \"3\", // a string\n\n   defaultGridCSS: \"1px solid #C0C0C0;\", // used as style to set each border when grid enabled (was #ECECEC)\n\n   defaultCommentClass: \"\", // class added to cells with non-null comments when grid enabled\n   defaultCommentStyle: \"background-repeat:no-repeat;background-position:top right;background-image:url(images/sc-commentbg.gif);\", // style added to cells with non-null comments when grid enabled\n   defaultCommentNoGridClass: \"\", // class added to cells with non-null comments when grid not enabled\n   defaultCommentNoGridStyle: \"\", // style added to cells with non-null comments when grid not enabled\n\n   defaultReadonlyClass: \"\", // class added to readonly cells when grid enabled\n   defaultReadonlyStyle: \"background-repeat:no-repeat;background-position:top right;background-image:url(images/sc-lockbg.gif);\", // style added to readonly cells when grid enabled\n   defaultReadonlyNoGridClass: \"\", // class added to readonly cells when grid not enabled\n   defaultReadonlyNoGridStyle: \"\", // style added to readonly cells when grid not enabled\n   defaultReadonlyComment: \"Locked cell\",\n\n   defaultColWidth: \"80\", // text\n   defaultMinimumColWidth: 10, // numeric\n\n   // For each of the following default sheet display values at least one of class and/or style are needed\n\n   defaultHighlightTypeCursorClass: \"\",\n   defaultHighlightTypeCursorStyle: \"color:#FFF;backgroundColor:#A6A6A6;\",\n   defaultHighlightTypeRangeClass: \"\",\n   defaultHighlightTypeRangeStyle: \"color:#000;backgroundColor:#E5E5E5;\",\n\n   defaultColnameClass: \"\", // regular column heading letters, needs a cursor property \n   defaultColnameStyle: \"overflow:visible;font-size:small;text-align:center;color:#FFFFFF;background-color:#808080;\",\n   defaultSelectedColnameClass: \"\", // column with selected cell, needs a cursor property \n   defaultSelectedColnameStyle: \"overflow:visible;font-size:small;text-align:center;color:#FFFFFF;background-color:#404040;\",\n   defaultRownameClass: \"\", // regular row heading numbers\n   defaultRownameStyle: \"position:relative;overflow:visible;font-size:small;text-align:right;color:#FFFFFF;background-color:#808080;\",\n   defaultSelectedRownameClass: \"\", // column with selected cell, needs a cursor property \n   defaultSelectedRownameStyle: \"position:relative;overflow:visible;font-size:small;text-align:right;color:#FFFFFF;background-color:#404040;\",\n   defaultUpperLeftClass: \"\", // Corner cell in upper left\n   defaultUpperLeftStyle: \"font-size:small;\",\n   defaultSkippedCellClass: \"\", // used if present for spanned cells peeking into a pane (at least one of class/style needed)\n   defaultSkippedCellStyle: \"font-size:small;background-color:#CCC\", // used if present\n   defaultPaneDividerClass: \"\", // used if present for the look of the space between panes (at least one of class/style needed)\n   defaultPaneDividerStyle: \"font-size:small;background-color:#C0C0C0;padding:0px;\", // used if present\n   defaultUnhideLeftClass: \"\",\n   defaultUnhideLeftStyle: \"float:right;width:9px;height:12px;cursor:pointer;background-image:url(images/sc-unhideleft.gif);padding:0;\", // used if present\n   defaultUnhideRightClass: \"\",\n   defaultUnhideRightStyle: \"float:left;width:9px;height:12px;cursor:pointer;background-image:url(images/sc-unhideright.gif);padding:0;\", // used if present\n   defaultUnhideTopClass: \"\",\n   defaultUnhideTopStyle: \"float:left;left:1px;position:absolute;bottom:-4px;width:12px;height:9px;cursor:pointer;background-image:url(images/sc-unhidetop.gif);padding:0;\",\n   defaultUnhideBottomClass: \"\",\n   defaultUnhideBottomStyle: \"float:left;width:12px;height:9px;cursor:pointer;background-image:url(images/sc-unhidebottom.gif);padding:0;\",\n\n   defaultColResizeBarClass: \"col-resize-bar\",\n   defaultRowResizeBarClass: \"row-resize-bar\",\n\n   s_rcMissingSheet: \"Render Context must have a sheet object\", // unlikely thrown error\n\n   //*** SocialCalc.format_text_for_display\n\n   defaultLinkFormatString: '<span style=\"font-size:smaller;text-decoration:none !important;background-color:#66B;color:#FFF;\">Link</span>', // used for format \"text-link\"; you could make this an img tag if desired\n//   defaultLinkFormatString: '<img src=\"images/sc-linkout.gif\" border=\"0\" alt=\"Link out\" title=\"Link out\">',\n   defaultPageLinkFormatString: '<span style=\"font-size:smaller;text-decoration:none !important;background-color:#66B;color:#FFF;\">Page</span>', // used for format \"text-link\"; you could make this an img tag if desired\n\n   //*** SocialCalc.format_number_for_display\n\n   defaultFormatp: '#,##0.0%',\n   defaultFormatc: '[$$]#,##0.00',\n   defaultFormatdt: 'd-mmm-yyyy h:mm:ss',\n   defaultFormatd: 'd-mmm-yyyy',\n   defaultFormatt: '[h]:mm:ss',\n   defaultDisplayTRUE: 'TRUE', // how TRUE shows when rendered\n   defaultDisplayFALSE: 'FALSE',\n\n//\n// SocialCalc Table Editor module, socialcalctableeditor.js:\n//\n\n   //*** SocialCalc.TableEditor\n\n   defaultImagePrefix: \"images/sc_\", // URL prefix for images (e.g., \"/images/sc\")\n   defaultTableEditorIDPrefix: \"te_\", // if present, many TableEditor elements are assigned IDs with this prefix\n   defaultPageUpDnAmount: 15, // number of rows to move cursor on PgUp/PgDn keys (numeric)\n\n   AllowCtrlS: true, // turns on Ctrl-S trapdoor for setting custom numeric formats and commands if true\n\n   //*** SocialCalc.CreateTableEditor\n\n   defaultTableControlThickness: 20, // the short size for the scrollbars, etc. (numeric in pixels)\n   cteGriddivClass: \"\", // if present, the class for the TableEditor griddiv element\n\n   //** SocialCalc.EditorGetStatuslineString -- strings shown on status line\n\n   s_statusline_executing: \"Executing...\",\n   s_statusline_displaying: \"Displaying...\",\n   s_statusline_ordering: \"Ordering...\",\n   s_statusline_calculating: \"Calculating...\",\n   s_statusline_calculatingls: \"Calculating... Loading Sheet...\",\n   s_statusline_doingserverfunc: \"doing server function \",\n   s_statusline_incell: \" in cell \",\n   s_statusline_calcstart: \"Calculation start...\",\n   s_statusline_sum: \"SUM\",\n   s_statusline_recalcneeded: '<span style=\"color:#999;\">(Recalc needed)</span>',\n   s_statusline_circref: '<span style=\"color:red;\">Circular reference: ',\n   s_statusline_sendemail: \"Sending Email \",  // eddy\n   //** SocialCalc.InputBoxDisplayCellContents\n\n   s_inputboxdisplaymultilinetext: \"[Multi-line text: Click icon on right to edit]\",\n\n   //** SocialCalc.InputEcho\n\n   defaultInputEchoClass: \"\", // if present, the class of the popup inputEcho div\n   defaultInputEchoStyle: \"filter:alpha(opacity=90);opacity:.9;backgroundColor:#FFD;border:1px solid #884;\"+\n      \"fontSize:small;padding:2px 10px 1px 2px;cursor:default;\", // if present, pseudo style\n   defaultInputEchoPromptClass: \"\", // if present, the class of the popup inputEcho div\n   defaultInputEchoPromptStyle: \"filter:alpha(opacity=90);opacity:.9;backgroundColor:#FFD;\"+\n      \"borderLeft:1px solid #884;borderRight:1px solid #884;borderBottom:1px solid #884;\"+\n      \"fontSize:small;fontStyle:italic;padding:2px 10px 1px 2px;cursor:default;\", // if present, pseudo style\n   defaultInputEchoHintClass: \"\", // if present, the class of the popup inputEcho div\n   defaultInputEchoHintStyle: \"filter:alpha(opacity=80);opacity:.8;backgroundColor:#884;border:1px solid #884;\"+\n      \"fontSize:small;fontWeight:bold;padding:2px 2px 2px 2px;color:#FFF;position:absolute;top:-20px;cursor:default;\", // if present, pseudo style\n\n   //** SocialCalc.InputEchoText\n\n   ietUnknownFunction: \"Unknown function \", // displayed when typing \"=unknown(\"\n\n   //** SocialCalc.CellHandles\n\n   CH_radius1: 29.0, // extent of inner circle within 90px image\n   CH_radius2: 41.0, // extent of outer circle within 90px image\n   s_CHfillAllTooltip: \"Fill Contents and Formats Down/Right\", // tooltip for fill all handle\n   s_CHfillContentsTooltip: \"Fill Contents Only Down/Right\", // tooltip for fill formulas handle\n   s_CHmovePasteAllTooltip: \"Move Contents and Formats\", // etc.\n   s_CHmovePasteContentsTooltip: \"Move Contents Only\",\n   s_CHmoveInsertAllTooltip: \"Slide Contents and Formats within Row/Col\",\n   s_CHmoveInsertContentsTooltip: \"Slide Contents within Row/Col\",\n   s_CHindicatorOperationLookup: {\"Fill\": \"Fill\", \"FillC\": \"Fill Contents\",\n                                  \"Move\": \"Move\", \"MoveI\": \"Slide\", \n                                  \"MoveC\": \"Move Contents\", \"MoveIC\": \"Slide Contents\"}, // short form of operation to follow drag\n   s_CHindicatorDirectionLookup: {\"Down\": \" Down\", \"Right\": \" Right\",\n                                  \"Horizontal\": \" Horizontal\", \"Vertical\": \" Vertical\"}, // direction that modifies operation during drag\n\n   //*** SocialCalc.TableControl\n\n   defaultTCSliderThickness: 9, // length of pane slider (numeric in pixels)\n   defaultTCButtonThickness: 20, // length of scroll +/- buttons (numeric in pixels)\n   defaultTCThumbThickness: 15, // length of thumb (numeric in pixels)\n\n   //*** SocialCalc.CreateTableControl\n\n   TCmainStyle: \"backgroundColor:#EEE;\", // if present, pseudo style (text-align is textAlign) for main div of a table control\n   TCmainClass: \"\", // if present, the CSS class of the main div for a table control\n   TCendcapStyle: \"backgroundColor:#FFF;\", // backgroundColor may be used while waiting for image that may not come\n   TCendcapClass: \"\",\n   TCpanesliderClass: \"tc-paneslider\",\n   s_panesliderTooltiph: \"Drag to lock pane vertically\", // tooltip for horizontal table control pane slider\n   s_panesliderTooltipv: \"Drag to lock pane horizontally\",\n   TClessbuttonStyle: \"backgroundColor:#AAA;\",\n   TClessbuttonClass: \"\",\n   TClessbuttonRepeatWait: 300, // in milliseconds\n   TClessbuttonRepeatInterval: 20,//100, // in milliseconds\n   TCmorebuttonStyle: \"backgroundColor:#AAA;\",\n   TCmorebuttonClass: \"\",\n   TCmorebuttonRepeatWait: 300, // in milliseconds\n   TCmorebuttonRepeatInterval: 20,//100, // in milliseconds\n   TCscrollareaStyle: \"backgroundColor:#DDD;\",\n   TCscrollareaClass: \"\",\n   TCscrollareaRepeatWait: 500, // in milliseconds\n   TCscrollareaRepeatInterval: 100, // in milliseconds\n   TCthumbClass: \"\",\n   TCthumbStyle: \"backgroundColor:#CCC;\",\n\n   //*** SocialCalc.TCPSDragFunctionStart\n\n   TCPStrackinglineClass: \"tracklingine\", // at least one of class/style for pane slider tracking line display in table control\n   TCPStrackinglineStyle: \"overflow:hidden;position:absolute;zIndex:100;\",\n                           // if present, pseudo style (text-align is textAlign)\n   TCPStrackinglineThickness: \"2px\", // narrow dimension of trackling line (string with units)\n\n\n   //*** SocialCalc.TCTDragFunctionStart\n\n   TCTDFSthumbstatusvClass: \"\", // at least one of class/style for vertical thumb dragging status display in table control\n   TCTDFSthumbstatusvStyle: \"height:20px;width:auto;border:3px solid #808080;overflow:hidden;\"+\n                           \"backgroundColor:#FFF;fontSize:small;position:absolute;zIndex:100;\",\n                           // if present, pseudo style (text-align is textAlign)\n   TCTDFSthumbstatushClass: \"\", // at least one of class/style for horizontal thumb dragging status display in table control\n   TCTDFSthumbstatushStyle: \"height:20px;width:auto;border:1px solid black;padding:2px;\"+\n                           \"backgroundColor:#FFF;fontSize:small;position:absolute;zIndex:100;\",\n                           // if present, pseudo style (text-align is textAlign)\n   TCTDFSthumbstatusrownumClass: \"\", // at least one of class/style for thumb dragging status display in table control\n   TCTDFSthumbstatusrownumStyle: \"color:#FFF;background-color:#808080;font-size:small;white-space:nowrap;padding:3px;\", // if present, real style\n   TCTDFStopOffsetv: 0, // offsets for thumbstatus display while dragging\n   TCTDFSleftOffsetv: -80,\n   s_TCTDFthumbstatusPrefixv: \"Row \", // Text Control Drag Function text before row number\n   TCTDFStopOffseth: -30,\n   TCTDFSleftOffseth: 0,\n   s_TCTDFthumbstatusPrefixh: \"Col \", // Text Control Drag Function text before col number\n\n   //*** SocialCalc.TooltipInfo\n\n   // Note: These two values are used to set the TooltipInfo initial values when the code is first read in.\n   // Modifying them here after loading has no effect -- you need to modify SocialCalc.TooltipInfo directly\n   // to dynamically set them. This is different than most other constants which may be modified until use.\n\n   TooltipOffsetX: 2, // offset in pixels from mouse position (to right on left side of screen, to left on right)\n   TooltipOffsetY: 10, // offset in pixels above mouse position for lower edge\n\n   //*** SocialCalc.TooltipDisplay\n\n   TDpopupElementClass: \"\", // at least one of class/style for tooltip display\n   TDpopupElementStyle: \"border:1px solid black;padding:1px 2px 2px 2px;textAlign:center;backgroundColor:#FFF;\"+\n                        \"fontSize:7pt;fontFamily:Verdana,Arial,Helvetica,sans-serif;\"+\n                        \"position:absolute;width:auto;zIndex:110;\",\n                        // if present, pseudo style (text-align is textAlign)\n\n\n//\n// SocialCalc Spreadsheet Control module, socialcalcspreadsheetcontrol.js:\n//\n\n   //*** SocialCalc.SpreadsheetControl\n\n   SCToolbarbackground: \"background-color:#ffffff;\",\n   SCTabbackground: \"background-color:#CCC;\",\n   SCTabselectedCSS: \"font-size:small;padding:6px 30px 6px 8px;color:#FFF;background-color:#404040;cursor:default;border-right:1px solid #CCC;\",\n   SCTabplainCSS: \"font-size:small;padding:6px 30px 6px 8px;color:#FFF;background-color:#808080;cursor:default;border-right:1px solid #CCC;\",\n   SCToolbartext: \"font-size:x-small;font-weight:bold;color:#888\",\n\n   SCFormulabarheight: 30, // in pixels, will contain a text input box\n\n   SCStatuslineheight: 20, // in pixels\n   SCStatuslineCSS: \"font-size:10px;padding:3px 0px;\",\n\n   // Constants for default Format tab (settings)\n   //\n   // *** EVEN THOUGH THESE DON'T START WITH s_: ***\n   //\n   // These should be carefully checked for localization. Make sure you understand what they do and how they work!\n   // The first part of \"first:second|first:second|...\" is what is displayed and the second is the value to be used.\n   // The value is normally not translated -- only the displayed part. The [cancel], [break], etc., are not translated --\n   // they are commands to SocialCalc.SettingsControls.PopupListInitialize \n\n   SCFormatNumberFormats: \"[cancel]:|[break]:|%loc!Default!:|[custom]:|%loc!Automatic!:general|%loc!Auto w/ commas!:[,]General|[break]:|\"+\n            \"00:00|000:000|0000:0000|00000:00000|[break]:|%loc!Formula!:formula|%loc!Hidden!:hidden|[newcol]:\"+\n            \"1234:0|1,234:#,##0|1,234.5:#,##0.0|1,234.56:#,##0.00|1,234.567:#,##0.000|1,234.5678:#,##0.0000|\"+\n            \"[break]:|1,234%:#,##0%|1,234.5%:#,##0.0%|1,234.56%:#,##0.00%|\"+\n            \"[newcol]:|$1,234:$#,##0|$1,234.5:$#,##0.0|$1,234.56:$#,##0.00|[break]:|\"+\n            \"(1,234):#,##0_);(#,##0)|(1,234.5):#,##0.0_);(#,##0.0)|(1,234.56):#,##0.00_);(#,##0.00)|[break]:|\"+\n            \"($1,234):$#,##0_);($#,##0)|($1,234.5):$#,##0.0_);($#,##0.0)|($1,234.56):$#,##0.00_);($#,##0.00)|\"+\n            \"[newcol]:|1/4/06:m/d/yy|01/04/2006:mm/dd/yyyy|2006-01-04:yyyy-mm-dd|4-Jan-06:d-mmm-yy|04-Jan-2006:dd-mmm-yyyy|January 4, 2006:mmmm d, yyyy|\"+\n            \"[break]:|1\\\\c23:h:mm|1\\\\c23 PM:h:mm AM/PM|1\\\\c23\\\\c45:h:mm:ss|01\\\\c23\\\\c45:hh:mm:ss|26\\\\c23 (h\\\\cm):[hh]:mm|69\\\\c45 (m\\\\cs):[mm]:ss|69 (s):[ss]|\"+\n            \"[newcol]:|2006-01-04 01\\\\c23\\\\c45:yyyy-mm-dd hh:mm:ss|January 4, 2006:mmmm d, yyyy hh:mm:ss|Wed:ddd|Wednesday:dddd|\",\n   SCFormatTextFormats: \"[cancel]:|[break]:|%loc!Default!:|[custom]:|%loc!Automatic!:general|%loc!Plain Text!:text-plain|\"+\n            \"HTML:text-html|%loc!Wikitext!:text-wiki|%loc!Link!:text-link|%loc!Formula!:formula|%loc!Hidden!:hidden|\",\n   SCFormatPadsizes: \"[cancel]:|[break]:|%loc!Default!:|[custom]:|%loc!No padding!:0px|\"+\n            \"[newcol]:|1 pixel:1px|2 pixels:2px|3 pixels:3px|4 pixels:4px|5 pixels:5px|\"+\n            \"6 pixels:6px|7 pixels:7px|8 pixels:8px|[newcol]:|9 pixels:9px|10 pixels:10px|11 pixels:11px|\"+\n            \"12 pixels:12px|13 pixels:13px|14 pixels:14px|16 pixels:16px|\"+\n            \"18 pixels:18px|[newcol]:|20 pixels:20px|22 pixels:22px|24 pixels:24px|28 pixels:28px|36 pixels:36px|\",\n   SCFormatFontsizes: \"[cancel]:|[break]:|%loc!Default!:|[custom]:|X-Small:x-small|Small:small|Medium:medium|Large:large|X-Large:x-large|\"+\n                  \"[newcol]:|6pt:6pt|7pt:7pt|8pt:8pt|9pt:9pt|10pt:10pt|11pt:11pt|12pt:12pt|14pt:14pt|16pt:16pt|\"+\n                  \"[newcol]:|18pt:18pt|20pt:20pt|22pt:22pt|24pt:24pt|28pt:28pt|36pt:36pt|48pt:48pt|72pt:72pt|\"+\n                  \"[newcol]:|8 pixels:8px|9 pixels:9px|10 pixels:10px|11 pixels:11px|\"+\n                  \"12 pixels:12px|13 pixels:13px|14 pixels:14px|[newcol]:|16 pixels:16px|\"+\n                  \"18 pixels:18px|20 pixels:20px|22 pixels:22px|24 pixels:24px|28 pixels:28px|36 pixels:36px|\",\n   SCFormatFontfamilies: \"[cancel]:|[break]:|%loc!Default!:|[custom]:|Verdana:Verdana,Arial,Helvetica,sans-serif|\"+\n                  \"Arial:arial,helvetica,sans-serif|Courier:'Courier New',Courier,monospace|\",\n   SCFormatFontlook: \"[cancel]:|[break]:|%loc!Default!:|%loc!Normal!:normal normal|%loc!Bold!:normal bold|%loc!Italic!:italic normal|\"+\n                  \"%loc!Bold Italic!:italic bold\",\n   SCFormatTextAlignhoriz:  \"[cancel]:|[break]:|%loc!Default!:|%loc!Left!:left|%loc!Center!:center|%loc!Right!:right|\",\n   SCFormatNumberAlignhoriz:  \"[cancel]:|[break]:|%loc!Default!:|%loc!Left!:left|%loc!Center!:center|%loc!Right!:right|\",\n   SCFormatAlignVertical: \"[cancel]:|[break]:|%loc!Default!:|%loc!Top!:top|%loc!Middle!:middle|%loc!Bottom!:bottom|\",\n   SCFormatColwidth: \"[cancel]:|[break]:|%loc!Default!:|[custom]:|[newcol]:|\"+\n                  \"20 pixels:20|40:40|60:60|80:80|100:100|120:120|140:140|160:160|\"+\n                  \"[newcol]:|180 pixels:180|200:200|220:220|240:240|260:260|280:280|300:300|\",\n   SCFormatRecalc: \"[cancel]:|[break]:|%loc!Auto!:|%loc!Manual!:off|\",\n   SCFormatUserMaxCol: \"[cancel]:|[break]:|%loc!Default!:|[custom]:|[newcol]:|\"+\n                  \"Unlimited:0|10:10|20:20|30:30|40:40|50:50|60:60|80:80|100:100|\",\n   SCFormatUserMaxRow: \"[cancel]:|[break]:|%loc!Default!:|[custom]:|[newcol]:|\"+\n                  \"Unlimited:0|10:10|20:20|30:30|40:40|50:50|60:60|80:80|100:100|\",\n\n   //*** SocialCalc.InitializeSpreadsheetControl\n\n   ISCButtonNormalBackground: \"transparent\",\n   ISCButtonBorderNormal: \"none\",\n   ISCButtonBorderHover: \"none\",\n   ISCButtonBorderDown: \"none\",\n   ISCButtonDownBackground: \"#888\",\n\n   //*** SocialCalc.SettingsControls.PopupListInitialize\n\n   s_PopupListCancel: \"[Cancel]\",\n   s_PopupListCustom: \"Custom\",\n\n   // ***\n   //\n   // s_loc_ constants accessed by SocialCalc.LocalizeString and SocialCalc.LocalizeSubstrings\n   //\n   // Used extensively by socialcalcspreadsheetcontrol.js\n   //\n   // ***\n\n   s_loc_align_center: \"Align Center\",\n   s_loc_align_left: \"Align Left\",\n   s_loc_align_right: \"Align Right\",\n   s_loc_alignment: \"Alignment\",\n   s_loc_audit: \"Audit\",\n   s_loc_audit_trail_this_session: \"Audit Trail This Session\",\n   s_loc_auto: \"Auto\",\n   s_loc_auto_sum: \"Auto Sum\",\n   s_loc_auto_wX_commas: \"Auto w/ commas\",\n   s_loc_automatic: \"Automatic\",\n   s_loc_background: \"Background\",\n   s_loc_bold: \"Bold\",\n   s_loc_bold_XampX_italics: \"Bold &amp; Italics\",\n   s_loc_bold_italic: \"Bold Italic\",\n   s_loc_borders: \"Borders\",\n   s_loc_borders_off: \"Borders Off\",\n   s_loc_borders_on: \"Borders On\",\n   s_loc_bottom: \"Bottom\",\n   s_loc_bottom_border: \"Bottom Border\",\n   s_loc_cell_settings: \"CELL SETTINGS\",\n   s_loc_csv_format: \"CSV format\",\n   s_loc_cancel: \"Cancel\",\n   s_loc_category: \"Category\",\n   s_loc_center: \"Center\",\n   s_loc_clear: \"Clear\",\n   s_loc_clear_socialcalc_clipboard: \"Clear SocialCalc Clipboard\",\n   s_loc_clipboard: \"Clipboard\",\n   s_loc_color: \"Color\",\n   s_loc_column_: \"Column \",\n   s_loc_comment: \"Comment\",\n   s_loc_copy: \"Copy\",\n   s_loc_custom: \"Custom\",\n   s_loc_cut: \"Cut\",\n   s_loc_default: \"Default\",\n   s_loc_default_alignment: \"Default Alignment\",\n   s_loc_default_column_width: \"Default Column Width\",\n   s_loc_default_font: \"Default Font\",\n   s_loc_default_format: \"Default Format\",\n   s_loc_default_padding: \"Default Padding\",\n   s_loc_delete: \"Delete\",\n   s_loc_delete_column: \"Delete Column\",\n   s_loc_delete_contents: \"Delete Cell Contents\",\n   s_loc_delete_row: \"Delete Row\",\n   s_loc_description: \"Description\",\n   s_loc_display_clipboard_in: \"Display Clipboard in\",\n   s_loc_down: \"Down\",\n   s_loc_edit: \"Edit\",\n   s_loc_existing_names: \"Existing Names\",\n   s_loc_family: \"Family\",\n   s_loc_fill_down: \"Fill Down\",\n   s_loc_fill_right: \"Fill Right\",\n   s_loc_font: \"Font\",\n   s_loc_format: \"Format\",\n   s_loc_formula: \"Formula\",\n   s_loc_function_list: \"Function List\",\n   s_loc_functions: \"Functions\",\n   s_loc_grid: \"Grid\",\n   s_loc_hidden: \"Hidden\",\n   s_loc_hide_column: \"Hide Column\",\n   s_loc_hide_row: \"Hide Row\",\n   s_loc_horizontal: \"Horizontal\",\n   s_loc_insert_column: \"Insert Column Before\",\n   s_loc_insert_row: \"Insert Row Before\",\n   s_loc_italic: \"Italic\",\n   s_loc_last_sort: \"Last Sort\",\n   s_loc_left: \"Left\",\n   s_loc_left_border: \"Left Border\",\n   s_loc_link: \"Link\",\n   s_loc_link_input_box: \"Link Input Box\",\n   s_loc_list: \"List\",\n   s_loc_load_socialcalc_clipboard_with_this: \"Load SocialCalc Clipboard With This\",\n   s_loc_lock_cell: \"Lock Cell\",\n   s_loc_major_sort: \"Major Sort\",\n   s_loc_manual: \"Manual\",\n   s_loc_merge_cells: \"Merge/Unmerge Cells\",\n   s_loc_middle: \"Middle\",\n   s_loc_minor_sort: \"Minor Sort\",\n   s_loc_move_insert: \"Move Insert\",\n   s_loc_move_paste: \"Move Paste\",\n   s_loc_multiXline_input_box: \"Multi-line Input Box\",\n   s_loc_name: \"Name\",\n   s_loc_names: \"Names\",\n   s_loc_no_padding: \"No padding\",\n   s_loc_normal: \"Normal\",\n   s_loc_number: \"Number\",\n   s_loc_number_horizontal: \"Number Horizontal\",\n   s_loc_ok: \"OK\",\n   s_loc_padding: \"Padding\",\n   s_loc_page_name: \"Page Name\",\n   s_loc_paste: \"Paste\",\n   s_loc_paste_formats: \"Paste Formats\",\n   s_loc_plain_text: \"Plain Text\",\n   s_loc_recalc: \"Recalc\",\n   s_loc_recalculation: \"Recalculation\",\n   s_loc_redo: \"Redo\",\n   s_loc_right: \"Right\",\n   s_loc_right_border: \"Right Border\",\n   s_loc_sheet_settings: \"SHEET SETTINGS\",\n   s_loc_save: \"Save\",\n   s_loc_save_to: \"Save to\",\n   s_loc_set_cell_contents: \"Set Cell Contents\",\n   s_loc_set_cells_to_sort: \"Set Cells To Sort\",\n   s_loc_set_value_to: \"Set Value To\",\n   s_loc_set_to_link_format: \"Set to Link format\",\n   s_loc_setXclear_move_from: \"Set/Clear Move From\",\n   s_loc_show_cell_settings: \"Show Cell Settings\",\n   s_loc_show_sheet_settings: \"Show Sheet Settings\",\n   s_loc_show_in_new_browser_window: \"Show in new browser window\",\n   s_loc_size: \"Size\",\n   s_loc_socialcalcXsave_format: \"SocialCalc-save format\",\n   s_loc_sort: \"Sort\",\n   s_loc_sort_: \"Sort \",\n   s_loc_sort_cells: \"Sort Cells\",\n   s_loc_swap_colors: \"Swap Colors\",\n   s_loc_tabXdelimited_format: \"Tab-delimited format\",\n   s_loc_text: \"Text\",\n   s_loc_text_horizontal: \"Text Horizontal\",\n   s_loc_this_is_aXbrXsample: \"This is a<br>sample\",\n   s_loc_top: \"Top\",\n   s_loc_top_border: \"Top Border\",\n   s_loc_undone_steps: \"UNDONE STEPS\",\n   s_loc_url: \"URL\",\n   s_loc_undo: \"Undo\",\n   s_loc_unlock_cell: \"Unlock Cell\",\n   s_loc_unmerge_cells: \"Unmerge Cells\",\n   s_loc_up: \"Up\",\n   s_loc_value: \"Value\",\n   s_loc_vertical: \"Vertical\",\n   s_loc_wikitext: \"Wikitext\",\n   s_loc_workspace: \"Workspace\",\n   s_loc_XnewX: \"[New]\",\n   s_loc_XnoneX: \"[None]\",\n   s_loc_Xselect_rangeX: \"[select range]\",\n\n//\n// SocialCalc Spreadsheet Viewer module, socialcalcviewer.js:\n//\n\n   //*** SocialCalc.SpreadsheetViewer\n\n   SVStatuslineheight: 20, // in pixels\n   SVStatuslineCSS: \"font-size:10px;padding:3px 0px;\",\n\n//\n// SocialCalc Format Number module, formatnumber2.js:\n//\n\n   FormatNumber_separatorchar: \",\", // the thousands separator character when formatting numbers for display\n   FormatNumber_decimalchar: \".\", // the decimal separator character when formatting numbers for display\n   FormatNumber_defaultCurrency: \"$\", // the currency string used if none specified\n\n   // The following constants are arrays of strings with the short (3 character) and full names of days and months\n\n   s_FormatNumber_daynames: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n   s_FormatNumber_daynames3: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n   s_FormatNumber_monthnames: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\",\n                                      \"October\", \"November\", \"December\"],\n   s_FormatNumber_monthnames3: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n   s_FormatNumber_am: \"AM\",\n   s_FormatNumber_am1: \"A\",\n   s_FormatNumber_pm: \"PM\",\n   s_FormatNumber_pm1: \"P\",\n\n//\n// SocialCalc Spreadsheet Formula module, formula1.js:\n//\n\n   s_parseerrexponent: \"Improperly formed number exponent\",\n   s_parseerrchar: \"Unexpected character in formula\",\n   s_parseerrstring: \"Improperly formed string\",\n   s_parseerrspecialvalue: \"Improperly formed special value\",\n   s_parseerrtwoops: \"Error in formula (two operators inappropriately in a row)\",\n   s_parseerrmissingopenparen: \"Missing open parenthesis in list with comma(s). \",\n   s_parseerrcloseparennoopen: \"Closing parenthesis without open parenthesis. \",\n   s_parseerrmissingcloseparen: \"Missing close parenthesis. \",\n   s_parseerrmissingoperand: \"Missing operand. \",\n   s_parseerrerrorinformula: \"Error in formula.\",\n   s_calcerrerrorvalueinformula: \"Error value in formula\",\n   s_parseerrerrorinformulabadval: \"Error in formula resulting in bad value\",\n   s_formularangeresult: \"Formula results in range value:\",\n   s_calcerrnumericnan: \"Formula results in an bad numeric value\",\n   s_calcerrnumericoverflow: \"Numeric overflow\",\n   s_sheetunavailable: \"Sheet unavailable:\", // when FindSheetInCache returns null\n   s_calcerrcellrefmissing: \"Cell reference missing when expected.\",\n   s_calcerrsheetnamemissing: \"Sheet name missing when expected.\",\n   s_circularnameref: \"Circular name reference to name\",\n   s_calcerrunknownname: \"Unknown name\",\n   s_calcerrincorrectargstofunction: \"Incorrect arguments to function\",\n   s_sheetfuncunknownfunction: \"Unknown function\",\n   s_sheetfunclnarg: \"LN argument must be greater than 0\",\n   s_sheetfunclog10arg: \"LOG10 argument must be greater than 0\",\n   s_sheetfunclogsecondarg: \"LOG second argument must be numeric greater than 0\",\n   s_sheetfunclogfirstarg: \"LOG first argument must be greater than 0\",\n   s_sheetfuncroundsecondarg: \"ROUND second argument must be numeric\",\n   s_sheetfuncddblife: \"DDB life must be greater than 1\",\n   s_sheetfuncslnlife: \"SLN life must be greater than 1\",\n\n   // Function definition text\n\n   s_fdef_ABS: 'Absolute value function. ',\n   s_fdef_ACOS: 'Trigonometric arccosine function. ',\n   s_fdef_AND: 'True if all arguments are true. ',\n   s_fdef_ASIN: 'Trigonometric arcsine function. ',\n   s_fdef_ATAN: 'Trigonometric arctan function. ',\n   s_fdef_ATAN2: 'Trigonometric arc tangent function (result is in radians). ',\n   s_fdef_AVERAGE: 'Averages the values. ',\n   s_fdef_CHOOSE: 'Returns the value specified by the index. The values may be ranges of cells. ',\n   s_fdef_COLUMNS: 'Returns the number of columns in the range. ',\n   s_fdef_COS: 'Trigonometric cosine function (value is in radians). ',\n   s_fdef_CONCAT: 'Join Together Text & Values to Create a Single Combined Text String. ',\n   s_fdef_CONCATENATE: 'Join Together Text & Values to Create a Single Combined Text String. ',\n   s_fdef_COUNT: 'Counts the number of numeric values, not blank, text, or error. ',\n   s_fdef_COUNTA: 'Counts the number of non-blank values. ',\n   s_fdef_COUNTBLANK: 'Counts the number of blank values. (Note: \"\" is not blank.) ',\n   s_fdef_COUNTIF: 'Counts the number of number of cells in the range that meet the criteria. The criteria may be a value (\"x\", 15, 1+3) or a test (>25). ',\n   s_fdef_DATE: 'Returns the appropriate date value given numbers for year, month, and day. For example: DATE(2006,2,1) for February 1, 2006. Note: In this program, day \"1\" is December 31, 1899 and the year 1900 is not a leap year. Some programs use January 1, 1900, as day \"1\" and treat 1900 as a leap year. In both cases, though, dates on or after March 1, 1900, are the same. ',\n   s_fdef_DAVERAGE: 'Averages the values in the specified field in records that meet the criteria. ',\n   s_fdef_DAY: 'Returns the day of month for a date value. ',\n   s_fdef_DCOUNT: 'Counts the number of numeric values, not blank, text, or error, in the specified field in records that meet the criteria. ',\n   s_fdef_DCOUNTA: 'Counts the number of non-blank values in the specified field in records that meet the criteria. ',\n   s_fdef_DDB: 'Returns the amount of depreciation at the given period of time (the default factor is 2 for double-declining balance).   ',\n   s_fdef_DEGREES: 'Converts value in radians into degrees. ',\n   s_fdef_DGET: 'Returns the value of the specified field in the single record that meets the criteria. ',\n   s_fdef_DMAX: 'Returns the maximum of the numeric values in the specified field in records that meet the criteria. ',\n   s_fdef_DMIN: 'Returns the maximum of the numeric values in the specified field in records that meet the criteria. ',\n   s_fdef_DPRODUCT: 'Returns the result of multiplying the numeric values in the specified field in records that meet the criteria. ',\n   s_fdef_DSTDEV: 'Returns the sample standard deviation of the numeric values in the specified field in records that meet the criteria. ',\n   s_fdef_DSTDEVP: 'Returns the standard deviation of the numeric values in the specified field in records that meet the criteria. ',\n   s_fdef_DSUM: 'Returns the sum of the numeric values in the specified field in records that meet the criteria. ',\n   s_fdef_DVAR: 'Returns the sample variance of the numeric values in the specified field in records that meet the criteria. ',\n   s_fdef_DVARP: 'Returns the variance of the numeric values in the specified field in records that meet the criteria. ',\n   s_fdef_EVEN: 'Rounds the value up in magnitude to the nearest even integer. ',\n   s_fdef_EXACT: 'Returns \"true\" if the values are exactly the same, including case, type, etc. ',\n   s_fdef_EXP: 'Returns e raised to the value power. ',\n   s_fdef_FACT: 'Returns factorial of the value. ',\n   s_fdef_FALSE: 'Returns the logical value \"false\". ',\n   s_fdef_FIND: 'Returns the starting position within string2 of the first occurrence of string1 at or after \"start\". If start is omitted, 1 is assumed. ',\n   s_fdef_FV: 'Returns the future value of repeated payments of money invested at the given rate for the specified number of periods, with optional present value (default 0) and payment type (default 0 = at end of period, 1 = beginning of period). ',\n   s_fdef_HLOOKUP: 'Look for the matching value for the given value in the range and return the corresponding value in the cell specified by the row offset. If rangelookup is 1 (the default) and not 0, match if within numeric brackets (match<=value) instead of exact match. ',\n   s_fdef_HOUR: 'Returns the hour portion of a time or date/time value. ',\n   s_fdef_IF: 'Results in true-value if logical-expression is TRUE or non-zero, otherwise results in false-value. ',\n   s_fdef_INDEX: 'Returns a cell or range reference for the specified row and column in the range. If range is 1-dimensional, then only one of rownum or colnum are needed. If range is 2-dimensional and rownum or colnum are zero, a reference to the range of just the specified column or row is returned. You can use the returned reference value in a range, e.g., sum(A1:INDEX(A2:A10,4)). ',\n   s_fdef_INT: 'Returns the value rounded down to the nearest integer (towards -infinity). ',\n   s_fdef_IRR: 'Returns the interest rate at which the cash flows in the range have a net present value of zero. Uses an iterative process that will return #NUM! error if it does not converge. There may be more than one possible solution. Providing the optional guess value may help in certain situations where it does not converge or finds an inappropriate solution (the default guess is 10%). ',\n   s_fdef_ISBLANK: 'Returns \"true\" if the value is a reference to a blank cell. ',\n   s_fdef_ISERR: 'Returns \"true\" if the value is of type \"Error\" but not \"NA\". ',\n   s_fdef_ISERROR: 'Returns \"true\" if the value is of type \"Error\". ',\n   s_fdef_ISLOGICAL: 'Returns \"true\" if the value is of type \"Logical\" (true/false). ',\n   s_fdef_ISNA: 'Returns \"true\" if the value is the error type \"NA\". ',\n   s_fdef_ISNONTEXT: 'Returns \"true\" if the value is not of type \"Text\". ',\n   s_fdef_ISNUMBER: 'Returns \"true\" if the value is of type \"Number\" (including logical values). ',\n   s_fdef_ISTEXT: 'Returns \"true\" if the value is of type \"Text\". ',\n   s_fdef_LEFT: 'Returns the specified number of characters from the text value. If count is omitted, 1 is assumed. ',\n   s_fdef_LEN: 'Returns the number of characters in the text value. ',\n   s_fdef_LN: 'Returns the natural logarithm of the value. ',\n   s_fdef_LOG: 'Returns the logarithm of the value using the specified base. ',\n   s_fdef_LOG10: 'Returns the base 10 logarithm of the value. ',\n   s_fdef_LOWER: 'Returns the text value with all uppercase characters converted to lowercase. ',\n   s_fdef_MATCH: 'Look for the matching value for the given value in the range and return position (the first is 1) in that range. If rangelookup is 1 (the default) and not 0, match if within numeric brackets (match<=value) instead of exact match. If rangelookup is -1, act like 1 but the bracket is match>=value. ',\n   s_fdef_MAX: 'Returns the maximum of the numeric values. ',\n   s_fdef_MID: 'Returns the specified number of characters from the text value starting from the specified position. ',\n   s_fdef_MIN: 'Returns the minimum of the numeric values. ',\n   s_fdef_MINUTE: 'Returns the minute portion of a time or date/time value. ',\n   s_fdef_MOD: 'Returns the remainder of the first value divided by the second. ',\n   s_fdef_MONTH: 'Returns the month part of a date value. ',\n   s_fdef_N: 'Returns the value if it is a numeric value otherwise an error. ',\n   s_fdef_NA: 'Returns the #N/A error value which propagates through most operations. ',\n   s_fdef_NOT: 'Returns FALSE if value is true, and TRUE if it is false. ',\n   s_fdef_NOW: 'Returns the current date/time. ',\n   s_fdef_NPER: 'Returns the number of periods at which payments invested each period at the given rate with optional future value (default 0) and payment type (default 0 = at end of period, 1 = beginning of period) has the given present value. ',\n   s_fdef_NPV: 'Returns the net present value of cash flows (which may be individual values and/or ranges) at the given rate. The flows are positive if income, negative if paid out, and are assumed at the end of each period. ',\n   s_fdef_ODD: 'Rounds the value up in magnitude to the nearest odd integer. ',\n   s_fdef_OR: 'True if any argument is true ',\n   s_fdef_PI: 'The value 3.1415926... ',\n   s_fdef_PMT: 'Returns the amount of each payment that must be invested at the given rate for the specified number of periods to have the specified present value, with optional future value (default 0) and payment type (default 0 = at end of period, 1 = beginning of period). ',\n   s_fdef_POWER: 'Returns the first value raised to the second value power. ',\n   s_fdef_PRODUCT: 'Returns the result of multiplying the numeric values. ',\n   s_fdef_PROPER: 'Returns the text value with the first letter of each word converted to uppercase and the others to lowercase. ',\n   s_fdef_PV: 'Returns the present value of the given number of payments each invested at the given rate, with optional future value (default 0) and payment type (default 0 = at end of period, 1 = beginning of period). ',\n   s_fdef_RADIANS: 'Converts value in degrees into radians. ',\n   s_fdef_RATE: 'Returns the rate at which the given number of payments each invested at the given rate has the specified present value, with optional future value (default 0) and payment type (default 0 = at end of period, 1 = beginning of period). Uses an iterative process that will return #NUM! error if it does not converge. There may be more than one possible solution. Providing the optional guess value may help in certain situations where it does not converge or finds an inappropriate solution (the default guess is 10%). ',\n   s_fdef_REPLACE: 'Returns text1 with the specified number of characters starting from the specified position replaced by text2. ',\n   s_fdef_REPT: 'Returns the text repeated the specified number of times. ',\n   s_fdef_RIGHT: 'Returns the specified number of characters from the text value starting from the end. If count is omitted, 1 is assumed. ',\n   s_fdef_ROUND: 'Rounds the value to the specified number of decimal places. If precision is negative, then round to powers of 10. The default precision is 0 (round to integer). ',\n   s_fdef_ROWS: 'Returns the number of rows in the range. ',\n   s_fdef_SECOND: 'Returns the second portion of a time or date/time value (truncated to an integer). ',\n   s_fdef_SIN: 'Trigonometric sine function (value is in radians) ',\n   s_fdef_SLN: 'Returns the amount of depreciation at each period of time using the straight-line method. ',\n   s_fdef_SQRT: 'Square root of the value ',\n   s_fdef_STDEV: 'Returns the sample standard deviation of the numeric values. ',\n   s_fdef_STDEVP: 'Returns the standard deviation of the numeric values. ',\n   s_fdef_SUBSTITUTE: 'Returns text1 with the all occurrences of oldtext replaced by newtext. If \"occurrence\" is present, then only that occurrence is replaced. ',\n   s_fdef_SUM: 'Adds the numeric values. The values to the sum function may be ranges in the form similar to A1:B5. ',\n   s_fdef_SUMIF: 'Sums the numeric values of cells in the range that meet the criteria. The criteria may be a value (\"x\", 15, 1+3) or a test (>25). If range2 is present, then range1 is tested and the corresponding range2 value is summed. ',\n   s_fdef_SUMIFS: 'Sums the numeric values of cells in the sum_range that meet the multiple criteria. The criteria may be a value (\"x\", 15, 1+3) or a test (>25).  ',\n   s_fdef_SYD: 'Depreciation by Sum of Year\\'s Digits method. ',\n   s_fdef_T: 'Returns the text value or else a null string. ',\n   s_fdef_TAN: 'Trigonometric tangent function (value is in radians) ',\n   s_fdef_TIME: 'Returns the time value given the specified hour, minute, and second. ',\n   s_fdef_TODAY: 'Returns the current date (an integer). Note: In this program, day \"1\" is December 31, 1899 and the year 1900 is not a leap year. Some programs use January 1, 1900, as day \"1\" and treat 1900 as a leap year. In both cases, though, dates on or after March 1, 1900, are the same. ',\n   s_fdef_TRIM: 'Returns the text value with leading, trailing, and repeated spaces removed. ',\n   s_fdef_TRUE: 'Returns the logical value \"true\". ',\n   s_fdef_TRUNC: 'Truncates the value to the specified number of decimal places. If precision is negative, truncate to powers of 10. ',\n   s_fdef_UPPER: 'Returns the text value with all lowercase characters converted to uppercase. ',\n   s_fdef_VALUE: 'Converts the specified text value into a numeric value. Various forms that look like numbers (including digits followed by %, forms that look like dates, etc.) are handled. This may not handle all of the forms accepted by other spreadsheets and may be locale dependent. ',\n   s_fdef_VAR: 'Returns the sample variance of the numeric values. ',\n   s_fdef_VARP: 'Returns the variance of the numeric values. ',\n   s_fdef_VLOOKUP: 'Look for the matching value for the given value in the range and return the corresponding value in the cell specified by the column offset. If rangelookup is 1 (the default) and not 0, match if within numeric brackets (match>=value) instead of exact match. ',\n   s_fdef_WEEKDAY: 'Returns the day of week specified by the date value. If type is 1 (the default), Sunday is day and Saturday is day 7. If type is 2, Monday is day 1 and Sunday is day 7. If type is 3, Monday is day 0 and Sunday is day 6. ',\n   s_fdef_YEAR: 'Returns the year part of a date value. ',\n   s_fdef_SUMPRODUCT: 'Sums the pairwise products of 2 or more ranges. The ranges must be of equal length.',\n   s_fdef_CEILING: 'Rounds the given number up to the nearest integer or multiple of significance. Significance is the value to whose multiple of ten the value is to be rounded up (.01, .1, 1, 10, etc.)',\n   s_fdef_FLOOR: 'Rounds the given number down to the nearest multiple of significance. Significance is the value to whose multiple of ten the number is to be rounded down (.01, .1, 1, 10, etc.)',\n\n   s_farg_v: \"value\",\n   s_farg_vn: \"value1, value2, ...\",\n   s_farg_xy: \"valueX, valueY\",\n   s_farg_choose: \"index, value1, value2, ...\",\n   s_farg_range: \"range\",\n   s_farg_rangec: \"range, criteria\",\n   s_farg_date: \"year, month, day\",\n   s_farg_dfunc: \"databaserange, fieldname, criteriarange\",\n   s_farg_ddb: \"cost, salvage, lifetime, period, [factor]\",\n   s_farg_find: \"string1, string2, [start]\",\n   s_farg_fv: \"rate, n, payment, [pv, [paytype]]\",\n   s_farg_hlookup: \"value, range, row, [rangelookup]\",\n   s_farg_iffunc: \"logical-expression, true-value, [false-value]\",\n   s_farg_index: \"range, rownum, colnum\",\n   s_farg_irr: \"range, [guess]\",\n   s_farg_tc: \"text, count\",\n   s_farg_log: \"value, base\",\n   s_farg_match: \"value, range, [rangelookup]\",\n   s_farg_mid: \"text, start, length\",\n   s_farg_nper: \"rate, payment, pv, [fv, [paytype]]\",\n   s_farg_npv: \"rate, value1, value2, ...\",\n   s_farg_pmt: \"rate, n, pv, [fv, [paytype]]\",\n   s_farg_pv: \"rate, n, payment, [fv, [paytype]]\",\n   s_farg_rate: \"n, payment, pv, [fv, [paytype, [guess]]]\",\n   s_farg_replace: \"text1, start, length, text2\",\n   s_farg_vp: \"value, [precision]\",\n   s_farg_valpre: \"value, precision\",\n   s_farg_csl: \"cost, salvage, lifetime\",\n   s_farg_cslp: \"cost, salvage, lifetime, period\",\n   s_farg_subs: \"text1, oldtext, newtext, [occurrence]\",\n   s_farg_sumif: \"range1, criteria, [range2]\",\n   s_farg_hms: \"hour, minute, second\",\n   s_farg_txt: \"text\",\n   s_farg_vlookup: \"value, range, col, [rangelookup]\",\n   s_farg_weekday: \"date, [type]\",\n   s_farg_dt: \"date\",\n   s_farg_rangen: \"range1, range2, ...\",\n   s_farg_vsig: 'value, [significance]',\n\n   function_classlist: [\"all\", \"stat\", \"lookup\", \"datetime\", \"financial\", \"test\", \"math\", \"text\", \"gui\", \"action\"], // order of function classes\n\n   s_fclass_all: \"All\",\n   s_fclass_stat: \"Statistics\",\n   s_fclass_lookup: \"Lookup\",\n   s_fclass_datetime: \"Date & Time\",\n   s_fclass_financial: \"Financial\",\n   s_fclass_test: \"Test\",\n   s_fclass_math: \"Math\",\n   s_fclass_text: \"Text\",\n   s_fclass_action: \"Email & Copy\",\n   s_fclass_gui: \"Button & Input\",\n\n   lastone: null\n\n   };\n\n// Default classnames for use with SocialCalc.ConstantsSetClasses:\n\nSocialCalc.ConstantsDefaultClasses = {\n   defaultComment: \"\",\n   defaultCommentNoGrid: \"\",\n   defaultHighlightTypeCursor: \"\",\n   defaultHighlightTypeRange: \"\",\n   defaultColname: \"\",\n   defaultSelectedColname: \"\",\n   defaultRowname: \"\",\n   defaultSelectedRowname: \"\", \n   defaultUpperLeft: \"\",\n   defaultSkippedCell: \"\",\n   defaultPaneDivider: \"\",\n   cteGriddiv: \"\", // this one has no Style version with it\n   defaultInputEcho: {classname: \"\", style: \"filter:alpha(opacity=90);opacity:.9;\"}, // so FireFox won't show warning\n   TCmain: \"\",\n   TCendcap: \"\",\n   TCpaneslider: \"\",\n   TClessbutton: \"\",\n   TCmorebutton: \"\",\n   TCscrollarea: \"\",\n   TCthumb: \"\",\n   TCPStrackingline: \"\",\n   TCTDFSthumbstatus: \"\",\n   TDpopupElement: \"\"\n   };\n\n//\n// SocialCalc.ConstantsSetClasses(prefix)\n//\n// This routine goes through all of the xyzClass/xyzStyle pairs and sets the Class to a default and\n// turns off the Style, if present. The prefix is put before each default.\n// The list of items to set is in SocialCalc.ConstantsDefaultClasses. The names there\n// correspond to the \"xyz\" parts. If there is a value, it is the default to set. If the\n// default is a null, no change is made. If the default is the null string (\"\"), the\n// name of the item is used (e.g., \"defaultComment\" would use the classname \"defaultComment\").\n// If the default is an object, then it expects {classname: classname, style: stylestring} - this\n// lets you combine both.\n//\n\nSocialCalc.ConstantsSetClasses = function(prefix) {\n\n   var defaults = SocialCalc.ConstantsDefaultClasses;\n   var scc = SocialCalc.Constants;\n   var item;\n\n   prefix = prefix || \"\";\n\n   for (item in defaults) {\n      if (typeof defaults[item] == \"string\") {\n         scc[item+\"Class\"] = prefix + (defaults[item] || item);\n         if (scc[item+\"Style\"] !== undefined) {\n            scc[item+\"Style\"] = \"\";\n            }\n         }\n      else if (typeof defaults[item] == \"object\") {\n         scc[item+\"Class\"] = prefix + (defaults[item].classname || item);\n         scc[item+\"Style\"] = defaults[item].style;\n         }\n      }\n   }\n\n// Set the image prefix on all images.\n\nSocialCalc.ConstantsSetImagePrefix = function(imagePrefix) {\n\n   var scc = SocialCalc.Constants;\n\n   for (var item in scc) {\n      if (typeof scc[item] == \"string\") {\n         scc[item] = scc[item].replace(scc.defaultImagePrefix, imagePrefix);\n         }\n      }\n   scc.defaultImagePrefix = imagePrefix;\n\n   }\n\n\n//\n// The main SocialCalc code module of the SocialCalc package\n//\n/*\n// (c) Copyright 2010 Socialtext, Inc.\n// All Rights Reserved.\n//\n// The contents of this file are subject to the Artistic License 2.0; you may not\n// use this file except in compliance with the License. You may obtain a copy of\n// the License at http://socialcalc.org/licenses/al-20/.\n//\n// Some of the other files in the SocialCalc package are licensed under\n// different licenses. Please note the licenses of the modules you use.\n//\n// Code History:\n//\n// Initially coded by Dan Bricklin of Software Garden, Inc., for Socialtext, Inc.\n// Based in part on the SocialCalc 1.1.0 code written in Perl.\n// The SocialCalc 1.1.0 code was:\n//    Portions (c) Copyright 2005, 2006, 2007 Software Garden, Inc.\n//    All Rights Reserved.\n//    Portions (c) Copyright 2007 Socialtext, Inc.\n//    All Rights Reserved.\n// The Perl SocialCalc started as modifications to the wikiCalc(R) program, version 1.0.\n// wikiCalc 1.0 was written by Software Garden, Inc.\n// Unless otherwise specified, referring to \"SocialCalc\" in comments refers to this\n// JavaScript version of the code, not the SocialCalc Perl code.\n//\n*/\n\n/*\n\n**** Overview ****\n\nThis is the beginning of a library of routines for displaying and editing spreadsheet\ndata in a browser. The HTML that includes this does not need to have anything\nspecific to the spreadsheet or editor already present -- everything is dynamically\nadded to the DOM by this code, including the rendered sheet and any editing controls.\n\nThe library has a few parts. This is the main SocialCalc code module.\nOther parts are the Table Editor module, the Formula module, and the Format Number module.\nNote: The Table Editor module is licensed under a different license than this module.\n\nThe class/object style is derived from O'Reilly's JavaScript by Flanagan, 5th Edition,\nsection 9.3, page 157.\n\nAll of the data, object definitions, functions, etc., are stored as properties of the SocialCalc\nobject so as not to clutter up the global variables nor conflict with other names.\n\nA design goal (not tested yet for success) is to make it possible to have more than one\nspreadsheet active on a page, perhaps even open for editing. It is assumed, though, that\nthere is only one mouse and one keyboard (a good assumption on most PCs today but not in the\nnew \"touch and surface world\" Apple and Microsoft are working towards).\n\nThe testing has been on Windows Firefox (2 and 3),\nInternet Explorer (6 and 7), Opera (9.23 and mainly later), Mac Safari (3.1), and Mac Firefox (2.0.0.6).\nThere are small issues with Firefox before 2.0 (cosmetic with drag handles) and larger ones\nwith Opera before 9.5 (the Delete key isn't recognized in some cases -- the 9.5 version was still\nin beta and this bug affects other products like GMail, I believe).\n\nThe data is stored in a SocialCalc.Sheet object. The data is organized in a form similar to that\nused by SocialCalc 1.1.0. There is a function for converting a normal SocialCalc spreadsheet\nsave data string (the spreadsheet part of a SocialCalc data file) into this internal form.\n\nThe SocialCalc.RenderContext class provides methods for rendering a table into the DOM representing\npart of the spreadsheet. It is assumed that the spreadsheet could possibly be very large\nand that rendering the whole thing at once could be too time consuming. It is also set up so\nthat it might be possible to have some of the sheet data only be loaded on demand (such as by Ajax).\nThe rendering can render cells to the right and below the already active area of the spreadsheet\nso that you can scroll to that \"clean\" area without explicitly doing \"add row/column\". The class also\ndoes simple operations such as \"scrolling\" within that table. The table may optionally include\nrow and column headers and may be split into panes. Most of the code assumes any number of panes,\nbut only the rightmost pane has scrolling code. In normal operation there would be one or two\npanes horizontally and vertically. The panes may start on any row/column, though a given row/column\nshould only appear in one pane at a time (not all code enforces this, yet).\n\nThe RenderContext is designed to be rendered as part of a SocialCalc.TableEditor. The TableEditor\nincludes the spreadsheet grid as well as scrollbars, pane sliders, and (eventually) editing controls.\nThe layout is dynamic and may be recomputed on the fly, such as in response to resizing the browser\nwindow.\n\nThe scrollbars and pane sliders are created using SocialCalc.TableControl objects. These in turn\nmake use of Dragging, ToolTip, Button, and MouseWheel functions.\n\nThe keyboard input is handled by keyboard code.\n\nThere are also some helper routines.\n\nMore comments yet to come...\n\n*/\n\n\nvar SocialCalc;\nif (!SocialCalc) SocialCalc = {};\n\n// *************************************\n//\n// Shared values\n//\n// These are \"global\" values shared by the classes, including default settings\n//\n// *************************************\n\n// Callbacks\n\nSocialCalc.Callbacks = {\n\n   // The next two are used by SocialCalc.format_text_for_display\n\n   // The function to expand wiki text - should be set if you want wikitext expansion\n   // The form is: expand_wiki(displayvalue, sheetobj, linkstyle, valueformat)\n   //    valueformat is text-wiki followed by optional sub-formats, e.g., text-wikipagelink\n\n   expand_wiki: null,\n\n   expand_markup: function(displayvalue, sheetobj, linkstyle) // the old function to expand wiki text - may be replaced\n                   {return SocialCalc.default_expand_markup(displayvalue, sheetobj, linkstyle);},\n\n   // MakePageLink is used to create the href for a link to another \"page\"\n   // The form is: MakePageLink(pagename, workspacename, linktyle, valueformat), returns string\n\n   MakePageLink: null,\n\n   // NormalizeSheetName is used to make different variations of sheetnames use the same cache slot\n\n   NormalizeSheetName: null // use default - lowercase\n\n   };\n\n// Shared flags\n\n   // none at present\n\n\n// *************************************\n//\n// Cell class:\n//\n// *************************************\n\n//\n// Class SocialCalc.Cell\n//\n// Usage: var s = new SocialCalc.Cell(coord);\n//\n// Cell attributes include:\n//\n//    coord: the column/row as a string, e.g., \"A1\"\n//    datavalue: the value to be used for computation and formatting for display,\n//               string or numeric (tolerant of numbers stored as strings)\n//    datatype: if present, v=numeric value, t=text value, f=formula,\n//              or c=constant that is not a simple number (like \"$1.20\")\n//    formula: if present, the formula (without leading \"=\") for computation or the constant\n//    valuetype: first char is main type, the following are sub-types.\n//               Main types are b=blank cell, n=numeric, t=text, e=error\n//               Examples of using sub-types would be \"nt\" for a numeric time value, \"n$\" for currency, \"nl\" for logical\n//    readonly: if present, whether the current cell is read-only of writable\n//    displayvalue: if present, rendered version of datavalue with formatting attributes applied\n//    parseinfo: if present, cached parsed version of formula\n//\n//    The following optional values, if present, are mainly used in rendering, overriding defaults:\n//\n//    bt, br, bb, bl: number of border's definition\n//    layout: layout (vertical alignment, padding) definition number\n//    font: font definition number\n//    color: text color definition number\n//    bgcolor: background color definition number\n//    cellformat: cell format (horizontal alignment) definition number\n//    nontextvalueformat: custom format definition number for non-text values, e.g., numbers\n//    textvalueformat: custom format definition number for text values\n//    colspan, rowspan: number of cells to span for merged cells (only on main cell)\n//    cssc: custom css classname for cell, as text (no special chars)\n//    csss: custom css style definition\n//    mod: modification allowed flag \"y\" if present\n//    comment: cell comment string\n//\n\n// Eddy - SocialCalc.Cell\n\nSocialCalc.Cell = function(coord) {\n\n   this.coord = coord;\n   this.datavalue = \"\";\n   this.datatype = null;\n   this.formula = \"\";\n   this.valuetype = \"b\";\n   this.readonly = false;\n\n   }\n\n// The types of cell properties\n//\n// Type 1: Base, Type 2: Attribute, Type 3: Special (e.g., displaystring, parseinfo)\n\nSocialCalc.CellProperties = {\n   coord: 1, datavalue: 1, datatype: 1, formula: 1, valuetype: 1, errors: 1, comment: 1, readonly: 1,\n   bt: 2, br: 2, bb: 2, bl: 2, layout: 2, font: 2, color: 2, bgcolor: 2,\n   cellformat: 2, nontextvalueformat: 2, textvalueformat: 2, colspan: 2, rowspan: 2,\n   cssc: 2, csss: 2, mod: 2,\n   displaystring: 3, // used to cache rendered HTML of cell contents\n   parseinfo: 3, // used to cache parsed formulas\n   hcolspan: 3, hrowspan: 3 // spans taking hidden cols/rows into account (!!! NOT YET !!!)\n   };\n\nSocialCalc.CellPropertiesTable = {\n   bt: \"borderstyle\", br: \"borderstyle\", bb: \"borderstyle\", bl: \"borderstyle\",\n   layout: \"layout\", font: \"font\", color: \"color\", bgcolor: \"color\",\n   cellformat: \"cellformat\", nontextvalueformat: \"valueformat\", textvalueformat: \"valueformat\"\n   };\n\n// *************************************\n//\n// Sheet class:\n//\n// *************************************\n\n//\n// Class SocialCalc.Sheet\n//\n// Usage: var s = new SocialCalc.Sheet();\n//\n\nSocialCalc.Sheet = function() {\n\n   SocialCalc.ResetSheet(this);\n\n   // Set other values:\n   //\n   // sheet.statuscallback(data, status, arg, this.statuscallbackparams) is called\n   // during recalc and commands.\n   //\n   // During recalc, data is the current recalcdata.\n   // The values for status and the corresponding arg are:\n   //\n   //    calcorder, {coord: coord, total: celllist length, count: count} [0 or more times per recalc]\n   //    calccheckdone, calclist length [once per recalc]\n   //    calcstep, {coord: coord, total: calclist length, count: count} [0 or more times per recalc]\n   //    calcloading, {sheetname: name-of-sheet}\n   //    calcserverfunc, {funcname: name-of-function, coord: coord, total: calclist length, count: count}\n   //    calcfinished, time in milliseconds [once per recalc]\n   //\n   // During commands, data is SocialCalc.SheetCommandInfo.\n   // These values for status and arg are:\n   //\n   //    cmdstart, cmdstr\n   //    cmdend\n   //\n\n   this.statuscallback = null; // routine called with cmdstart, calcstart, etc., status and args:\n                                // sheet.statuscallback(data, status, arg, params)\n   this.statuscallbackparams = null; // parameters passed to that routine\n\n   }\n\n//\n// SocialCalc.ResetSheet(sheet)\n//\n// Resets (and/or initializes) sheet data values.\n//\n\nSocialCalc.ResetSheet = function(sheet, reload) {\n\n   // properties:\n\n   sheet.cells = {}; // at least one for each non-blank cell: coord: cell-object\n   sheet.attribs = // sheet attributes\n      {\n         lastcol: 1,\n         lastrow: 1,\n         defaultlayout: 0,\n         usermaxcol: 0,\n         usermaxrow: 0\n\n      };\n   sheet.rowattribs =\n      {\n         hide: {}, // access by row number\n         height: {}\n      };\n   sheet.colattribs =\n      {\n         width: {}, // access by col name\n         hide: {}\n      };\n   sheet.names={}; // Each is: {desc: \"optional description\", definition: \"B5, A1:B7, or =formula\"}\n   sheet.layouts=[];\n   sheet.layouthash={};\n   sheet.fonts=[];\n   sheet.fonthash={};\n   sheet.colors=[];\n   sheet.colorhash={};\n   sheet.borderstyles=[];\n   sheet.borderstylehash={};\n   sheet.cellformats=[];\n   sheet.cellformathash={};\n   sheet.valueformats=[];\n   sheet.valueformathash={};\n   sheet.matched_cells=[];\n   sheet.selected_search_cell=undefined;\n\n   sheet.copiedfrom = \"\"; // if a range, then this was loaded from a saved range as clipboard content\n\n   sheet.changes = new SocialCalc.UndoStack();\n\n   sheet.renderneeded = false;\n\n   sheet.changedrendervalues = true; // if true, spans and/or fonts have changed (set by ExecuteSheetCommand & GetStyle)\n\n   sheet.recalcchangedavalue = false; // true if a recalc resulted in a change to a cell's calculated value\n\n   sheet.hiddencolrow = \"\"; // \"col\" or \"row\" if it was hidden\n\n   sheet.sci = new SocialCalc.SheetCommandInfo(sheet);\n\n   sheet.ioEventTree ={};\n   sheet.ioParameterList = {};\n\n   }\n\n// Methods:\n\nSocialCalc.Sheet.prototype.ResetSheet = function() {SocialCalc.ResetSheet(this);};\nSocialCalc.Sheet.prototype.AddCell = function(newcell) {return this.cells[newcell.coord]=newcell;};\nSocialCalc.Sheet.prototype.LastCol = function() {\n    var last_col = 1;\n    for (var cell_id  in this.cells) {\n        var cr = SocialCalc.coordToCr(cell_id);\n        if (cr.col > last_col) {\n            last_col = cr.col;\n        }\n    }\n    return last_col;\n}\nSocialCalc.Sheet.prototype.LastRow = function() {\n    var last_row = 1;\n    for (var cell_id  in this.cells) {\n        var cr = SocialCalc.coordToCr(cell_id);\n        if (cr.row > last_row) {\n            last_row = cr.row;\n        }\n    }\n    return last_row;\n}\nSocialCalc.Sheet.prototype.GetAssuredCell = function(coord) {\n   return this.cells[coord] || this.AddCell(new SocialCalc.Cell(coord));\n   };\nSocialCalc.Sheet.prototype.ParseSheetSave = function(savedsheet) {SocialCalc.ParseSheetSave(savedsheet,this);};\nSocialCalc.Sheet.prototype.CellFromStringParts = function(cell, parts, j) {return SocialCalc.CellFromStringParts(this, cell, parts, j);};\nSocialCalc.Sheet.prototype.CreateSheetSave = function(range, canonicalize) {return SocialCalc.CreateSheetSave(this, range, canonicalize);};\nSocialCalc.Sheet.prototype.CellToString = function(cell) {return SocialCalc.CellToString(this, cell);};\nSocialCalc.Sheet.prototype.CanonicalizeSheet = function(full) {return SocialCalc.CanonicalizeSheet(this, full);};\nSocialCalc.Sheet.prototype.EncodeCellAttributes = function(coord) {return SocialCalc.EncodeCellAttributes(this, coord);};\nSocialCalc.Sheet.prototype.EncodeSheetAttributes = function() {return SocialCalc.EncodeSheetAttributes(this);};\nSocialCalc.Sheet.prototype.DecodeCellAttributes = function(coord, attribs, range) {return SocialCalc.DecodeCellAttributes(this, coord, attribs, range);};\nSocialCalc.Sheet.prototype.DecodeSheetAttributes = function(attribs) {return SocialCalc.DecodeSheetAttributes(this, attribs);};\n\nSocialCalc.Sheet.prototype.ScheduleSheetCommands = function(cmd, saveundo) {return SocialCalc.ScheduleSheetCommands(this, cmd, saveundo);};\nSocialCalc.Sheet.prototype.SheetUndo = function() {return SocialCalc.SheetUndo(this);};\nSocialCalc.Sheet.prototype.SheetRedo = function() {return SocialCalc.SheetRedo(this);};\nSocialCalc.Sheet.prototype.CreateAuditString = function() {return SocialCalc.CreateAuditString(this);};\nSocialCalc.Sheet.prototype.GetStyleNum = function(atype, style) {return SocialCalc.GetStyleNum(this, atype, style);};\nSocialCalc.Sheet.prototype.GetStyleString = function(atype, num) {return SocialCalc.GetStyleString(this, atype, num);};\nSocialCalc.Sheet.prototype.RecalcSheet = function() {return SocialCalc.RecalcSheet(this);};\n\n//\n// Sheet save format:\n//\n// linetype:param1:param2:...\n//\n// Linetypes are:\n//\n//    version:versionname - version of this format. Currently 1.5.\n//\n//    cell:coord:type:value...:type:value... - Types are as follows:\n//\n//       v:value - straight numeric value\n//       t:value - straight text/wiki-text in cell, encoded to handle \\, :, newlines\n//       vt:fulltype:value - value with value type/subtype\n//       vtf:fulltype:value:formulatext - formula resulting in value with value type/subtype, value and text encoded\n//       vtc:fulltype:value:valuetext - formatted text constant resulting in value with value type/subtype, value and text encoded\n//       vf:fvalue:formulatext - formula resulting in value, value and text encoded (obsolete: only pre format version 1.1)\n//          fvalue - first char is \"N\" for numeric value, \"T\" for text value, \"H\" for HTML value, rest is the value\n//       e:errortext - Error text. Non-blank means formula parsing/calculation results in error.\n//       b:topborder#:rightborder#:bottomborder#:leftborder# - border# in sheet border list or blank if none\n//       l:layout# - number in cell layout list\n//       f:font# - number in sheet fonts list\n//       c:color# - sheet color list index for text\n//       bg:color# - sheet color list index for background color\n//       cf:format# - sheet cell format number for explicit format (align:left, etc.)\n//       cvf:valueformat# - sheet cell value format number (obsolete: only pre format v1.2)\n//       tvf:valueformat# - sheet cell text value format number\n//       ntvf:valueformat# - sheet cell non-text value format number\n//       colspan:numcols - number of columns spanned in merged cell\n//       rowspan:numrows - number of rows spanned in merged cell\n//       cssc:classname - name of CSS class to be used for cell when published instead of one calculated here\n//       csss:styletext - explicit CSS style information, encoded to handle :, etc.\n//       mod:allow - if \"y\" allow modification of cell for live \"view\" recalc\n//       comment:value - encoded text of comment for this cell (added in v1.5)\n//\n//    col:\n//       w:widthval - number, \"auto\" (no width in <col> tag), number%, or blank (use default)\n//       hide: - yes/no, no is assumed if missing\n//    row:\n//       hide - yes/no, no is assumed if missing\n//\n//    sheet:\n//       c:lastcol - number\n//       r:lastrow - number\n//       w:defaultcolwidth - number, \"auto\", number%, or blank (default->80)\n//       h:defaultrowheight - not used\n//       tf:format# - cell format number for sheet default for text values\n//       ntf:format# - cell format number for sheet default for non-text values (i.e., numbers)\n//       layout:layout# - default cell layout number in cell layout list\n//       font:font# - default font number in sheet font list\n//       vf:valueformat# - default number value format number in sheet valueformat list (obsolete: only pre format version 1.2)\n//       ntvf:valueformat# - default non-text (number) value format number in sheet valueformat list\n//       tvf:valueformat# - default text value format number in sheet valueformat list\n//       color:color# - default number for text color in sheet color list\n//       bgcolor:color# - default number for background color in sheet color list\n//       circularreferencecell:coord - cell coord with a circular reference\n//       recalc:value - on/off (on is default). If not \"off\", appropriate changes to the sheet cause a recalc\n//       needsrecalc:value - yes/no (no is default). If \"yes\", formula values are not up to date\n//       usermaxcol:value - maximum column to display, 0 for unlimited (default=0)\n//       usermaxrow:value - maximum row to display, 0 for unlimited (default=0)\n//\n//    name:name:description:value - name definition, name in uppercase, with value being \"B5\", \"A1:B7\", or \"=formula\";\n//                                  description and value are encoded.\n//    font:fontnum:value - text of font definition (style weight size family) for font fontnum\n//                         \"*\" for \"style weight\", size, or family, means use default (first look to sheet, then builtin)\n//    color:colornum:rgbvalue - text of color definition (e.g., rgb(255,255,255)) for color colornum\n//    border:bordernum:value - text of border definition (thickness style color) for border bordernum\n//    layout:layoutnum:value - text of vertical alignment and padding style for cell layout layoutnum (* for default):\n//                             vertical-alignment:vavalue;padding:topval rightval bottomval leftval;\n//    cellformat:cformatnum:value - text of cell alignment (left/center/right) for cellformat cformatnum\n//    valueformat:vformatnum:value - text of number format (see FormatValueForDisplay) for valueformat vformatnum (changed in v1.2)\n//    clipboardrange:upperleftcoord:bottomrightcoord - ignored -- from wikiCalc\n//    clipboard:coord:type:value:... - ignored -- from wikiCalc\n//\n// If this is clipboard contents, then there is also information to facilitate pasting:\n//\n//    copiedfrom:upperleftcoord:bottomrightcoord - range from which this was copied\n//\n\n// Functions:\n\nSocialCalc.ParseSheetSave = function(savedsheet,sheetobj) {\n\n   var lines=savedsheet.split(/\\r\\n|\\n/);\n   var parts=[];\n   var line;\n   var i, j, t, v, coord, cell, attribs, name;\n   var scc = SocialCalc.Constants;\n\n   for (i=0;i<lines.length;i++) {\n      line=lines[i];\n      parts = line.split(\":\");\n      switch (parts[0]) {\n         case \"cell\":\n            cell=sheetobj.GetAssuredCell(parts[1]);\n            j=2;\n            sheetobj.CellFromStringParts(cell, parts, j);\n            break;\n\n         case \"col\":\n            coord=parts[1];\n            j=2;\n            while (t=parts[j++]) {\n               switch (t) {\n                  case \"w\":\n                     sheetobj.colattribs.width[coord]=parts[j++]; // must be text - could be auto or %, etc.\n                     break;\n                  case \"hide\":\n                     sheetobj.colattribs.hide[coord]=parts[j++];\n                     break;\n                  default:\n                     throw scc.s_pssUnknownColType+\" '\"+t+\"'\";\n                     break;\n                  }\n               }\n            break;\n\n         case \"row\":\n            coord=parts[1]-0;\n            j=2;\n            while (t=parts[j++]) {\n               switch (t) {\n                  case \"h\":\n                     sheetobj.rowattribs.height[coord]=parts[j++]-0;\n                     break;\n                  case \"hide\":\n                     sheetobj.rowattribs.hide[coord]=parts[j++];\n                     break;\n                  default:\n                     throw scc.s_pssUnknownRowType+\" '\"+t+\"'\";\n                     break;\n                  }\n               }\n            break;\n\n         case \"sheet\":\n            attribs=sheetobj.attribs;\n            j=1;\n            while (t=parts[j++]) {\n               switch (t) {\n                  case \"c\":\n                     attribs.lastcol=parts[j++]-0;\n                     break;\n                  case \"r\":\n                     attribs.lastrow=parts[j++]-0;\n                     break;\n                  case \"w\":\n                     attribs.defaultcolwidth=parts[j++]+\"\";\n                     break;\n                  case \"h\":\n                     attribs.defaultrowheight=parts[j++]-0;\n                     break;\n                  case \"tf\":\n                     attribs.defaulttextformat=parts[j++]-0;\n                     break;\n                  case \"ntf\":\n                     attribs.defaultnontextformat=parts[j++]-0;\n                     break;\n                  case \"layout\":\n                     attribs.defaultlayout=parts[j++]-0;\n                     break;\n                  case \"font\":\n                     attribs.defaultfont=parts[j++]-0;\n                     break;\n                  case \"tvf\":\n                     attribs.defaulttextvalueformat=parts[j++]-0;\n                     break;\n                  case \"ntvf\":\n                     attribs.defaultnontextvalueformat=parts[j++]-0;\n                     break;\n                  case \"color\":\n                     attribs.defaultcolor=parts[j++]-0;\n                     break;\n                  case \"bgcolor\":\n                     attribs.defaultbgcolor=parts[j++]-0;\n                     break;\n                  case \"circularreferencecell\":\n                     attribs.circularreferencecell=parts[j++];\n                     break;\n                  case \"recalc\":\n                     attribs.recalc=parts[j++];\n                     break;\n                  case \"needsrecalc\":\n                     attribs.needsrecalc=parts[j++];\n                     break;\n                  case \"usermaxcol\":\n                     attribs.usermaxcol=parts[j++]-0;\n                     break;\n                  case \"usermaxrow\":\n                     attribs.usermaxrow=parts[j++]-0;\n                     break;\n                  default:\n                     j+=1;\n                     break;\n                  }\n               }\n            break;\n\n         case \"name\":\n            name = SocialCalc.decodeFromSave(parts[1]).toUpperCase();\n            sheetobj.names[name] = {desc: SocialCalc.decodeFromSave(parts[2])};\n            sheetobj.names[name].definition = SocialCalc.decodeFromSave(parts[3]);\n            break;\n\n         case \"layout\":\n            parts=lines[i].match(/^layout\\:(\\d+)\\:(.+)$/); // layouts can have \":\" in them\n            sheetobj.layouts[parts[1]-0]=parts[2];\n            sheetobj.layouthash[parts[2]]=parts[1]-0;\n            break;\n\n         case \"font\":\n            sheetobj.fonts[parts[1]-0]=parts[2];\n            sheetobj.fonthash[parts[2]]=parts[1]-0;\n            break;\n\n         case \"color\":\n            sheetobj.colors[parts[1]-0]=parts[2];\n            sheetobj.colorhash[parts[2]]=parts[1]-0;\n            break;\n\n         case \"border\":\n            sheetobj.borderstyles[parts[1]-0]=parts[2];\n            sheetobj.borderstylehash[parts[2]]=parts[1]-0;\n            break;\n\n         case \"cellformat\":\n            v=SocialCalc.decodeFromSave(parts[2]);\n            sheetobj.cellformats[parts[1]-0]=v;\n            sheetobj.cellformathash[v]=parts[1]-0;\n            break;\n\n         case \"valueformat\":\n            v=SocialCalc.decodeFromSave(parts[2]);\n            sheetobj.valueformats[parts[1]-0]=v;\n            sheetobj.valueformathash[v]=parts[1]-0;\n            break;\n\n         case \"version\":\n            break;\n\n         case \"copiedfrom\":\n            sheetobj.copiedfrom = parts[1]+\":\"+parts[2];\n            break;\n\n         case \"clipboardrange\": // in save versions up to 1.3. Ignored.\n         case \"clipboard\":\n            break;\n\n         case \"\":\n            break;\n\n         default:\nalert(scc.s_pssUnknownLineType+\" '\"+parts[0]+\"'\");\n            throw scc.s_pssUnknownLineType+\" '\"+parts[0]+\"'\";\n            break;\n         }\n      parts = null;\n      }\n\n   }\n\n//\n// SocialCalc.CellFromStringParts(sheet, cell, parts, j)\n//\n// Takes string that has been split by \":\" in parts, starting at item j,\n// and fills in cell assuming save format.\n//\n\nSocialCalc.CellFromStringParts = function(sheet, cell, parts, j) {\n\n   var cell, t, v;\n\n   while (t=parts[j++]) {\n      switch (t) {\n         case \"v\":\n            cell.datavalue=SocialCalc.decodeFromSave(parts[j++])-0;\n            cell.datatype=\"v\";\n            cell.valuetype=\"n\";\n            break;\n         case \"t\":\n            cell.datavalue=SocialCalc.decodeFromSave(parts[j++]);\n            cell.datatype=\"t\";\n            cell.valuetype=SocialCalc.Constants.textdatadefaulttype;\n            break;\n         case \"vt\":\n            v=parts[j++];\n            cell.valuetype=v;\n            if (v.charAt(0)==\"n\") {\n               cell.datatype=\"v\";\n               cell.datavalue=SocialCalc.decodeFromSave(parts[j++])-0;\n               }\n            else {\n               cell.datatype=\"t\";\n               cell.datavalue=SocialCalc.decodeFromSave(parts[j++]);\n               }\n            break;\n         case \"vtf\":\n            v=parts[j++];\n            cell.valuetype=v;\n            if (v.charAt(0)==\"n\") {\n               cell.datavalue=SocialCalc.decodeFromSave(parts[j++])-0;\n               }\n            else {\n               cell.datavalue=SocialCalc.decodeFromSave(parts[j++]);\n               }\n            cell.formula=SocialCalc.decodeFromSave(parts[j++]);\n            cell.datatype=\"f\";\n            break;\n         case \"vtc\":\n            v=parts[j++];\n            cell.valuetype=v;\n            if (v.charAt(0)==\"n\") {\n               cell.datavalue=SocialCalc.decodeFromSave(parts[j++])-0;\n               }\n            else {\n               cell.datavalue=SocialCalc.decodeFromSave(parts[j++]);\n               }\n            cell.formula=SocialCalc.decodeFromSave(parts[j++]);\n            cell.datatype=\"c\";\n            break;\n         case \"ro\":\n            ro=SocialCalc.decodeFromSave(parts[j++]);\n            cell.readonly=ro.toLowerCase()==\"yes\";\n            break;\n         case \"e\":\n            cell.errors=SocialCalc.decodeFromSave(parts[j++]);\n            break;\n         case \"b\":\n            cell.bt=parts[j++]-0;\n            cell.br=parts[j++]-0;\n            cell.bb=parts[j++]-0;\n            cell.bl=parts[j++]-0;\n            break;\n         case \"l\":\n            cell.layout=parts[j++]-0;\n            break;\n         case \"f\":\n            cell.font=parts[j++]-0;\n            break;\n         case \"c\":\n            cell.color=parts[j++]-0;\n            break;\n         case \"bg\":\n            cell.bgcolor=parts[j++]-0;\n            break;\n         case \"cf\":\n            cell.cellformat=parts[j++]-0;\n            break;\n         case \"ntvf\":\n            cell.nontextvalueformat=parts[j++]-0;\n            break;\n         case \"tvf\":\n            cell.textvalueformat=parts[j++]-0;\n            break;\n         case \"colspan\":\n            cell.colspan=parts[j++]-0;\n            break;\n         case \"rowspan\":\n            cell.rowspan=parts[j++]-0;\n            break;\n         case \"cssc\":\n            cell.cssc=parts[j++];\n            break;\n         case \"csss\":\n            cell.csss=SocialCalc.decodeFromSave(parts[j++]);\n            break;\n         case \"mod\":\n            j+=1;\n            break;\n         case \"comment\":\n            cell.comment=SocialCalc.decodeFromSave(parts[j++]);\n            break;\n         default:\n            throw SocialCalc.Constants.s_cfspUnknownCellType+\" '\"+t+\"'\";\n            break;\n         }\n      }\n\n   }\n\n\nSocialCalc.sheetfields = [\"defaultrowheight\", \"defaultcolwidth\", \"circularreferencecell\", \"recalc\", \"needsrecalc\", \"usermaxcol\", \"usermaxrow\"];\nSocialCalc.sheetfieldsshort = [\"h\", \"w\", \"circularreferencecell\", \"recalc\", \"needsrecalc\", \"usermaxcol\", \"usermaxrow\"];\n\nSocialCalc.sheetfieldsxlat = [\"defaulttextformat\", \"defaultnontextformat\",\n                              \"defaulttextvalueformat\", \"defaultnontextvalueformat\",\n                              \"defaultcolor\", \"defaultbgcolor\", \"defaultfont\", \"defaultlayout\"];\nSocialCalc.sheetfieldsxlatshort = [\"tf\", \"ntf\", \"tvf\", \"ntvf\", \"color\", \"bgcolor\", \"font\", \"layout\"];\nSocialCalc.sheetfieldsxlatxlt = [\"cellformat\", \"cellformat\", \"valueformat\", \"valueformat\",\n                                  \"color\", \"color\", \"font\", \"layout\"];\n\n//\n// sheetstr = SocialCalc.CreateSheetSave(sheetobj, range, canonicalize)\n//\n// Creates a text representation of the sheetobj data.\n// If the range is present then only those cells are saved\n// (as clipboard data with \"copiedfrom\" set).\n//\n\nSocialCalc.CreateSheetSave = function(sheetobj, range, canonicalize) {\n\n   var cell, cr1, cr2, row, col, coord, attrib, line, value, formula, i, t, r, b, l, name, blanklen;\n   var result=[];\n\n   var prange;\n\n   sheetobj.CanonicalizeSheet(canonicalize || SocialCalc.Constants.doCanonicalizeSheet);\n   var xlt = sheetobj.xlt;\n\n   if (range) {\n      prange = SocialCalc.ParseRange(range);\n      }\n   else {\n      prange = {cr1: {row: 1, col:1},\n                cr2: {row: xlt.maxrow, col: xlt.maxcol}};\n      }\n   cr1 = prange.cr1;\n   cr2 = prange.cr2;\n\n   result.push(\"version:1.5\");\n\n   for (row=cr1.row; row <= cr2.row; row++) {\n      for (col=cr1.col; col <= cr2.col; col++) {\n         coord = SocialCalc.crToCoord(col, row);\n         cell=sheetobj.cells[coord];\n         if (!cell) continue;\n         line=sheetobj.CellToString(cell);\n         if (line.length==0) continue; // ignore completely empty cells\n         line=\"cell:\"+coord+line;\n         result.push(line);\n         }\n      }\n\n   for (col=1; col <= xlt.maxcol; col++) {\n      coord = SocialCalc.rcColname(col);\n      if (sheetobj.colattribs.width[coord])\n         result.push(\"col:\"+coord+\":w:\"+sheetobj.colattribs.width[coord]);\n      if (sheetobj.colattribs.hide[coord])\n         result.push(\"col:\"+coord+\":hide:\"+sheetobj.colattribs.hide[coord]);\n      }\n\n   for (row=1; row <= xlt.maxrow; row++) {\n      if (sheetobj.rowattribs.height[row])\n         result.push(\"row:\"+row+\":h:\"+sheetobj.rowattribs.height[row]);\n      if (sheetobj.rowattribs.hide[row])\n         result.push(\"row:\"+row+\":hide:\"+sheetobj.rowattribs.hide[row]);\n      }\n\n   line=\"sheet:c:\"+xlt.maxcol+\":r:\"+xlt.maxrow;\n\n   for (i=0; i<SocialCalc.sheetfields.length; i++) { // non-xlated values\n      value = SocialCalc.encodeForSave(sheetobj.attribs[SocialCalc.sheetfields[i]]);\n      if (value) line+=\":\"+SocialCalc.sheetfieldsshort[i]+\":\"+value;\n      }\n   for (i=0; i<SocialCalc.sheetfieldsxlat.length; i++) { // xlated values\n      value = sheetobj.attribs[SocialCalc.sheetfieldsxlat[i]];\n      if (value) line+=\":\"+SocialCalc.sheetfieldsxlatshort[i]+\":\"+xlt[SocialCalc.sheetfieldsxlatxlt[i]+\"sxlat\"][value];\n      }\n\n   result.push(line);\n\n   for (i=1;i<xlt.newborderstyles.length;i++) {\n      result.push(\"border:\"+i+\":\"+xlt.newborderstyles[i]);\n      }\n\n   for (i=1;i<xlt.newcellformats.length;i++) {\n      result.push(\"cellformat:\"+i+\":\"+SocialCalc.encodeForSave(xlt.newcellformats[i]));\n      }\n\n   for (i=1;i<xlt.newcolors.length;i++) {\n      result.push(\"color:\"+i+\":\"+xlt.newcolors[i]);\n      }\n\n   for (i=1;i<xlt.newfonts.length;i++) {\n      result.push(\"font:\"+i+\":\"+xlt.newfonts[i]);\n      }\n\n   for (i=1;i<xlt.newlayouts.length;i++) {\n      result.push(\"layout:\"+i+\":\"+xlt.newlayouts[i]);\n      }\n\n   for (i=1;i<xlt.newvalueformats.length;i++) {\n      result.push(\"valueformat:\"+i+\":\"+SocialCalc.encodeForSave(xlt.newvalueformats[i]));\n      }\n\n   for (i=0; i<xlt.namesorder.length; i++) {\n      name = xlt.namesorder[i];\n      result.push(\"name:\"+SocialCalc.encodeForSave(name).toUpperCase()+\":\"+\n                   SocialCalc.encodeForSave(sheetobj.names[name].desc)+\":\"+\n                   SocialCalc.encodeForSave(sheetobj.names[name].definition));\n      }\n\n   if (range) {\n      result.push(\"copiedfrom:\"+SocialCalc.crToCoord(cr1.col, cr1.row)+\":\"+\n                  SocialCalc.crToCoord(cr2.col, cr2.row));\n      }\n\n   result.push(\"\"); // one extra to get extra \\n\n\n   delete sheetobj.xlt; // clean up\n\n   return result.join(\"\\n\");\n   }\n\n//\n// line = SocialCalc.CellToString(sheet, cell)\n//\n\nSocialCalc.CellToString = function(sheet, cell) {\n\n   var cell, line, value, formula, t, r, b, l, xlt;\n\n   line = \"\";\n\n   if (!cell) return line;\n\n   value = SocialCalc.encodeForSave(cell.datavalue);\n   if (cell.datatype==\"v\") {\n      if (cell.valuetype==\"n\") line += \":v:\"+value;\n      else line += \":vt:\"+cell.valuetype+\":\"+value;\n      }\n   else if (cell.datatype==\"t\") {\n      if (cell.valuetype==SocialCalc.Constants.textdatadefaulttype)\n         line += \":t:\"+value;\n      else line += \":vt:\"+cell.valuetype+\":\"+value;\n      }\n   else {\n      formula = SocialCalc.encodeForSave(cell.formula);\n      if (cell.datatype==\"f\") {\n         line += \":vtf:\"+cell.valuetype+\":\"+value+\":\"+formula;\n         }\n      else if (cell.datatype==\"c\") {\n         line += \":vtc:\"+cell.valuetype+\":\"+value+\":\"+formula;\n         }\n      }\n   if (cell.readonly) {\n      line += \":ro:yes\";\n      }\n   if (cell.errors) {\n      line += \":e:\"+SocialCalc.encodeForSave(cell.errors);\n      }\n   t = cell.bt || \"\";\n   r = cell.br || \"\";\n   b = cell.bb || \"\";\n   l = cell.bl || \"\";\n\n   if (sheet.xlt) { // if have canonical save info\n      xlt = sheet.xlt;\n      if (t || r || b || l)\n      line += \":b:\"+xlt.borderstylesxlat[t||0]+\":\"+xlt.borderstylesxlat[r||0]+\":\"+xlt.borderstylesxlat[b||0]+\":\"+xlt.borderstylesxlat[l||0];\n      if (cell.layout) line += \":l:\"+xlt.layoutsxlat[cell.layout];\n      if (cell.font) line += \":f:\"+xlt.fontsxlat[cell.font];\n      if (cell.color) line += \":c:\"+xlt.colorsxlat[cell.color];\n      if (cell.bgcolor) line += \":bg:\"+xlt.colorsxlat[cell.bgcolor];\n      if (cell.cellformat) line += \":cf:\"+xlt.cellformatsxlat[cell.cellformat];\n      if (cell.textvalueformat) line += \":tvf:\"+xlt.valueformatsxlat[cell.textvalueformat];\n      if (cell.nontextvalueformat) line += \":ntvf:\"+xlt.valueformatsxlat[cell.nontextvalueformat];\n      }\n   else {\n      if (t || r || b || l)\n      line += \":b:\"+t+\":\"+r+\":\"+b+\":\"+l;\n      if (cell.layout) line += \":l:\"+cell.layout;\n      if (cell.font) line += \":f:\"+cell.font;\n      if (cell.color) line += \":c:\"+cell.color;\n      if (cell.bgcolor) line += \":bg:\"+cell.bgcolor;\n      if (cell.cellformat) line += \":cf:\"+cell.cellformat;\n      if (cell.textvalueformat) line += \":tvf:\"+cell.textvalueformat;\n      if (cell.nontextvalueformat) line += \":ntvf:\"+cell.nontextvalueformat;\n      }\n   if (cell.colspan) line += \":colspan:\"+cell.colspan;\n   if (cell.rowspan) line += \":rowspan:\"+cell.rowspan;\n   if (cell.cssc) line += \":cssc:\"+cell.cssc;\n   if (cell.csss) line += \":csss:\"+SocialCalc.encodeForSave(cell.csss);\n   if (cell.mod) line += \":mod:\"+cell.mod;\n   if (cell.comment) line += \":comment:\"+SocialCalc.encodeForSave(cell.comment);\n\n   return line;\n\n   }\n\n//\n// SocialCalc.CanonicalizeSheet(sheetobj, full)\n//\n// Goes through the sheet and fills in sheetobj.xlt with the following:\n//\n//   .maxrow, .maxcol - lastrow and lastcol are as small as possible\n//   .newlayouts - new version of sheetobj.layouts without unused ones and all in ascending order\n//   .layoutsxlat - maps old layouts index to new one\n//   same \".new\" and \".xlat\" for fonts, colors, borderstyles, cell and value formats\n//   .namesorder - array with names sorted\n//\n// If full or SocialCalc.Constants.doCanonicalizeSheet are not true, then the values will leave things unchanged (to save time, etc.)\n//\n// sheetobj.xlt should be deleted when you are finished using it\n//\n\nSocialCalc.CanonicalizeSheet = function(sheetobj, full) {\n\n   var l, coord, cr, cell, filled, an, a, newa, newxlat, used, ahash, i, v;\n   var maxrow = 0;\n   var maxcol = 0;\n   var alist = [\"borderstyle\", \"cellformat\", \"color\", \"font\", \"layout\", \"valueformat\"];\n\n   var xlt = {};\n\n   xlt.namesorder = []; // always return a sorted list\n   for (a in sheetobj.names) {\n      xlt.namesorder.push(a);\n      }\n   xlt.namesorder.sort();\n\n   if (!SocialCalc.Constants.doCanonicalizeSheet || !full) { // return make-no-changes values if not wanted\n      for (an=0; an<alist.length; an++) {\n         a = alist[an];\n         xlt[\"new\"+a+\"s\"] = sheetobj[a+\"s\"];\n         l = sheetobj[a+\"s\"].length;\n         newxlat = new Array(l);\n         newxlat[0] = \"\";\n         for (i=1; i<l; i++) {\n            newxlat[i] = i;\n            }\n         xlt[a+\"sxlat\"] = newxlat;\n         }\n\n      xlt.maxrow = sheetobj.attribs.lastrow;\n      xlt.maxcol = sheetobj.attribs.lastcol;\n\n      sheetobj.xlt = xlt;\n\n      return;\n      }\n\n   for (an=0; an<alist.length; an++) {\n      a = alist[an];\n      xlt[a+\"sUsed\"] = {};\n      }\n\n   var colorsUsed = xlt.colorsUsed;\n   var borderstylesUsed = xlt.borderstylesUsed;\n   var fontsUsed = xlt.fontsUsed;\n   var layoutsUsed = xlt.layoutsUsed;\n   var cellformatsUsed = xlt.cellformatsUsed;\n   var valueformatsUsed = xlt.valueformatsUsed;\n\n   for (coord in sheetobj.cells) { // check all cells to see which values are used\n      cr = SocialCalc.coordToCr(coord);\n      cell = sheetobj.cells[coord];\n      filled = false;\n\n      if (cell.valuetype && cell.valuetype!=\"b\") filled = true;\n\n      if (cell.color) {\n         colorsUsed[cell.color] = 1;\n         filled = true;\n         }\n\n      if (cell.bgcolor) {\n         colorsUsed[cell.bgcolor] = 1;\n         filled = true;\n         }\n\n      if (cell.bt) {\n         borderstylesUsed[cell.bt] = 1;\n         filled = true;\n         }\n      if (cell.br) {\n         borderstylesUsed[cell.br] = 1;\n         filled = true;\n         }\n      if (cell.bb) {\n         borderstylesUsed[cell.bb] = 1;\n         filled = true;\n         }\n      if (cell.bl) {\n         borderstylesUsed[cell.bl] = 1;\n         filled = true;\n         }\n\n      if (cell.layout) {\n         layoutsUsed[cell.layout] = 1;\n         filled = true;\n         }\n\n      if (cell.font) {\n         fontsUsed[cell.font] = 1;\n         filled = true;\n         }\n\n      if (cell.cellformat) {\n         cellformatsUsed[cell.cellformat] = 1;\n         filled = true;\n         }\n\n      if (cell.textvalueformat) {\n         valueformatsUsed[cell.textvalueformat] = 1;\n         filled = true;\n         }\n\n      if (cell.nontextvalueformat) {\n         valueformatsUsed[cell.nontextvalueformat] = 1;\n         filled = true;\n         }\n\n      if (filled) {\n         if (cr.row > maxrow) maxrow = cr.row;\n         if (cr.col > maxcol) maxcol = cr.col;\n         }\n      }\n\n   for (i=0; i<SocialCalc.sheetfieldsxlat.length; i++) { // do sheet values, too\n      v = sheetobj.attribs[SocialCalc.sheetfieldsxlat[i]];\n      if (v) {\n         xlt[SocialCalc.sheetfieldsxlatxlt[i]+\"sUsed\"][v] = 1;\n         }\n      }\n\n   a = {\"height\": 1, \"hide\": 1}; // look at explicit row settings\n   for (v in a) {\n      for (cr in sheetobj.rowattribs[v]) {\n         if (cr > maxrow) maxrow = cr;\n         }\n      }\n   a = {\"hide\": 1, \"width\": 1}; // look at explicit col settings\n   for (v in a) {\n      for (coord in sheetobj.colattribs[v]) {\n         cr = SocialCalc.coordToCr(coord+\"1\");\n         if (cr.col > maxcol) maxcol = cr.col;\n         }\n      }\n\n   for (an=0; an<alist.length; an++) { // go through the attribs we want\n      a = alist[an];\n\n      newa = [];\n      used = xlt[a+\"sUsed\"];\n      for (v in used) {\n         newa.push(sheetobj[a+\"s\"][v]);\n         }\n      newa.sort();\n      newa.unshift(\"\");\n\n      newxlat = [\"\"];\n      ahash = sheetobj[a+\"hash\"];\n\n      for (i=1; i<newa.length; i++) {\n         newxlat[ahash[newa[i]]] = i;\n         }\n\n      xlt[a+\"sxlat\"] = newxlat;\n      xlt[\"new\"+a+\"s\"] = newa;\n\n      }\n\n   xlt.maxrow = maxrow || 1;\n   xlt.maxcol = maxcol || 1;\n\n   sheetobj.xlt = xlt; // leave for use by caller\n\n   }\n\n//\n// result = SocialCalc.EncodeCellAttributes(sheet, coord)\n//\n// Returns the cell's attributes in an object, each in the following form:\n//\n//    attribname: {def: true/false, val: full-value}\n//\n\nSocialCalc.EncodeCellAttributes = function(sheet, coord) {\n\n   var value, i, b, bb;\n   var result = {};\n\n   var InitAttrib = function(name) {\n      result[name] = {def: true, val: \"\"};\n      }\n\n   var InitAttribs = function(namelist) {\n      for (var i=0; i<namelist.length; i++) {\n         InitAttrib(namelist[i]);\n         }\n      }\n\n   var SetAttrib = function(name, v) {\n      result[name].def = false;\n      result[name].val = v || \"\";\n      }\n\n   var SetAttribStar = function(name, v) {\n      if (v==\"*\") return;\n      result[name].def = false;\n      result[name].val = v;\n      }\n\n   var cell = sheet.GetAssuredCell(coord);\n\n   // cellformat: alignhoriz\n\n   InitAttrib(\"alignhoriz\");\n   if (cell.cellformat) {\n      SetAttrib(\"alignhoriz\", sheet.cellformats[cell.cellformat]);\n      }\n\n   // layout: alignvert, padtop, padright, padbottom, padleft\n\n   InitAttribs([\"alignvert\", \"padtop\", \"padright\", \"padbottom\", \"padleft\"]);\n   if (cell.layout) {\n      parts = sheet.layouts[cell.layout].match(/^padding:\\s*(\\S+)\\s+(\\S+)\\s+(\\S+)\\s+(\\S+);vertical-align:\\s*(\\S+);/);\n      SetAttribStar(\"padtop\", parts[1]);\n      SetAttribStar(\"padright\", parts[2]);\n      SetAttribStar(\"padbottom\", parts[3]);\n      SetAttribStar(\"padleft\", parts[4]);\n      SetAttribStar(\"alignvert\", parts[5]);\n      }\n\n   // font: fontfamily, fontlook, fontsize\n\n   InitAttribs([\"fontfamily\", \"fontlook\", \"fontsize\"]);\n   if (cell.font) {\n      parts = sheet.fonts[cell.font].match(/^(\\*|\\S+? \\S+?) (\\S+?) (\\S.*)$/);\n      SetAttribStar(\"fontfamily\", parts[3]);\n      SetAttribStar(\"fontsize\", parts[2]);\n      SetAttribStar(\"fontlook\", parts[1]);\n      }\n\n   // color: textcolor\n\n   InitAttrib(\"textcolor\");\n   if (cell.color) {\n      SetAttrib(\"textcolor\", sheet.colors[cell.color]);\n      }\n\n   // bgcolor: bgcolor\n\n   InitAttrib(\"bgcolor\");\n   if (cell.bgcolor) {\n      SetAttrib(\"bgcolor\", sheet.colors[cell.bgcolor]);\n      }\n\n   // formatting: numberformat, textformat\n\n   InitAttribs([\"numberformat\", \"textformat\"]);\n   if (cell.nontextvalueformat) {\n      SetAttrib(\"numberformat\", sheet.valueformats[cell.nontextvalueformat]);\n      }\n   if (cell.textvalueformat) {\n      SetAttrib(\"textformat\", sheet.valueformats[cell.textvalueformat]);\n      }\n\n   // merges: colspan, rowspan\n\n   InitAttribs([\"colspan\", \"rowspan\"]);\n   SetAttrib(\"colspan\", cell.colspan || 1);\n   SetAttrib(\"rowspan\", cell.rowspan || 1);\n\n   // borders: bXthickness, bXstyle, bXcolor for X = t, r, b, and l\n\n   for (i=0; i<4; i++) {\n      b = \"trbl\".charAt(i);\n      bb = \"b\"+b;\n      InitAttrib(bb);\n      SetAttrib(bb, cell[bb] ? sheet.borderstyles[cell[bb]] : \"\");\n      InitAttrib(bb+\"thickness\");\n      InitAttrib(bb+\"style\");\n      InitAttrib(bb+\"color\");\n      if (cell[bb]) {\n         parts = sheet.borderstyles[cell[bb]].match(/(\\S+)\\s+(\\S+)\\s+(\\S.+)/);\n         SetAttrib(bb+\"thickness\", parts[1]);\n         SetAttrib(bb+\"style\", parts[2]);\n         SetAttrib(bb+\"color\", parts[3]);\n         }\n      }\n\n   // misc: cssc, csss, mod\n\n   InitAttribs([\"cssc\", \"csss\", \"mod\"]);\n   SetAttrib(\"cssc\", cell.cssc || \"\");\n   SetAttrib(\"csss\", cell.csss || \"\");\n   SetAttrib(\"mod\", cell.mod || \"n\");\n\n   return result;\n\n   }\n\n//\n// result = SocialCalc.EncodeSheetAttributes(sheet)\n//\n// Returns the sheet's attributes in an object, each in the following form:\n//\n//    attribname: {def: true/false, val: full-value}\n//\n\nSocialCalc.EncodeSheetAttributes = function(sheet) {\n\n   var value;\n   var attribs = sheet.attribs;\n   var result = {};\n\n   var InitAttrib = function(name) {\n      result[name] = {def: true, val: \"\"};\n      }\n\n   var InitAttribs = function(namelist) {\n      for (var i=0; i<namelist.length; i++) {\n         InitAttrib(namelist[i]);\n         }\n      }\n\n   var SetAttrib = function(name, v) {\n      result[name].def = false;\n      result[name].val = v || value;\n      }\n\n   var SetAttribStar = function(name, v) {\n      if (v==\"*\") return;\n      result[name].def = false;\n      result[name].val = v;\n      }\n\n   // sizes: colwidth, rowheight\n\n   InitAttrib(\"colwidth\");\n   if (attribs.defaultcolwidth) {\n      SetAttrib(\"colwidth\", attribs.defaultcolwidth);\n      }\n\n   InitAttrib(\"rowheight\");\n   if (attribs.rowheight) {\n      SetAttrib(\"rowheight\", attribs.defaultrowheight);\n      }\n\n   // cellformat: textalignhoriz, numberalignhoriz\n\n   InitAttrib(\"textalignhoriz\");\n   if (attribs.defaulttextformat) {\n      SetAttrib(\"textalignhoriz\", sheet.cellformats[attribs.defaulttextformat]);\n      }\n\n   InitAttrib(\"numberalignhoriz\");\n   if (attribs.defaultnontextformat) {\n      SetAttrib(\"numberalignhoriz\", sheet.cellformats[attribs.defaultnontextformat]);\n      }\n\n   // layout: alignvert, padtop, padright, padbottom, padleft\n\n   InitAttribs([\"alignvert\", \"padtop\", \"padright\", \"padbottom\", \"padleft\"]);\n   if (attribs.defaultlayout) {\n      parts = sheet.layouts[attribs.defaultlayout].match(/^padding:\\s*(\\S+)\\s+(\\S+)\\s+(\\S+)\\s+(\\S+);vertical-align:\\s*(\\S+);/);\n      SetAttribStar(\"padtop\", parts[1]);\n      SetAttribStar(\"padright\", parts[2]);\n      SetAttribStar(\"padbottom\", parts[3]);\n      SetAttribStar(\"padleft\", parts[4]);\n      SetAttribStar(\"alignvert\", parts[5]);\n      }\n\n   // font: fontfamily, fontlook, fontsize\n\n   InitAttribs([\"fontfamily\", \"fontlook\", \"fontsize\"]);\n   if (attribs.defaultfont) {\n      parts = sheet.fonts[attribs.defaultfont].match(/^(\\*|\\S+? \\S+?) (\\S+?) (\\S.*)$/);\n      SetAttribStar(\"fontfamily\", parts[3]);\n      SetAttribStar(\"fontsize\", parts[2]);\n      SetAttribStar(\"fontlook\", parts[1]);\n      }\n\n   // color: textcolor\n\n   InitAttrib(\"textcolor\");\n   if (attribs.defaultcolor) {\n      SetAttrib(\"textcolor\", sheet.colors[attribs.defaultcolor]);\n      }\n\n   // bgcolor: bgcolor\n\n   InitAttrib(\"bgcolor\");\n   if (attribs.defaultbgcolor) {\n      SetAttrib(\"bgcolor\", sheet.colors[attribs.defaultbgcolor]);\n      }\n\n   // formatting: numberformat, textformat\n\n   InitAttribs([\"numberformat\", \"textformat\"]);\n   if (attribs.defaultnontextvalueformat) {\n      SetAttrib(\"numberformat\", sheet.valueformats[attribs.defaultnontextvalueformat]);\n      }\n   if (attribs.defaulttextvalueformat) {\n      SetAttrib(\"textformat\", sheet.valueformats[attribs.defaulttextvalueformat]);\n      }\n\n   // recalc: recalc\n\n   InitAttrib(\"recalc\");\n   if (attribs.recalc) {\n      SetAttrib(\"recalc\", attribs.recalc);\n      }\n\n   // usermaxcol, usermaxrow\n   InitAttrib(\"usermaxcol\");\n   if (attribs.usermaxcol) {\n      SetAttrib(\"usermaxcol\", attribs.usermaxcol);\n      }\n   InitAttrib(\"usermaxrow\");\n   if (attribs.usermaxrow) {\n      SetAttrib(\"usermaxrow\", attribs.usermaxrow);\n      }\n\n   return result;\n\n   }\n\n//\n// cmdstr = SocialCalc.DecodeCellAttributes(sheet, coord, attribs, range)\n//\n// Takes cell attributes in an object, each in the following form:\n//\n//    attribname: {def: true/false, val: full-value}\n//\n// and returns the sheet commands to make the actual attributes correspond.\n// Returns a non-null string if any commands are to be executed, null otherwise.\n//\n// If range is provided, the commands are executed on the whole range.\n//\n\nSocialCalc.DecodeCellAttributes = function(sheet, coord, newattribs, range) {\n\n   var value, b, bb;\n\n   var cell = sheet.GetAssuredCell(coord);\n\n   var changed = false;\n\n   var CheckChanges = function(attribname, oldval, cmdname) {\n      var val;\n      if (newattribs[attribname]) {\n         if (newattribs[attribname].def) {\n            val = \"\";\n            }\n         else {\n            val = newattribs[attribname].val;\n            }\n         if (val != (oldval || \"\")) {\n            DoCmd(cmdname+\" \"+val);\n            }\n         }\n      }\n\n   var cmdstr = \"\";\n\n   var DoCmd = function(str) {\n      if (cmdstr) cmdstr += \"\\n\";\n      cmdstr += \"set \"+(range || coord)+\" \"+str;\n      changed = true;\n      }\n\n   // cellformat: alignhoriz\n\n   CheckChanges(\"alignhoriz\", sheet.cellformats[cell.cellformat], \"cellformat\");\n\n   // layout: alignvert, padtop, padright, padbottom, padleft\n\n   if (!newattribs.alignvert.def || !newattribs.padtop.def || !newattribs.padright.def ||\n       !newattribs.padbottom.def || !newattribs.padleft.def) {\n      value = \"padding:\" +\n         (newattribs.padtop.def ? \"* \" : newattribs.padtop.val + \" \") +\n         (newattribs.padright.def ? \"* \" : newattribs.padright.val + \" \") +\n         (newattribs.padbottom.def ? \"* \" : newattribs.padbottom.val + \" \") +\n         (newattribs.padleft.def ? \"*\" : newattribs.padleft.val) +\n         \";vertical-align:\" +\n         (newattribs.alignvert.def ? \"*;\" : newattribs.alignvert.val+\";\");\n      }\n   else {\n      value = \"\";\n      }\n\n   if (value != (sheet.layouts[cell.layout] || \"\")) {\n      DoCmd(\"layout \"+value);\n      }\n\n   // font: fontfamily, fontlook, fontsize\n\n   if (!newattribs.fontlook.def || !newattribs.fontsize.def || !newattribs.fontfamily.def) {\n      value =\n         (newattribs.fontlook.def ? \"* \" : newattribs.fontlook.val + \" \") +\n         (newattribs.fontsize.def ? \"* \" : newattribs.fontsize.val + \" \") +\n         (newattribs.fontfamily.def ? \"*\" : newattribs.fontfamily.val);\n      }\n   else {\n      value = \"\";\n      }\n\n   if (value != (sheet.fonts[cell.font] || \"\")) {\n      DoCmd(\"font \"+value);\n      }\n\n   // color: textcolor\n\n   CheckChanges(\"textcolor\", sheet.colors[cell.color], \"color\");\n\n   // bgcolor: bgcolor\n\n   CheckChanges(\"bgcolor\", sheet.colors[cell.bgcolor], \"bgcolor\");\n\n   // formatting: numberformat, textformat\n\n   CheckChanges(\"numberformat\", sheet.valueformats[cell.nontextvalueformat], \"nontextvalueformat\");\n\n   CheckChanges(\"textformat\", sheet.valueformats[cell.textvalueformat], \"textvalueformat\");\n\n   // merges: colspan, rowspan - NOT HANDLED: IGNORED!\n\n   // borders: bX for X = t, r, b, and l; bXthickness, bXstyle, bXcolor ignored\n\n   for (i=0; i<4; i++) {\n      b = \"trbl\".charAt(i);\n      bb = \"b\"+b;\n      CheckChanges(bb, sheet.borderstyles[cell[bb]], bb);\n      }\n\n   // misc: cssc, csss, mod\n\n   CheckChanges(\"cssc\", cell.cssc, \"cssc\");\n\n   CheckChanges(\"csss\", cell.csss, \"csss\");\n\n   if (newattribs.mod) {\n      if (newattribs.mod.def) {\n         value = \"n\";\n         }\n      else {\n         value = newattribs.mod.val;\n         }\n      if (value != (cell.mod || \"n\")) {\n         if (value==\"n\") value = \"\"; // restrict to \"y\" and \"\" normally\n         DoCmd(\"mod \"+value);\n         }\n      }\n\n   // if any changes return command(s)\n\n   if (changed) {\n       return cmdstr;\n      }\n   else {\n      return null;\n      }\n\n   }\n\n\n//\n// changed = SocialCalc.DecodeSheetAttributes(sheet, newattribs)\n//\n// Takes sheet attributes in an object, each in the following form:\n//\n//    attribname: {def: true/false, val: full-value}\n//\n// and returns the sheet commands to make the actual attributes correspond.\n// Returns a non-null string if any commands were executed, null otherwise.\n//\n\nSocialCalc.DecodeSheetAttributes = function(sheet, newattribs) {\n\n   var value;\n   var attribs = sheet.attribs;\n   var changed = false;\n\n   var CheckChanges = function(attribname, oldval, cmdname) {\n      var val;\n      if (newattribs[attribname]) {\n         if (newattribs[attribname].def) {\n            val = \"\";\n            }\n         else {\n            val = newattribs[attribname].val;\n            }\n         if (val != (oldval || \"\")) {\n            DoCmd(cmdname+\" \"+val);\n            }\n         }\n      }\n\n   var cmdstr = \"\";\n\n   var DoCmd = function(str) {\n      if (cmdstr) cmdstr += \"\\n\";\n      cmdstr += \"set sheet \"+str;\n      changed = true;\n      }\n\n   // sizes: colwidth, rowheight\n\n   CheckChanges(\"colwidth\", attribs.defaultcolwidth, \"defaultcolwidth\");\n\n   CheckChanges(\"rowheight\", attribs.defaultrowheight, \"defaultrowheight\");\n\n   // cellformat: textalignhoriz, numberalignhoriz\n\n   CheckChanges(\"textalignhoriz\", sheet.cellformats[attribs.defaulttextformat], \"defaulttextformat\");\n\n   CheckChanges(\"numberalignhoriz\", sheet.cellformats[attribs.defaultnontextformat], \"defaultnontextformat\");\n\n   // layout: alignvert, padtop, padright, padbottom, padleft\n\n   if (!newattribs.alignvert.def || !newattribs.padtop.def || !newattribs.padright.def ||\n       !newattribs.padbottom.def || !newattribs.padleft.def) {\n      value = \"padding:\" +\n         (newattribs.padtop.def ? \"* \" : newattribs.padtop.val + \" \") +\n         (newattribs.padright.def ? \"* \" : newattribs.padright.val + \" \") +\n         (newattribs.padbottom.def ? \"* \" : newattribs.padbottom.val + \" \") +\n         (newattribs.padleft.def ? \"*\" : newattribs.padleft.val) +\n         \";vertical-align:\" +\n         (newattribs.alignvert.def ? \"*;\" : newattribs.alignvert.val+\";\");\n      }\n   else {\n      value = \"\";\n      }\n\n   if (value != (sheet.layouts[attribs.defaultlayout] || \"\")) {\n      DoCmd(\"defaultlayout \"+value);\n      }\n\n   // font: fontfamily, fontlook, fontsize\n\n   if (!newattribs.fontlook.def || !newattribs.fontsize.def || !newattribs.fontfamily.def) {\n      value =\n         (newattribs.fontlook.def ? \"* \" : newattribs.fontlook.val + \" \") +\n         (newattribs.fontsize.def ? \"* \" : newattribs.fontsize.val + \" \") +\n         (newattribs.fontfamily.def ? \"*\" : newattribs.fontfamily.val);\n      }\n   else {\n      value = \"\";\n      }\n\n   if (value != (sheet.fonts[attribs.defaultfont] || \"\")) {\n      DoCmd(\"defaultfont \"+value);\n      }\n\n   // color: textcolor\n\n   CheckChanges(\"textcolor\", sheet.colors[attribs.defaultcolor], \"defaultcolor\");\n\n   // bgcolor: bgcolor\n\n   CheckChanges(\"bgcolor\", sheet.colors[attribs.defaultbgcolor], \"defaultbgcolor\");\n\n   // formatting: numberformat, textformat\n\n   CheckChanges(\"numberformat\", sheet.valueformats[attribs.defaultnontextvalueformat], \"defaultnontextvalueformat\");\n\n   CheckChanges(\"textformat\", sheet.valueformats[attribs.defaulttextvalueformat], \"defaulttextvalueformat\");\n\n   // recalc: recalc\n\n   CheckChanges(\"recalc\", sheet.attribs.recalc, \"recalc\");\n\n   // usermaxcol, usermaxrow\n\n   CheckChanges(\"usermaxcol\", sheet.attribs.usermaxcol, \"usermaxcol\");\n   CheckChanges(\"usermaxrow\", sheet.attribs.usermaxrow, \"usermaxrow\");\n\n   // if any changes return command(s)\n\n   if (changed) {\n       return cmdstr;\n      }\n   else {\n      return null;\n      }\n\n   }\n\n// *************************************\n//\n// Sheet command routines\n//\n// *************************************\n\n//\n// SocialCalc.SheetCommandInfo - object with information used during command execution\n//\n\nSocialCalc.SheetCommandInfo = function(sheetobj) {\n\n   this.sheetobj = sheetobj; // sheet being operated on\n   this.timerobj = null; // used for timeslicing\n   this.firsttimerdelay = 50; // wait before starting cmds (for Chrome - to give time to update)\n   this.timerdelay = 1; // wait between slices\n   this.maxtimeslice = 100; // do another slice after this many milliseconds\n   this.saveundo = false; // arg for ExecuteSheetCommand\n\n   this.CmdExtensionCallbacks = {}; // for startcmdextension, in form: cmdname, {func:function(cmdname, data, sheet, SocialCalc.Parse object, saveundo), data:whatever}\n\n//   statuscallback: null, // called during execution - obsolete: use sheet obj's\n//   statuscallbackparams: null\n\n   };\n\n//\n// SocialCalc.ScheduleSheetCommands\n//\n// statuscallback is called at the beginning (cmdstart) and end (cmdend).\n//\n\nSocialCalc.ScheduleSheetCommands = function(sheet, cmdstr, saveundo) {\n\n   var sci = sheet.sci;\n\n   var parseobj = new SocialCalc.Parse(cmdstr);\n\n   if (sci.sheetobj.statuscallback) { // notify others if requested\n      sheet.statuscallback(sci, \"cmdstart\", \"\", sci.sheetobj.statuscallbackparams);\n      }\n\n   if (saveundo) {\n      sci.sheetobj.changes.PushChange(\"\"); // add a step to undo stack\n      }\n\n   sci.timerobj = window.setTimeout(function() {\n      SocialCalc.SheetCommandsTimerRoutine(sci, parseobj, saveundo);\n   }, sci.firsttimerdelay);\n\n   }\n\nSocialCalc.SheetCommandsTimerRoutine = function(sci, parseobj, saveundo) {\n\n   var errortext;\n   var starttime = new Date();\n   sci.timerobj = null;\n\n   while (!parseobj.EOF()) { // go through all commands (separated by newlines)\n      try {\n        errortext = SocialCalc.ExecuteSheetCommand(sci.sheetobj, parseobj, saveundo);\n      } catch (err) {\n        errortext = err.message\n      }\n\n      // Error - Use  log on server   OR  alert on client\n      if (errortext) {\n        if (typeof(alert) == \"function\")  {\n          alert(errortext);\n        } else {\n          console.log(errortext)\n        }\n      }\n\n      parseobj.NextLine();\n\n      if (((new Date()) - starttime) >= sci.maxtimeslice) { // if taking too long, give up CPU for a while\n         sci.timerobj = window.setTimeout(function() {\n            SocialCalc.SheetCommandsTimerRoutine(sci, parseobj, saveundo);\n         }, sci.timerdelay);\n         return;\n         }\n      }\n\n   if (sci.sheetobj.statuscallback) { // notify others if requested\n      sci.sheetobj.statuscallback(sci, \"cmdend\", \"\", sci.sheetobj.statuscallbackparams);\n      }\n\n   }\n\n//\n// errortext = SocialCalc.ExecuteSheetCommand(sheet, cmd, saveundo)\n//\n// cmd is a SocialCalc.Parse object.\n//\n// Executes commands that modify the sheet data.\n// Sets sheet \"needsrecalc\" as needed.\n// Sets sheet \"changedrendervalues\" as needed.\n//\n// The cmd string may be multiple commands, separated by newlines. In that case\n// only one \"step\" is put on the undo stack representing all the commands.\n// Note that because of this, in \"set A1 text ...\" and \"set A1 comment ...\" text is\n// treated as encoded (newline => \\n, \\ => \\b, : => \\c).\n//\n// The commands are in the forms:\n//\n//    set sheet attributename value (plus lastcol and lastrow)\n//    set 22 attributename value\n//    set B attributename value\n//    set A1 attributename value1 value2... (see each attribute in code for details)\n//    set A1:B5 attributename value1 value2...\n//    erase/copy/cut/paste/fillright/filldown A1:B5 all/formulas/format\n//    loadclipboard save-encoded-clipboard-data\n//    clearclipboard\n//    merge C3:F3\n//    unmerge C3\n//    insertcol/insertrow C5\n//    deletecol/deleterow C5:E7\n//    movepaste/moveinsert A1:B5 A8 all/formulas/format (if insert, destination must be in same rows or columns or else paste done)\n//    sort cr1:cr2 col1 up/down col2 up/down col3 up/down\n//    name define NAME definition\n//    name desc NAME description\n//    name delete NAME\n//    recalc\n//    redisplay\n//    changedrendervalues\n//    startcmdextension extension rest-of-command\n//    sendemail ??? eddy ???\n//\n// If saveundo is true, then undo information is saved in sheet.changes.\n//\n\nSocialCalc.ExecuteSheetCommand = function(sheet, cmd, saveundo) {\n\n   var cmdstr, cmd1, rest, what, attrib, num, pos, pos2, errortext, undostart, val;\n   var cr1, cr2, col, row, cr, cell, newcell;\n   var fillright, rowstart, colstart, crbase, rowoffset, coloffset, basecell;\n   var clipsheet, cliprange, numcols, numrows, attribtable;\n   var colend, rowend, newcolstart, newrowstart, newcolend, newrowend, rownext, colnext, colthis, cellnext;\n   var lastrow, lastcol, rowbefore, colbefore, oldformula, oldcr;\n   var cols, dirs, lastsortcol, i, sortlist, sortcells, sortvalues, sorttypes;\n   var sortfunction, slen, valtype, originalrow, sortedcr;\n   var name, v1, v2;\n   var cmdextension;\n   var col, row, editor, undoNum, trackLine;\n\n   var attribs = sheet.attribs;\n   var changes = sheet.changes;\n   var cellProperties = SocialCalc.CellProperties;\n   var scc = SocialCalc.Constants;\n   var cellChanged = false;\n\n   var ParseRange =\n      function() {\n         var prange = SocialCalc.ParseRange(what);\n         cr1 = prange.cr1;\n         cr2 = prange.cr2;\n         if (cr2.col > attribs.lastcol) attribs.lastcol = cr2.col;\n         if (cr2.row > attribs.lastrow) attribs.lastrow = cr2.row;\n         };\n\n   errortext = \"\";\n\n   cmdstr = cmd.RestOfStringNoMove();\n   if (saveundo) {\n      sheet.changes.AddDo(cmdstr);\n      }\n\n   cmd1 = cmd.NextToken();\n   switch (cmd1) {\n\n      case \"set\":\n         what = cmd.NextToken();\n         attrib = cmd.NextToken();\n         rest = cmd.RestOfString();\n         undostart = \"set \"+what+\" \"+attrib;\n\n         if (what==\"sheet\") {\n            sheet.renderneeded = true;\n            switch (attrib) {\n               case \"defaultcolwidth\":\n                  if (saveundo) changes.AddUndo(undostart, attribs[attrib]);\n                  attribs[attrib] = rest;\n                  break;\n               case \"defaultcolor\":\n               case \"defaultbgcolor\":\n                  if (saveundo) changes.AddUndo(undostart, sheet.GetStyleString(\"color\", attribs[attrib]));\n                  attribs[attrib] = sheet.GetStyleNum(\"color\", rest);\n                  break;\n               case \"defaultlayout\":\n                  if (saveundo) changes.AddUndo(undostart, sheet.GetStyleString(\"layout\", attribs[attrib]));\n                  attribs[attrib] = sheet.GetStyleNum(\"layout\", rest);\n                  break;\n               case \"defaultfont\":\n                  if (saveundo) changes.AddUndo(undostart, sheet.GetStyleString(\"font\", attribs[attrib]));\n                  if (rest==\"* * *\") rest = \"\"; // all default\n                  attribs[attrib] = sheet.GetStyleNum(\"font\", rest);\n                  break;\n               case \"defaulttextformat\":\n               case \"defaultnontextformat\":\n                  if (saveundo) changes.AddUndo(undostart, sheet.GetStyleString(\"cellformat\", attribs[attrib]));\n                  attribs[attrib] = sheet.GetStyleNum(\"cellformat\", rest);\n                  break;\n               case \"defaulttextvalueformat\":\n               case \"defaultnontextvalueformat\":\n                  if (saveundo) changes.AddUndo(undostart, sheet.GetStyleString(\"valueformat\", attribs[attrib]));\n                  attribs[attrib] = sheet.GetStyleNum(\"valueformat\", rest);\n                  for (cr in sheet.cells) { // forget all cached display strings\n                     delete sheet.cells[cr].displaystring;\n                     }\n                  break;\n               case \"lastcol\":\n               case \"lastrow\":\n                  if (saveundo) changes.AddUndo(undostart, attribs[attrib]-0);\n                  num = rest-0;\n                  if (typeof num == \"number\") attribs[attrib] = num > 0 ? num : 1;\n                  break;\n               case \"recalc\":\n                  if (saveundo) changes.AddUndo(undostart, attribs[attrib]);\n                  if (rest == \"off\") {\n                     attribs.recalc = rest; // manual recalc, not auto\n                     }\n                  else { // all values other than \"off\" mean \"on\"\n                     delete attribs.recalc;\n                     }\n                  break;\n               case \"usermaxcol\":\n               case \"usermaxrow\":\n                  if (saveundo) changes.AddUndo(undostart, attribs[attrib]-0);\n                  num = rest-0;\n                  if (typeof num == \"number\") attribs[attrib] = num > 0 ? num : 0;\n                  break;\n               default:\n                  errortext = scc.s_escUnknownSheetCmd+cmdstr;\n                  break;\n               }\n            }\n\n         else if (/^[a-z]{1,2}(:[a-z]{1,2})?$/i.test(what)) { // col attributes\n            sheet.renderneeded = true;\n\n            what = what.toUpperCase();\n            pos = what.indexOf(\":\");\n            if (pos>=0) {\n               cr1 = SocialCalc.coordToCr(what.substring(0,pos)+\"1\");\n               cr2 = SocialCalc.coordToCr(what.substring(pos+1)+\"1\");\n               }\n            else {\n               cr1 = SocialCalc.coordToCr(what+\"1\");\n               cr2 = cr1;\n               }\n            for (col=cr1.col; col <= cr2.col; col++) {\n               if (attrib==\"width\") {\n                  cr = SocialCalc.rcColname(col);\n                  if (saveundo) changes.AddUndo(\"set \"+cr+\" width\", sheet.colattribs.width[cr]);\n                  if (rest.length > 0 ) {\n                     sheet.colattribs.width[cr] = rest;\n                     }\n                  else {\n                     delete sheet.colattribs.width[cr];\n                     }\n                  }\n               else if (attrib==\"hide\") {\n                  sheet.hiddencolrow = \"col\";\n                  cr = SocialCalc.rcColname(col);\n                  if (saveundo) changes.AddUndo(\"set \"+cr+\" hide\", sheet.colattribs.hide[cr]);\n                  if (rest.length > 0) {\n                     sheet.colattribs.hide[cr] = rest;\n                     }\n                  else {\n                     delete sheet.colattribs.hide[cr];\n                     }\n                  }\n               }\n            }\n\n         else if (/^\\d+(:\\d+)?$/i.test(what)) { // row attributes\n            sheet.renderneeded = true;\n            what = what.toUpperCase();\n            pos = what.indexOf(\":\");\n            if (pos>=0) {\n               cr1 = SocialCalc.coordToCr(\"A\"+what.substring(0,pos));\n               cr2 = SocialCalc.coordToCr(\"A\"+what.substring(pos+1));\n               }\n            else {\n               cr1 = SocialCalc.coordToCr(\"A\"+what);\n               cr2 = cr1;\n               }\n            for (row=cr1.row; row <= cr2.row; row++) {\n               if (attrib==\"height\") {\n                  if (saveundo) changes.AddUndo(\"set \"+row+\" height\", sheet.rowattribs.height[row]);\n                  if (rest.length > 0 ) {\n                     sheet.rowattribs.height[row] = rest;\n                     }\n                  else {\n                     delete sheet.rowattribs.height[row];\n                     }\n                  }\n               else if (attrib==\"hide\") {\n                  sheet.hiddencolrow = \"row\";\n                  if (saveundo) changes.AddUndo(\"set \"+row+\" hide\", sheet.rowattribs.hide[row]);\n                  if (rest.length > 0) {\n                     sheet.rowattribs.hide[row] = rest;\n                     }\n                  else {\n                     delete sheet.rowattribs.hide[row];\n                     }\n                  }\n               }\n            }\n\n         else if (/^[a-z]{1,2}\\d+(:[a-z]{1,2}\\d+)?$/i.test(what)) { // cell attributes\n           cellChanged = true;\n            ParseRange();\n            if (cr1.row!=cr2.row || cr1.col!=cr2.col || sheet.celldisplayneeded || sheet.renderneeded) { // not one cell\n               sheet.renderneeded = true;\n               sheet.celldisplayneeded = \"\";\n               }\n            else {\n               sheet.celldisplayneeded = SocialCalc.crToCoord(cr1.col, cr1.row);\n               }\n            for (row=cr1.row; row <= cr2.row; row++) {\n               for (col=cr1.col; col <= cr2.col; col++) {\n                  cr = SocialCalc.crToCoord(col, row);\n                  cell=sheet.GetAssuredCell(cr);\n                  if (cell.readonly && attrib!=\"readonly\") continue;\n                  if (saveundo) changes.AddUndo(\"set \"+cr+\" all\", sheet.CellToString(cell));\n                  if (attrib==\"value\") { // set coord value type numeric-value\n                     pos = rest.indexOf(\" \");\n                     cell.datavalue = rest.substring(pos+1)-0;\n                     delete cell.errors;\n                     cell.datatype = \"v\";\n                     cell.valuetype = rest.substring(0,pos);\n                     delete cell.displaystring;\n                     delete cell.parseinfo;\n                     attribs.needsrecalc = \"yes\";\n                     }\n                  else if (attrib==\"text\") { // set coord text type text-value\n                     pos = rest.indexOf(\" \");\n                     cell.datavalue = SocialCalc.decodeFromSave(rest.substring(pos+1));\n                     delete cell.errors;\n                     cell.datatype = \"t\";\n                     cell.valuetype = rest.substring(0,pos);\n                     delete cell.displaystring;\n                     delete cell.parseinfo;\n                     attribs.needsrecalc = \"yes\";\n                     }\n                  else if (attrib==\"formula\") { // set coord formula formula-body-less-initial-=\n                     cell.datavalue = 0; // until recalc\n                     delete cell.errors;\n                     cell.datatype = \"f\";\n                     if(SocialCalc._app && cell.valuetype != \"e#N/A\") cell.prevvaluetype = cell.valuetype;  // repaint when widgets added/removed\n                     cell.valuetype = \"e#N/A\"; // until recalc\n                     cell.formula = rest;\n                     delete cell.displaystring;\n                     delete cell.parseinfo;\n                     attribs.needsrecalc = \"yes\";\n                     }\n                  else if (attrib==\"constant\") { // set coord constant type numeric-value source-text\n                     pos = rest.indexOf(\" \");\n                     pos2 = rest.substring(pos+1).indexOf(\" \");\n                     cell.datavalue = rest.substring(pos+1,pos+1+pos2)-0;\n                     cell.valuetype = rest.substring(0,pos);\n                     if (cell.valuetype.charAt(0)==\"e\") { // error\n                        cell.errors = cell.valuetype.substring(1);\n                        }\n                     else {\n                        delete cell.errors;\n                        }\n                     cell.datatype = \"c\";\n                     cell.formula = rest.substring(pos+pos2+2);\n                     delete cell.displaystring;\n                     delete cell.parseinfo;\n                     attribs.needsrecalc = \"yes\";\n                     }\n                  else if (attrib==\"empty\") { // erase value\n                     cell.datavalue = \"\";\n                     delete cell.errors;\n                     cell.datatype = null;\n                     cell.formula = \"\";\n                     cell.valuetype = \"b\";\n                     delete cell.displaystring;\n                     delete cell.parseinfo;\n                     attribs.needsrecalc = \"yes\";\n                     }\n                  else if (attrib==\"all\") { // set coord all :this:val1:that:val2...\n                     if (rest.length>0) {\n                        cell = new SocialCalc.Cell(cr);\n                        sheet.CellFromStringParts(cell, rest.split(\":\"), 1);\n                        sheet.cells[cr] = cell;\n                        }\n                     else {\n                        delete sheet.cells[cr];\n                        }\n                     attribs.needsrecalc = \"yes\";\n                     }\n                  else if (/^b[trbl]$/.test(attrib)) { // set coord bt 1px solid black\n                     cell[attrib] = sheet.GetStyleNum(\"borderstyle\", rest);\n                     sheet.renderneeded = true; // affects more than just one cell\n                     }\n                  else if (attrib==\"color\" || attrib==\"bgcolor\") {\n                     cell[attrib] = sheet.GetStyleNum(\"color\", rest);\n                     }\n                  else if (attrib==\"layout\" || attrib==\"cellformat\") {\n                     cell[attrib] = sheet.GetStyleNum(attrib, rest);\n                     }\n                  else if (attrib==\"font\") { // set coord font style weight size family\n                     if (rest==\"* * *\") rest = \"\";\n                     cell[attrib] = sheet.GetStyleNum(\"font\", rest);\n                     }\n                  else if (attrib==\"textvalueformat\" || attrib==\"nontextvalueformat\") {\n                     cell[attrib] = sheet.GetStyleNum(\"valueformat\", rest);\n                     delete cell.displaystring;\n                     }\n                  else if (attrib==\"cssc\") {\n                     rest = rest.replace(/[^a-zA-Z0-9\\-]/g, \"\");\n                     cell.cssc = rest;\n                     }\n                  else if (attrib==\"csss\") {\n                     rest = rest.replace(/\\n/g, \"\");\n                     cell.csss = rest;\n                     }\n                  else if (attrib==\"mod\") {\n                     rest = rest.replace(/[^yY]/g, \"\").toLowerCase();\n                     cell.mod = rest;\n                     }\n                  else if (attrib==\"comment\") {\n                     cell.comment = SocialCalc.decodeFromSave(rest);\n                     }\n                  else if (attrib==\"readonly\") {\n                     cell.readonly = rest.toLowerCase()==\"yes\";\n                     }\n                  else {\n                     errortext = scc.s_escUnknownSetCoordCmd+cmdstr;\n                     }\n                  }\n               }\n\n            }\n         break;\n\n      case \"merge\":\n         sheet.renderneeded = true;\n         what = cmd.NextToken();\n         rest = cmd.RestOfString();\n         ParseRange();\n         cell=sheet.GetAssuredCell(cr1.coord);\n         if (cell.readonly) break;\n\n         // check whether merged cells other than cr1 contain data and clear them\n         for (row=cr1.row; row <= cr2.row; row++) {\n            for (col=cr1.col; col <= cr2.col; col++) {\n               if (!(row == cr1.row && col == cr1.col)){ // skip top left cell\n                   quashedCellCoord = SocialCalc.crToCoord(col, row);\n                   quashedCell = sheet.GetAssuredCell(quashedCellCoord);\n                   // save quashed cell value for undo\n                   if (saveundo) changes.AddUndo(\"set \"+quashedCellCoord+\" all\", sheet.CellToString(quashedCell));\n                   delete sheet.cells[quashedCellCoord]; // delete cell\n               }\n            }\n         }\n\n\n         if (saveundo) changes.AddUndo(\"unmerge \"+cr1.coord);\n\n         if (cr2.col > cr1.col) cell.colspan = cr2.col - cr1.col + 1;\n         else delete cell.colspan;\n         if (cr2.row > cr1.row) cell.rowspan = cr2.row - cr1.row + 1;\n         else delete cell.rowspan;\n\n         sheet.changedrendervalues = true;\n\n         break;\n\n      case \"unmerge\":\n         sheet.renderneeded = true;\n         what = cmd.NextToken();\n         rest = cmd.RestOfString();\n         ParseRange();\n         cell=sheet.GetAssuredCell(cr1.coord);\n         if (cell.readonly) break;\n         if (saveundo) changes.AddUndo(\"merge \"+cr1.coord+\":\"+SocialCalc.crToCoord(cr1.col+(cell.colspan||1)-1, cr1.row+(cell.rowspan||1)-1));\n\n         delete cell.colspan;\n         delete cell.rowspan;\n\n         sheet.changedrendervalues = true;\n\n         break;\n\n      case \"erase\":\n      case \"cut\":\n         sheet.renderneeded = true;\n         sheet.changedrendervalues = true;\n         what = cmd.NextToken();\n         rest = cmd.RestOfString();\n         ParseRange();\n\n         if (saveundo) changes.AddUndo(\"changedrendervalues\"); // to take care of undone pasted spans\n         if (cmd1==\"cut\") { // save copy of whole thing before erasing\n            if (saveundo) changes.AddUndo(\"loadclipboard\", SocialCalc.encodeForSave(SocialCalc.Clipboard.clipboard));\n            SocialCalc.Clipboard.clipboard = SocialCalc.CreateSheetSave(sheet, what);\n            }\n\n         for (row = cr1.row; row <= cr2.row; row++) {\n            for (col = cr1.col; col <= cr2.col; col++) {\n               cr = SocialCalc.crToCoord(col, row);\n               cell=sheet.GetAssuredCell(cr);\n               if (cell.readonly) continue;\n               if (saveundo) changes.AddUndo(\"set \"+cr+\" all\", sheet.CellToString(cell));\n               if (rest==\"all\") {\n                  delete sheet.cells[cr];\n                  }\n               else if (rest == \"formulas\") {\n                  cell.datavalue = \"\";\n                  cell.datatype = null;\n                  cell.formula = \"\";\n                  cell.valuetype = \"b\";\n                  delete cell.errors;\n                  delete cell.displaystring;\n                  delete cell.parseinfo;\n                  if (cell.comment) { // comments are considered content for erasing\n                     delete cell.comment;\n                     }\n                  }\n               else if (rest == \"formats\") {\n                  newcell = new SocialCalc.Cell(cr); // create a new cell without attributes\n                  newcell.datavalue = cell.datavalue; // copy existing values\n                  newcell.datatype = cell.datatype;\n                  newcell.formula = cell.formula;\n                  newcell.valuetype = cell.valuetype;\n                  if (cell.comment) {\n                     newcell.comment = cell.comment;\n                     }\n                  sheet.cells[cr] = newcell; // replace\n                  }\n               }\n            }\n         attribs.needsrecalc = \"yes\";\n         break;\n\n      case \"fillright\":\n      case \"filldown\":\n         sheet.renderneeded = true;\n         sheet.changedrendervalues = true;\n         if (saveundo) changes.AddUndo(\"changedrendervalues\"); // to take care of undone pasted spans\n         what = cmd.NextToken();\n         rest = cmd.RestOfString();\n         ParseRange();\n         function increment_amount(down) {\n            function valid_datatype(type) {\n\t\treturn type == \"v\" || type == \"c\";\n            }\n            var editor = SocialCalc.GetSpreadsheetControlObject().editor;\n            var range = editor.range2;\n            var returnval = undefined;\n            if (range.hasrange) {\n                var startcell, endcell;\n                if (down && (range.bottom - range.top == 1) && range.left == range.right) {\n                  startcell = sheet.GetAssuredCell(SocialCalc.crToCoord(range.left, range.top));\n                  endcell = sheet.GetAssuredCell(SocialCalc.crToCoord(range.left, range.bottom));\n                  if (valid_datatype(startcell.datatype) && valid_datatype(endcell.datatype)) {\n                      returnval =  endcell.datavalue - startcell.datavalue;\n                  }\n                } else if (!down && range.left != range.right) {\n                  startcell = sheet.GetAssuredCell(SocialCalc.crToCoord(range.left, range.top));\n                  endcell = sheet.GetAssuredCell(SocialCalc.crToCoord(range.right, range.top));\n                  if (valid_datatype(startcell.datatype) && valid_datatype(endcell.datatype)) {\n                      returnval =  endcell.datavalue - startcell.datavalue;\n\t\t  }\n                }\n            }\n           editor.Range2Remove();\n           return returnval;\n         }\n\t var inc;\n         if (cmd1 == \"fillright\") {\n            fillright = true;\n            rowstart = cr1.row;\n            colstart = cr1.col + 1;\n\t    inc = increment_amount(false);\n            }\n         else {\n            fillright = false;\n            rowstart = cr1.row + 1;\n            colstart = cr1.col;\n\t    inc = increment_amount(true);\n            }\n         for (row = rowstart; row <= cr2.row; row++) {\n            for (col = colstart; col <= cr2.col; col++) {\n               cr = SocialCalc.crToCoord(col, row);\n               cell=sheet.GetAssuredCell(cr);\n               if (cell.readonly) continue;\n               if (saveundo) changes.AddUndo(\"set \"+cr+\" all\", sheet.CellToString(cell));\n               if (fillright) {\n                  crbase = SocialCalc.crToCoord(cr1.col, row);\n                  coloffset = col - colstart + 1;\n                  rowoffset = 0;\n                  }\n               else {\n                  crbase = SocialCalc.crToCoord(col, cr1.row);\n                  coloffset = 0;\n                  rowoffset = row - rowstart + 1;\n                  }\n               basecell = sheet.GetAssuredCell(crbase);\n               if (rest == \"all\" || rest == \"formats\") {\n                  for (attrib in cellProperties) {\n                     if (cellProperties[attrib] == 1) continue; // copy only format attributes\n                     if (typeof basecell[attrib] === undefined || cellProperties[attrib] == 3) {\n                        delete cell[attrib];\n                        }\n                     else {\n                        cell[attrib] = basecell[attrib];\n                        }\n                     }\n                  }\n               if (rest == \"all\" || rest == \"formulas\") {\n                  if (inc !== undefined) {\n                      cell.datavalue = basecell.datavalue + (fillright ? coloffset : rowoffset)*inc;\n                  } else {\n                      cell.datavalue = basecell.datavalue;\n                  }\n                  cell.datatype = basecell.datatype;\n                  cell.valuetype = basecell.valuetype;\n                  if (cell.datatype == \"f\") { // offset relative coords, even in sheet references\n                     cell.formula = SocialCalc.OffsetFormulaCoords(basecell.formula, coloffset, rowoffset);\n                     }\n                  else {\n                     cell.formula = basecell.formula;\n                     }\n                  delete cell.parseinfo;\n                  cell.errors = basecell.errors;\n                  }\n               delete cell.displaystring;\n               }\n            }\n\n         attribs.needsrecalc = \"yes\";\n         break;\n\n      case \"copy\":\n         what = cmd.NextToken();\n         rest = cmd.RestOfString();\n         if (saveundo) changes.AddUndo(\"loadclipboard\", SocialCalc.encodeForSave(SocialCalc.Clipboard.clipboard));\n         SocialCalc.Clipboard.clipboard = SocialCalc.CreateSheetSave(sheet, what);\n         break;\n\n      case \"loadclipboard\":\n         rest = cmd.RestOfString();\n         if (saveundo) changes.AddUndo(\"loadclipboard\", SocialCalc.encodeForSave(SocialCalc.Clipboard.clipboard));\n         SocialCalc.Clipboard.clipboard = SocialCalc.decodeFromSave(rest);\n         break;\n\n      case \"clearclipboard\":\n         if (saveundo) changes.AddUndo(\"loadclipboard\", SocialCalc.encodeForSave(SocialCalc.Clipboard.clipboard));\n         SocialCalc.Clipboard.clipboard = \"\";\n         break;\n\n      case \"paste\":\n         sheet.renderneeded = true;\n         sheet.changedrendervalues = true;\n         if (saveundo) changes.AddUndo(\"changedrendervalues\"); // to take care of undone pasted spans\n         what = cmd.NextToken();\n         rest = cmd.RestOfString();\n         ParseRange();\n         if (!SocialCalc.Clipboard.clipboard) {\n            break;\n            }\n         clipsheet = new SocialCalc.Sheet(); // load clipboard contents as another sheet\n         clipsheet.ParseSheetSave(SocialCalc.Clipboard.clipboard);\n         cliprange = SocialCalc.ParseRange(clipsheet.copiedfrom);\n         numcols = Math.max(cr2.col - cr1.col + 1, cliprange.cr2.col - cliprange.cr1.col + 1);\n         numrows = Math.max(cr2.row - cr1.row + 1, cliprange.cr2.row - cliprange.cr1.row + 1);\n         if (cr1.col+numcols-1 > attribs.lastcol) attribs.lastcol = cr1.col+numcols-1;\n         if (cr1.row+numrows-1 > attribs.lastrow) attribs.lastrow = cr1.row+numrows-1;\n\n         for (row = cr1.row; row < cr1.row+numrows; row++) {\n            for (col = cr1.col; col < cr1.col+numcols; col++) {\n               cr = SocialCalc.crToCoord(col, row);\n               cell=sheet.GetAssuredCell(cr);\n               if (cell.readonly) continue;\n               if (saveundo) changes.AddUndo(\"set \"+cr+\" all\", sheet.CellToString(cell));\n               var currentClipCol = cliprange.cr1.col + ((col-cr1.col) % (cliprange.cr2.col - cliprange.cr1.col + 1)); \n               var currentClipRow = cliprange.cr1.row + ((row-cr1.row) % (cliprange.cr2.row - cliprange.cr1.row + 1));\n               crbase = SocialCalc.crToCoord(currentClipCol, currentClipRow);\n               basecell = clipsheet.GetAssuredCell(crbase);\n               if (rest == \"all\" || rest == \"formats\") {\n                 // get source width and hidden attribute\n                 // and copy to sheet\n                 if(row == cr1.row) { // only need 1st row of cols\n                   // col attributes\n                   sourceColname = SocialCalc.rcColname(cliprange.cr1.col + ((col-cr1.col) % (cliprange.cr2.col - cliprange.cr1.col + 1)));\n                   colWidth = clipsheet.colattribs.width[ sourceColname];\n                   colHide = clipsheet.colattribs.hide[sourceColname];\n                   if (colWidth != null) {\n                     // if source col width exists\n                     // set dest col width\n                     sheet.colattribs.width[SocialCalc.rcColname(col)] = colWidth;\n                     }\n                   if (colHide != null) {\n                     // if source col is hidden\n                     // set dest col hidden\n                     sheet.colattribs.hide[SocialCalc.rcColname(col)] = colHide;\n                     }\n                   }\n                 if(col == cr1.col) {  // only need 1st col or rows\n                   // row attributes\n                   sourceRow = cliprange.cr1.row + ((row-cr1.row) % (cliprange.cr2.row - cliprange.cr1.row + 1));\n                   rowHide = clipsheet.rowattribs.hide[sourceRow];\n                   if (rowHide != null) {\n                     // if source row is hidden\n                     // set dest row hidden\n                     sheet.rowattribs.hide[row] = rowHide;\n                     }\n                 }\n\n                 for (attrib in cellProperties) {\n                     if (cellProperties[attrib] == 1) continue; // copy only format attributes\n                     if (typeof basecell[attrib] === undefined || cellProperties[attrib] == 3) {\n                        delete cell[attrib];\n                        }\n                     else {\n                        attribtable = SocialCalc.CellPropertiesTable[attrib];\n                        if (attribtable && basecell[attrib]) { // table indexes to expand to strings since other sheet may have diff indexes\n                           cell[attrib] = sheet.GetStyleNum(attribtable, clipsheet.GetStyleString(attribtable, basecell[attrib]));\n                           }\n                        else { // these are not table indexes\n                           cell[attrib] = basecell[attrib];\n                           }\n                        }\n                     }\n                  }\n               if (rest == \"all\" || rest == \"formulas\") {\n                  cell.datavalue = basecell.datavalue;\n                  cell.datatype = basecell.datatype;\n                  cell.valuetype = basecell.valuetype;\n                  if (cell.datatype == \"f\") { // offset relative coords, even in sheet references\n                     cell.formula = SocialCalc.OffsetFormulaCoords(basecell.formula, col - currentClipCol, row - currentClipRow);\n                     }\n                  else {\n                     cell.formula = basecell.formula;\n                     }\n                  delete cell.parseinfo;\n                  cell.errors = basecell.errors;\n                  if (basecell.comment) { // comments are pasted as part of content, though not filled, etc.\n                     cell.comment = basecell.comment;\n                     }\n                  else if (cell.comment) {\n                     delete cell.comment;\n                     }\n                  }\n               delete cell.displaystring;\n               }\n            }\n\n         attribs.needsrecalc = \"yes\";\n         break;\n\n      case \"sort\": // sort cr1:cr2 col1 up/down col2 up/down col3 up/down\n         sheet.renderneeded = true;\n         sheet.changedrendervalues = true;\n         if (saveundo) changes.AddUndo(\"changedrendervalues\"); // to take care of undone pasted spans\n         what = cmd.NextToken();\n         ParseRange();\n         cols = []; // get columns and sort directions (or \"\")\n         dirs = [];\n         lastsortcol = 0;\n         for (i=0; i<=3; i++) {\n            cols[i] = cmd.NextToken();\n            dirs[i] = cmd.NextToken();\n            if (cols[i]) lastsortcol = i;\n            }\n\n         sortcells = {}; // a copy of the data which will replace the original, but in the new order\n         sortlist = []; // an array of 0, 1, ..., nrows-1 needed for sorting\n         sortvalues = []; // values to be sorted corresponding to sortlist\n         sorttypes = []; // basic types of the values\n\n         for (row = cr1.row; row <= cr2.row; row++) { // fill in the sort info\n            for (col = cr1.col; col <= cr2.col; col++) {\n               cr = SocialCalc.crToCoord(col, row);\n               cell=sheet.cells[cr];\n               if (cell) { // only copy non-empty cells\n                  sortcells[cr] = sheet.CellToString(cell);\n                  if (saveundo) changes.AddUndo(\"set \"+cr+\" all\", sortcells[cr]);\n                  }\n               else {\n                  if (saveundo) changes.AddUndo(\"set \"+cr+\" all\");\n                  }\n               }\n            sortlist.push(sortlist.length);\n            sortvalues.push([]);\n            sorttypes.push([]);\n            slast = sorttypes.length-1;\n            for (i = 0; i <= lastsortcol; i++) {\n               cr = cols[i] + row; // get cr on this row in sort col\n               cell = sheet.GetAssuredCell(cr);\n               val = cell.datavalue;\n               valtype = cell.valuetype.charAt(0) || \"b\";\n               if (valtype == \"t\") val = val.toLowerCase();\n               sortvalues[slast].push(val);\n               sorttypes[slast].push(valtype);\n               }\n            }\n\n         sortfunction = function(a, b) { // a comparison function that can handle all the type variations\n            var i, a1, b1, ta, cresult;\n            for (i=0; i<=lastsortcol; i++) {\n               if (dirs[i] == \"up\") { // handle sort direction\n                  a1 = a; b1 = b;\n                  }\n               else {\n                  a1 = b; b1 = a;\n                  }\n               ta = sorttypes[a1][i];\n               tb = sorttypes[b1][i];\n               if (ta == \"t\") { // numbers < text < errors, blank always last no matter what dir\n                  if (tb == \"t\") {\n                     a1 = sortvalues[a1][i];\n                     b1 = sortvalues[b1][i];\n                     cresult = a1 > b1 ? 1 : (a1 < b1 ? -1 : 0);\n                     }\n                  else if (tb == \"n\") {\n                     cresult = 1;\n                     }\n                  else if (tb == \"b\") {\n                     cresult = dirs[i] == \"up\" ? -1 : 1;\n                     }\n                  else if (tb == \"e\") {\n                     cresult = -1;\n                     }\n                  }\n               else if (ta == \"n\") {\n                  if (tb == \"t\") {\n                     cresult = -1;\n                     }\n                  else if (tb == \"n\") {\n                     a1 = sortvalues[a1][i]-0; // force to numeric, just in case\n                     b1 = sortvalues[b1][i]-0;\n                     cresult = a1 > b1 ? 1 : (a1 < b1 ? -1 : 0);\n                     }\n                  else if (tb == \"b\") {\n                     cresult = dirs[i] == \"up\" ? -1 : 1;\n                     }\n                  else if (tb == \"e\") {\n                     cresult = -1;\n                     }\n                  }\n               else if (ta == \"e\") {\n                  if (tb == \"e\") {\n                     a1 = sortvalues[a1][i];\n                     b1 = sortvalues[b1][i];\n                     cresult = a1 > b1 ? 1 : (a1 < b1 ? -1 : 0);\n                     }\n                  else if (tb == \"b\") {\n                     cresult = dirs[i] == \"up\" ? -1 : 1;\n                     }\n                  else {\n                     cresult = 1;\n                     }\n                  }\n               else if (ta == \"b\") {\n                  if (tb == \"b\") {\n                     cresult = 0;\n                     }\n                  else {\n                     cresult = dirs[i] == \"up\" ? 1 : -1;\n                     }\n                  }\n               if (cresult) { // return if tested not equal, otherwise do next column\n                  return cresult;\n                  }\n               }\n            cresult = a > b ? 1 : (a < b ? -1 : 0); // equal - return position in original to maintain it\n            return cresult;\n            }\n\n         sortlist.sort(sortfunction);\n\n         for (row = cr1.row; row <= cr2.row; row++) { // copy original rows into sorted positions\n            originalrow = sortlist[row-cr1.row]; // relative position where it was in original\n            for (col = cr1.col; col <= cr2.col; col++) {\n               cr = SocialCalc.crToCoord(col, row);\n               sortedcr = SocialCalc.crToCoord(col, originalrow+cr1.row); // original cell to be put in new place\n               if (sortcells[sortedcr]) {\n                  cell = new SocialCalc.Cell(cr);\n                  sheet.CellFromStringParts(cell, sortcells[sortedcr].split(\":\"), 1);\n                  if (cell.datatype == \"f\") { // offset coord refs, even to ***relative*** coords in other sheets\n                     cell.formula = SocialCalc.OffsetFormulaCoords(cell.formula, 0, (row-cr1.row)-originalrow);\n                     }\n                  sheet.cells[cr] = cell;\n                  }\n               else {\n                  delete sheet.cells[cr];\n                  }\n               }\n            }\n\n         attribs.needsrecalc = \"yes\";\n         break;\n\n      case \"insertcol\":\n      case \"insertrow\":\n         sheet.renderneeded = true;\n         sheet.changedrendervalues = true;\n         sheet.widgetsClean = false; //  force widgets to repaint - update cell reference in widget HTML\n         what = cmd.NextToken();\n         rest = cmd.RestOfString();\n         ParseRange();\n\n         if (cmd1 == \"insertcol\") {\n            coloffset = 1;\n            colend = cr1.col;\n            rowoffset = 0;\n            rowend = 1;\n            newcolstart = cr1.col;\n            newcolend = cr1.col;\n            newrowstart = 1;\n            newrowend = attribs.lastrow;\n            if (saveundo) changes.AddUndo(\"deletecol \"+cr1.coord);\n            }\n         else {\n            coloffset = 0;\n            colend = 1;\n            rowoffset = 1;\n            rowend = cr1.row;\n            newcolstart = 1;\n            newcolend = attribs.lastcol;\n            newrowstart = cr1.row;\n            newrowend = cr1.row;\n            if (saveundo) changes.AddUndo(\"deleterow \"+cr1.coord);\n            }\n\n         for (row=attribs.lastrow; row >= rowend; row--) { // copy the cells forward\n            for (col=attribs.lastcol; col >= colend; col--) {\n               crbase = SocialCalc.crToCoord(col, row);\n               cr = SocialCalc.crToCoord(col+coloffset, row+rowoffset);\n               if (!sheet.cells[crbase]) { // copying empty cell\n                  delete sheet.cells[cr]; // delete anything that may have been there\n                  }\n               else { // overwrite existing cell with moved contents\n                  sheet.cells[cr] = sheet.cells[crbase];\n                  }\n               }\n            }\n\n         for (row=newrowstart; row <= newrowend; row++) { // fill the \"new\" empty cells\n            for (col=newcolstart; col <= newcolend; col++) {\n               cr = SocialCalc.crToCoord(col, row);\n               cell = new SocialCalc.Cell(cr);\n               sheet.cells[cr] = cell;\n               crbase = SocialCalc.crToCoord(col-coloffset, row-rowoffset); // copy attribs of the one before (0 gives you A or 1)\n               basecell = sheet.GetAssuredCell(crbase);\n               for (attrib in cellProperties) {\n                  if (cellProperties[attrib] == 2) { // copy only format attributes\n                     cell[attrib] = basecell[attrib];\n                     }\n                  }\n               }\n            }\n\n         for (cr in sheet.cells) { // update cell references to moved cells in calculated formulas\n             cell = sheet.cells[cr];\n             if (cell && cell.datatype == \"f\") {\n                cell.formula = SocialCalc.AdjustFormulaCoords(cell.formula, cr1.col, coloffset, cr1.row, rowoffset);\n                }\n             if (cell) {\n                delete cell.parseinfo;\n                }\n             }\n\n         for (name in sheet.names) { // update cell references to moved cells in names\n            if (sheet.names[name]) { // works with \"A1\", \"A1:A20\", and \"=formula\" forms\n               v1 = sheet.names[name].definition;\n               v2 = \"\";\n               if (v1.charAt(0) == \"=\") {\n                  v2 = \"=\";\n                  v1 = v1.substring(1);\n                  }\n               sheet.names[name].definition = v2 +\n                  SocialCalc.AdjustFormulaCoords(v1, cr1.col, coloffset, cr1.row, rowoffset);\n               }\n            }\n\n         for (row = attribs.lastrow; row >= rowend && cmd1 == \"insertrow\"; row--) { // copy the row attributes forward\n            rownext = row + rowoffset;\n            for (attrib in sheet.rowattribs) {\n               val = sheet.rowattribs[attrib][row];\n               if (sheet.rowattribs[attrib][rownext] != val) { // make assignment only if different\n                  if (val) {\n                     sheet.rowattribs[attrib][rownext] = val;\n                     }\n                  else {\n                     delete sheet.rowattribs[attrib][rownext];\n                     }\n                  }\n               }\n            }\n\n         for (col = attribs.lastcol; col >= colend && cmd1 == \"insertcol\"; col--) { // copy the column attributes forward\n            colthis = SocialCalc.rcColname(col);\n            colnext = SocialCalc.rcColname(col + coloffset);\n            for (attrib in sheet.colattribs) {\n               val = sheet.colattribs[attrib][colthis];\n               if (sheet.colattribs[attrib][colnext] != val) { // make assignment only if different\n                  if (val) {\n                     sheet.colattribs[attrib][colnext] = val;\n                     }\n                  else {\n                     delete sheet.colattribs[attrib][colnext];\n                     }\n                  }\n               }\n            }\n\n         // Expand merged cells if the new row/col is in between\n\n         var tempRenderContext = new SocialCalc.RenderContext(sheet)\n         tempRenderContext.CalculateCellSkipData()\n\n         var cellsToExpand = {} // Keep track of all merge spans we've expanded\n                                // so we don't expand one twice\n         for (var skipCell in tempRenderContext.cellskip) {\n             var skipCellCR = SocialCalc.coordToCr(skipCell)\n               , mergerCellCoords = tempRenderContext.cellskip[skipCell]\n             // for insertcol we check if the newly inserted col has\n             // has any spans. This can only mean, that those cells\n             // are part of a row span\n             if (cmd1 === \"insertcol\" && skipCellCR.col === newcolstart) {\n                if (!cellsToExpand[mergerCellCoords]) {\n                    sheet.GetAssuredCell(mergerCellCoords).colspan += coloffset\n                    }\n                cellsToExpand[mergerCellCoords] = true\n                }\n             // for insertrow it's the same method\n             if (cmd1 === \"insertrow\" && skipCellCR.row === newrowstart) {\n                if (!cellsToExpand[mergerCellCoords]) {\n                    sheet.GetAssuredCell(mergerCellCoords).rowspan += rowoffset\n                    }\n                cellsToExpand[mergerCellCoords] = true\n                }\n            }\n\n         attribs.lastcol += coloffset;\n         attribs.lastrow += rowoffset;\n         attribs.needsrecalc = \"yes\";\n         break;\n\n      case \"deletecol\":\n      case \"deleterow\":\n         sheet.renderneeded = true;\n         sheet.changedrendervalues = true;\n         sheet.widgetsClean = false; // update cell reference in widget HTML - force widgets to repaint\n         what = cmd.NextToken();\n         rest = cmd.RestOfString();\n         lastcol = attribs.lastcol; // save old values since ParseRange sets...\n         lastrow = attribs.lastrow;\n         ParseRange();\n\n         if (cmd1 == \"deletecol\") {\n            coloffset = cr1.col - cr2.col - 1;\n            rowoffset = 0;\n            colstart = cr2.col + 1;\n            rowstart = 1;\n            }\n         else {\n            coloffset = 0;\n            rowoffset = cr1.row - cr2.row - 1;\n            colstart = 1;\n            rowstart = cr2.row + 1;\n            }\n\n         for (row=rowstart; row <= lastrow - rowoffset; row++) { // check for readonly cells\n            for (col=colstart; col <= lastcol - coloffset; col++) {\n               cr = SocialCalc.crToCoord(col+coloffset, row+rowoffset);\n               cell = sheet.cells[cr];\n               if (cell && cell.readonly) {\n                    errortext = \"Unable to remove \" + (cmd1 == \"deletecol\" ? \"column\" : \"row\") + \", because cell \" + cell.coord + \" is locked\";\n                    return errortext;\n               }\n            }\n         }\n\n         for (row=rowstart; row <= lastrow - rowoffset; row++) { // copy the cells backwards - extra so no dup of last set\n            for (col=colstart; col <= lastcol - coloffset; col++) {\n               cr = SocialCalc.crToCoord(col+coloffset, row+rowoffset);\n               if (saveundo && (row<rowstart-rowoffset || col<colstart\t-coloffset)) { // save cells that are overwritten as undo info\n                  cell = sheet.cells[cr];\n                  if (!cell) { // empty cell\n                     changes.AddUndo(\"erase \"+cr+\" all\");\n                     }\n                  else {\n                     changes.AddUndo(\"set \"+cr+\" all\", sheet.CellToString(cell));\n                     }\n                  }\n               crbase = SocialCalc.crToCoord(col, row);\n               cell = sheet.cells[crbase];\n               if (!cell) { // copying empty cell\n                  delete sheet.cells[cr]; // delete anything that may have been there\n                  }\n               else { // overwrite existing cell with moved contents\n                  sheet.cells[cr] = cell;\n                  }\n               }\n            }\n\n//!!! multiple deletes isn't setting #REF!; need to fix up #REF!'s on undo but only those!\n\n         for (cr in sheet.cells) { // update cell references to moved cells in calculated formulas\n             cell = sheet.cells[cr];\n             if (cell) {\n                if (cell.datatype == \"f\") {\n                   oldformula = cell.formula;\n                   cell.formula = SocialCalc.AdjustFormulaCoords(oldformula, cr1.col, coloffset, cr1.row, rowoffset);\n                   if (cell.formula != oldformula) {\n                      delete cell.parseinfo;\n                      if (saveundo && cell.formula.indexOf(\"#REF!\")!=-1) { // save old version only if removed coord\n                         oldcr = SocialCalc.coordToCr(cr);\n                         changes.AddUndo(\"set \"+SocialCalc.rcColname(oldcr.col-coloffset)+(oldcr.row-rowoffset)+\n                                         \" formula \"+oldformula);\n                         }\n                      }\n                   }\n                else {\n                   delete cell.parseinfo;\n                   }\n                }\n             }\n\n         for (name in sheet.names) { // update cell references to moved cells in names\n            if (sheet.names[name]) { // works with \"A1\", \"A1:A20\", and \"=formula\" forms\n               v1 = sheet.names[name].definition;\n               v2 = \"\";\n               if (v1.charAt(0) == \"=\") {\n                  v2 = \"=\";\n                  v1 = v1.substring(1);\n                  }\n               sheet.names[name].definition = v2 +\n                  SocialCalc.AdjustFormulaCoords(v1, cr1.col, coloffset, cr1.row, rowoffset);\n               }\n            }\n\n         for (row = rowstart; row <= lastrow - rowoffset && cmd1 == \"deleterow\"; row++) { // copy the row attributes backwards\n            rowbefore = row + rowoffset;\n            for (attrib in sheet.rowattribs) {\n               val = sheet.rowattribs[attrib][row];\n               if (sheet.rowattribs[attrib][rowbefore] != val) { // make assignment only if different\n                  if (saveundo) changes.AddUndo(\"set \"+rowbefore+\" \"+attrib, sheet.rowattribs[attrib][rowbefore]);\n                  if (val) {\n                     sheet.rowattribs[attrib][rowbefore] = val;\n                     }\n                  else {\n                     delete sheet.rowattribs[attrib][rowbefore];\n                     }\n                  }\n               }\n            }\n\n         for (col = colstart; col <= lastcol - coloffset && cmd1 == \"deletecol\"; col++) { // copy the column attributes backwards\n            colthis = SocialCalc.rcColname(col);\n            colbefore = SocialCalc.rcColname(col + coloffset);\n            for (attrib in sheet.colattribs) {\n               val = sheet.colattribs[attrib][colthis];\n               if (sheet.colattribs[attrib][colbefore] != val) { // make assignment only if different\n                  if (saveundo) changes.AddUndo(\"set \"+colbefore+\" \"+attrib, sheet.colattribs[attrib][colbefore]);\n                  if (val) {\n                     sheet.colattribs[attrib][colbefore] = val;\n                     }\n                  else {\n                     delete sheet.colattribs[attrib][colbefore];\n                     }\n                  }\n               }\n            }\n\n         // Shrink merged cells if the new row/col was in between\n\n         var tempRenderContext = new SocialCalc.RenderContext(sheet)\n         tempRenderContext.CalculateCellSkipData()\n\n         var cellsToShrink = {} // Keep track of shrinked cells, so we don't do it twice\n         for (var skipCell in tempRenderContext.cellskip) {\n             var skipCellCR = SocialCalc.coordToCr(skipCell)\n               , mergerCellCoords = tempRenderContext.cellskip[skipCell]\n               , mergerCellCR = tempRenderContext.coordToCR[mergerCellCoords]\n             // for deletecol we check if the removed col any spans that\n             // are from younger cols and shrink those\n             if (cmd1 === \"deletecol\" && skipCellCR.col === colstart+coloffset && mergerCellCR.col < skipCellCR.col) {\n                if (!cellsToShrink[mergerCellCoords]) {\n                    sheet.GetAssuredCell(mergerCellCoords).colspan += coloffset\n                    }\n                cellsToShrink[mergerCellCoords] = true\n                }\n             // for insertrow it's the same method\n             if (cmd1 === \"deleterow\" && skipCellCR.row === rowstart+rowoffset && mergerCellCR.row < skipCellCR.row) {\n                if (!cellsToShrink[mergerCellCoords]) {\n                    sheet.GetAssuredCell(mergerCellCoords).rowspan += rowoffset\n                    }\n                cellsToShrink[mergerCellCoords] = true\n                }\n            }\n\n         if (saveundo) {\n            if (cmd1 == \"deletecol\") {\n               for (col=cr1.col; col<=cr2.col; col++) {\n                  changes.AddUndo(\"insertcol \"+SocialCalc.rcColname(cr1.col));\n                  }\n               }\n            else {\n               for (row=cr1.row; row<=cr2.row; row++) {\n                  changes.AddUndo(\"insertrow \"+cr1.row);\n                  }\n               }\n            }\n\n         if (cmd1 == \"deletecol\") {\n            if (cr1.col <= lastcol) { // shrink sheet unless deleted phantom cols off the end\n               if (cr2.col <= lastcol) {\n                  attribs.lastcol += coloffset;\n                  }\n               else {\n                  attribs.lastcol = cr1.col - 1;\n                  }\n               }\n            }\n         else {\n            if (cr1.row <= lastrow) { // shrink sheet unless deleted phantom rows off the end\n               if (cr2.row <= lastrow) {\n                  attribs.lastrow += rowoffset;\n                  }\n               else {\n                  attribs.lastrow = cr1.row - 1;\n                  }\n               }\n            }\n         attribs.needsrecalc = \"yes\";\n         break;\n\n\n      case \"movepaste\":\n      case \"moveinsert\":\n\n         var movingcells, dest, destcr, inserthoriz, insertvert, pushamount, movedto;\n\n         sheet.renderneeded = true;\n         sheet.changedrendervalues = true;\n         if (saveundo) changes.AddUndo(\"changedrendervalues\"); // to take care of undone pasted spans\n         what = cmd.NextToken();\n         dest = cmd.NextToken();\n         rest = cmd.RestOfString(); // rest is all/formulas/formats\n         if (rest==\"\") rest = \"all\";\n\n         ParseRange();\n\n         destcr = SocialCalc.coordToCr(dest);\n\n         coloffset = destcr.col - cr1.col;\n         rowoffset = destcr.row - cr1.row;\n         numcols = cr2.col - cr1.col + 1;\n         numrows = cr2.row - cr1.row + 1;\n\n         // get a copy of moving cells and erase from where they were\n\n         movingcells = {};\n\n         for (row = cr1.row; row <= cr2.row; row++) {\n            for (col = cr1.col; col <= cr2.col; col++) {\n               cr = SocialCalc.crToCoord(col, row);\n               cell=sheet.GetAssuredCell(cr);\n               if (cell.readonly) continue;\n               if (saveundo) changes.AddUndo(\"set \"+cr+\" all\", sheet.CellToString(cell));\n\n               if (!sheet.cells[cr]) { // if had nothing\n                  continue; // don't save anything\n                  }\n               movingcells[cr] = new SocialCalc.Cell(cr); // create new cell to copy\n\n               for (attrib in cellProperties) { // go through each property\n                  if (typeof cell[attrib] === undefined) { // don't copy undefined things and no need to delete\n                     continue;\n                     }\n                  else {\n                     movingcells[cr][attrib] = cell[attrib]; // copy for potential moving\n                     }\n                  if (rest == \"all\") {\n                     delete cell[attrib];\n                     }\n                  if (rest == \"formulas\") {\n                     if (cellProperties[attrib] == 1 || cellProperties[attrib] == 3) {\n                        delete cell[attrib];\n                        }\n                     }\n                  if (rest == \"formats\") {\n                     if (cellProperties[attrib] == 2) {\n                        delete cell[attrib];\n                        }\n                     }\n                  }\n               if (rest == \"formulas\") { // leave pristene deleted cell\n                  cell.datavalue = \"\";\n                  cell.datatype = null;\n                  cell.formula = \"\";\n                  cell.valuetype = \"b\";\n                  }\n               if (rest == \"all\") { // leave nothing for move all\n                  delete sheet.cells[cr];\n                  }\n               }\n            }\n\n         // if moveinsert, check destination OK, and calculate pushing parameters\n\n         if (cmd1 == \"moveinsert\") {\n            inserthoriz = false;\n            insertvert = false;\n            if (rowoffset==0 && (destcr.col < cr1.col || destcr.col > cr2.col)) {\n               if (destcr.col < cr1.col) { // moving left\n                  pushamount = cr1.col - destcr.col;\n                  inserthoriz = -1;\n                  }\n               else {\n                  destcr.col -= 1;\n                  coloffset = destcr.col - cr2.col;\n                  pushamount = destcr.col - cr2.col;\n                  inserthoriz = 1;\n                  }\n               }\n            else if (coloffset==0 && (destcr.row < cr1.row || destcr.row > cr2.row)) {\n               if (destcr.row < cr1.row) { // moving up\n                  pushamount = cr1.row - destcr.row;\n                  insertvert = -1;\n                  }\n               else {\n                  destcr.row -= 1;\n                  rowoffset = destcr.row - cr2.row;\n                  pushamount = destcr.row - cr2.row;\n                  insertvert = 1;\n                  }\n               }\n            else {\n               cmd1 = \"movepaste\"; // not allowed right now - ignore\n               }\n            }\n\n         // push any cells that need pushing\n\n         movedto = {}; // remember what was moved where\n\n         if (insertvert) {\n            for (row = 0; row < pushamount; row++) {\n               for (col = cr1.col; col <= cr2.col; col++) {\n                  if (insertvert < 0) {\n                     crbase = SocialCalc.crToCoord(col, destcr.row+pushamount-row-1); // from cell\n                     cr = SocialCalc.crToCoord(col, cr2.row-row); // to cell\n                     }\n                  else {\n                     crbase = SocialCalc.crToCoord(col, destcr.row-pushamount+row+1); // from cell\n                     cr = SocialCalc.crToCoord(col, cr1.row+row); // to cell\n                     }\n\n                  basecell = sheet.GetAssuredCell(crbase);\n                  if (saveundo) changes.AddUndo(\"set \"+crbase+\" all\", sheet.CellToString(basecell));\n\n                  cell = sheet.GetAssuredCell(cr);\n                  if (rest == \"all\" || rest == \"formats\") {\n                     for (attrib in cellProperties) {\n                        if (cellProperties[attrib] == 1) continue; // copy only format attributes\n                        if (typeof basecell[attrib] === undefined || cellProperties[attrib] == 3) {\n                           delete cell[attrib];\n                           }\n                        else {\n                           cell[attrib] = basecell[attrib];\n                           }\n                        }\n                     }\n                  if (rest == \"all\" || rest == \"formulas\") {\n                     cell.datavalue = basecell.datavalue;\n                     cell.datatype = basecell.datatype;\n                     cell.valuetype = basecell.valuetype;\n                     cell.formula = basecell.formula;\n                     delete cell.parseinfo;\n                     cell.errors = basecell.errors;\n                     }\n                  delete cell.displaystring;\n\n                  movedto[crbase] = cr; // old crbase is now at cr\n                  }\n               }\n            }\n         if (inserthoriz) {\n            for (col = 0; col < pushamount; col++) {\n               for (row = cr1.row; row <= cr2.row; row++) {\n                  if (inserthoriz < 0) {\n                     crbase = SocialCalc.crToCoord(destcr.col+pushamount-col-1, row);\n                     cr = SocialCalc.crToCoord(cr2.col-col, row);\n                     }\n                  else {\n                     crbase = SocialCalc.crToCoord(destcr.col-pushamount+col+1, row);\n                     cr = SocialCalc.crToCoord(cr1.col+col, row);\n                     }\n\n                  basecell = sheet.GetAssuredCell(crbase);\n                  if (saveundo) changes.AddUndo(\"set \"+crbase+\" all\", sheet.CellToString(basecell));\n\n                  cell = sheet.GetAssuredCell(cr);\n                  if (rest == \"all\" || rest == \"formats\") {\n                     for (attrib in cellProperties) {\n                        if (cellProperties[attrib] == 1) continue; // copy only format attributes\n                        if (typeof basecell[attrib] === undefined || cellProperties[attrib] == 3) {\n                           delete cell[attrib];\n                           }\n                        else {\n                           cell[attrib] = basecell[attrib];\n                           }\n                        }\n                     }\n                  if (rest == \"all\" || rest == \"formulas\") {\n                     cell.datavalue = basecell.datavalue;\n                     cell.datatype = basecell.datatype;\n                     cell.valuetype = basecell.valuetype;\n                     cell.formula = basecell.formula;\n                     delete cell.parseinfo;\n                     cell.errors = basecell.errors;\n                     }\n                  delete cell.displaystring;\n\n                  movedto[crbase] = cr; // old crbase is now at cr\n                  }\n               }\n            }\n\n         // paste moved cells into new place\n\n         if (destcr.col+numcols-1 > attribs.lastcol) attribs.lastcol = destcr.col+numcols-1;\n         if (destcr.row+numrows-1 > attribs.lastrow) attribs.lastrow = destcr.row+numrows-1;\n\n         for (row = cr1.row; row < cr1.row+numrows; row++) {\n            for (col = cr1.col; col < cr1.col+numcols; col++) {\n               cr = SocialCalc.crToCoord(col+coloffset, row+rowoffset);\n               cell=sheet.GetAssuredCell(cr);\n               if (cell.readonly) continue;\n               if (saveundo) changes.AddUndo(\"set \"+cr+\" all\", sheet.CellToString(cell));\n\n               crbase = SocialCalc.crToCoord(col, row); // get old cell to move\n\n               movedto[crbase] = cr; // old crbase (moved cell) will now be at cr (destination)\n\n               if (rest == \"all\" && !movingcells[crbase]) { // moving an empty cell\n                  delete sheet.cells[cr]; // make the cell empty\n                  continue;\n                  }\n\n               basecell = movingcells[crbase];\n               if (!basecell) basecell = sheet.GetAssuredCell(crbase);\n\n               if (rest == \"all\" || rest == \"formats\") {\n                  for (attrib in cellProperties) {\n                     if (cellProperties[attrib] == 1) continue; // copy only format attributes\n                     if (typeof basecell[attrib] === undefined || cellProperties[attrib] == 3) {\n                        delete cell[attrib];\n                        }\n                     else {\n                        cell[attrib] = basecell[attrib];\n                        }\n                     }\n                  }\n               if (rest == \"all\" || rest == \"formulas\") {\n                  cell.datavalue = basecell.datavalue;\n                  cell.datatype = basecell.datatype;\n                  cell.valuetype = basecell.valuetype;\n                  cell.formula = basecell.formula;\n                  delete cell.parseinfo;\n                  cell.errors = basecell.errors;\n                  if (basecell.comment) { // comments are pasted as part of content, though not filled, etc.\n                     cell.comment = basecell.comment;\n                     }\n                  else if (cell.comment) {\n                     delete cell.comment;\n                     }\n                  }\n               delete cell.displaystring;\n               }\n            }\n\n         // do fixups\n\n         for (cr in sheet.cells) { // update cell references to moved cells in calculated formulas\n             cell = sheet.cells[cr];\n             if (cell) {\n                if (cell.datatype == \"f\") {\n                   oldformula = cell.formula;\n                   cell.formula = SocialCalc.ReplaceFormulaCoords(oldformula, movedto);\n                   if (cell.formula != oldformula) {\n                      delete cell.parseinfo;\n                      if (saveundo && !movedto[cr]) { // moved cells are already saved for undo\n                         changes.AddUndo(\"set \"+cr+\" formula \"+oldformula);\n                         }\n                      }\n                   }\n                else {\n                   delete cell.parseinfo;\n                   }\n                }\n             }\n\n         for (name in sheet.names) { // update cell references to moved cells in names\n            if (sheet.names[name]) { // works with \"A1\", \"A1:A20\", and \"=formula\" forms\n               v1 = sheet.names[name].definition;\n               oldformula = v1;\n               v2 = \"\";\n               if (v1.charAt(0) == \"=\") {\n                  v2 = \"=\";\n                  v1 = v1.substring(1);\n                  }\n               sheet.names[name].definition = v2 +\n                  SocialCalc.ReplaceFormulaCoords(v1, movedto);\n               if (saveundo && sheet.names[name].definition != oldformula) { // save changes\n                  changes.AddUndo(\"name define \"+name+\" \"+oldformula);\n                  }\n               }\n            }\n\n         attribs.needsrecalc = \"yes\";\n         break;\n\n      case \"name\":\n         what = cmd.NextToken();\n         name = cmd.NextToken();\n         rest = cmd.RestOfString();\n\n         name = name.toUpperCase().replace(/[^A-Z0-9_\\.]/g, \"\");\n         if (name == \"\") break; // must have something\n\n         if (what == \"define\") {\n            if (rest == \"\") break; // must have something\n            if (sheet.names[name]) { // already exists\n               if (saveundo) changes.AddUndo(\"name define \"+name+\" \"+sheet.names[name].definition);\n               sheet.names[name].definition = rest;\n               }\n            else { // new\n               if (saveundo) changes.AddUndo(\"name delete \"+name);\n               sheet.names[name] = {definition: rest, desc: \"\"};\n               }\n            }\n         else if (what == \"desc\") {\n            if (sheet.names[name]) { // must already exist\n               if (saveundo) changes.AddUndo(\"name desc \"+name+\" \"+sheet.names[name].desc);\n               sheet.names[name].desc = rest;\n               }\n            }\n         else if (what == \"delete\") {\n            if (saveundo) {\n               if (sheet.names[name].desc) changes.AddUndo(\"name desc \"+name+\" \"+sheet.names[name].desc);\n               changes.AddUndo(\"name define \"+name+\" \"+sheet.names[name].definition);\n               }\n            delete sheet.names[name];\n            }\n         attribs.needsrecalc = \"yes\";\n\n         break;\n\n      case \"recalc\":\n         attribs.needsrecalc = \"yes\"; // request recalc\n         sheet.recalconce = true; // even if turned off\n         break;\n\n      case \"redisplay\":\n         sheet.renderneeded = true;\n         break;\n\n      case \"changedrendervalues\": // needed for undo sometimes\n         sheet.changedrendervalues = true;\n         break;\n\n      case \"pane\":\n\n         name = cmd.NextToken().toUpperCase();\n         undoNum = 1;\n         editor = SocialCalc.GetSpreadsheetControlObject().editor;\n\n         if (name.toUpperCase() === 'ROW') {\n           row = parseInt(cmd.NextToken(), 10);\n\n           if (typeof(editor.context.rowpanes[1]) !== 'undefined' && typeof(editor.context.rowpanes[1].first) === 'number') {\n             undoNum = editor.context.rowpanes[1].first;\n           }\n           if (saveundo) changes.AddUndo('pane row ' + undoNum);\n\n           // Handle hidden row.\n           while (editor.context.sheetobj.rowattribs.hide[row] == 'yes') {\n             row++;\n           }\n\n           if ((!row || row<=editor.context.rowpanes[0].first) && editor.context.rowpanes.length>1) { // set to no panes, leaving first pane settings\n             editor.context.rowpanes.length = 1;\n           } else if (editor.context.rowpanes.length-1 && !editor.timeout) { // has 2 already\n             // not waiting for position calc (so positions could be wrong)\n             editor.context.SetRowPaneFirstLast(0, editor.context.rowpanes[0].first, row-1);\n             editor.context.SetRowPaneFirstLast(1, row, row);\n           } else {\n             editor.context.SetRowPaneFirstLast(0, editor.context.rowpanes[0].first, row-1);\n             editor.context.SetRowPaneFirstLast(1, row, row);\n           }\n\n           // remove tracklingine\n           if (editor.griddiv) {\n             //trackingline-horizon\n             trackLine = document.getElementById('trackingline-vertical');\n             if (trackLine) {\n               editor.griddiv.removeChild(trackLine);\n               editor.FitToEditTable();\n             }\n           }\n\n         } else {\n\n           col = parseInt(cmd.NextToken(), 10);\n\n           if (typeof(editor.context.colpanes[1]) !== 'undefined' && typeof(editor.context.colpanes[1].first) === 'number') {\n             undoNum = editor.context.colpanes[1].first;\n           }\n           if (saveundo) changes.AddUndo('pane col ' + undoNum);\n\n           // Handle hidden column.\n           while (editor.context.sheetobj.colattribs.hide[SocialCalc.rcColname(col)] == 'yes') {\n             col++;\n           }\n\n           if ((!col || col<=editor.context.colpanes[0].first) && editor.context.colpanes.length > 1) { // set to no panes, leaving first pane settings\n             editor.context.colpanes.length = 1;\n           } else if (editor.context.colpanes.length-1 && !editor.timeout) { // has 2 already\n             // not waiting for position calc (so positions could be wrong)\n             editor.context.SetColPaneFirstLast(0, editor.context.colpanes[0].first, col-1);\n             editor.context.SetColPaneFirstLast(1, col, col);\n           } else {\n             editor.context.SetColPaneFirstLast(0, editor.context.colpanes[0].first, col-1);\n             editor.context.SetColPaneFirstLast(1, col, col);\n           }\n\n           // remove tracklingine\n           if (editor.griddiv) {\n             trackLine = document.getElementById('trackingline-horizon');\n             if (trackLine) {\n               editor.griddiv.removeChild(trackLine);\n               editor.FitToEditTable();\n             }\n           }\n         }\n\n         sheet.renderneeded = true;\n\n         break;\n\n      case \"startcmdextension\": // startcmdextension extension rest-of-command\n         name = cmd.NextToken();\n         cmdextension = sheet.sci.CmdExtensionCallbacks[name];\n         if (cmdextension) {\n            cmdextension.func(name, cmdextension.data, sheet, cmd, saveundo);\n            }\n         break;\n\n         // eddy ExecuteSheetCommand {\n//      case \"setemailparameters\":\n//    \t  break;\n\n      case \"settimetrigger\":\n      case \"sendemail\":\n      case \"submitform\":\n    \t  // email/form/timetrigger handled by server, so ignore here\n    \t  break;\n         // } eddy ExecuteSheetCommand\n\n      default:\n         errortext = scc.s_escUnknownCmd+cmdstr;\n         break;\n      }\n\n/* For Debugging:\nvar ustack=\"\";\nfor (var i=0;i<sheet.changes.stack.length;i++) {\n   ustack+=(i-0)+\":\"+sheet.changes.stack[i].command[0]+\" of \"+sheet.changes.stack[i].command.length+\"/\"+sheet.changes.stack[i].undo[0]+\" of \"+sheet.changes.stack[i].undo.length+\",\";\n   }\nalert(cmdstr+\"|\"+sheet.changes.stack.length+\"--\"+ustack);\n*/\n   if(SocialCalc._app) {\n     // widgets need focus. In app mode, render widgets only when required. Rather than default of render everything\n     if(cellChanged) {\n       if(sheet.renderneeded == true && attrib!=\"value\" && attrib!=\"text\" && attrib!=\"formula\" && attrib!=\"constant\" && attrib!=\"empty\") sheet.widgetsClean = false;  // force widgets to render\n       else if(attrib==\"all\") sheet.widgetsClean = false;  // force widgets to render - because of undo\n       }\n     else {\n       if(sheet.renderneeded == true) sheet.widgetsClean = false;  // force widgets to render\n       }\n     }\n\n   return errortext;\n\n   }\n\nSocialCalc.SheetUndo = function(sheet) {\n\n   var i;\n   var tos = sheet.changes.TOS();\n   var lastone = tos ? tos.undo.length-1 : -1;\n   var cmdstr = \"\";\n\n   for (i=lastone; i>=0; i--) { // do them backwards\n      if (cmdstr) cmdstr += \"\\n\"; // concatenate with separate lines\n      cmdstr += tos.undo[i];\n      }\n   sheet.changes.Undo();\n   sheet.ScheduleSheetCommands(cmdstr, false); // do undo operations\n\n   }\n\nSocialCalc.SheetRedo = function(sheet) {\n\n   var tos, i;\n   var didredo = sheet.changes.Redo();\n   if (!didredo) {\n      sheet.ScheduleSheetCommands(\"\", false); // schedule doing nothing\n      return;\n      }\n   tos = sheet.changes.TOS();\n   var cmdstr = \"\";\n\n   for (i=0; tos && i<tos.command.length; i++) {\n      if (cmdstr) cmdstr += \"\\n\"; // concatenate with separate lines\n      cmdstr += tos.command[i];\n      }\n   sheet.ScheduleSheetCommands(cmdstr, false); // do undo operations\n\n   }\n\nSocialCalc.CreateAuditString = function(sheet) {\n\n   var i, j;\n   var result = \"\";\n   var stack = sheet.changes.stack;\n   var tos = sheet.changes.tos;\n   for (i=0; i<=tos; i++) {\n      for (j=0; j<stack[i].command.length; j++) {\n         result += stack[i].command[j] + \"\\n\";\n         }\n      }\n\n   return result;\n\n   }\n\nSocialCalc.GetStyleNum = function(sheet, atype, style) {\n\n   var num;\n\n   if (style.length==0) return 0; // null means use zero, which means default or global default\n\n   num = sheet[atype+\"hash\"][style];\n   if (!num) {\n      if (sheet[atype+\"s\"].length<1) sheet[atype+\"s\"].push(\"\");\n      num = sheet[atype+\"s\"].push(style) - 1;\n      sheet[atype+\"hash\"][style] = num;\n      sheet.changedrendervalues = true;\n      }\n   return num;\n\n   }\n\nSocialCalc.GetStyleString = function(sheet, atype, num) {\n\n   if (!num) return null; // zero, null, and undefined return null\n\n   return sheet[atype+\"s\"][num];\n\n   }\n\n//\n// updatedformula = SocialCalc.OffsetFormulaCoords(formula, coloffset, rowoffset)\n//\n// Change relative cell references by offsets (even those to other worksheets so fill, paste, sort work as expected).\n// If not what you want, use absolute references.\n//\n\nSocialCalc.OffsetFormulaCoords = function(formula, coloffset, rowoffset) {\n\n   var parseinfo, ttext, ttype, i, cr, newcr;\n   var updatedformula = \"\";\n   var scf = SocialCalc.Formula;\n   if (!scf) {\n      return \"Need SocialCalc.Formula\";\n      }\n   var tokentype = scf.TokenType;\n   var token_op = tokentype.op;\n   var token_string = tokentype.string;\n   var token_coord = tokentype.coord;\n   var tokenOpExpansion = scf.TokenOpExpansion;\n\n   parseinfo = scf.ParseFormulaIntoTokens(formula);\n\n   for (i=0; i<parseinfo.length; i++) {\n      ttype = parseinfo[i].type;\n      ttext = parseinfo[i].text;\n      if (ttype == token_coord) {\n         newcr = \"\";\n         cr = SocialCalc.coordToCr(ttext);\n         if (ttext.charAt(0)!=\"$\") { // add col offset unless absolute column\n            cr.col += coloffset;\n            }\n         else {\n            newcr += \"$\";\n            }\n         newcr += SocialCalc.rcColname(cr.col);\n         if (ttext.indexOf(\"$\", 1)==-1) { // add row offset unless absolute row\n            cr.row += rowoffset;\n            }\n         else {\n            newcr += \"$\";\n            }\n         newcr += cr.row;\n         if (cr.row < 1 || cr.col < 1) {\n            newcr = \"#REF!\";\n            }\n         updatedformula += newcr;\n         }\n      else if (ttype == token_string) {\n         if (ttext.indexOf('\"') >= 0) { // quotes to double\n            updatedformula += '\"' + ttext.replace(/\"/, '\"\"') + '\"';\n            }\n         else updatedformula += '\"' + ttext + '\"';\n         }\n      else if (ttype == token_op) {\n         updatedformula += tokenOpExpansion[ttext] || ttext; // make sure short tokens (e.g., \"G\") go back full (\">=\")\n         }\n      else { // leave everything else alone\n         updatedformula += ttext;\n         }\n      }\n\n   return updatedformula;\n\n   }\n\n//\n// updatedformula = SocialCalc.AdjustFormulaCoords(formula, col, coloffset, row, rowoffset)\n//\n// Change all cell references to cells starting with col/row by offsets\n//\n\nSocialCalc.AdjustFormulaCoords = function(formula, col, coloffset, row, rowoffset) {\n\n   var ttype, ttext, i, newcr;\n   var updatedformula = \"\";\n   var sheetref = false;\n   var scf = SocialCalc.Formula;\n   if (!scf) {\n      return \"Need SocialCalc.Formula\";\n      }\n   var tokentype = scf.TokenType;\n   var token_op = tokentype.op;\n   var token_string = tokentype.string;\n   var token_coord = tokentype.coord;\n   var tokenOpExpansion = scf.TokenOpExpansion;\n\n   parseinfo = SocialCalc.Formula.ParseFormulaIntoTokens(formula);\n\n   for (i=0; i<parseinfo.length; i++) {\n      ttype = parseinfo[i].type;\n      ttext = parseinfo[i].text;\n      if (ttype == token_op) { // references with sheet specifier are not offset\n         if (ttext == \"!\") {\n            sheetref = true; // found a sheet reference\n            }\n         else if (ttext != \":\") { // for everything but a range, reset\n            sheetref = false;\n            }\n         ttext = tokenOpExpansion[ttext] || ttext; // make sure short tokens (e.g., \"G\") go back full (\">=\")\n         }\n      if (ttype == token_coord) {\n         cr = SocialCalc.coordToCr(ttext);\n         if ((coloffset < 0 && cr.col >= col && cr.col < col-coloffset) ||\n             (rowoffset < 0 && cr.row >= row && cr.row < row-rowoffset)) { // refs to deleted cells become invalid\n            if (!sheetref) {\n               cr.col = 0;\n               cr.row = 0;\n               }\n            }\n         if (!sheetref) {\n            if (cr.col >= col) {\n               cr.col += coloffset;\n               }\n            if (cr.row >= row) {\n               cr.row += rowoffset;\n               }\n            }\n         if (ttext.charAt(0)==\"$\") {\n            newcr = \"$\"+SocialCalc.rcColname(cr.col);\n            }\n         else {\n            newcr = SocialCalc.rcColname(cr.col);\n            }\n         if (ttext.indexOf(\"$\", 1)!=-1) {\n            newcr += \"$\" + cr.row;\n            }\n         else {\n            newcr += cr.row;\n            }\n         if (cr.row < 1 || cr.col < 1) {\n            newcr = \"#REF!\";\n            }\n         ttext = newcr;\n         }\n      else if (ttype == token_string) {\n         if (ttext.indexOf('\"') >= 0) { // quotes to double\n            ttext = '\"' + ttext.replace(/\"/, '\"\"') + '\"';\n            }\n         else ttext = '\"' + ttext + '\"';\n         }\n      updatedformula += ttext;\n      }\n\n   return updatedformula;\n\n   }\n\n//\n// updatedformula = SocialCalc.ReplaceFormulaCoords(formula, movedto)\n//\n// Change all cell references to cells that are keys in moveto to be to moveto[coord].\n// Don't change references to other sheets.\n// Handle range extents specially.\n//\n\nSocialCalc.ReplaceFormulaCoords = function(formula, movedto) {\n\n   var ttype, ttext, i, newcr, coord;\n   var updatedformula = \"\";\n   var sheetref = false;\n   var scf = SocialCalc.Formula;\n   if (!scf) {\n      return \"Need SocialCalc.Formula\";\n      }\n   var tokentype = scf.TokenType;\n   var token_op = tokentype.op;\n   var token_string = tokentype.string;\n   var token_coord = tokentype.coord;\n   var tokenOpExpansion = scf.TokenOpExpansion;\n\n   parseinfo = SocialCalc.Formula.ParseFormulaIntoTokens(formula);\n\n   for (i=0; i<parseinfo.length; i++) {\n      ttype = parseinfo[i].type;\n      ttext = parseinfo[i].text;\n      if (ttype == token_op) { // references with sheet specifier are not change\n         if (ttext == \"!\") {\n            sheetref = true; // found a sheet reference\n            }\n         else if (ttext != \":\") { // for everything but a range, reset\n            sheetref = false;\n            }\n\n//!!!! HANDLE RANGE EXTENT MOVES\n\n         ttext = tokenOpExpansion[ttext] || ttext; // make sure short tokens (e.g., \"G\") go back full (\">=\")\n         }\n      if (ttype == token_coord) {\n         cr = SocialCalc.coordToCr(ttext); // get parts\n         coord = SocialCalc.crToCoord(cr.col, cr.row); // get \"clean\" reference\n         if (movedto[coord] && !sheetref) { // this is a reference to a moved cell\n            cr = SocialCalc.coordToCr(movedto[coord]); // get new row and col\n            if (ttext.charAt(0)==\"$\") { // copy absolute ref marks if present\n               newcr = \"$\"+SocialCalc.rcColname(cr.col);\n               }\n            else {\n               newcr = SocialCalc.rcColname(cr.col);\n               }\n            if (ttext.indexOf(\"$\", 1)!=-1) {\n               newcr += \"$\" + cr.row;\n               }\n            else {\n               newcr += cr.row;\n               }\n            ttext = newcr;\n            }\n         }\n      else if (ttype == token_string) {\n         if (ttext.indexOf('\"') >= 0) { // quotes to double\n            ttext = '\"' + ttext.replace(/\"/, '\"\"') + '\"';\n            }\n         else ttext = '\"' + ttext + '\"';\n         }\n      updatedformula += ttext;\n      }\n\n   return updatedformula;\n\n   }\n\n\n// ************************\n//\n// Recalc Loop Code\n//\n// ************************\n\n//\n// How recalc works:\n//\n// !!!!!!!!!!!!!!\n//\n\n// SocialCalc.RecalcInfo - object with global recalc info\n\nSocialCalc.RecalcInfo = {\n\n   sheet: null, // which sheet is being recalced\n\n   currentState: 0, // current state\n   state: {idle: 0, start_calc: 1, order: 2, calc: 3, start_wait: 4, done_wait: 5}, // allowed state values\n\n   recalctimer: null, // value to cancel timer\n   maxtimeslice: 100, // maximum milliseconds per slice of recalc time before a wait\n   timeslicedelay: 1, // milliseconds to wait between recalc time slices\n   starttime: 0, // when recalc started\n\n   queue: [], // queue of sheet waiting to be recalced\n\n   // LoadSheet: a function that returns true if started a load or false if not.\n   //\n\n   LoadSheet: function(sheetname) {return false;} // default returns not found\n\n   }\n\n// SocialCalc.RecalcData - object with recalc info while determining recalc order and afterward\n\nSocialCalc.RecalcData = function() { // initialize a RecalcData object\n\n   this.inrecalc = true; // if true, doing a recalc\n   this.celllist = []; // list with all potential cells to calculate\n   this.celllistitem = 0; // cell to check next when ordering\n   this.calclist = null; // object which is the chained list of cells to calculate\n                         // each in the form of \"coord: nextcoord\"\n                         // e.g., if B8 is calculated right after A8, then calclist.A8==\"B8\"\n                         // if null, need to create the list\n   this.calclistlength = 0; // number of items in calclist\n\n   this.firstcalc = null; // start of the calc list - a string or null\n   this.lastcalc = null; // last one on chain (used to add more to the end)\n\n   this.nextcalc = null; // used to keep track during background recalc to make it restartable\n   this.count = 0; // number calculated\n\n   // checkinfo is used when determining calc order:\n\n   this.checkinfo = {}; // attributes are coords; if no attrib for a coord, it wasn't checked or doesn't need it\n                        // values are RecalcCheckInfo objects while checking or TRUE when complete\n\n   }\n\n// SocialCalc.RecalcCheckInfo - object that stores checking info while determining recalc order\n\nSocialCalc.RecalcCheckInfo = function() { // initialize a RecalcCheckInfo object\n\n   this.oldcoord = null; // chain back up of cells referring to cells\n   this.parsepos = 0; // which token we are up to\n\n   // range info\n\n   this.inrange = false; // if true, in the process of checking a range of coords\n   this.inrangestart = false; // if true, have not yet filled in range loop values\n   this.cr1 = null; // range first coord as a cr object\n   this.cr2 = null; // range second coord as a cr object\n   this.c1 = null; // range extents\n   this.c2 = null;\n   this.r1 = null;\n   this.r2 = null;\n   this.c = null; // looping values\n   this.r = null;\n\n   }\n\n// Recalc the entire sheet\n\nSocialCalc.RecalcSheet = function(sheet) {\n\n   var coord, err, recalcdata;\n   var scri = SocialCalc.RecalcInfo;\n\n   if (scri.currentState != scri.state.idle) {\n      scri.queue.push(sheet);\n      return;\n      }\n\n   delete sheet.attribs.circularreferencecell; // reset recalc-wide things\n   SocialCalc.Formula.FreshnessInfoReset();\n\n   SocialCalc.RecalcClearTimeout();\n\n   scri.sheet = sheet; // set values needed by background recalc\n   scri.currentState = scri.state.start_calc;\n\n   scri.starttime = new Date();\n\n   if (sheet.statuscallback) {\n      sheet.statuscallback(scri, \"calcstart\", null, sheet.statuscallbackparams);\n      }\n\n   SocialCalc.RecalcSetTimeout();\n\n   }\n\n//\n// SocialCalc.RecalcSetTimeout - set a timer for next recalc step\n//\n\nSocialCalc.RecalcSetTimeout = function() {\n\n   var scri = SocialCalc.RecalcInfo;\n\n   scri.recalctimer = window.setTimeout(SocialCalc.RecalcTimerRoutine, scri.timeslicedelay);\n\n   }\n\n//\n// SocialCalc.RecalcClearTimeout - cancel any timeouts\n//\n\nSocialCalc.RecalcClearTimeout = function() {\n\n   var scri = SocialCalc.RecalcInfo;\n\n   if (scri.recalctimer) {\n      window.clearTimeout(scri.recalctimer);\n      scri.recalctimer = null;\n      }\n\n   }\n\n\n//\n// SocialCalc.RecalcLoadedSheet(sheetname, str, recalcneeded, live)\n//\n// Called when a sheet finishes loading with name, string, and t/f whether it should be recalced.\n// If loaded sheet has sheet.attribs.recalc==\"off\", then no recalc done.\n// If sheetname is null, then the sheetname waiting for will be used.\n//\n\nSocialCalc.RecalcLoadedSheet = function(sheetname, str, recalcneeded, live) {\n\n   var sheet;\n   var scri = SocialCalc.RecalcInfo;\n   var scf = SocialCalc.Formula;\n\n   sheet = SocialCalc.Formula.AddSheetToCache(sheetname || scf.SheetCache.waitingForLoading, str, live);\n\n   if (recalcneeded && sheet && sheet.attribs.recalc!=\"off\") { // if recalcneeded, and not manual sheet, chain in this new sheet to recalc loop\n      sheet.previousrecalcsheet = scri.sheet;\n      scri.sheet = sheet;\n      scri.currentState = scri.state.start_calc;\n      }\n   scf.SheetCache.waitingForLoading = null;\n\n   SocialCalc.RecalcSetTimeout();\n\n   }\n\n\n//\n// SocialCalc.RecalcTimerRoutine - handles the actual order determination and cell-by-cell recalculation in the background\n//\n\nSocialCalc.RecalcTimerRoutine = function() {\n\n   var eresult, cell, coord, err, status;\n   var starttime = new Date();\n   var count = 0;\n   var scf = SocialCalc.Formula;\n   if (!scf) {\n      return \"Need SocialCalc.Formula\";\n      }\n   var scri = SocialCalc.RecalcInfo;\n   var sheet = scri.sheet;\n   if (!sheet) {\n      return;\n      }\n   var recalcdata = sheet.recalcdata || (sheet.recalcdata = {});\n\n   var do_statuscallback = function(status, arg) { // routine to do callback if required\n      if (sheet.statuscallback) {\n         sheet.statuscallback(recalcdata, status, arg, sheet.statuscallbackparams);\n         }\n      }\n\n   SocialCalc.RecalcClearTimeout();\n\n   if (scri.currentState == scri.state.start_calc) {\n\n      recalcdata = new SocialCalc.RecalcData();\n      sheet.recalcdata = recalcdata;\n\n      for (coord in sheet.cells) { // get list of cells to check for order\n         if (!coord) continue;\n         recalcdata.celllist.push(coord);\n         }\n\n      recalcdata.calclist = {}; // start with empty list\n      scri.currentState = scri.state.order; // drop through to determining recalc order\n      }\n\n   if (scri.currentState == scri.state.order) {\n      while (recalcdata.celllistitem < recalcdata.celllist.length) { // check all the cells to see if they should be on the list\n         coord = recalcdata.celllist[recalcdata.celllistitem++];\n         err = SocialCalc.RecalcCheckCell(sheet, coord);\n         if (((new Date()) - starttime) >= scri.maxtimeslice) { // if taking too long, give up CPU for a while\n            do_statuscallback(\"calcorder\", {coord: coord, total: recalcdata.celllist.length, count: recalcdata.celllistitem});\n            SocialCalc.RecalcSetTimeout();\n            return;\n            }\n         }\n\n      do_statuscallback(\"calccheckdone\", recalcdata.calclistlength);\n\n      recalcdata.nextcalc = recalcdata.firstcalc; // start at the beginning of the recalc chain\n      scri.currentState = scri.state.calc; // loop through cells on next timer call\n      SocialCalc.RecalcSetTimeout();\n      return;\n      }\n\n   if (scri.currentState == scri.state.start_wait) { // starting to wait for something\n      scri.currentState = scri.state.done_wait; // finished on next timer call\n      if (scri.LoadSheet) {\n         status = scri.LoadSheet(scf.SheetCache.waitingForLoading);\n         if (status) { // started a load operation\n            return;\n            }\n         }\n      SocialCalc.RecalcLoadedSheet(null, \"\", false);\n      return;\n      }\n\n   if (scri.currentState == scri.state.done_wait) {\n      scri.currentState = scri.state.calc; // loop through cells on next timer call\n      SocialCalc.RecalcSetTimeout();\n      return;\n      }\n\n   // otherwise should be scri.state.calc\n\n   if (scri.currentState != scri.state.calc) {\n      alert(\"Recalc state error: \"+scri.currentState+\". Error in SocialCalc code.\");\n      }\n\n   coord = sheet.recalcdata.nextcalc;\n   while (coord) {\n      cell = sheet.cells[coord];\n\t  // app widgets need cell ID so store in parseinfo {\n      if (!cell.parseinfo) { // cache parsed formula\n        cell.parseinfo = scf.ParseFormulaIntoTokens(cell.formula);\n        }\n      cell.parseinfo.coord = coord;\n\t  // }\n      eresult = scf.evaluate_parsed_formula(cell.parseinfo, sheet, false);\n      if (scf.SheetCache.waitingForLoading) { // wait until restarted\n         // schedule render to run while waiting for dependent sheet to load - schedules first render of sheet\n         if (scri.firstRenderScheduled != true) {\n           var editor = SocialCalc.GetSpreadsheetControlObject().editor;\n           editor.ScheduleRender(false);\n           scri.firstRenderScheduled = true; // stop more renders because done first render of sheet\n         }\n         recalcdata.nextcalc = coord; // start with this cell again\n         recalcdata.count += count;\n         do_statuscallback(\"calcloading\", {sheetname: scf.SheetCache.waitingForLoading});\n         scri.currentState = scri.state.start_wait; // start load on next timer call\n         SocialCalc.RecalcSetTimeout();\n         return;\n         }\n\n      if (scf.RemoteFunctionInfo.waitingForServer) { // wait until restarted\n         recalcdata.nextcalc = coord; // start with this cell again\n         recalcdata.count += count;\n         do_statuscallback(\"calcserverfunc\",\n            {funcname: scf.RemoteFunctionInfo.waitingForServer, coord: coord, total: recalcdata.calclistlength, count: recalcdata.count});\n         scri.currentState = scri.state.done_wait; // start load on next timer call\n         return; // return and wait for next recalc timer event\n         }\n\n      if (cell.datavalue != eresult.value ||\n       cell.valuetype != eresult.type) { // only update if changed from last time\n         cell.datavalue = eresult.value;\n         cell.valuetype = eresult.type;\n         delete cell.displaystring;\n         sheet.recalcchangedavalue = true; // remember something changed in case other code wants to know\n         }\n      if (eresult.error) {\n         cell.errors = eresult.error;\n         }\n      count++;\n      coord = sheet.recalcdata.calclist[coord];\n\n      if (((new Date()) - starttime) >= scri.maxtimeslice) { // if taking too long, give up CPU for a while\n         recalcdata.nextcalc = coord; // start with next cell on chain\n         recalcdata.count += count;\n         do_statuscallback(\"calcstep\", {coord: coord, total: recalcdata.calclistlength, count: recalcdata.count});\n         SocialCalc.RecalcSetTimeout();\n         return;\n         }\n      }\n\n   recalcdata.inrecalc = false;\n\n   sheet.reRenderCellList = sheet.recalcdata.celllist; // GUI widgets need focus - if app then only re-render non-widget cells\n   delete sheet.recalcdata; // save memory and clear out for name lookup formula evaluation\n\n   delete sheet.attribs.needsrecalc; // remember recalc done\n\n   scri.sheet = sheet.previousrecalcsheet || null; // chain back if doing recalc of loaded sheets\n   if (scri.sheet) {\n      scri.currentState = scri.state.calc; // start where we left off\n      SocialCalc.RecalcSetTimeout();\n      return;\n      }\n\n   scf.FreshnessInfo.recalc_completed = true; // say freshness info is complete\n   scri.currentState = scri.state.idle; // we are idle\n\n   do_statuscallback(\"calcfinished\", (new Date()) - scri.starttime);\n\n   // Check queue for more sheets.\n   if (scri.queue.length > 0) {\n      sheet = scri.queue.shift();\n      sheet.RecalcSheet();\n      }\n   }\n\n\n//\n// circref = SocialCalc.RecalcCheckCell(sheet, coord)\n//\n// Checks cell to put on calclist, looking at parsed tokens.\n// Also checks cells this cell is dependent upon\n// if it contains a formula with cell references.\n// If circular reference, returns non-null.\n//\n\nSocialCalc.RecalcCheckCell = function(sheet, startcoord) {\n\n   var parseinfo, ttext, ttype, i, rangecoord, circref, value, pos, pos2, cell, coordvals;\n   var scf = SocialCalc.Formula;\n   if (!scf) {\n      return \"Need SocialCalc.Formula\";\n      }\n   var tokentype = scf.TokenType;\n   var token_op = tokentype.op;\n   var token_name = tokentype.name;\n   var token_coord = tokentype.coord;\n\n   var recalcdata = sheet.recalcdata;\n   var checkinfo = recalcdata.checkinfo;\n\n   var sheetref = false; // if true, a sheet reference is in effect, so don't check that\n   var oldcoord = null; // coord of formula that referred to this one when checking down the tree\n   var coord = startcoord; // the coord of the cell we are checking\n\n   // Start with requested cell, and then continue down or up the dependency tree\n   // oldcoord (and checkinfo[coord].oldcoord) maintains the reference stack during the tree walk\n   // checkinfo[coord] maintains the stack of checking looping values, e.g., token number being checked\n\nmainloop:\n   while (coord) {\n      cell = sheet.cells[coord];\n      coordvals = checkinfo[coord];\n\n      if (!cell || cell.datatype != \"f\" || // Don't calculate if not a formula\n          (coordvals && typeof coordvals != \"object\")) { // Don't calc if already calculated\n         coord = oldcoord; // go back up dependency tree to coord that referred to us\n         if (checkinfo[coord]) oldcoord = checkinfo[coord].oldcoord;\n         continue;\n         }\n\n      if (!coordvals) { // do we have checking information about this cell?\n         coordvals = new SocialCalc.RecalcCheckInfo(); // no - make a place to hold it\n         checkinfo[coord] = coordvals;\n         }\n\n      if (cell.errors) { // delete errors from previous recalcs\n         delete cell.errors;\n         }\n\n      if (!cell.parseinfo) { // cache parsed formula\n         cell.parseinfo = scf.ParseFormulaIntoTokens(cell.formula);\n         }\n      parseinfo = cell.parseinfo;\n\n      for (i=coordvals.parsepos; i<parseinfo.length; i++) { // go through each token in formula\n\n         if (coordvals.inrange) { // processing a range of coords\n            if (coordvals.inrangestart) { // first time - fill in other values\n               if (coordvals.cr1.col > coordvals.cr2.col) { coordvals.c1 = coordvals.cr2.col; coordvals.c2 = coordvals.cr1.col; }\n               else { coordvals.c1 = coordvals.cr1.col; coordvals.c2 = coordvals.cr2.col; }\n               coordvals.c = coordvals.c1 - 1; // start one before\n\n               if (coordvals.cr1.row > coordvals.cr2.row) { coordvals.r1 = coordvals.cr2.row; coordvals.r2 = coordvals.cr1.row; }\n               else { coordvals.r1 = coordvals.cr1.row; coordvals.r2 = coordvals.cr2.row; }\n               coordvals.r = coordvals.r1; // start on this row\n               coordvals.inrangestart = false;\n               }\n            else { // not first time\n               }\n            coordvals.c += 1; // increment column\n            if (coordvals.c > coordvals.c2) { // finished the columns of this row\n               coordvals.r += 1; // increment row\n               if (coordvals.r > coordvals.r2) { // finished checking the entire range\n                  coordvals.inrange = false;\n                  continue;\n                  }\n               coordvals.c = coordvals.c1; // start at the beginning of next row\n               }\n            rangecoord = SocialCalc.crToCoord(coordvals.c, coordvals.r);\n\n            // now check that one\n\n            coordvals.parsepos = i; // remember our position\n            coordvals.oldcoord = oldcoord; // remember back up chain\n            oldcoord = coord; // come back to us\n            coord = rangecoord;\n            if (checkinfo[coord] && typeof checkinfo[coord] == \"object\") { // Circular reference\n               cell.errors = SocialCalc.Constants.s_caccCircRef+startcoord; // set on original cell making the ref\n               checkinfo[startcoord] = true; // this one should be calculated once at this point\n               if (!recalcdata.firstcalc) {\n                  recalcdata.firstcalc = startcoord;\n                  }\n               else {\n                  recalcdata.calclist[recalcdata.lastcalc] = startcoord;\n                  }\n               recalcdata.lastcalc = startcoord;\n               recalcdata.calclistlength++; // count number on list\n               sheet.attribs.circularreferencecell = coord+\"|\"+oldcoord; // remember at least one circ ref\n               return cell.errors;\n               }\n            continue mainloop;\n            }\n\n         ttype = parseinfo[i].type; // get token details\n         ttext = parseinfo[i].text;\n         if (ttype == token_op) { // references with sheet specifier are not checked\n            if (ttext == \"!\") {\n               sheetref = true; // found a sheet reference\n               }\n            else if (ttext != \":\") { // for everything but a range, reset\n               sheetref = false;\n               }\n            }\n\n         if (ttype == token_name) { // look for named range\n            value = scf.LookupName(sheet, ttext);\n            if (value.type == \"range\") { // only need to recurse here for range, which may be just one cell\n               pos = value.value.indexOf(\"|\");\n               if (pos != -1) { // range - check each cell\n                  coordvals.cr1 = SocialCalc.coordToCr(value.value.substring(0,pos));\n                  pos2 = value.value.indexOf(\"|\", pos+1);\n                  coordvals.cr2 = SocialCalc.coordToCr(value.value.substring(pos+1,pos2));\n                  coordvals.inrange = true;\n                  coordvals.inrangestart = true;\n                  i = i-1; // back up so will start up again here\n                  continue;\n                  }\n               }\n            else if (value.type == \"coord\") { // just a coord\n               ttype = token_coord; // treat as a coord inline\n               ttext = value.value; // and then drop through to next test which should succeed\n               }\n            else { // not a defined name - probably a function\n               }\n            }\n\n         if (ttype == token_coord) { // token is a coord\n\n            if (i >= 2 // look for a range\n             && parseinfo[i-1].type == token_op && parseinfo[i-1].text == ':'\n             && parseinfo[i-2].type == token_coord\n             && !sheetref) { // Range -- check each cell\n               coordvals.cr1 = SocialCalc.coordToCr(parseinfo[i-2].text); // remember range extents\n               coordvals.cr2 = SocialCalc.coordToCr(ttext);\n               coordvals.inrange = true; // next time use the range looping code\n               coordvals.inrangestart = true;\n               i = i-1; // back up so will start up again here\n               continue;\n               }\n\n            else if (!sheetref) { // Single cell reference\n               if (ttext.indexOf(\"$\") != -1) ttext = ttext.replace(/\\$/g, \"\"); // remove any $'s\n               coordvals.parsepos = i+1; // remember our position - come back on next token\n               coordvals.oldcoord = oldcoord; // remember back up chain\n               oldcoord = coord; // come back to us\n               coord = ttext;\n               if (checkinfo[coord] && typeof checkinfo[coord] == \"object\") { // Circular reference\n                  cell.errors = SocialCalc.Constants.s_caccCircRef+startcoord; // set on original cell making the ref\n                  checkinfo[startcoord] = true; // this one should be calculated once at this point\n                  if (!recalcdata.firstcalc) { // add to calclist\n                     recalcdata.firstcalc = startcoord;\n                     }\n                  else {\n                     recalcdata.calclist[recalcdata.lastcalc] = startcoord;\n                     }\n                  recalcdata.lastcalc = startcoord;\n                  recalcdata.calclistlength++; // count number on list\n                  sheet.attribs.circularreferencecell = coord+\"|\"+oldcoord; // remember at least one circ ref\n                  return cell.errors;\n                  }\n               continue mainloop;\n               }\n            }\n         }\n\n      sheetref = false; // make sure off when bump back up\n\n      checkinfo[coord] = true; // this one is finished\n      if (!recalcdata.firstcalc) { // add to calclist\n         recalcdata.firstcalc = coord;\n         }\n      else {\n         recalcdata.calclist[recalcdata.lastcalc] = coord;\n         }\n      recalcdata.lastcalc = coord;\n      recalcdata.calclistlength++; // count number on list\n\n      coord = oldcoord; // go back to the formula that referred to us and continue\n      oldcoord = checkinfo[coord] ? checkinfo[coord].oldcoord : null;\n\n      }\n\n   return \"\";\n\n   }\n\n\n// *************************************\n//\n// Parse class:\n//\n// Used by ExecuteSheetCommand to get elements of commands to execute.\n// The string it works with consists of one or more lines each\n// made up of one or more tokens separated by a delimiter.\n//\n// *************************************\n\n// Initialize: set string to work with\n\nSocialCalc.Parse = function(str) {\n\n   // properties:\n\n   this.str = str;\n   this.pos = 0;\n   this.delimiter = \" \";\n   this.lineEnd = str.indexOf(\"\\n\");\n   if (this.lineEnd < 0) {\n      this.lineEnd = str.length;\n      }\n\n   }\n\n// Return next token as a string\n\nSocialCalc.Parse.prototype.NextToken = function() {\n   if (this.pos < 0) return \"\";\n   var pos2 = this.str.indexOf(this.delimiter, this.pos);\n   var pos1 = this.pos;\n   if (pos2 > this.lineEnd) { // don't go past end of line\n      pos2 = this.lineEnd;\n      }\n   if (pos2 >= 0) {\n      this.pos = pos2 + 1;\n      return this.str.substring(pos1, pos2);\n      }\n   else {\n      this.pos = this.lineEnd;\n      return this.str.substring(pos1, this.lineEnd);\n      }\n   }\n\n// Return everything from current point until end of line\n\nSocialCalc.Parse.prototype.RestOfString = function() {\n   var oldpos = this.pos;\n   if (this.pos < 0 || this.pos >= this.lineEnd) return \"\";\n   this.pos = this.lineEnd;\n   return this.str.substring(oldpos, this.lineEnd);\n   }\n\nSocialCalc.Parse.prototype.RestOfStringNoMove = function() {\n   if (this.pos < 0 || this.pos >= this.lineEnd) return \"\";\n   return this.str.substring(this.pos, this.lineEnd);\n   }\n\n// Move current point to next line\n\nSocialCalc.Parse.prototype.NextLine = function() {\n   this.pos = this.lineEnd + 1;\n   this.lineEnd = this.str.indexOf(\"\\n\", this.pos);\n   if (this.lineEnd < 0) {\n      this.lineEnd = this.str.length;\n      }\n   }\n\n// Check to see if at end of string with no more to process\n\nSocialCalc.Parse.prototype.EOF = function() {\n   if (this.pos < 0 || this.pos >= this.str.length) return true;\n   return false;\n   }\n\n\n// *************************************\n//\n// UndoStack class:\n//\n// Implements the behavior needed for a normal application's undo/redo stack.\n// You add a new change sequence with PushChange.\n// The type argument is a string that can be used to lookup some general string\n// like \"typing\" or \"setting attribute\" for the menu prompts for undo/redo.\n//\n// You add the \"do\" steps with AddDo. The non-null, non-undefined arguments are\n// joined together with \" \" to make a command string to be saved.\n//\n// You add the undo steps as commands for the most recent change with AddUndo.\n// The non-null, non-undefined arguments are joined together with \" \" to make\n// a command string to be saved.\n//\n// The Undo and Redo functions move the Top Of Stack pointer through the changes stack\n// so you can undo and redo. Doing a new PushChange removes all undone items\n// after TOS.\n//\n// You can push more things than you can undo if you want.\n// There is a maximum to remember as the \"did\" stack for an audit trail (and as redo). This may be unlimited.\n// There is a separate maximum to remember that can be undone. This may be smaller than maxRedo.\n//\n// *************************************\n\nSocialCalc.UndoStack = function() {\n\n   // properties:\n\n   this.stack = []; // {command: [], type: type, undo: []} -- multiple dos and undos allowed\n   this.tos = -1; // top of stack position, used for undo/redo\n   this.maxRedo = 0; // Maximum size of redo stack (and audit trail which is this.stack[n].command) or zero if no limit\n   this.maxUndo = 50; // Maximum number of steps kept for undo (usually the memory intensive part) or zero if no limit\n\n   }\n\nSocialCalc.UndoStack.prototype.PushChange = function(type) { // adding a new thing to the stack\n   while (this.stack.length > 0 && this.stack.length-1 > this.tos) { // pop off things not redone\n      this.stack.pop();\n      }\n   this.stack.push({command: [], type: type, undo: []});\n   if (this.maxRedo && this.stack.length > this.maxRedo) { // limit number kept as audit trail\n      this.stack.shift(); // remove the extra one\n      }\n   if (this.maxUndo && this.stack.length > this.maxUndo) { // need to trim excess undo info\n      this.stack[this.stack.length - this.maxUndo - 1].undo = []; // only need to remove one\n      }\n   this.tos = this.stack.length - 1;\n   }\n\nSocialCalc.UndoStack.prototype.AddDo = function() {\n   if (!this.stack[this.stack.length-1]) { return; }\n   var args = [];\n   for (var i=0; i<arguments.length; i++) {\n      if (arguments[i]!=null) args.push(arguments[i]); // ignore null or undefined\n      }\n   var cmd = args.join(\" \");\n   this.stack[this.stack.length-1].command.push(cmd);\n   }\n\nSocialCalc.UndoStack.prototype.AddUndo = function() {\n   if (!this.stack[this.stack.length-1]) { return; }\n   var args = [];\n   for (var i=0; i<arguments.length; i++) {\n      if (arguments[i]!=null) args.push(arguments[i]); // ignore null or undefined\n      }\n   var cmd = args.join(\" \");\n   this.stack[this.stack.length-1].undo.push(cmd);\n   }\n\nSocialCalc.UndoStack.prototype.TOS = function() {\n   if (this.tos >= 0) return this.stack[this.tos];\n   else return null;\n   }\n\nSocialCalc.UndoStack.prototype.Undo = function() {\n   if (this.tos >= 0 && (!this.maxUndo || this.tos > this.stack.length - this.maxUndo - 1)) {\n      this.tos -= 1;\n      return true;\n      }\n   else {\n      return false;\n      }\n   }\n\nSocialCalc.UndoStack.prototype.Redo = function() {\n   if (this.tos < this.stack.length-1) {\n      this.tos += 1;\n      return true;\n      }\n   else {\n      return false;\n      }\n   }\n\n// *************************************\n//\n// Clipboard Object:\n//\n// This is a single object.\n// Stores the clipboard, which is shared by all active sheets.\n// Like the undo stack, it does not persist from one editing session to another.\n//\n// *************************************\n\nSocialCalc.Clipboard = {\n\n   // properties:\n\n   clipboard:  \"\" // empty or string in save format with \"copiedfrom:\" set to a range\n\n   }\n\n\n// *************************************\n//\n// RenderContext class:\n//\n// *************************************\n\nSocialCalc.RenderContext = function(sheetobj) {\n\n   var parts, num, s;\n   var attribs = sheetobj.attribs;\n   var scc = SocialCalc.Constants;\n\n   // properties:\n\n   this.sheetobj = sheetobj;\n   this.hideRowsCols = false; // Rendering with panes only works with \"false\"\n                              // !!!! Note: not implemented yet in rendering, just saved as an attribute\n   this.showGrid = false;\n   this.showRCHeaders = false;\n   this.rownamewidth = scc.defaultRowNameWidth;\n   this.pixelsPerRow = scc.defaultAssumedRowHeight;\n\n   this.cellskip = {}; // if present, coord of cell covering this cell\n   this.coordToCR = {}; // for cells starting spans, coordToCR[coord]={row:row, col:col}\n   this.colwidth = []; // precomputed column widths, taking into account defaults\n   this.rowheight = []; // precomputed row height, taking into account defaults\n   this.totalwidth = 0; // precomputed total table width\n   this.totalheight = 0; // precomputed total table height\n\n   this.rowpanes = []; // for each pane, {first: firstrow, last: lastrow}\n   this.colpanes = []; // for each pane, {first: firstrow, last: lastrow}\n   this.colunhideleft = [];\n   this.colunhideright = [];\n   this.rowunhidetop = [];\n   this.rowunhidebottom = [];\n   this.maxcol=0; // max col and row to display, adding long spans, etc.\n   this.maxrow=0;\n\n   this.highlights = {}; // for each cell with special display: coord:highlightType (see this.highlightTypes)\n   this.cursorsuffix = \"\"; // added to highlights[cr]==\"cursor\" to get type to lookup\n\n   this.highlightTypes = // attributes to change when highlit\n      {\n         cursor: {style: scc.defaultHighlightTypeCursorStyle, className: scc.defaultHighlightTypeCursorClass},\n         range: {style: scc.defaultHighlightTypeRangeStyle, className: scc.defaultHighlightTypeRangeClass},\n         cursorinsertup: {style: \"color:#FFF;backgroundColor:#A6A6A6;backgroundRepeat:repeat-x;backgroundPosition:top left;backgroundImage:url(\"+scc.defaultImagePrefix+\"cursorinsertup.gif);\", className: scc.defaultHighlightTypeCursorClass},\n         cursorinsertleft: {style: \"color:#FFF;backgroundColor:#A6A6A6;backgroundRepeat:repeat-y;backgroundPosition:top left;backgroundImage:url(\"+scc.defaultImagePrefix+\"cursorinsertleft.gif);\", className: scc.defaultHighlightTypeCursorClass},\n         range2: {style: \"color:#000;backgroundColor:#FFF;backgroundImage:url(\"+scc.defaultImagePrefix+\"range2.gif);\", className: \"\"}\n      }\n\n   this.cellIDprefix = scc.defaultCellIDPrefix; // if non-null, each cell will render with an ID\n\n   this.defaultlinkstyle = null; // default linkstyle object (allows you to pass values to link renderer)\n   this.defaultHTMLlinkstyle = {type: \"html\"}; // default linkstyle for standalone HTML\n\n   // constants:\n\n   this.defaultfontstyle = scc.defaultCellFontStyle;\n   this.defaultfontsize = scc.defaultCellFontSize;\n   this.defaultfontfamily = scc.defaultCellFontFamily;\n\n   this.defaultlayout = scc.defaultCellLayout;\n\n   this.defaultpanedividerwidth = scc.defaultPaneDividerWidth;\n   this.defaultpanedividerheight = scc.defaultPaneDividerHeight;\n\n   this.gridCSS = scc.defaultGridCSS;\n\n   this.commentClassName = scc.defaultCommentClass; // for cells with non-blank comments when this.showGrid is true\n   this.commentCSS = scc.defaultCommentStyle; // any combination of classnames and styles may be used\n   this.commentNoGridClassName = scc.defaultCommentNoGridClass; // for cells when this.showGrid is false\n   this.commentNoGridCSS = scc.defaultCommentNoGridStyle; // any combination of classnames and styles may be used\n\n   this.readonlyClassName = scc.defaultReadonlyClass; // for readonly cells with non-blank comments when this.showGrid is true\n   this.readonlyCSS = scc.defaultReadonlyStyle; // any combination of classnames and styles may be used\n   this.readonlyNoGridClassName = scc.defaultReadonlyNoGridClass; // for readonly cells when this.showGrid is false\n   this.readonlyNoGridCSS = scc.defaultReadonlyNoGridStyle; // any combination of classnames and styles may be used\n   this.readonlyComment = scc.defaultReadonlyComment;\n\n   this.classnames = // any combination of classnames and explicitStyles can be used\n      {\n         colname: scc.defaultColnameClass,\n         rowname: scc.defaultRownameClass,\n         selectedcolname: scc.defaultSelectedColnameClass,\n         selectedrowname: scc.defaultSelectedRownameClass,\n         upperleft: scc.defaultUpperLeftClass,\n         skippedcell: scc.defaultSkippedCellClass,\n         panedivider: scc.defaultPaneDividerClass,\n         unhideleft: scc.defaultUnhideLeftClass,\n         unhideright: scc.defaultUnhideRightClass,\n         unhidetop: scc.defaultUnhideTopClass,\n         unhidebottom: scc.defaultUnhideBottomClass,\n         colresizebar: scc.defaultColResizeBarClass,\n         rowresizebar: scc.defaultRowResizeBarClass\n      };\n\n   this.explicitStyles = // these may be used so you won't need a stylesheet with the classnames\n      {\n         colname: scc.defaultColnameStyle,\n         rowname: scc.defaultRownameStyle,\n         selectedcolname: scc.defaultSelectedColnameStyle,\n         selectedrowname: scc.defaultSelectedRownameStyle,\n         upperleft: scc.defaultUpperLeftStyle,\n         skippedcell: scc.defaultSkippedCellStyle,\n         panedivider: scc.defaultPaneDividerStyle,\n         unhideleft: scc.defaultUnhideLeftStyle,\n         unhideright: scc.defaultUnhideRightStyle,\n         unhidetop: scc.defaultUnhideTopStyle,\n         unhidebottom: scc.defaultUnhideBottomStyle\n      };\n\n   // processed info about cell skipping\n\n   this.cellskip = null;\n   this.needcellskip = true;\n\n   // precomputed values, filling in defaults indicated by \"*\"\n\n   this.fonts=[]; // for each fontnum, {style: fs, weight: fw, size: fs, family: ff}\n   this.layouts=[]; // for each layout, \"padding:Tpx Rpx Bpx Lpx;vertical-align:va;\"\n\n   this.needprecompute = true; // need to call PrecomputeSheetFontsAndLayouts\n\n   // if have a sheet object, initialize constants and precomputed values\n\n   if (attribs) {\n      this.rowpanes[0] = {first: 1, last: attribs.lastrow};\n      this.colpanes[0] = {first: 1, last: attribs.lastcol};\n      this.usermaxcol = attribs.usermaxcol;\n      this.usermaxrow = attribs.usermaxrow;\n\n      }\n   else throw scc.s_rcMissingSheet;\n\n   }\n\n// Methods:\n\nSocialCalc.RenderContext.prototype.PrecomputeSheetFontsAndLayouts = function() {SocialCalc.PrecomputeSheetFontsAndLayouts(this);};\nSocialCalc.RenderContext.prototype.CalculateCellSkipData = function() {SocialCalc.CalculateCellSkipData(this);};\nSocialCalc.RenderContext.prototype.CalculateColWidthData = function() {SocialCalc.CalculateColWidthData(this);};\nSocialCalc.RenderContext.prototype.CalculateRowHeightData = function() {SocialCalc.CalculateRowHeightData(this);};\nSocialCalc.RenderContext.prototype.SetRowPaneFirstLast = function(panenum, first, last) {this.rowpanes[panenum]={first:first, last:last};};\nSocialCalc.RenderContext.prototype.SetColPaneFirstLast = function(panenum, first, last) {this.colpanes[panenum]={first:first, last:last};};\nSocialCalc.RenderContext.prototype.CoordInPane = function(coord, rowpane, colpane) {return SocialCalc.CoordInPane(this, coord, rowpane, colpane);};\nSocialCalc.RenderContext.prototype.CellInPane = function(row, col, rowpane, colpane) {return SocialCalc.CellInPane(this, row, col, rowpane, colpane);};\nSocialCalc.RenderContext.prototype.InitializeTable = function(tableobj) {SocialCalc.InitializeTable(this, tableobj);};\nSocialCalc.RenderContext.prototype.RenderSheet = function(oldtable, linkstyle) {return SocialCalc.RenderSheet(this, oldtable, linkstyle);};\nSocialCalc.RenderContext.prototype.RenderColGroup = function() {return SocialCalc.RenderColGroup(this);};\nSocialCalc.RenderContext.prototype.RenderColHeaders = function() {return SocialCalc.RenderColHeaders(this);};\nSocialCalc.RenderContext.prototype.RenderSizingRow = function() {return SocialCalc.RenderSizingRow(this);};\nSocialCalc.RenderContext.prototype.RenderRow = function(rownum, rowpane, linkstyle) {return SocialCalc.RenderRow(this, rownum, rowpane, linkstyle);};\nSocialCalc.RenderContext.prototype.RenderSpacingRow = function() {return SocialCalc.RenderSpacingRow(this);};\nSocialCalc.RenderContext.prototype.RenderCell = function(rownum, colnum, rowpane, colpane, noElement, linkstyle)\n      {return SocialCalc.RenderCell(this, rownum, colnum, rowpane, colpane, noElement, linkstyle);};\n\n// Functions:\n\nSocialCalc.PrecomputeSheetFontsAndLayouts = function(context) {\n\n   var defaultfont, parts, layoutre, dparts, sparts, num, s, i;\n   var sheetobj = context.sheetobj;\n   var attribs =  sheetobj.attribs;\n\n   if (attribs.defaultfont) {\n      defaultfont = sheetobj.fonts[attribs.defaultfont];\n      defaultfont = defaultfont.replace(/^\\*/,SocialCalc.Constants.defaultCellFontStyle);\n      defaultfont = defaultfont.replace(/(.+)\\*(.+)/,\"$1\"+SocialCalc.Constants.defaultCellFontSize+\"$2\");\n      defaultfont = defaultfont.replace(/\\*$/,SocialCalc.Constants.defaultCellFontFamily);\n      parts=defaultfont.match(/^(\\S+? \\S+?) (\\S+?) (\\S.*)$/);\n      context.defaultfontstyle = parts[1];\n      context.defaultfontsize = parts[2];\n      context.defaultfontfamily = parts[3];\n      }\n\n   for (num=1; num<sheetobj.fonts.length; num++) { // precompute fonts by filling in the *'s\n      s=sheetobj.fonts[num];\n      s=s.replace(/^\\*/,context.defaultfontstyle);\n      s=s.replace(/(.+)\\*(.+)/,\"$1\"+context.defaultfontsize+\"$2\");\n      s=s.replace(/\\*$/,context.defaultfontfamily);\n      parts=s.match(/^(\\S+?) (\\S+?) (\\S+?) (\\S.*)$/);\n\n      if (!parts) continue\n\n      context.fonts[num] = {style: parts[1], weight: parts[2], size: parts[3], family: parts[4]};\n\n      }\n\n   layoutre = /^padding:\\s*(\\S+)\\s+(\\S+)\\s+(\\S+)\\s+(\\S+);vertical-align:\\s*(\\S+);/;\n   dparts = SocialCalc.Constants.defaultCellLayout.match(layoutre); // get built-in defaults\n\n   if (attribs.defaultlayout) {\n      sparts = sheetobj.layouts[attribs.defaultlayout].match(layoutre); // get sheet defaults, if set\n      }\n   else {\n      sparts = [\"\", \"*\", \"*\", \"*\", \"*\", \"*\"];\n      }\n\n   for (num=1; num<sheetobj.layouts.length; num++) { // precompute layouts by filling in the *'s\n      s=sheetobj.layouts[num];\n      parts = s.match(layoutre);\n\n      if (!parts) continue\n\n      for (i=1; i<=5; i++) {\n         if (parts[i]==\"*\") {\n            parts[i] = (sparts[i] != \"*\" ? sparts[i] : dparts[i]); // if *, sheet default or built-in\n            }\n         }\n      context.layouts[num] = \"padding:\"+parts[1]+\" \"+parts[2]+\" \"+parts[3]+\" \"+parts[4]+\n         \";vertical-align:\"+parts[5]+\";\";\n      }\n\n   context.needprecompute = false;\n\n   }\n\nSocialCalc.CalculateCellSkipData = function(context) {\n\n   var row, col, coord, cell, contextcell, colspan, rowspan, skiprow, skipcol, skipcoord;\n\n   var sheetobj=context.sheetobj;\n   var sheetrowattribs=sheetobj.rowattribs;\n   var sheetcolattribs=sheetobj.colattribs;\n   context.maxrow=0;\n   context.maxcol=0;\n   context.cellskip = {}; // reset\n\n   // Calculate cellskip data\n\n   for (row=1; row<=sheetobj.attribs.lastrow; row++) {\n      for (col=1; col<=sheetobj.attribs.lastcol; col++) { // look for spans and set cellskip for skipped cells\n         coord=SocialCalc.crToCoord(col, row);\n         cell=sheetobj.cells[coord];\n         // don't look at undefined cells (they have no spans) or skipped cells\n         if (cell===undefined || context.cellskip[coord]) continue;\n         colspan=cell.colspan || 1;\n         rowspan=cell.rowspan || 1;\n         if (colspan>1 || rowspan>1) {\n            for (skiprow=row; skiprow<row+rowspan; skiprow++) {\n               for (skipcol=col; skipcol<col+colspan; skipcol++) { // do the setting on individual cells\n                  skipcoord=SocialCalc.crToCoord(skipcol,skiprow);\n                  if (skipcoord==coord) { // for coord, remember row and col\n                     context.coordToCR[coord]={row: row, col: col};\n                     }\n                  else { // for other cells, flag with coord of here\n                     context.cellskip[skipcoord]=coord;\n                     }\n                  if (skiprow>context.maxrow) maxrow=skiprow;\n                  if (skipcol>context.maxcol) maxcol=skipcol;\n                  }\n               }\n            }\n         }\n      }\n\n   context.needcellskip = false;\n\n   }\n\nSocialCalc.CalculateColWidthData = function(context) {\n\n   var colnum, colname, colwidth, totalwidth;\n\n   var sheetobj=context.sheetobj;\n   var sheetcolattribs=sheetobj.colattribs;\n\n   // Calculate column width data\n\n   totalwidth=context.showRCHeaders ? context.rownamewidth-0 : 0;\n   for (colpane=0; colpane<context.colpanes.length; colpane++) {\n      for (colnum=context.colpanes[colpane].first; colnum<=context.colpanes[colpane].last; colnum++) {\n         colname=SocialCalc.rcColname(colnum);\n         if (sheetobj.colattribs.hide[colname] == \"yes\") {\n            context.colwidth[colnum] = 0;\n            }\n         else {\n            colwidth = sheetobj.colattribs.width[colname] || sheetobj.attribs.defaultcolwidth || SocialCalc.Constants.defaultColWidth;\n            if (colwidth==\"blank\" || colwidth==\"auto\") colwidth=\"\";\n            context.colwidth[colnum]=colwidth+\"\";\n            totalwidth+=(colwidth && ((colwidth-0)>0)) ? (colwidth-0) : 10;\n            }\n         }\n      }\n   context.totalwidth = totalwidth;\n\n   }\n\nSocialCalc.CalculateRowHeightData = function(context) {\n  var rownum, rowheight, totalheight;\n  var sheetobj = context.sheetobj;\n\n  // Calculate row height data\n  totalheight = context.showRCHeaders ? context.pixelsPerRow : 0;\n  for (rowpane = 0; rowpane < context.rowpanes.length; rowpane++) {\n    for (rownum = context.rowpanes[rowpane].first; rownum <= context.rowpanes[rowpane].last; rownum++) {\n      if (sheetobj.rowattribs.hide[rownum] === \"yes\") {\n        context.rowheight[rownum] = 0;\n      } else {\n        rowheight = sheetobj.rowattribs.height[rownum] || sheetobj.attribs.defaultrowheight || SocialCalc.Constants.defaultAssumedRowHeight;\n        if (rowheight === \"blank\" || rowheight === \"auto\") rowheight = \"\";\n        context.rowheight[rownum] = rowheight+\"\";\n        totalheight += (rowheight && ((rowheight - 0) > 0)) ? (rowheight-0) : 10;\n      }\n    }\n  }\n  context.totalheight = totalheight;\n\n}\n\nSocialCalc.InitializeTable = function(context, tableobj) {\n\n/*\n\nUses border-collapse so corners don't have holes\nNote: IE and Firefox handle <col> differently (IE adds borders and padding)\nunder border-collapse and Safari has problems with <col> and wide text\nTablelayout \"fixed\" also leads to problems\n\n*/\n\n/*\n\n*** Discussion ***\n\nThe rendering assumes fixed column widths, even though SocialCalc allows \"auto\".\nThere may be issues with \"auto\" and it is hard to make it work cross-browser\nwith border-collapse, etc.\n\nThis and the RenderSheet routine are where in the code the specifics of\ntable attributes and column size definitions are set. As the browsers settle down\nand when we decide if we don't need auto width, we may want to revisit the way the\ncode does this (e.g., use table-layout:fixed).\n\n*/\n   tableobj.style.borderCollapse=\"collapse\";\n   tableobj.cellSpacing=\"0\";\n   tableobj.cellPadding=\"0\";\n\n   tableobj.style.width=context.totalwidth+\"px\";\n\n   }\n\n//\n// tableobj = SocialCalc.RenderSheet(context, oldtable, linkstyle)\n//\n// Renders a render context returning a DOM table object.\n// If there is an oldtable object, it replaces it in the parent node.\n// If oldtable is null, it just returns the new one.\n// The linkstyle is \"\" or null for editing rendering\n// and optionally an object passed on to formatting code.\n//\n\nSocialCalc.RenderSheet = function(context, oldtable, linkstyle) {\n\n   var newrow, rowpane;\n   var tableobj, colgroupobj, tbodyobj, parentnode;\n\n   // do precompute stuff if necessary\n\n   if (context.sheetobj.changedrendervalues) {\n      context.needcellskip = true;\n      context.needprecompute = true;\n      context.sheetobj.changedrendervalues = false;\n      }\n   if (context.needcellskip) {\n      context.CalculateCellSkipData();\n      }\n   if (context.needprecompute) {\n      context.PrecomputeSheetFontsAndLayouts();\n      }\n\n   context.CalculateColWidthData(); // always make sure col width values are up to date\n   context.CalculateRowHeightData();\n\n   // make the table element and fill it in\n\n   tableobj=document.createElement(\"table\");\n   context.InitializeTable(tableobj);\n\n   colgroupobj=context.RenderColGroup();\n   tableobj.appendChild(colgroupobj);\n\n   tbodyobj=document.createElement(\"tbody\");\n\n   tbodyobj.appendChild(context.RenderSizingRow());\n\n   if (context.showRCHeaders) {\n      newrow=context.RenderColHeaders();\n      if (newrow) tbodyobj.appendChild(newrow);\n      }\n\n   for (rowpane=0; rowpane<context.rowpanes.length; rowpane++) {\n      for (rownum=context.rowpanes[rowpane].first;rownum<=context.rowpanes[rowpane].last;rownum++) {\n         newrow=context.RenderRow(rownum, rowpane, linkstyle);\n         tbodyobj.appendChild(newrow);\n         }\n      if (rowpane<context.rowpanes.length-1) {\n         newrow=context.RenderSpacingRow();\n         tbodyobj.appendChild(newrow);\n         }\n      }\n\n   tableobj.appendChild(tbodyobj);\n\n   if (oldtable) {\n      parentnode = oldtable.parentNode;\n      if (parentnode) parentnode.replaceChild(tableobj, oldtable);\n      }\n\n   return tableobj;\n\n   }\n\nSocialCalc.RenderRow = function(context, rownum, rowpane, linkstyle) {\n\n   var sheetobj=context.sheetobj;\n\n   var result=document.createElement(\"tr\");\n   var colnum, newcol, colpane, newdiv;\n\n   if (context.showRCHeaders) {\n      newcol=document.createElement(\"td\");\n      if (context.classnames) newcol.className=context.classnames.rowname;\n      if (context.explicitStyles) newcol.style.cssText=context.explicitStyles.rowname;\n      newcol.width=context.rownamewidth;\n      newcol.height = context.rowheight[rownum];\n      newcol.style.verticalAlign=\"top\"; // to get around Safari making top of centered row number be\n                                        // considered top of row (and can't get <row> position in Safari)\n      newcol.innerHTML=rownum+\"\";\n\n      // If neighbour is hidden, show an icon in this column.\n      if (rownum < context.rowpanes[context.rowpanes.length-1].last && sheetobj.rowattribs.hide[rownum+1] == \"yes\") {\n         // HACK: Because we likely want the icon floating at the bottom of the cell, we create an enclosing div\n         // with position relative and the icon's div will be placed inside it with position: absolute and bottom: 0.\n         var container = document.createElement(\"div\");\n         container.style.position = \"relative\";\n         var unhide = document.createElement(\"div\");\n         if (context.classnames) unhide.className=context.classnames.unhidetop;\n         if (context.explicitStyles) unhide.style.cssText=context.explicitStyles.unhidetop;\n         var fixPosition = ((context.rowheight[rownum] - 0) - SocialCalc.Constants.defaultAssumedRowHeight);\n         fixPosition = (fixPosition === 0) ? 4 : fixPosition;\n         unhide.style.bottom = '-' + fixPosition + 'px';\n         context.rowunhidetop[rownum] = unhide;\n         container.appendChild(unhide);\n         newcol.appendChild(container);\n         }\n      if (rownum > 1 && sheetobj.rowattribs.hide[rownum-1] == \"yes\") {\n         var unhide = document.createElement(\"div\");\n         if (context.classnames) unhide.className=context.classnames.unhidebottom;\n         if (context.explicitStyles) unhide.style.cssText=context.explicitStyles.unhidebottom;\n         context.rowunhidebottom[rownum] = unhide;\n         newcol.appendChild(unhide);\n         }\n\n      // add resize bar\n      var resizeBar = document.createElement('div');\n      resizeBar.className = context.classnames.rowresizebar;\n      newcol.appendChild(resizeBar);\n\n      result.appendChild(newcol);\n      }\n\n   for (colpane=0; colpane<context.colpanes.length; colpane++) {\n      for (colnum=context.colpanes[colpane].first; colnum<=context.colpanes[colpane].last; colnum++) {\n         newcol=context.RenderCell(rownum, colnum, rowpane, colpane, null, linkstyle);\n         if (newcol) result.appendChild(newcol);\n         }\n      if (colpane<context.colpanes.length-1) {\n         newcol=document.createElement(\"td\");\n         newcol.width=context.defaultpanedividerwidth;\n         if (context.classnames.panedivider) newcol.className=context.classnames.panedivider;\n         if (context.explicitStyles.panedivider) newcol.style.cssText=context.explicitStyles.panedivider;\n         newdiv=document.createElement(\"div\"); // for Firefox to avoid squishing\n         newdiv.style.width=context.defaultpanedividerwidth+\"px\";\n         newdiv.style.overflow=\"hidden\";\n         newcol.appendChild(newdiv);\n         result.appendChild(newcol);\n         }\n      }\n\n   // If hidden row, display: none.\n   if (sheetobj.rowattribs.hide[rownum] == \"yes\") {\n      result.style.cssText += \";display:none\";\n      }\n\n   return result;\n   }\n\nSocialCalc.RenderSpacingRow = function(context) {\n\n   var colnum, newcol, colpane, w;\n\n   var sheetobj=context.sheetobj;\n\n   var result=document.createElement(\"tr\");\n\n   if (context.showRCHeaders) {\n      newcol=document.createElement(\"td\");\n      newcol.width=context.rownamewidth;\n      newcol.height=context.defaultpanedividerheight;\n      if (context.classnames.panedivider) newcol.className=context.classnames.panedivider;\n      if (context.explicitStyles.panedivider) newcol.style.cssText=context.explicitStyles.panedivider;\n      result.appendChild(newcol);\n      }\n\n   for (colpane=0; colpane<context.colpanes.length; colpane++) {\n      for (colnum=context.colpanes[colpane].first; colnum<=context.colpanes[colpane].last; colnum++) {\n         newcol=document.createElement(\"td\");\n         w = context.colwidth[colnum];\n         if (w) newcol.width=w;\n         newcol.height=context.defaultpanedividerheight;\n         if (context.classnames.panedivider) newcol.className=context.classnames.panedivider;\n         if (context.explicitStyles.panedivider) newcol.style.cssText=context.explicitStyles.panedivider;\n         if (newcol) result.appendChild(newcol);\n         }\n      if (colpane<context.colpanes.length-1) {\n         newcol=document.createElement(\"td\");\n         newcol.width=context.defaultpanedividerwidth;\n         newcol.height=context.defaultpanedividerheight;\n         if (context.classnames.panedivider) newcol.className=context.classnames.panedivider;\n         if (context.explicitStyles.panedivider) newcol.style.cssText=context.explicitStyles.panedivider;\n         result.appendChild(newcol);\n         }\n      }\n   return result;\n   }\n\nSocialCalc.RenderColHeaders = function(context) {\n\n   var sheetobj=context.sheetobj;\n\n   var result=document.createElement(\"tr\");\n   var colnum, newcol;\n\n   if (!context.showRCHeaders) return null;\n\n   newcol=document.createElement(\"td\");\n   if (context.classnames) newcol.className=context.classnames.upperleft;\n   if (context.explicitStyles) newcol.style.cssText=context.explicitStyles.upperleft;\n   newcol.width=context.rownamewidth;\n   result.appendChild(newcol);\n\n   for (colpane=0; colpane<context.colpanes.length; colpane++) {\n      for (colnum=context.colpanes[colpane].first; colnum<=context.colpanes[colpane].last; colnum++) {\n         newcol=document.createElement(\"td\");\n         if (context.classnames) newcol.className=context.classnames.colname;\n         if (context.explicitStyles) newcol.style.cssText=context.explicitStyles.colname;\n\n         // If hidden column, display: none.\n         if (sheetobj.colattribs.hide[SocialCalc.rcColname(colnum)] == \"yes\") {\n            newcol.style.cssText += \";display:none\";\n            }\n\n         newcol.innerHTML=SocialCalc.rcColname(colnum);\n\n         // If neighbour is hidden, show an icon in this column.\n         if (colnum < context.colpanes[context.colpanes.length-1].last && sheetobj.colattribs.hide[SocialCalc.rcColname(colnum+1)] == \"yes\") {\n            var unhide = document.createElement(\"div\");\n            if (context.classnames) unhide.className=context.classnames.unhideleft;\n            if (context.explicitStyles) unhide.style.cssText=context.explicitStyles.unhideleft;\n            context.colunhideleft[colnum] = unhide;\n            newcol.appendChild(unhide);\n         }\n         if (colnum > 1 && sheetobj.colattribs.hide[SocialCalc.rcColname(colnum-1)] == \"yes\") {\n            unhide = document.createElement(\"div\");\n            if (context.classnames) unhide.className=context.classnames.unhideright;\n            if (context.explicitStyles) unhide.style.cssText=context.explicitStyles.unhideright;\n            context.colunhideright[colnum] = unhide;\n            newcol.appendChild(unhide);\n         }\n\n         // add resize bar\n         var resizeBar = document.createElement('span');\n         resizeBar.style.height = SocialCalc.Constants.defaultAssumedRowHeight + 'px';\n         resizeBar.className = context.classnames.colresizebar;\n         newcol.appendChild(resizeBar);\n\n         result.appendChild(newcol);\n         }\n      if (colpane<context.colpanes.length-1) {\n         newcol=document.createElement(\"td\");\n         newcol.width=context.defaultpanedividerwidth;\n         if (context.classnames.panedivider) newcol.className=context.classnames.panedivider;\n         if (context.explicitStyles.panedivider) newcol.style.cssText=context.explicitStyles.panedivider;\n         result.appendChild(newcol);\n         }\n      }\n   // eddy {\n//   if(context.formColNames != null) {\n//     for(var nodeIndex = 0;  nodeIndex < result.childNodes.length;  nodeIndex++ ) {\n//       var currentCol = result.childNodes[nodeIndex];\n//       if(context.formColNames[currentCol.innerText] != null) currentCol.innerText = context.formColNames[currentCol.innerText];\n//     }\n//   }\n   // }\n   return result;\n   }\n\nSocialCalc.RenderColGroup = function(context) {\n\n   var colpane, colnum, newcol, t;\n   var sheetobj=context.sheetobj;\n\n   var result=document.createElement(\"colgroup\");\n\n   if (context.showRCHeaders) {\n      newcol=document.createElement(\"col\");\n      newcol.width=context.rownamewidth;\n      result.appendChild(newcol);\n      }\n\n   for (colpane=0; colpane<context.colpanes.length; colpane++) {\n      for (colnum=context.colpanes[colpane].first; colnum<=context.colpanes[colpane].last; colnum++) {\n         newcol=document.createElement(\"col\");\n         if (sheetobj.colattribs.hide[SocialCalc.rcColname(colnum)] == \"yes\") {\n            newcol.width=\"1\";\n            }\n         else {\n            t = context.colwidth[colnum];\n            if (t) newcol.width=t;\n            result.appendChild(newcol);\n            }\n         }\n      if (colpane<context.colpanes.length-1) {\n         newcol=document.createElement(\"col\");\n         newcol.width=context.defaultpanedividerwidth;\n         result.appendChild(newcol);\n         }\n      }\n   return result;\n   }\n\nSocialCalc.RenderSizingRow = function(context) {\n\n   var colpane, colnum, newcell, t;\n   var sheetobj=context.sheetobj;\n\n   var result=document.createElement(\"tr\");\n\n   if (context.showRCHeaders) {\n      newcell=document.createElement(\"td\");\n      newcell.style.width=context.rownamewidth+\"px\";\n      newcell.height=\"1\";\n      result.appendChild(newcell);\n      }\n\n   for (colpane=0; colpane<context.colpanes.length; colpane++) {\n      for (colnum=context.colpanes[colpane].first; colnum<=context.colpanes[colpane].last; colnum++) {\n         newcell=document.createElement(\"td\");\n         if (sheetobj.colattribs.hide[SocialCalc.rcColname(colnum)] == \"yes\") {\n            newcell.width=\"1\";\n            }\n         else {\n            t = context.colwidth[colnum];\n            if (t) newcell.width=t;\n            }\n         newcell.height=\"1\";\n         result.appendChild(newcell);\n         }\n      if (colpane<context.colpanes.length-1) {\n         newcell=document.createElement(\"td\");\n         newcell.width=context.defaultpanedividerwidth;\n         newcell.height=\"1\";\n         result.appendChild(newcell);\n         }\n      }\n   return result;\n   }\n\nSocialCalc.RenderCell = function(context, rownum, colnum, rowpane, colpane, noElement, linkstyle) {\n\n   var sheetobj=context.sheetobj;\n\n   var num, t, result, span, stylename, cell, endcell, sheetattribs, scdefaults;\n   var stylestr=\"\";\n\n   rownum = rownum-0; // make sure a number\n   colnum = colnum-0;\n\n   var coord=SocialCalc.crToCoord(colnum, rownum);\n\n   if (context.cellskip[coord]) { // skip if within a span\n      if (context.CoordInPane(context.cellskip[coord], rowpane, colpane)) {\n         return null; // span starts in this pane -- so just skip\n         }\n      result=noElement ? SocialCalc.CreatePseudoElement() : document.createElement(\"td\"); // span start is scrolled away, so make a special cell\n      if (context.classnames.skippedcell) result.className=context.classnames.skippedcell;\n      if (context.explicitStyles.skippedcell) result.style.cssText=context.explicitStyles.skippedcell;\n      result.innerHTML=\"&nbsp;\"; // put something there so height is OK\n      // !!! Really need to add borders in case there isn't anything else shown in the pane to get height\n      return result;\n      }\n\n   result=noElement ? SocialCalc.CreatePseudoElement() : document.createElement(\"td\");\n\n   if (context.cellIDprefix) {\n      result.id = context.cellIDprefix+coord;\n      }\n\n   cell=sheetobj.cells[coord];\n\n   if (!cell) {\n      cell=new SocialCalc.Cell(coord);\n      }\n\n   sheetattribs=sheetobj.attribs;\n   scc=SocialCalc.Constants;\n\n   if (cell.colspan>1) {\n      span=1;\n      for (num=1; num<cell.colspan; num++) {\n          if (sheetobj.colattribs.hide[SocialCalc.rcColname(colnum+num)]!=\"yes\" &&\n                context.CellInPane(rownum, colnum+num, rowpane, colpane)) {\n             span++;\n             }\n          }\n      result.colSpan=span;\n      }\n\n   if (cell.rowspan>1) {\n      span=1;\n      for (num=1; num<cell.rowspan; num++) {\n          if (sheetobj.rowattribs.hide[(rownum+num)+\"\"]!=\"yes\" &&\n                context.CellInPane(rownum+num, colnum, rowpane, colpane))\n             span++;\n         }\n      result.rowSpan=span;\n      }\n\n   if (cell.displaystring==undefined || sheetobj.widgetsClean == false) { // cache the display value\n      cell.displaystring = SocialCalc.FormatValueForDisplay(sheetobj, cell.datavalue, coord, (linkstyle || context.defaultlinkstyle));\n      }\n\n   result.innerHTML = cell.displaystring;\n\n   num=cell.layout || sheetattribs.defaultlayout;\n   if (num && typeof(context.layouts[num]) !== \"undefined\") {\n      stylestr+=context.layouts[num]; // use precomputed layout with \"*\"'s filled in\n      }\n   else {\n      stylestr+=scc.defaultCellLayout;\n      }\n\n   num=cell.font || sheetattribs.defaultfont;\n   if (num && typeof(context.fonts[num]) !== \"undefined\") { // get expanded font strings in context\n      t = context.fonts[num]; // do each - plain \"font:\" style sets all sorts of other values, too (Safari font-stretch problem on cssText)\n      stylestr+=\"font-style:\"+t.style+\";font-weight:\"+t.weight+\";font-size:\"+t.size+\";font-family:\"+t.family+\";\";\n      }\n   else {\n      if (scc.defaultCellFontSize) {\n         stylestr+=\"font-size:\"+scc.defaultCellFontSize+\";\";\n         }\n      if (scc.defaultCellFontFamily) {\n         stylestr+=\"font-family:\"+scc.defaultCellFontFamily+\";\";\n         }\n      }\n\n   num=cell.color || sheetattribs.defaultcolor;\n   if (num && typeof(sheetobj.colors[num]) !== \"undefined\") stylestr+=\"color:\"+sheetobj.colors[num]+\";\";\n\n   num=cell.bgcolor || sheetattribs.defaultbgcolor;\n   if (num && typeof(sheetobj.colors[num]) !== \"undefined\") stylestr+=\"background-color:\"+sheetobj.colors[num]+\";\";\n\n   num=cell.cellformat;\n   if (num && typeof(sheetobj.cellformats[num]) !== \"undefined\") {\n      stylestr+=\"text-align:\"+sheetobj.cellformats[num]+\";\";\n      }\n   else {\n      t=cell.valuetype.charAt(0);\n      if (t==\"t\") {\n         num=sheetattribs.defaulttextformat;\n         if (num && typeof(sheetobj.cellformats[num]) !== \"undefined\") stylestr+=\"text-align:\"+sheetobj.cellformats[num]+\";\";\n         }\n      else if (t==\"n\") {\n         num=sheetattribs.defaultnontextformat;\n         if (num && typeof(sheetobj.cellformats[num]) !== \"undefined\") {\n            stylestr+=\"text-align:\"+sheetobj.cellformats[num]+\";\";\n            }\n         else {\n            stylestr+=\"text-align:right;\";\n            }\n         }\n      else stylestr+=\"text-align:left;\";\n      }\n\n   // get the end cell for border styling\n   if (cell.colspan > 1 || cell.rowspan > 1) {\n      endcell = sheetobj.cells[SocialCalc.crToCoord(colnum+(cell.colspan || 1)-1, rownum+(cell.rowspan || 1)-1)];\n      }\n\n   num=cell.bt;\n   if (num && typeof(sheetobj.borderstyles[num]) !== \"undefined\") stylestr+=\"border-top:\"+sheetobj.borderstyles[num]+\";\";\n\n   num=typeof(endcell) != \"undefined\" ? endcell.br : cell.br;\n   if (num && typeof(sheetobj.borderstyles[num]) !== \"undefined\") stylestr+=\"border-right:\"+sheetobj.borderstyles[num]+\";\";\n   else if (context.showGrid) {\n      if (context.CellInPane(rownum, colnum+(cell.colspan || 1), rowpane, colpane))\n         t=SocialCalc.crToCoord(colnum+(cell.colspan || 1), rownum);\n      else t=\"nomatch\";\n      if (context.cellskip[t]) t=context.cellskip[t];\n      if (!sheetobj.cells[t] || !sheetobj.cells[t].bl)\n         stylestr+=\"border-right:\"+context.gridCSS;\n      }\n\n   num=typeof(endcell) != \"undefined\" ? endcell.bb : cell.bb;\n   if (num && typeof(sheetobj.borderstyles[num]) !== \"undefined\") stylestr+=\"border-bottom:\"+sheetobj.borderstyles[num]+\";\";\n   else if (context.showGrid) {\n      if (context.CellInPane(rownum+(cell.rowspan || 1), colnum, rowpane, colpane))\n         t=SocialCalc.crToCoord(colnum, rownum+(cell.rowspan || 1));\n      else t=\"nomatch\";\n      if (context.cellskip[t]) t=context.cellskip[t];\n      if (!sheetobj.cells[t] || !sheetobj.cells[t].bt)\n         stylestr+=\"border-bottom:\"+context.gridCSS;\n      }\n\n   num=cell.bl;\n   if (num && typeof(sheetobj.borderstyles[num]) !== \"undefined\") stylestr+=\"border-left:\"+sheetobj.borderstyles[num]+\";\";\n\n   if (cell.comment) {\n      result.title = cell.comment;\n      if (context.showGrid) {\n         if (context.commentClassName) {\n            result.className = (result.className ? result.className+\" \" : \"\") + context.commentClassName;\n            }\n         stylestr+=context.commentCSS;\n         }\n      else {\n         if (context.commentNoGridClassName) {\n            result.className = (result.className ? result.className+\" \" : \"\") + context.commentNoGridClassName;\n            }\n         stylestr+=context.commentNoGridCSS;\n         }\n      }\n\n   if (cell.readonly) {\n      if (!cell.comment) {\n         result.title = context.readonlyComment;\n         }\n      if (context.showGrid) {\n         if (context.readonlyClassName) {\n            result.className = (result.className ? result.className+\" \" : \"\") + context.readonlyClassName;\n            }\n         stylestr+=context.readonlyCSS;\n         }\n      else {\n         if (context.readonlyNoGridClassName) {\n            result.className = (result.className ? result.className+\" \" : \"\") + context.readonlyNoGridClassName;\n            }\n         stylestr+=context.readonlyNoGridCSS;\n         }\n      }\n\n   result.style.cssText=stylestr;\n\n   //!!!!!!!!!\n   // NOTE: csss is not supported yet.\n   // csss needs to be parsed into pieces to override just the attributes specified, not all with assignment to cssText.\n   if (cell.cssc !== undefined) {\n      noElement ? (result.className = (result.className ? result.className + ' ' : '') + cell.cssc) : result.classList.add(cell.cssc);\n   }\n\n   t = context.highlights[coord];\n   if (t) { // this is a highlit cell: Override style appropriately\n      if (t==\"cursor\") t += context.cursorsuffix; // cursor can take alternative forms\n      if (context.highlightTypes[t].className) {\n         result.className = (result.className ? result.className+\" \" : \"\") + context.highlightTypes[t].className;\n         }\n      SocialCalc.setStyles(result, context.highlightTypes[t].style);\n      }\n\n   // If hidden column, display: none.\n   if (sheetobj.colattribs.hide[SocialCalc.rcColname(colnum)] == \"yes\") {\n      result.style.cssText+=\";display:none\";\n      }\n\n   // If hidden row, display: none.\n   if (sheetobj.rowattribs.hide[rownum] == \"yes\") {\n      result.style.cssText+=\";display:none\";\n      }\n\n   return result;\n   }\n\nSocialCalc.CoordInPane = function(context, coord, rowpane, colpane) {\n   var coordToCR = context.coordToCR[coord];\n   if (!coordToCR || !coordToCR.row || !coordToCR.col) throw \"Bad coordToCR for \"+coord;\n   return context.CellInPane(coordToCR.row, coordToCR.col, rowpane, colpane);\n   }\n\n\nSocialCalc.CellInPane = function(context, row, col, rowpane, colpane) {\n   var panerowlimits = context.rowpanes[rowpane];\n   var panecollimits = context.colpanes[colpane];\n   if (!panerowlimits || !panecollimits) throw \"CellInPane called with unknown panes \"+rowpane+\"/\"+colpane;\n   if (row < panerowlimits.first || row > panerowlimits.last) return false;\n   if (col < panecollimits.first || col > panecollimits.last) return false;\n   return true;\n   }\n\nSocialCalc.CreatePseudoElement = function() {\n   return {style:{cssText:\"\"}, innerHTML: \"\", className: \"\"};\n   }\n\n\n// *************************************\n//\n// Misc. functions:\n//\n// *************************************\n\nSocialCalc.rcColname = function(c) {\n   if (c > 702) c = 702; // maximum number of columns - ZZ\n   if (c < 1) c = 1;\n   var collow = (c - 1) % 26 + 65;\n   var colhigh = Math.floor((c - 1) / 26);\n   if (colhigh)\n      return String.fromCharCode(colhigh + 64) + String.fromCharCode(collow);\n   else\n      return String.fromCharCode(collow);\n   }\n\nSocialCalc.letters = [\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\n                      \"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\"];\n\nSocialCalc.crToCoord = function(c, r) {\n   var result;\n   if (c < 1) c = 1;\n   if (c > 702) c = 702; // maximum number of columns - ZZ\n   if (r < 1) r = 1;\n   var collow = (c - 1) % 26;\n   var colhigh = Math.floor((c - 1) / 26);\n   if (colhigh)\n      result = SocialCalc.letters[colhigh-1] + SocialCalc.letters[collow] + r;\n   else\n      result = SocialCalc.letters[collow] + r;\n   return result;\n   }\n\nSocialCalc.coordToCol = {}; // too expensive to set in crToCoord since that is called so many times\nSocialCalc.coordToRow = {};\n\nSocialCalc.coordToCr = function(cr) {\n   var c, i, ch;\n   var r = SocialCalc.coordToRow[cr];\n   if (r) return {row: r, col: SocialCalc.coordToCol[cr]};\n   c=0;r=0;\n   for (i=0; i<cr.length; i++) { // this was faster than using regexes; assumes well-formed\n      ch = cr.charCodeAt(i);\n      if (ch==36) ; // skip $'s\n      else if (ch<=57) r = 10*r + ch-48;\n      else if (ch>=97) c = 26*c + ch-96;\n      else if (ch>=65) c = 26*c + ch-64;\n      }\n   SocialCalc.coordToCol[cr] = c;\n   SocialCalc.coordToRow[cr] = r;\n   return {row: r, col: c};\n\n   }\n\nSocialCalc.ParseRange = function(range) {\n   var pos, cr, cr1, cr2;\n   if (!range) range = \"A1:A1\"; // error return, hopefully benign\n   range = range.toUpperCase();\n   pos = range.indexOf(\":\");\n   if (pos>=0) {\n      cr = range.substring(0,pos);\n      cr1 = SocialCalc.coordToCr(cr);\n      cr1.coord = cr;\n      cr = range.substring(pos+1);\n      cr2 = SocialCalc.coordToCr(cr);\n      cr2.coord = cr;\n      }\n   else {\n      cr1 = SocialCalc.coordToCr(range);\n      cr1.coord = range;\n      cr2 = SocialCalc.coordToCr(range);\n      cr2.coord = range;\n      }\n   return {cr1: cr1, cr2: cr2};\n   }\n\nSocialCalc.decodeFromSave = function(s) {\n   if (typeof s != \"string\") return s;\n   if (s.indexOf(\"\\\\\")==-1) return s; // for performace reasons: replace nothing takes up time\n   var r=s.replace(/\\\\c/g,\":\");\n   r=r.replace(/\\\\n/g,\"\\n\");\n   return r.replace(/\\\\b/g,\"\\\\\");\n   }\n\nSocialCalc.decodeFromAjax = function(s) {\n   if (typeof s != \"string\") return s;\n   if (s.indexOf(\"\\\\\")==-1) return s; // for performace reasons: replace nothing takes up time\n   var r=s.replace(/\\\\c/g,\":\");\n   r=r.replace(/\\\\n/g,\"\\n\");\n   r=r.replace(/\\\\e/g,\"]]\");\n   return r.replace(/\\\\b/g,\"\\\\\");\n   }\n\nSocialCalc.encodeForSave = function(s) {\n   if (typeof s != \"string\") return s;\n   if (s.indexOf(\"\\\\\")!=-1) // for performace reasons: replace nothing takes up time\n      s=s.replace(/\\\\/g,\"\\\\b\");\n   if (s.indexOf(\":\")!=-1)\n      s=s.replace(/:/g,\"\\\\c\");\n   if (s.indexOf(\"\\n\")!=-1)\n      s=s.replace(/\\n/g,\"\\\\n\");\n   return s;\n   }\n\n//\n// Returns estring where &, <, >, \" are HTML escaped\n//\nSocialCalc.special_chars = function(string) {\n\n   if (/[&<>\"]/.test(string)) { // only do \"slow\" replaces if something to replace\n      string = string.replace(/&/g, \"&amp;\");\n      string = string.replace(/</g, \"&lt;\");\n      string = string.replace(/>/g, \"&gt;\");\n      string = string.replace(/\"/g, \"&quot;\");\n      }\n   return string;\n\n   }\n\nSocialCalc.Lookup = function(value, list) {\n\n   for (i=0; i<list.length; i++) {\n      if (list[i] > value) {\n         if (i>0) return i-1;\n         else return null;\n         }\n      }\n   return list.length-1; // if all smaller, matches last\n\n   }\n\n//\n// setStyles(element, cssText)\n//\n// Takes a pseudo style string (e.g., text-align must be textAlign) and sets\n// the element's style value for each style name listed (leaving others unchanged).\n// OK to call with null cssText.\n//\n\nSocialCalc.setStyles = function (element, cssText) {\n\n   var parts, part, pos, name, value;\n\n   if (!cssText) return;\n\n   parts = cssText.split(\";\");\n   for (part=0; part<parts.length; part++) {\n      pos = parts[part].indexOf(\":\"); // find first colon (could be one in url)\n      if (pos != -1) {\n         name = parts[part].substring(0, pos);\n         value = parts[part].substring(pos+1);\n         if (name && value) { // if non-null name and value, set style\n            element.style[name] = value;\n            }\n         }\n//      namevalue = parts[part].split(\":\");\n//      if (namevalue[0]) element.style[namevalue[0]] = namevalue[1];\n      }\n\n   }\n\n//\n// GetViewportInfo() - returns object with viewport width and height, and scroll offsets\n//\n// Flanagan, JavaScript, 5th Edition, page 276\n//\n\nSocialCalc.GetViewportInfo = function () {\n\n   var result = {};\n\n   if (window.innerWidth) { // all but IE\n      result.width = window.innerWidth;\n      result.height = window.innerHeight;\n      result.horizontalScroll = window.pageXOffset;\n      result.verticalScroll = window.pageYOffset;\n      }\n   else {\n      if (document.documentElement && document.documentElement.clientWidth) {\n         result.width = document.documentElement.clientWidth;\n         result.height = document.documentElement.clientHeight;\n         result.horizontalScroll = document.documentElement.scrollLeft;\n         result.verticalScroll = document.documentElement.scrollTop;\n         }\n      else if (document.body.clientWidth) {\n         result.width = document.body.clientWidth;\n         result.height = document.body.clientHeight;\n         result.horizontalScroll = document.body.scrollLeft;\n         result.verticalScroll = document.body.scrollTop;\n         }\n      }\n\n   return result;\n   }\n\n//\n// GetElementPosition(element) - returns object with left and top position of the element in the document\n//\n// Goodman's JavaScript & DHTML Cookbook, 2nd Edition, page 415\n//\n\nSocialCalc.GetElementPosition = function (element) {\n\n   var offsetLeft = 0;\n   var offsetTop = 0;\n   while (element) {\n      if (SocialCalc.GetComputedStyle(element,'position')=='relative') break;\n      offsetLeft+=element.offsetLeft;\n      offsetTop+=element.offsetTop;\n      element=element.offsetParent;\n      }\n   return {left:offsetLeft, top:offsetTop};\n\n   }\n\n//\n// GetElementPositionWithScroll(element) - returns object with left and top position of the element in the document\n//\n\nSocialCalc.GetElementPositionWithScroll = function (element) {\n\n   var rect = element.getBoundingClientRect();\n   return {\n      left:rect.left,\n      right:rect.right,\n      top:rect.top,\n      bottom:rect.bottom,\n      width:rect.width?rect.width:rect.right-rect.left,\n      height:rect.height?rect.height:rect.bottom-rect.top\n      };\n\n   }\n\n//\n// GetElementFixedParent(element) - checks whether element has a parent with position:fixed\n//\n\nSocialCalc.GetElementFixedParent = function(element) {\n\n   while (element) {\n      if (element.tagName==\"HTML\") break;\n      if (SocialCalc.GetComputedStyle(element,'position')=='fixed') return element;\n      element=element.parentNode;\n      }\n      return false;\n\n   }\n\n//\n// GetComputedStyle(element, style) - returns computed style value\n//\n// http://blog.stchur.com/2006/06/21/css-computed-style/\n//\n\nSocialCalc.GetComputedStyle = function (element, style) {\n\n   var computedStyle;\n   if (typeof element.currentStyle != 'undefined') { // IE\n      computedStyle = element.currentStyle;\n      }\n   else {\n      computedStyle = document.defaultView.getComputedStyle(element, null);\n      }\n   return computedStyle[style];\n\n   }\n\n//\n// LookupElement(element, array) - returns array element which is an object with \"element\" of element\n//\n\nSocialCalc.LookupElement = function (element, array) {\n\n   var i;\n   for (i=0; i<array.length; i++) {\n      if (array[i].element == element) return array[i];\n      }\n   return null;\n\n   }\n\n//\n// AssignID(obj, element, id) - Optionally assigns an ID with a prefix to the element\n//\n\nSocialCalc.AssignID = function (obj, element, id) {\n\n   if (obj.idPrefix) { // Object must have a non-empty idPrefix attribute\n      element.id = obj.idPrefix + id;\n      }\n\n   }\n\n//\n// SocialCalc.GetCellContents(sheetobj, coord)\n//\n// Returns the contents (value, formula, constant, etc.) of a cell\n// with appropriate prefix (\"'\", \"=\", etc.)\n//\n\nSocialCalc.GetCellContents = function(sheetobj, coord) {\n\n   var result = \"\";\n   var cellobj = sheetobj.cells[coord];\n   if (cellobj) {\n      switch (cellobj.datatype) {\n         case \"v\":\n            result = cellobj.datavalue+\"\";\n            break;\n         case \"t\":\n            result = \"'\"+cellobj.datavalue;\n            break;\n         case \"f\":\n            result = \"=\"+cellobj.formula;\n            break;\n         case \"c\":\n            result = cellobj.formula;\n            break;\n         default:\n            break;\n         }\n      }\n\n   return result;\n\n   }\n\n//\n// Routines translated from the SocialCalc 1.1.0 Perl code:\n//\n// (Makes use of the FormatNumber JavaScript code translated from the Perl.)\n//\n\n//\n// displayvalue = FormatValueForDisplay(sheetobj, value, cr, linkstyle)\n//\n// Returns a string, in HTML, for the contents of a cell.\n//\n// The value is a either numeric or text, the cr is the coord of the cell\n// (its cell properties are used to determine formatting), and linkstyle\n// is a value passed to wiki-text expansion routines specifying the\n// purpose of the rendering so, for example, links can be rendered differently\n// during edit than with plain HTML.\n//\n\nSocialCalc.FormatValueForDisplay = function(sheetobj, value, cr, linkstyle) {\n\n   var valueformat, has_parens, has_commas, valuetype, valuesubtype;\n   var displayvalue;\n\n   var sheetattribs=sheetobj.attribs;\n   var scc=SocialCalc.Constants;\n\n   var cell=sheetobj.cells[cr];\n\n   if (!cell) { // get an empty cell if not there\n      cell=new SocialCalc.Cell(cr);\n      }\n\n   displayvalue = value;\n\n   valuetype = cell.valuetype || \"\"; // get type of value to determine formatting\n   valuesubtype = valuetype.substring(1);\n\n   // eddy setup display cell {\n   valueinputwidget = valuetype.charAt(1);\n   var formula_name= valuetype.substring(2);\n   var html_display_value = null;\n   var html_formated_value = null;\n   // }\n\n   valuetype = valuetype.charAt(0);\n\n\n   if (cell.errors || valuetype==\"e\") {\n      displayvalue = cell.errors || valuesubtype || \"Error in cell\";\n      return displayvalue;\n      }\n\n   if (valuetype==\"t\") {\n      valueformat = sheetobj.valueformats[cell.textvalueformat-0] || sheetobj.valueformats[sheetattribs.defaulttextvalueformat-0] || \"\";\n      if (valueformat==\"formula\") {\n         if (cell.datatype==\"f\") {\n            displayvalue = SocialCalc.special_chars(\"=\"+cell.formula) || \"&nbsp;\";\n            }\n         else if (cell.datatype==\"c\") {\n            displayvalue = SocialCalc.special_chars(\"'\"+cell.formula) || \"&nbsp;\";\n            }\n         else {\n            displayvalue = SocialCalc.special_chars(\"'\"+displayvalue) || \"&nbsp;\";\n            }\n         return displayvalue;\n         }\n\t  var html_display_value = displayvalue; // eddy\n      displayvalue = SocialCalc.format_text_for_display(displayvalue, cell.valuetype, valueformat, sheetobj, linkstyle, cell.nontextvalueformat);\n\t  var html_formated_value = displayvalue; // eddy\n\n      }\n\n   else if (valuetype==\"n\") {\n      valueformat = cell.nontextvalueformat;\n      if (valueformat==null || valueformat==\"\") { //\n         valueformat = sheetattribs.defaultnontextvalueformat;\n         }\n      valueformat = sheetobj.valueformats[valueformat-0];\n      if (valueformat==null || valueformat==\"none\") {\n         valueformat = \"\";\n         }\n\n\n      if (valueformat==\"formula\") {\n         if (cell.datatype==\"f\") {\n            displayvalue = SocialCalc.special_chars(\"=\"+cell.formula) || \"&nbsp;\";\n            }\n         else if (cell.datatype==\"c\") {\n            displayvalue = SocialCalc.special_chars(\"'\"+cell.formula) || \"&nbsp;\";\n            }\n         else {\n            displayvalue = SocialCalc.special_chars(\"'\"+displayvalue) || \"&nbsp;\";\n            }\n         return displayvalue;\n         }\n      else if (valueformat==\"forcetext\") {\n         if (cell.datatype==\"f\") {\n            displayvalue = SocialCalc.special_chars(\"=\"+cell.formula) || \"&nbsp;\";\n            }\n         else if (cell.datatype==\"c\") {\n            displayvalue = SocialCalc.special_chars(cell.formula) || \"&nbsp;\";\n            }\n         else {\n            displayvalue = SocialCalc.special_chars(displayvalue) || \"&nbsp;\";\n            }\n         return displayvalue;\n         }\n\n\t  var html_display_value = displayvalue; // eddy\n      displayvalue = SocialCalc.format_number_for_display(displayvalue, cell.valuetype, valueformat);\n\t  var html_formated_value = displayvalue; // eddy\n\n      }\n   else { // unknown type - probably blank\n      displayvalue = \"&nbsp;\";\n      }\n\n\n   // eddy display cell HTML {\n   if(valueinputwidget==\"i\" && html_display_value!=null && html_formated_value!=null) {\n     var parameters = sheetobj.ioParameterList[cr];\n\n\t   var formula_details = SocialCalc.Formula.FunctionList[formula_name];\n//\t var ecell = SocialCalc.GetSpreadsheetControlObject().editor.ecell; // check if widget has focus\n//\t SocialCalc.GetSpreadsheetControlObject().debug.push({formula_name:formula_name});\n\t\t if( formula_details) {\n\t\t\t var cell_html = formula_details[5];\n\t\t\t // var cell_html = \"<button type='button' onclick=\\\"SocialCalc.TriggerIoAction('<%=cell_reference%>');\\\"><%=display_value%></button>\";\n\n\t\t\t var checkedValue = (html_display_value == 0) ? \"\" : \"checked\"; // for checkbox\n\t\t\t cell_html = cell_html.replace(/<%=checked%>/g, checkedValue);\n\t\t\t cell_html = cell_html.replace(/<%=formated_value%>/g, html_formated_value);\n       cell_html = cell_html.replace(/<%=display_value%>/g, html_display_value);\n       // replace widget HTML with parameter\n       // FOR each parameter\n       var parameterValue; // set to value of param for if coord, value of cell\n       if(parameters) {\n         // add forumla parameters to widget html\n         for(var index=0; index < parameters.length; index ++) {\n           // IF coord THEN replace with cell value\n           if(parameters[index].type == 'coord') {\n             parameterValue = sheetobj.GetAssuredCell(parameters[index].value).datavalue;\n           } else {\n             // ELSE with param value\n             parameterValue = parameters[index].value;\n           }\n           var paramRegExp = new RegExp(\"<%=parameter\"+index+\"_value%>\",'g');\n           cell_html = cell_html.replace(paramRegExp, parameterValue);\n         }\n         if(parameters.html) { // add html created in formula1.js to widget\n           for(var htmlIndex=0; htmlIndex < parameters.html.length; htmlIndex ++) {\n             var paramRegExp = new RegExp(\"<%=html\"+htmlIndex+\"_value%>\",'g');\n             cell_html = cell_html.replace(paramRegExp, parameters.html[htmlIndex]);\n           }\n         }\n         if(parameters.css) { // add style(css) formula css value, if any - e.g. =textbox(\"\")+style(\"margin: 8px 0;\")\n           // * RegEx Unit Test **  https://regex101.com/r/oV7wU5/2\n           cell_html = cell_html.replace(/^(<\\w+)(\\W)/, \"$1 style='\"+parameters.css+ \"'$2\");\n         }\n\n       }\n\n\t\t\t return cell_html.replace(/<%=cell_reference%>/g, cr);\n\t\t\t }\n\t\t return \"error:Widget HTML missing\";\n\t }\n   // }\n\n\n\n   return displayvalue;\n\n   }\n\n\n\n//\n// displayvalue = format_text_for_display(rawvalue, valuetype, valueformat, sheetobj, linkstyle, nontextvalueformat)\n//\n\nSocialCalc.format_text_for_display = function(rawvalue, valuetype, valueformat, sheetobj, linkstyle, nontextvalueformat) {\n\n   var valueformat, valuesubtype, dvsc, dvue, textval;\n   var displayvalue;\n\n   valuesubtype = valuetype.substring(1);\n\n   displayvalue = rawvalue;\n\n   if (valueformat==\"none\" || valueformat==null) valueformat=\"\";\n   if (!/^(text-|custom|hidden)/.test(valueformat)) valueformat=\"\";\n   if (valueformat==\"\" || valueformat==\"General\") { // determine format from type\n      if (valuesubtype==\"h\") valueformat=\"text-html\";\n      if (valuesubtype==\"w\" || valuesubtype==\"r\") valueformat=\"text-wiki\";\n      if (valuesubtype==\"l\") valueformat=\"text-link\";\n      if (!valuesubtype) valueformat=\"text-plain\";\n      }\n   if (valueformat==\"text-html\") { // HTML - output as it as is\n      ;\n      }\n   else if (SocialCalc.Callbacks.expand_wiki && /^text-wiki/.test(valueformat)) { // do general wiki markup\n      displayvalue = SocialCalc.Callbacks.expand_wiki(displayvalue, sheetobj, linkstyle, valueformat);\n      }\n   else if (valueformat==\"text-wiki\") { // wiki text\n      displayvalue = (SocialCalc.Callbacks.expand_markup\n                      && SocialCalc.Callbacks.expand_markup(displayvalue, sheetobj, linkstyle)) || // do old wiki markup\n                     SocialCalc.special_chars(\"wiki-text:\"+displayvalue);\n      }\n   else if (valueformat==\"text-url\") { // text is a URL for a link\n      dvsc = SocialCalc.special_chars(displayvalue);\n      dvue = encodeURI(displayvalue);\n      displayvalue = '<a href=\"'+dvue+'\">'+dvsc+'</a>';\n      }\n   else if (valueformat==\"text-link\") { // more extensive link capabilities for regular web links\n      displayvalue = SocialCalc.expand_text_link(displayvalue, sheetobj, linkstyle, valueformat);\n      }\n   else if (valueformat==\"text-image\") { // text is a URL for an image\n      dvue = encodeURI(displayvalue);\n      displayvalue = '<img src=\"'+dvue+'\">';\n      }\n   else if (valueformat.substring(0,12)==\"text-custom:\") { // construct a custom text format: @r = text raw, @s = special chars, @u = url encoded\n      dvsc = SocialCalc.special_chars(displayvalue); // do special chars\n      dvsc = dvsc.replace(/  /g, \"&nbsp; \"); // keep multiple spaces\n      dvsc = dvsc.replace(/\\n/g, \"<br>\");  // keep line breaks\n      dvue = encodeURI(displayvalue);\n      textval={};\n      textval.r = displayvalue;\n      textval.s = dvsc;\n      textval.u = dvue;\n      displayvalue = valueformat.substring(12); // remove \"text-custom:\"\n      displayvalue = displayvalue.replace(/@(r|s|u)/g, function(a,c){return textval[c];}); // replace placeholders\n      }\n   else if (valueformat.substring(0,6)==\"custom\") { // custom\n      displayvalue = SocialCalc.special_chars(displayvalue); // do special chars\n      displayvalue = displayvalue.replace(/  /g, \"&nbsp; \"); // keep multiple spaces\n      displayvalue = displayvalue.replace(/\\n/g, \"<br>\"); // keep line breaks\n      displayvalue += \" (custom format)\";\n      }\n   else if (valueformat==\"hidden\") {\n      displayvalue = \"&nbsp;\";\n      }\n   else if (nontextvalueformat != null && nontextvalueformat != \"\" && sheetobj.valueformats[nontextvalueformat-0] != \"none\" && sheetobj.valueformats[nontextvalueformat-0] != \"\" ) {\n      valueformat = sheetobj.valueformats[nontextvalueformat];\n      displayvalue = SocialCalc.format_number_for_display(rawvalue, valuetype, valueformat);\n      }\n   else { // plain text\n      displayvalue = SocialCalc.special_chars(displayvalue); // do special chars\n      displayvalue = displayvalue.replace(/  /g, \"&nbsp; \"); // keep multiple spaces\n      displayvalue = displayvalue.replace(/\\n/g, \"<br>\"); // keep line breaks\n      }\n\n   return displayvalue;\n\n   }\n\n\n//\n// displayvalue = format_number_for_display(rawvalue, valuetype, valueformat)\n//\n\nSocialCalc.format_number_for_display = function(rawvalue, valuetype, valueformat) {\n\n   var value, valuesubtype;\n   var scc = SocialCalc.Constants;\n\n   value = rawvalue-0;\n\n   valuesubtype = valuetype.substring(1);\n\n   if (valueformat==\"Auto\" || valueformat==\"\") { // cases with default format\n      if (valuesubtype==\"%\") { // will display a % character\n         valueformat = scc.defaultFormatp;\n         }\n      else if (valuesubtype=='$') {\n         valueformat = scc.defaultFormatc;\n         }\n      else if (valuesubtype=='dt') {\n         valueformat = scc.defaultFormatdt;\n         }\n      else if (valuesubtype=='d') {\n         valueformat = scc.defaultFormatd;\n         }\n      else if (valuesubtype=='t') {\n         valueformat = scc.defaultFormatt;\n         }\n      else if (valuesubtype=='l') {\n         valueformat = 'logical';\n         }\n      else {\n         valueformat = \"General\";\n         }\n      }\n\n   if (valueformat==\"logical\") { // do logical format\n      return value ? scc.defaultDisplayTRUE : scc.defaultDisplayFALSE;\n      }\n\n   if (valueformat==\"hidden\") { // do hidden format\n      return \"&nbsp;\";\n      }\n\n   // Use format\n\n   return SocialCalc.FormatNumber.formatNumberWithFormat(rawvalue, valueformat, \"\");\n\n   }\n\n//\n// valueinfo = DetermineValueType(rawvalue)\n//\n// Takes a value and looks for special formatting like $, %, numbers, etc.\n// Returns the value as a number or string and the type as {value: value, type: type}.\n// Tries to follow the spec for spreadsheet function VALUE(v).\n//\n\nSocialCalc.DetermineValueType = function(rawvalue) {\n\n   var value = rawvalue + \"\";\n   var type = \"t\";\n   var tvalue, matches, year, hour, minute, second, denom, num, intgr, constr;\n\n   tvalue = value.replace(/^\\s+/, \"\"); // remove leading and trailing blanks\n   tvalue = tvalue.replace(/\\s+$/, \"\");\n\n   if (value.length==0) {\n      type = \"\";\n      }\n   else if (value.match(/^\\s+$/)) { // just blanks\n      ; // leave type \"t\"\n      }\n   else if (tvalue.match(/^[-+]?\\d*(?:\\.)?\\d*(?:[eE][-+]?\\d+)?$/)) { // general number, including E\n      value = tvalue - 0; // try converting to number\n      if (isNaN(value)) { // leave alone - catches things like plain \"-\"\n         value = rawvalue + \"\";\n         }\n      else {\n         type = \"n\";\n         }\n      }\n   else if (tvalue.match(/^[-+]?\\d*(?:\\.)?\\d*\\s*%$/)) { // percent form: 15.1%\n      value = (tvalue.slice(0, -1) - 0) / 100; // convert and scale\n      type = \"n%\";\n      }\n   else if (tvalue.match(/^[-+]?\\$\\s*\\d*(?:\\.)?\\d*\\s*$/) && tvalue.match(/\\d/)) { // $ format: $1.49\n      value = tvalue.replace(/\\$/, \"\") - 0;\n      type = \"n$\";\n      }\n   else if (tvalue.match(/^[-+]?(\\d*,\\d*)+(?:\\.)?\\d*$/)) { // number format ignoring commas: 1,234.49\n      value = tvalue.replace(/,/g, \"\") - 0;\n      type = \"n\";\n      }\n   else if (tvalue.match(/^[-+]?(\\d*,\\d*)+(?:\\.)?\\d*\\s*%$/)) { // % with commas: 1,234.49%\n      value = (tvalue.replace(/[%,]/g, \"\") - 0) / 100;\n      type = \"n%\";\n      }\n   else if (tvalue.match(/^[-+]?\\$\\s*(\\d*,\\d*)+(?:\\.)?\\d*$/) && tvalue.match(/\\d/)) { // $ and commas: $1,234.49\n      value = tvalue.replace(/[\\$,]/g, \"\") - 0;\n      type = \"n$\";\n      }\n   else if (matches=value.match(/^(\\d{1,2})[\\/\\-](\\d{1,2})[\\/\\-](\\d{1,4})\\s*$/)) { // MM-DD-YYYY, MM/DD/YYYY\n      year = matches[3] - 0;\n      year = year < 1000 ? year + 2000 : year;\n      value = ((navigator.language).indexOf(\"fr\") === 0)  ? (SocialCalc.FormatNumber.convert_date_gregorian_to_julian(year, matches[2]-0, matches[1]-0)-2415019) : (SocialCalc.FormatNumber.convert_date_gregorian_to_julian(year, matches[1]-0, matches[2]-0)-2415019);\n      type = \"nd\";\n      }\n   else if (matches=value.match(/^(\\d{4})[\\/\\-](\\d{1,2})[\\/\\-](\\d{1,2})\\s*$/)) { // YYYY-MM-DD, YYYY/MM/DD\n      year = matches[1]-0;\n      year = year < 1000 ? year + 2000 : year;\n      value = SocialCalc.FormatNumber.convert_date_gregorian_to_julian(year, matches[2]-0, matches[3]-0)-2415019;\n      type = \"nd\";\n      }\n   else if (matches=value.match(/^(\\d{4})[\\/\\-](\\d{1,2})[\\/\\-](\\d{1,2}) (\\d{1,2}):(\\d{1,2})\\s*$/)) { // YYYY-MM-DD, YYYY/MM/DD HH:MM\n     // eddy added YYYY-MM-DD, YYYY/MM/DD HH:MM\n     year = matches[1]-0;\n     year = year < 1000 ? year + 2000 : year;\n     hour = matches[4]-0;\n     minute = matches[5]-0;\n     value = SocialCalc.FormatNumber.convert_date_gregorian_to_julian(year, matches[2]-0, matches[3]-0)-2415019;\n     type = \"nd\";\n     if (hour < 24 && minute < 60) {\n       value += hour/24 + minute/(24*60);\n       type = \"ndt\";\n       }\n     }\n   else if (matches=value.match(/^(\\d{4})[\\/\\-](\\d{1,2})[\\/\\-](\\d{1,2}) (\\d{1,2}):(\\d{1,2}):(\\d{1,2})\\s*$/)) { // YYYY-MM-DD, YYYY/MM/DD HH:MM:SS\n     // eddy added YYYY-MM-DD, YYYY/MM/DD HH:MM:SS\n     year = matches[1]-0;\n     year = year < 1000 ? year + 2000 : year;\n     hour = matches[4]-0;\n     minute = matches[5]-0;\n     second = matches[6]-0;\n     value = SocialCalc.FormatNumber.convert_date_gregorian_to_julian(year, matches[2]-0, matches[3]-0)-2415019;\n     type = \"nd\";\n     if (hour < 24 && minute < 60 && second < 60) {\n       value += hour/24 + minute/(24*60) + second/(24*60*60);\n       type = \"ndt\";\n       }\n     }\n   else if (matches=value.match(/^(\\d{1,2}):(\\d{1,2})\\s*$/)) { // HH:MM\n      hour = matches[1]-0;\n      minute = matches[2]-0;\n      if (hour < 24 && minute < 60) {\n         value = hour/24 + minute/(24*60);\n         type = \"nt\";\n         }\n      }\n   else if (matches=value.match(/^(\\d{1,2}):(\\d{1,2}):(\\d{1,2})\\s*$/)) { // HH:MM:SS\n      hour = matches[1]-0;\n      minute = matches[2]-0;\n      second = matches[3]-0;\n      if (hour < 24 && minute < 60 && second < 60) {\n         value = hour/24 + minute/(24*60) + second/(24*60*60);\n         type = \"nt\";\n         }\n      }\n   else if (matches=value.match(/^\\s*([-+]?\\d+) (\\d+)\\/(\\d+)\\s*$/)) { // 1 1/2\n      intgr = matches[1]-0;\n      num = matches[2]-0;\n      denom = matches[3]-0;\n      if (denom && denom > 0) {\n         value = intgr + (intgr < 0 ? -num/denom : num/denom);\n         type = \"n\";\n         }\n      }\n   else if (constr=SocialCalc.InputConstants[value.toUpperCase()]) { // special constants, like \"false\" and #N/A\n      num = constr.indexOf(\",\");\n      value = constr.substring(0,num)-0;\n      type = constr.substring(num+1);\n      }\n   else if (tvalue.length > 7 && tvalue.substring(0,7).toLowerCase()==\"http://\") { // URL\n      value = tvalue;\n      type = \"tl\";\n      }\n   else if (tvalue.match(/<([A-Z][A-Z0-9]*)\\b[^>]*>[\\s\\S]*?<\\/\\1>/i)) { // HTML\n      value = tvalue;\n      type = \"th\";\n      }\n\n   return {value: value, type: type};\n\n   }\n\nSocialCalc.InputConstants = { // strings that turn into constants for SocialCalc.DetermineValueType\n      \"TRUE\": \"1,nl\", \"FALSE\": \"0,nl\", \"#N/A\": \"0,e#N/A\", \"#NULL!\": \"0,e#NULL!\", \"#NUM!\": \"0,e#NUM!\",\n      \"#DIV/0!\": \"0,e#DIV/0!\", \"#VALUE!\": \"0,e#VALUE!\", \"#REF!\": \"0,e#REF!\", \"#NAME?\": \"0,e#NAME?\"};\n\n//\n// result = default_expand_markup(displayvalue, sheetobj, linkstyle)\n//\n// Processes wiki-text -- this is a placeholder.\n// Reference to here in SocialCalc.expand_markup should be replaced by application-specific routine.\n//\n\nSocialCalc.default_expand_markup = function(displayvalue, sheetobj, linkstyle) {\n\n   var result = displayvalue;\n\n   result = SocialCalc.special_chars(result); // do special chars\n   result = result.replace(/  /g, \"&nbsp; \"); // keep multiple spaces\n   result = result.replace(/\\n/g, \"<br>\"); // keep line breaks\n\n   return result; // do very little by default\n\n   result = result.replace(/('*)'''(.*?)'''/g, \"$1<b>$2<\\/b>\"); // Wiki-style bold/italics\n   result = result.replace(/''(.*?)''/g, \"<i>$1<\\/i>\");\n\n   return result;\n\n   }\n\n\n//\n// result = SocialCalc.expand_text_link(displayvalue, sheetobj, linkstyle, valueformat)\n//\n// Parses link text (URL, descriptions, pagenames, workspace names) and returns HTML\n//\n\nSocialCalc.expand_text_link = function(displayvalue, sheetobj, linkstyle, valueformat) {\n\n   var desc, tb, str;\n\n   var scc = SocialCalc.Constants;\n\n   var url = \"\";\n   var parts = SocialCalc.ParseCellLinkText(displayvalue+\"\");\n\n   if (parts.desc) {\n      desc = SocialCalc.special_chars(parts.desc);\n      }\n   else {\n      desc = parts.pagename ? scc.defaultPageLinkFormatString : scc.defaultLinkFormatString;\n      }\n\n   if (displayvalue.length > 7 && displayvalue.substring(0,7).toLowerCase()==\"http://\"\n      && displayvalue.charAt(displayvalue.length-1)!=\">\") {\n      desc = desc.substring(7); // remove http:// unless explicit\n      }\n\n   tb = (parts.newwin || !linkstyle) ? ' target=\"_blank\"' : \"\";\n\n   if (parts.pagename) {\n      if (SocialCalc.Callbacks.MakePageLink) {\n         url = SocialCalc.Callbacks.MakePageLink(parts.pagename, parts.workspacename, linkstyle, valueformat);\n         }\n//      else if (parts.workspace) {\n//         url = \"/\" + encodeURI(parts.workspace) + \"/\" + encodeURI(parts.pagename);\n//         }\n//      else {\n//         url = parts.pagename;\n//         }\n      }\n   else {\n      url = encodeURI(parts.url);\n      }\n   str = '<a href=\"' + url + '\"' + tb + '>' + desc + '</a>';\n\n   return str;\n\n   }\n\n\n//\n// result = SocialCalc.ParseCellLinkText(str)\n//\n// Given: url = http://www.someurl.com/more, desc = Some descriptive text\n//\n// Takes the following:\n//\n//    url\n//    <url>\n//    desc<url>\n//    \"desc\"<url>\n//    <<>> instead of <> => target=\"_blank\" (new window)\n//\n//    [page name]\n//    \"desc\"[page name]\n//    desc[page name]\n//    {workspace name [page name]}\n//    \"desc\"{workspace name [page name]}\n//    [[]] instead of [] => target=\"_blank\" (new window)\n//\n//\n// Returns: {url: url, desc: desc, newwin: t/f, pagename: pagename, workspace: workspace}\n//\n\nSocialCalc.ParseCellLinkText = function(str) {\n\n   var result = {url: \"\", desc: \"\", newwin: false, pagename: \"\", workspace: \"\"};\n\n   var pageform = false;\n   var urlend = str.length - 1;\n   var descstart = 0;\n   var lastlt = str.lastIndexOf(\"<\");\n   var lastbrkt = str.lastIndexOf(\"[\");\n   var lastbrace = str.lastIndexOf(\"{\");\n   var descend = -1;\n\n   if ((str.charAt(urlend) != \">\" || lastlt == -1)\n         && (str.charAt(urlend) != \"]\" || lastbrkt == -1)\n         && (str.charAt(urlend) != \"}\" || str.charAt(urlend-1) != \"]\" ||\n             lastbrace == -1 || lastbrkt == -1 || lastbrkt < lastbrace)) { // plain url\n      urlend++;\n      descend = urlend;\n      }\n   else { // some markup\n      if (str.charAt(urlend)==\">\") { // url form\n         descend = lastlt - 1;\n         if (lastlt > 0 && str.charAt(descend) == \"<\" && str.charAt(urlend-1) == \">\") {\n            descend--;\n            urlend--;\n            result.newwin = true;\n            }\n         }\n\n      else if (str.charAt(urlend)==\"]\") { // plain page form\n         descend = lastbrkt - 1;\n         pageform = true;\n         if (lastbrkt > 0 && str.charAt(descend) == \"[\" && str.charAt(urlend-1) == \"]\") {\n            descend--;\n            urlend--;\n            result.newwin = true;\n            }\n         }\n\n      else if (str.charAt(urlend)==\"}\") { // page and workspace form\n         descend = lastbrace - 1;\n         pageform = true;\n         wsend = lastbrkt;\n         urlend--;\n         if (lastbrkt > 0 && str.charAt(lastbrkt-1) == \"[\" && str.charAt(urlend-1) == \"]\") {\n            wsend = lastbrkt-1;\n            urlend--;\n            result.newwin = true;\n            }\n         if (str.charAt(wsend-1)==\" \") { // trim trailing space in workspace name\n            wsend--;\n            }\n         result.workspace = str.substring(lastbrace+1, wsend) || \"\";\n         }\n\n      if (str.charAt(descend)==\" \") { // trim trailing space on desc\n         descend--;\n         }\n\n      if (str.charAt(descstart) == '\"' && str.charAt(descend) == '\"') {\n         descstart++;\n         descend--;\n         }\n      }\n\n   if (pageform) {\n      result.pagename = str.substring(lastbrkt+1, urlend) || \"\";\n      }\n   else {\n      result.url = str.substring(lastlt+1, urlend) || \"\";\n      }\n\n   if (descend >= descstart) {\n      result.desc = str.substring(descstart, descend+1);\n      }\n\n   return result;\n\n   }\n\n\n//\n// result = SocialCalc.ConvertSaveToOtherFormat(savestr, outputformat, dorecalc)\n//\n// Returns a string in the specificed format: \"scsave\", \"html\", \"csv\", \"tab\" (tab delimited)\n// If dorecalc is true, performs a recalc after loading (NO: obsolete!).\n//\n\nSocialCalc.ConvertSaveToOtherFormat = function(savestr, outputformat, dorecalc) {\n\n   var sheet, context, clipextents, div, ele, row, col, cr, cell, str;\n\n   var result = \"\";\n\n   if (outputformat == \"scsave\") {\n      return savestr;\n      }\n\n   if (savestr == \"\") {\n      return \"\";\n      }\n\n   sheet = new SocialCalc.Sheet();\n   sheet.ParseSheetSave(savestr);\n\n   if (dorecalc) {\n      // no longer supported as of 9/10/08\n      // Recalc is now async, so can't do it this way\n      throw(\"SocialCalc.ConvertSaveToOtherFormat: Not doing recalc.\");\n      }\n\n   if (sheet.copiedfrom) {\n      clipextents = SocialCalc.ParseRange(sheet.copiedfrom);\n      }\n   else {\n      clipextents = {cr1: {row: 1, col: 1}, cr2: {row: sheet.attribs.lastrow, col: sheet.attribs.lastcol}};\n      }\n\n   if (outputformat == \"html\") {\n      context=new SocialCalc.RenderContext(sheet);\n      if (sheet.copiedfrom) {\n         context.rowpanes[0] = {first: clipextents.cr1.row, last: clipextents.cr2.row};\n         context.colpanes[0] = {first: clipextents.cr1.col, last: clipextents.cr2.col};\n         }\n      div = document.createElement(\"div\");\n      ele = context.RenderSheet(null, context.defaultHTMLlinkstyle);\n      div.appendChild(ele);\n      delete context;\n      delete sheet;\n      result = div.innerHTML;\n      delete ele;\n      delete div;\n      return result;\n      }\n\n   for (row = clipextents.cr1.row; row <= clipextents.cr2.row; row++) {\n      for (col = clipextents.cr1.col; col <= clipextents.cr2.col; col++) {\n         cr = SocialCalc.crToCoord(col, row);\n         cell = sheet.GetAssuredCell(cr);\n\n         if (cell.errors) {\n            str = cell.errors;\n            }\n         else {\n            str = cell.datavalue+\"\"; // get value as text\n            }\n\n         if (outputformat == \"csv\") {\n            if (str.indexOf('\"')!=-1) {\n               str = str.replace(/\"/g, '\"\"'); // double quotes\n               }\n            if (/[, \\n\"]/.test(str)) {\n               str = '\"' + str + '\"'; // add quotes\n               }\n            if (col>clipextents.cr1.col) {\n               str = \",\" + str; // add commas\n               }\n            }\n         else if (outputformat == \"tab\") {\n            if (str.indexOf('\\n')!=-1) { // if multiple lines\n               if (str.indexOf('\"')!=-1) {\n                  str = str.replace(/\"/g, '\"\"'); // double quotes\n                  }\n               str = '\"' + str + '\"'; // add quotes\n               }\n            if (col>clipextents.cr1.col) {\n               str = \"\\t\" + str; // add tabs\n               }\n            }\n         result += str;\n         }\n      result += \"\\n\";\n      }\n\n   return result;\n\n   }\n\n\n//\n// result = SocialCalc.ConvertOtherFormatToSave(inputstr, inputformat)\n//\n// Returns a string converted from the specified format: \"scsave\", \"csv\", \"tab\" (tab delimited)\n//\n\nSocialCalc.ConvertOtherFormatToSave = function(inputstr, inputformat) {\n\n   var sheet, context, lines, i, line, value, inquote, j, ch, values, row, col, cr, maxc;\n\n   var result = \"\";\n\n   var AddCell = function() {\n      col++;\n      if (col>maxc) maxc = col;\n      cr = SocialCalc.crToCoord(col, row);\n      SocialCalc.SetConvertedCell(sheet, cr, value);\n      value = \"\";\n      }\n\n   if (inputformat == \"scsave\") {\n      return inputstr;\n      }\n\n   sheet = new SocialCalc.Sheet();\n\n   lines = inputstr.split(/\\r\\n|\\n/);\n\n   maxc = 0;\n   if (inputformat == \"csv\") {\n      row = 0;\n      inquote = false;\n      for (i=0; i<lines.length; i++) {\n         if (i==lines.length-1 && lines[i]==\"\") { // extra null line - ignore\n            break;\n            }\n         if (inquote) { // if inquote, just continue from where left off\n            value += \"\\n\";\n            }\n         else { // otherwise next row\n            value = \"\";\n            row++;\n            col = 0;\n            }\n         line = lines[i];\n         for (j=0; j<line.length; j++) {\n            ch = line.charAt(j);\n            if (ch == '\"') {\n               if (inquote) {\n                  if (j<line.length-1 && line.charAt(j+1) == '\"') { // double quotes\n                     j++; // skip the second one\n                     value += '\"'; // add one quote\n                     }\n                  else {\n                     inquote = false;\n                     if (j==line.length-1) { // at end of line\n                        AddCell();\n                        }\n                     }\n                  }\n               else {\n                  inquote = true;\n                  }\n               continue;\n               }\n            if (ch == \",\" && !inquote) {\n               AddCell();\n               }\n            else {\n               value += ch;\n               }\n            if (j==line.length-1 && !inquote) {\n               AddCell();\n               }\n            }\n         }\n      if (maxc>0) {\n         sheet.attribs.lastrow = row;\n         sheet.attribs.lastcol = maxc;\n         result = sheet.CreateSheetSave(\"A1:\"+SocialCalc.crToCoord(maxc, row));\n         }\n      }\n\n   if (inputformat == \"tab\") {\n      row = 0;\n      inquote = false;\n      for (i=0; i<lines.length; i++) {\n         if (i==lines.length-1 && lines[i]==\"\") { // extra null line - ignore\n            break;\n            }\n         if (inquote) { // if inquote, just continue from where left off\n            value += \"\\n\";\n            }\n         else { // otherwise next row\n            value = \"\";\n            row++;\n            col = 0;\n            }\n         line = lines[i];\n         for (j=0; j<line.length; j++) {\n            ch = line.charAt(j);\n            if (ch == '\"') {\n               if (inquote) {\n                  if (j<line.length-1) {\n                     if (line.charAt(j+1) == '\"') { // double quotes\n                        j++; // skip the second one\n                        value += '\"'; // add one quote\n                        }\n                     else if (line.charAt(j+1) == '\\t') { // end of quoted item\n                        j++;\n                        inquote = false;\n                        AddCell();\n                        }\n                     }\n                  else { // at end of line\n                     inquote = false;\n                     AddCell();\n                     }\n                  continue;\n                  }\n               if (value==\"\") { // quote at start of item\n                  inquote = true;\n                  continue;\n                  }\n               }\n            if (ch == \"\\t\" && !inquote) {\n               AddCell();\n               }\n            else {\n               value += ch;\n               }\n            if (j==line.length-1 && !inquote) {\n               AddCell();\n               }\n            }\n         }\n      if (maxc>0) {\n         sheet.attribs.lastrow = row;\n         sheet.attribs.lastcol = maxc;\n         result = sheet.CreateSheetSave(\"A1:\"+SocialCalc.crToCoord(maxc, row));\n         }\n      }\n\n   return result;\n\n   }\n\n//\n// SocialCalc.SetConvertedCell(sheet, cr, rawvalue)\n//\n// Sets the cell cr with a value and type determined from rawvalue\n//\n\nSocialCalc.SetConvertedCell = function(sheet, cr, rawvalue) {\n\n   var cell, value;\n\n   cell = sheet.GetAssuredCell(cr);\n\n   value = SocialCalc.DetermineValueType(rawvalue);\n\n   if (value.type == 'n' && value.value == rawvalue) { // check that we don't need \"constant\" to remember original value\n      cell.datatype = \"v\";\n      cell.valuetype = \"n\";\n      cell.datavalue = value.value;\n      }\n   else if (value.type.charAt(0) == 't') { // text of some sort but left unchanged\n      cell.datatype = \"t\";\n      cell.valuetype = value.type;\n      cell.datavalue = value.value;\n      }\n   else { // special number types\n      cell.datatype = \"c\";\n      cell.valuetype = value.type;\n      cell.datavalue = value.value;\n      cell.formula = rawvalue;\n      }\n\n   }\n\n\n//\n// SocialCalcTableEditor\n//\n/*\n// The code module of the SocialCalc package that displays a scrolling grid with panes\n// and handles keyboard and mouse I/O.\n//\n// (c) Copyright 2008, 2009, 2010 Socialtext, Inc.\n// All Rights Reserved.\n//\n*/\n\n/*\n\nLEGAL NOTICES REQUIRED BY THE COMMON PUBLIC ATTRIBUTION LICENSE:\n\nEXHIBIT A. Common Public Attribution License Version 1.0.\n\nThe contents of this file are subject to the Common Public Attribution License Version 1.0 (the\n\"License\"); you may not use this file except in compliance with the License. You may obtain a copy\nof the License at http://socialcalc.org. The License is based on the Mozilla Public License Version 1.1 but\nSections 14 and 15 have been added to cover use of software over a computer network and provide for\nlimited attribution for the Original Developer. In addition, Exhibit A has been modified to be\nconsistent with Exhibit B.\n\nSoftware distributed under the License is distributed on an \"AS IS\" basis, WITHOUT WARRANTY OF ANY\nKIND, either express or implied. See the License for the specific language governing rights and\nlimitations under the License.\n\nThe Original Code is SocialCalc JavaScript TableEditor.\n\nThe Original Developer is the Initial Developer.\n\nThe Initial Developer of the Original Code is Socialtext, Inc. All portions of the code written by\nSocialtext, Inc., are Copyright (c) Socialtext, Inc. All Rights Reserved.\n\nContributor: Dan Bricklin.\n\n\nEXHIBIT B. Attribution Information\n\nWhen the TableEditor is producing and/or controlling the display the Graphic Image must be\ndisplayed on the screen visible to the user in a manner comparable to that in the\nOriginal Code. The Attribution Phrase must be displayed as a \"tooltip\" or \"hover-text\" for\nthat image. The image must be linked to the Attribution URL so as to access that page\nwhen clicked. If the user interface includes a prominent \"about\" display which includes\nfactual prominent attribution in a form similar to that in the \"about\" display included\nwith the Original Code, including Socialtext copyright notices and URLs, then the image\nneed not be linked to the Attribution URL but the \"tool-tip\" is still required.\n\nAttribution Copyright Notice:\n\n Copyright (C) 2010 Socialtext, Inc.\n All Rights Reserved.\n\nAttribution Phrase (not exceeding 10 words): SocialCalc\n\nAttribution URL: http://www.socialcalc.org/xoattrib\n\nGraphic Image: The contents of the sc-logo.gif file in the Original Code or\na suitable replacement from http://www.socialcalc.org/licenses specified as\nbeing for SocialCalc.\n\nDisplay of Attribution Information is required in Larger Works which are defined\nin the CPAL as a work which combines Covered Code or portions thereof with code\nnot governed by the terms of the CPAL.\n\n*/\n\n//\n// Some of the other files in the SocialCalc package are licensed under\n// different licenses. Please note the licenses of the modules you use.\n//\n// Code History:\n//\n// Initially coded by Dan Bricklin of Software Garden, Inc., for Socialtext, Inc.\n// Based in part on the SocialCalc 1.1.0 code written in Perl.\n// The SocialCalc 1.1.0 code was:\n//    Portions (c) Copyright 2005, 2006, 2007 Software Garden, Inc.\n//    All Rights Reserved.\n//    Portions (c) Copyright 2007 Socialtext, Inc.\n//    All Rights Reserved.\n// The Perl SocialCalc started as modifications to the wikiCalc(R) program, version 1.0.\n// wikiCalc 1.0 was written by Software Garden, Inc.\n// Unless otherwise specified, referring to \"SocialCalc\" in comments refers to this\n// JavaScript version of the code, not the SocialCalc Perl code.\n//\n\n/*\n\nSee the comments in the main SocialCalc code module file of the SocialCalc package.\n\n*/\n\n   var SocialCalc;\n   if (!SocialCalc) { // created here, too, in case load order is wrong, but main routines are required\n      SocialCalc = {};\n      }\n\n// *************************************\n//\n// Table Editor class:\n//\n// *************************************\n\n// Constructor:\n\nSocialCalc.TableEditor = function(context) {\n\n   var scc = SocialCalc.Constants;\n\n   // Properties:\n\n   this.context = context; // editing context\n   this.toplevel = null; // top level HTML element for this table editor\n   this.fullgrid = null; // rendered editing context\n\n   this.noEdit = false; // if true, disable all edit UI and make read-only\n\n   this.width = null;\n   this.tablewidth = null;\n   this.height = null;\n   this.tableheight = null;\n\n   this.inputBox = null;\n   this.inputEcho = null;\n   this.verticaltablecontrol = null;\n   this.horizontaltablecontrol = null;\n\n   this.logo = null;\n\n   this.cellhandles = null;\n\n   // Dynamic properties:\n\n   this.timeout = null; // if non-null, timer id for position calculations\n   this.busy = false; // true when executing command, calculating, etc.\n   this.ensureecell = false; // if true, ensure ecell is visible after timeout\n   this.deferredCommands = []; // commands to execute after busy, in form: {cmdstr: \"cmds\", saveundo: t/f}\n   this.deferredEmailCommands = []; // Email commands to execute after busy, in form: {cmdstr: \"cmds\", saveundo: t/f}\n\n   this.gridposition = null; // screen coords of full grid\n   this.headposition = null; // screen coords of upper left of grid within header rows\n   this.firstscrollingrow = null; // row number of top row in last (the scrolling) pane\n   this.firstscrollingrowtop = null;  // position of top row in last (the scrolling) pane\n   this.lastnonscrollingrow = null; // row number of last displayed row in last non-scrolling\n                                    // pane, or zero (for thumb position calculations)\n   this.lastvisiblerow = null; // used for paging down\n   this.firstscrollingcol = null; // column number of top col in last (the scrolling) pane\n   this.firstscrollingcolleft = null;  // position of top col in last (the scrolling) pane\n   this.lastnonscrollingcol = null; // col number of last displayed column in last non-scrolling\n                                    // pane, or zero (for thumb position calculations)\n   this.lastvisiblecol = null; // used for paging right\n\n   this.rowpositions = []; // screen positions of the top of some rows\n   this.colpositions = []; // screen positions of the left side of some rows\n   this.rowheight = []; // size in pixels of each row when last checked, or null/undefined, for page up\n   this.colwidth = []; // size in pixels of each column when last checked, or null/undefined, for page left\n\n   this.ecell = null; // either null or {coord: c, row: r, col: c}\n   this.state = \"start\"; // the keyboard states: see EditorProcessKey\n\n   this.workingvalues = {}; // values used during keyboard editing, etc.\n\n   // Constants:\n\n   this.imageprefix = scc.defaultImagePrefix; // URL prefix for images (e.g., \"/images/sc\")\n   this.idPrefix = scc.defaultTableEditorIDPrefix;\n   this.pageUpDnAmount = scc.defaultPageUpDnAmount; // number of rows to move cursor on PgUp/PgDn keys (numeric)\n\n   // Callbacks\n\n   // recalcFunction: if present, function(editor) {...}, called to do a recalc\n   // Default (sheet.RecalcSheet) does all the right stuff.\n\n   this.recalcFunction = function(editor) {\n      if (editor.context.sheetobj.RecalcSheet) {\n         editor.context.sheetobj.RecalcSheet(SocialCalc.EditorSheetStatusCallback, editor);\n         }\n      else return null;\n      };\n\n   // ctrlkeyFunction: if present, function(editor, charname) {...}, called to handle ctrl-V, etc., at top level\n   // Returns true (pass through for continued processing) or false (stop processing this key).\n\n   this.ctrlkeyFunction = function(editor, charname) {\n\n      var ta, cell, position, cmd, sel, cliptext;\n\n      switch (charname) {\n         case \"[ctrl-a]\":\n            editor.MoveECell(\"A1\");\n            editor.RangeAnchor(\"A1\");\n            editor.RangeExtend(SocialCalc.crToCoord(editor.context.sheetobj.attribs.lastcol,editor.context.sheetobj.attribs.lastrow));\n            return false;\n         case \"[ctrl-c]\":\n         case \"[ctrl-x]\":\n            ta = editor.pasteTextarea;\n            ta.value = \"\";\n            cell=SocialCalc.GetEditorCellElement(editor, editor.ecell.row, editor.ecell.col);\n            if (cell) {\n               position = SocialCalc.GetElementPosition(cell.element);\n               ta.style.left = (position.left-1)+\"px\";\n               ta.style.top = (position.top-1)+\"px\";\n               }\n            if (editor.range.hasrange) {\n               sel = SocialCalc.crToCoord(editor.range.left, editor.range.top)+\n                  \":\"+SocialCalc.crToCoord(editor.range.right, editor.range.bottom);\n               }\n            else {\n               sel = editor.ecell.coord;\n               }\n\n            // get what to copy to clipboard\n            cliptext = SocialCalc.ConvertSaveToOtherFormat(SocialCalc.CreateSheetSave(editor.context.sheetobj, sel), \"tab\");\n\n            if (charname == \"[ctrl-c]\" || editor.noEdit || editor.ECellReadonly()) { // if copy or cut but in no edit\n               cmd = \"copy \"+sel+\" formulas\";\n               }\n            else { // [ctrl-x]\n               cmd = \"cut \"+sel+\" formulas\";\n               }\n            editor.EditorScheduleSheetCommands(cmd, true, false); // queue up command to put on SocialCalc clipboard\n\n            ta.style.display = \"block\";\n            ta.value = cliptext; // must follow \"block\" setting for Webkit\n            ta.focus();\n            ta.select();\n            window.setTimeout(function() {\n               var ta = editor.pasteTextarea;\n               ta.blur();\n               ta.style.display = \"none\";\n               SocialCalc.KeyboardFocus();\n               }, 200);\n\n            return true;\n\n         case \"[ctrl-v]\":\n            if (editor.noEdit || editor.ECellReadonly()) return true; // not if no edit\n            ta = editor.pasteTextarea;\n            ta.value = \"\";\n            cell=SocialCalc.GetEditorCellElement(editor, editor.ecell.row, editor.ecell.col);\n            if (cell) {\n               position = SocialCalc.GetElementPosition(cell.element);\n               ta.style.left = (position.left-1)+\"px\";\n               ta.style.top = (position.top-1)+\"px\";\n               }\n            ta.style.display = \"block\";\n            ta.value = \"\";  // must follow \"block\" setting for Webkit\n            ta.focus();\n            window.setTimeout(function() {\n               var ta = editor.pasteTextarea;\n               var value = ta.value;\n               ta.blur();\n               ta.style.display = \"none\";\n               var cmd = \"\";\n               if(editor.pastescclipboard) {\n                 // Clipboard loaded from \"clipboard tab\" - see  SpreadsheetControlClipboardLoad\n                 // ignore windows clipboard contents\n                 editor.pastescclipboard = false;\n                 }\n               else {\n                 // Use windows clipboard contents if value does not match last copy\n                 var clipstr = SocialCalc.ConvertSaveToOtherFormat(SocialCalc.Clipboard.clipboard, \"tab\");\n                 value = value.replace(/\\r\\n/g, \"\\n\");\n                 // pastes SocialCalc clipboard if did a Ctrl-C and contents still the same\n                 // Webkit adds an extra blank line, so need to allow for that\n                 if (value != clipstr && (value.length-clipstr.length!=1 || value.substring(0,value.length-1)!=clipstr)) {\n                    cmd = \"loadclipboard \"+\n                    SocialCalc.encodeForSave(SocialCalc.ConvertOtherFormatToSave(value, \"tab\")) + \"\\n\";\n                    }\n                 }\n               var cr;\n               if (editor.range.hasrange) {\n                  var clipsheet = new SocialCalc.Sheet();\n                  clipsheet.ParseSheetSave(SocialCalc.Clipboard.clipboard);\n                  var matches = clipsheet.copiedfrom.match(/(.+):(.+)/);\n                  if (matches !== null && matches[1] === matches[2]) {\n                    // copy one cell to selected range\n                    cr = SocialCalc.crToCoord(editor.range.left, editor.range.top) +\n                      ':' + SocialCalc.crToCoord(editor.range.right, editor.range.bottom);\n                  } else {\n                    cr = SocialCalc.crToCoord(editor.range.left, editor.range.top);\n                  }\n                  }\n               else {\n                  cr = editor.ecell.coord;\n                  }\n               cmd += \"paste \"+cr+\" formulas\";\n               editor.EditorScheduleSheetCommands(cmd, true, false);\n               SocialCalc.KeyboardFocus();\n               }, 200);\n            return true;\n\n         case \"[ctrl-z]\":\n            editor.EditorScheduleSheetCommands(\"undo\", true, false);\n            return false;\n\n         case \"[ctrl-s]\": // !!!! temporary hack\n            if (!SocialCalc.Constants.AllowCtrlS) break;\n            window.setTimeout(\n               function() {\n                  var sheet = editor.context.sheetobj;\n                  var cell = sheet.GetAssuredCell(editor.ecell.coord);\n                  var ntvf = cell.nontextvalueformat ? sheet.valueformats[cell.nontextvalueformat-0] || \"\" : \"\";\n                  var newntvf = window.prompt(\"Advanced Feature:\\n\\nCustom Numeric Format or Command\", ntvf);\n                  if (newntvf != null) { // not cancelled\n                     if (newntvf.match(/^cmd:/)) {\n                        cmd = newntvf.substring(4); // execute as command\n                        }\n                     else if (newntvf.match(/^edit:/)) {\n                        cmd = newntvf.substring(5); // execute as command\n                        if (SocialCalc.CtrlSEditor) {\n                           SocialCalc.CtrlSEditor(cmd);\n                           }\n                        return;\n                        }\n                     else {\n                        if (editor.range.hasrange) {\n                           sel = SocialCalc.crToCoord(editor.range.left, editor.range.top)+\n                              \":\"+SocialCalc.crToCoord(editor.range.right, editor.range.bottom);\n                           }\n                        else {\n                          sel = editor.ecell.coord;\n                           }\n                        cmd = \"set \"+sel+\" nontextvalueformat \"+newntvf;\n                        }\n                     editor.EditorScheduleSheetCommands(cmd, true, false);\n                     }\n                  },\n               200);\n            return false;\n\n         default:\n            break;\n            }\n      return true;\n      };\n\n   // Set sheet's status callback:\n\n   context.sheetobj.statuscallback = SocialCalc.EditorSheetStatusCallback;\n   context.sheetobj.statuscallbackparams = this; // this object: the table editor object\n\n\n   // StatusCallback: all values are called at appropriate times, add with unique name, delete when done\n   //\n   // Each value must be an object in the form of:\n   //\n   //    func: function(editor, status, arg, params) {...},\n   //    params: params value to call func with\n   //\n   // The values for status and arg are:\n   //\n   //    all the SocialCalc RecalcSheet statuscallbacks, including:\n   //\n   //       calccheckdone, calclist length\n   //       calcorder, {coord: coord, total: celllist length, count: count}\n   //       calcstep, {coord: coord, total: calclist length, count: count}\n   //       calcfinished, time in milliseconds\n   //\n   //    the command callbacks, like cmdstart and cmdend\n   //    cmdendnorender\n   //\n   //    calcstart, null\n   //    moveecell, new ecell coord\n   //    rangechange, \"coord:coord\" or \"coord\" or \"\"\n   //    specialkey, keyname (\"[esc]\")\n   //\n\n   this.StatusCallback = {};\n\n\n   this.MoveECellCallback = {}; // all values are called with editor as arg; add with unique name, delete when done\n   this.RangeChangeCallback = {}; // all values are called with editor as arg; add with unique name, delete when done\n   this.SettingsCallbacks = {}; // See SocialCalc.SaveEditorSettings\n\n   // Set initial cursor\n\n   this.ecell = {coord: \"A1\", row: 1, col: 1};\n   context.highlights[this.ecell.coord] = \"cursor\";\n\n   // Initialize range data\n   // Range has at least hasrange (true/false).\n   // It may also have: anchorcoord, anchorrow, anchorcol, top, bottom, left, and right.\n\n   this.range = {hasrange: false};\n\n   // Initialize range2 data (used to show selections, such as for move)\n   // Range2 has at least hasrange (true/false).\n   // It may also have: top, bottom, left, and right.\n\n   this.range2 = {hasrange: false};\n\n   }\n\n// Methods:\n\nSocialCalc.TableEditor.prototype.CreateTableEditor = function(width, height) {return SocialCalc.CreateTableEditor(this, width, height);};\nSocialCalc.TableEditor.prototype.ResizeTableEditor = function(width, height) {return SocialCalc.ResizeTableEditor(this, width, height);};\n\nSocialCalc.TableEditor.prototype.SaveEditorSettings = function() {return SocialCalc.SaveEditorSettings(this);};\nSocialCalc.TableEditor.prototype.LoadEditorSettings = function(str, flags) {return SocialCalc.LoadEditorSettings(this, str, flags);};\n\nSocialCalc.TableEditor.prototype.EditorRenderSheet = function() {SocialCalc.EditorRenderSheet(this);};\nSocialCalc.TableEditor.prototype.EditorScheduleSheetCommands = function(cmdstr, saveundo, ignorebusy) {SocialCalc.EditorScheduleSheetCommands(this, cmdstr, saveundo, ignorebusy);};\nSocialCalc.TableEditor.prototype.ScheduleSheetCommands = function(cmdstr, saveundo) {\n   this.context.sheetobj.ScheduleSheetCommands(cmdstr, saveundo);\n   };\nSocialCalc.TableEditor.prototype.SheetUndo = function() {\n   this.context.sheetobj.SheetUndo();\n   };\nSocialCalc.TableEditor.prototype.SheetRedo = function() {\n   this.context.sheetobj.SheetRedo();\n   };\nSocialCalc.TableEditor.prototype.EditorStepSet = function(status, arg) {SocialCalc.EditorStepSet(this, status, arg);};\nSocialCalc.TableEditor.prototype.GetStatuslineString = function(status, arg, params) {return SocialCalc.EditorGetStatuslineString(this, status, arg, params);};\n\nSocialCalc.TableEditor.prototype.EditorMouseRegister = function() {return SocialCalc.EditorMouseRegister(this);};\nSocialCalc.TableEditor.prototype.EditorMouseUnregister = function() {return SocialCalc.EditorMouseUnregister(this);};\nSocialCalc.TableEditor.prototype.EditorMouseRange = function(coord) {return SocialCalc.EditorMouseRange(this, coord);};\n\nSocialCalc.TableEditor.prototype.EditorProcessKey = function(ch, e) {return SocialCalc.EditorProcessKey(this, ch, e);};\nSocialCalc.TableEditor.prototype.EditorAddToInput = function(str, prefix) {return SocialCalc.EditorAddToInput(this, str, prefix);};\nSocialCalc.TableEditor.prototype.DisplayCellContents = function() {return SocialCalc.EditorDisplayCellContents(this);};\nSocialCalc.TableEditor.prototype.EditorSaveEdit = function(text) {return SocialCalc.EditorSaveEdit(this, text);};\nSocialCalc.TableEditor.prototype.EditorApplySetCommandsToRange = function(cmdline, type) {return SocialCalc.EditorApplySetCommandsToRange(this, cmdline, type);};\n\nSocialCalc.TableEditor.prototype.MoveECellWithKey = function(ch) {return SocialCalc.MoveECellWithKey(this, ch);};\nSocialCalc.TableEditor.prototype.MoveECell = function(newcell) { if (SocialCalc._app) return \"A1\"; return SocialCalc.MoveECell(this, newcell);};\nSocialCalc.TableEditor.prototype.ReplaceCell = function(cell, row, col) {SocialCalc.ReplaceCell(this, cell, row, col);};\nSocialCalc.TableEditor.prototype.UpdateCellCSS = function(cell, row, col) {SocialCalc.UpdateCellCSS(this, cell, row, col);};\nSocialCalc.TableEditor.prototype.SetECellHeaders = function(selected) {SocialCalc.SetECellHeaders(this, selected);};\nSocialCalc.TableEditor.prototype.EnsureECellVisible = function() {SocialCalc.EnsureECellVisible(this);};\nSocialCalc.TableEditor.prototype.ECellReadonly = function(coord) {return SocialCalc.ECellReadonly(this, coord);};\nSocialCalc.TableEditor.prototype.RangeAnchor = function(coord) {SocialCalc.RangeAnchor(this, coord);};\nSocialCalc.TableEditor.prototype.RangeExtend = function(coord) {SocialCalc.RangeExtend(this, coord);};\nSocialCalc.TableEditor.prototype.RangeRemove = function() {SocialCalc.RangeRemove(this);};\nSocialCalc.TableEditor.prototype.Range2Remove = function() {SocialCalc.Range2Remove(this);};\n\nSocialCalc.TableEditor.prototype.FitToEditTable = function() {SocialCalc.FitToEditTable(this);};\nSocialCalc.TableEditor.prototype.CalculateEditorPositions = function() {SocialCalc.CalculateEditorPositions(this);};\nSocialCalc.TableEditor.prototype.ScheduleRender = function() {this.ScheduleRender(true);};\nSocialCalc.TableEditor.prototype.ScheduleRender = function(renderwidgets) {\n  // App widgets need focus - so only render widgets when needed, rather than the default of rendering everything.\n  if(SocialCalc._app && renderwidgets == true) this.context.sheetobj.widgetsClean = false;\n  SocialCalc.ScheduleRender(this);\n  };\nSocialCalc.TableEditor.prototype.DoRenderStep = function() {SocialCalc.DoRenderStep(this);};\nSocialCalc.TableEditor.prototype.SchedulePositionCalculations = function() {SocialCalc.SchedulePositionCalculations(this);};\nSocialCalc.TableEditor.prototype.DoPositionCalculations = function() {SocialCalc.DoPositionCalculations(this);};\nSocialCalc.TableEditor.prototype.CalculateRowPositions = function(panenum, positions, sizes) {return SocialCalc.CalculateRowPositions(this,  panenum, positions, sizes);};\nSocialCalc.TableEditor.prototype.CalculateColPositions = function(panenum, positions, sizes) {return SocialCalc.CalculateColPositions(this,  panenum, positions, sizes);};\n\nSocialCalc.TableEditor.prototype.ScrollRelative = function(vertical, amount) {SocialCalc.ScrollRelative(this, vertical, amount);};\nSocialCalc.TableEditor.prototype.ScrollRelativeBoth = function(vamount, hamount) {SocialCalc.ScrollRelativeBoth(this, vamount, hamount);};\nSocialCalc.TableEditor.prototype.PageRelative = function(vertical, direction) {SocialCalc.PageRelative(this, vertical, direction);};\nSocialCalc.TableEditor.prototype.LimitLastPanes = function() {SocialCalc.LimitLastPanes(this);};\n\nSocialCalc.TableEditor.prototype.ScrollTableUpOneRow = function() {return SocialCalc.ScrollTableUpOneRow(this);};\nSocialCalc.TableEditor.prototype.ScrollTableDownOneRow = function() {return SocialCalc.ScrollTableDownOneRow(this);};\nSocialCalc.TableEditor.prototype.ScrollTableLeftOneCol = function() {return SocialCalc.ScrollTableLeftOneCol(this);};\nSocialCalc.TableEditor.prototype.ScrollTableRightOneCol = function() {return SocialCalc.ScrollTableRightOneCol(this);};\n\nSocialCalc.TableEditor.prototype.StopPropagation = function() {\n    return SocialCalc.StopPropagation(this);\n};\n\nSocialCalc.TableEditor.prototype.SetMouseMoveUp = function() {\n    return SocialCalc.SetMouseMoveUp(this);\n};\n\nSocialCalc.TableEditor.prototype.RemoveMouseMoveUp = function() {\n    return SocialCalc.RemoveMouseMoveUp(this);\n};\n\n// Functions:\n\nSocialCalc.CreateTableEditor = function(editor, width, height) {\n\n   var scc = SocialCalc.Constants;\n   var AssignID = SocialCalc.AssignID;\n\n   editor.toplevel = document.createElement(\"div\");\n   editor.toplevel.style.position = \"relative\";\n   AssignID(editor, editor.toplevel, \"toplevel\");\n   editor.width = width;\n   editor.height = height;\n\n   editor.griddiv = document.createElement(\"div\");\n   editor.tablewidth = Math.max(0, width - scc.defaultTableControlThickness);\n   editor.tableheight = Math.max(0, height - scc.defaultTableControlThickness);\n   editor.griddiv.style.width = editor.tablewidth+\"px\";\n   editor.griddiv.style.height = editor.tableheight+\"px\";\n   editor.griddiv.style.overflow = \"hidden\";\n   editor.griddiv.style.cursor = \"default\";\n   if (scc.cteGriddivClass) editor.griddiv.className = scc.cteGriddivClass;\n   AssignID(editor, editor.griddiv, \"griddiv\");\n\n   editor.FitToEditTable();\n\n   editor.EditorRenderSheet();\n\n   editor.griddiv.appendChild(editor.fullgrid);\n\n   editor.verticaltablecontrol = new SocialCalc.TableControl(editor, true, editor.tableheight);\n   editor.verticaltablecontrol.CreateTableControl();\n   AssignID(editor, editor.verticaltablecontrol.main, \"tablecontrolv\");\n\n   editor.horizontaltablecontrol = new SocialCalc.TableControl(editor, false, editor.tablewidth);\n   editor.horizontaltablecontrol.CreateTableControl();\n   AssignID(editor, editor.horizontaltablecontrol.main, \"tablecontrolh\");\n\n   var table, tbody, tr, td, img, anchor, ta;\n\n   table = document.createElement(\"table\");\n   editor.layouttable = table;\n   table.cellSpacing = 0;\n   table.cellPadding = 0;\n   AssignID(editor, table, \"layouttable\");\n\n   tbody = document.createElement(\"tbody\");\n   table.appendChild(tbody);\n\n   tr = document.createElement(\"tr\");\n   tbody.appendChild(tr);\n   td = document.createElement(\"td\");\n   td.appendChild(editor.griddiv);\n   tr.appendChild(td);\n   if (SocialCalc._app != true) { // no scroll bar in app\n     // Add v scroll bar\n     td = document.createElement(\"td\");\n     td.appendChild(editor.verticaltablecontrol.main);\n     tr.appendChild(td);\n   }\n   tr = document.createElement(\"tr\");\n   tbody.appendChild(tr);\n   if (SocialCalc._app != true) { // no scroll bar in app\n     // Add h scroll bar\n     td = document.createElement(\"td\");\n     td.appendChild(editor.horizontaltablecontrol.main);\n     tr.appendChild(td);\n   }\n\n   td = document.createElement(\"td\"); // logo display: Required by CPAL License for this code!\n   if (SocialCalc._app) { // in app right align Required CPAL License logo\n     td.style.background=\"url(\"+editor.imageprefix+\"logo.gif) no-repeat right center\";\n   } else {\n     td.style.background=\"url(\"+editor.imageprefix+\"logo.gif) no-repeat center center\";\n   }\n   td.innerHTML = \"<div style='cursor:pointer;font-size:1px;'><img src='\"+editor.imageprefix+\"1x1.gif' border='0' width='18' height='18'></div>\";\n   tr.appendChild(td);\n   editor.logo = td;\n   AssignID(editor, editor.logo, \"logo\");\n   td.firstChild.firstChild.title = \"SocialCalc\";\n\n   editor.toplevel.appendChild(editor.layouttable);\n\n   if (!editor.noEdit) {\n      editor.inputEcho = new SocialCalc.InputEcho(editor);\n      AssignID(editor, editor.inputEcho.main, \"inputecho\");\n      }\n\n   editor.cellhandles = new SocialCalc.CellHandles(editor);\n\n   ta = document.createElement(\"textarea\"); // used for ctrl-c/ctrl-v where an invisible text area is needed\n   SocialCalc.setStyles(ta, \"display:none;position:absolute;height:1px;width:1px;opacity:0;filter:alpha(opacity=0);\");\n   ta.value = \"\";\n   editor.pasteTextarea = ta;\n   AssignID(editor, editor.pasteTextarea, \"pastetextarea\");\n\n   if (navigator.userAgent.match(/Safari\\//) &&!navigator.userAgent.match(/Chrome\\//)) { // special code for Safari 5 change\n      window.removeEventListener('beforepaste', SocialCalc.SafariPasteFunction, false);\n      window.addEventListener('beforepaste', SocialCalc.SafariPasteFunction, false);\n      window.removeEventListener('beforecopy', SocialCalc.SafariPasteFunction, false);\n      window.addEventListener('beforecopy', SocialCalc.SafariPasteFunction, false);\n      window.removeEventListener('beforecut', SocialCalc.SafariPasteFunction, false);\n      window.addEventListener('beforecut', SocialCalc.SafariPasteFunction, false);\n      }\n\n   editor.toplevel.appendChild(editor.pasteTextarea);\n\n   SocialCalc.MouseWheelRegister(editor.toplevel, {WheelMove: SocialCalc.EditorProcessMouseWheel, editor: editor});\n\n   SocialCalc.KeyboardSetFocus(editor);\n\n   // do status reporting things\n\n   SocialCalc.EditorSheetStatusCallback(null, \"startup\", null, editor);\n\n   // done\n\n   return editor.toplevel;\n\n   }\n\n// Special code needed for change that occurred with Safari 5 that made paste not work for some reason\n\nSocialCalc.SafariPasteFunction = function(e) {\n   e.preventDefault();\n   }\n\n//\n// SocialCalc.ResizeTableEditor(editor, width, height)\n//\n// Move things around as appropriate and resize\n//\n\nSocialCalc.ResizeTableEditor = function(editor, width, height) {\n\n   var scc = SocialCalc.Constants;\n\n   editor.width = width;\n   editor.height = height;\n\n   editor.toplevel.style.width = width+\"px\";\n   editor.toplevel.style.height = height+\"px\";\n\n   if (SocialCalc._app) {\n     editor.tablewidth = Math.max(0, width ); // no v scroll bar with app\n   } else {\n     editor.tablewidth = Math.max(0, width - scc.defaultTableControlThickness);\n   }\n   editor.tableheight = Math.max(0, height - scc.defaultTableControlThickness);\n   editor.griddiv.style.width=editor.tablewidth+\"px\";\n   editor.griddiv.style.height=editor.tableheight+\"px\";\n\n   editor.verticaltablecontrol.main.style.height = editor.tableheight + \"px\";\n   editor.horizontaltablecontrol.main.style.width = editor.tablewidth + \"px\";\n\n   editor.FitToEditTable();\n\n   editor.ScheduleRender();\n\n   return;\n\n   }\n\n//\n// str = SaveEditorSettings(editor)\n//\n// Returns a string representation of the pane settings, etc.\n//\n// The format is:\n//\n//    version:1.0\n//    rowpane:panenumber:firstnum:lastnum\n//    colpane:panenumber:firstnum:lastnum\n//    ecell:coord -- if set\n//    range:anchorcoord:top:bottom:left:right -- if set\n//\n// You can add additional values to be saved by using editor.SettingsCallbacks:\n//\n//   editor.SettingsCallbacks[\"item-name\"] = {save: savefunction, load: loadfunction}\n//\n// where savefunction(editor, \"item-name\") returns a string with the new lines to be added to the saved settings\n// which include the trailing newlines, and loadfunction(editor, \"item-name\", line, flags) is given the line to process\n// without the trailing newlines.\n//\n\nSocialCalc.SaveEditorSettings = function(editor) {\n\n   var i, setting;\n   var context = editor.context;\n   var range = editor.range;\n   var result = \"\";\n\n   result += \"version:1.0\\n\";\n\n   for (i=0; i<context.rowpanes.length; i++) {\n      result += \"rowpane:\"+i+\":\"+context.rowpanes[i].first+\":\"+context.rowpanes[i].last+\"\\n\";\n      }\n   for (i=0; i<context.colpanes.length; i++) {\n      result += \"colpane:\"+i+\":\"+context.colpanes[i].first+\":\"+context.colpanes[i].last+\"\\n\";\n      }\n\n   if (editor.ecell) {\n      result += \"ecell:\"+editor.ecell.coord+\"\\n\";\n      }\n\n   if (range.hasrange) {\n      result += \"range:\"+range.anchorcoord+\":\"+range.top+\":\"+range.bottom+\":\"+range.left+\":\"+range.right+\"\\n\";\n      }\n\n   for (setting in editor.SettingsCallbacks) {\n      result += editor.SettingsCallbacks[setting].save(editor, setting);\n      }\n\n   return result;\n\n   }\n\n//\n// LoadEditorSettings(editor, str, flags)\n//\n// Sets the editor settings based on str. See SocialCalc.SaveEditorSettings for more details.\n// Unrecognized lines are ignored.\n//\n\nSocialCalc.LoadEditorSettings = function(editor, str, flags) {\n\n   var lines=str.split(/\\r\\n|\\n/);\n   var parts=[];\n   var line, i, cr, row, col, coord, setting;\n   var context = editor.context;\n   var highlights, range;\n\n   context.rowpanes = [{first: 1, last: 1}]; // reset to start\n   context.colpanes = [{first: 1, last: 1}];\n   editor.ecell = null;\n   editor.range = {hasrange: false};\n   editor.range2 = {hasrange: false};\n   range = editor.range;\n   context.highlights = {};\n   highlights = context.highlights;\n\n   for (i=0; i<lines.length; i++) {\n      line=lines[i];\n      parts = line.split(\":\");\n      setting = parts[0];\n      switch (setting) {\n         case \"version\":\n            break;\n\n         case \"rowpane\":\n            context.rowpanes[parts[1]-0] = {first: parts[2]-0, last: parts[3]-0};\n            break;\n\n         case \"colpane\":\n            context.colpanes[parts[1]-0] = {first: parts[2]-0, last: parts[3]-0};\n            break;\n\n         case \"ecell\":\n            editor.ecell = SocialCalc.coordToCr(parts[1]);\n            editor.ecell.coord = parts[1];\n            highlights[parts[1]] = \"cursor\";\n            break;\n\n         case \"range\":\n            range.hasrange = true;\n            range.anchorcoord = parts[1];\n            cr = SocialCalc.coordToCr(range.anchorcoord);\n            range.anchorrow = cr.row;\n            range.anchorcol = cr.col;\n            range.top = parts[2]-0;\n            range.bottom = parts[3]-0;\n            range.left = parts[4]-0;\n            range.right = parts[5]-0;\n            for (row=range.top; row<=range.bottom; row++) {\n               for (col=range.left; col<=range.right; col++) {\n                  coord = SocialCalc.crToCoord(col, row);\n                  if (highlights[coord]!=\"cursor\") {\n                     highlights[coord] = \"range\";\n                     }\n                  }\n               }\n            break;\n\n         default:\n            if (editor.SettingsCallbacks[setting]) {\n               editor.SettingsCallbacks[setting].load(editor, setting, line, flags);\n               }\n            break;\n         }\n      }\n\n   return;\n\n   }\n\n//\n// EditorRenderSheet(editor)\n//\n// Renders the sheet and updates editor.fullgrid.\n// Sets event handlers.\n//\n\nSocialCalc.EditorRenderSheet = function(editor) {\n\n   editor.EditorMouseUnregister();\n\n   var sheetobj = editor.context.sheetobj;\n   // App widgets need to keep focus -  only render widgets if needed\n   if(sheetobj.reRenderCellList != null && SocialCalc._app && sheetobj.widgetsClean === true) {\n     // re-render each individual cells - but not widget with focus\n     for(var index in sheetobj.reRenderCellList) {\n       var coord = sheetobj.reRenderCellList[index];\n       var valuetype = sheetobj.cells[coord].valuetype;\n       if(valuetype.charAt(1) != \"i\" || valuetype !=  sheetobj.cells[coord].prevvaluetype) { // skip widgets - but paint when added/replaced\n         cr = SocialCalc.coordToCr(coord);\n         cell = SocialCalc.GetEditorCellElement(editor, cr.row, cr.col);\n         if(cell!=null) editor.ReplaceCell(cell, cr.row, cr.col);\n       }\n     }\n     sheetobj.reRenderCellList = [];\n   } else {\n      editor.fullgrid = editor.context.RenderSheet(editor.fullgrid);\n      if (sheetobj.reRenderCellList != null && SocialCalc._app) {\n        sheetobj.widgetsClean = true; // widgets have been rendered\n        sheetobj.reRenderCellList = [];\n      }\n   }\n\n   if (editor.ecell) editor.SetECellHeaders(\"selected\");\n\n   SocialCalc.AssignID(editor, editor.fullgrid, \"fullgrid\"); // give it an id\n   // eddy EditorRenderSheet {\n   if(!SocialCalc._app) editor.fullgrid.className = \"te_download\";\n   editor.EditorMouseRegister();\n   // } EditorRenderSheet\n\n   }\n\n//\n// EditorScheduleSheetCommands(editor, cmdstr, saveundo, ignorebusy)\n//\n\nSocialCalc.EditorScheduleSheetCommands = function(editor, cmdstr, saveundo, ignorebusy) {\n\n   if (editor.state!=\"start\" && !ignorebusy) { // ignore commands if editing a cell\n      return;\n      }\n\n   if (editor.busy && !ignorebusy) { // hold off on commands if doing one\n      editor.deferredCommands.push({cmdstr: cmdstr, saveundo: saveundo});\n      return;\n      }\n\n   // eddy ExecuteSheetCommand {\n   var cmdTokens = cmdstr.split(\" \");\n\n   switch (cmdTokens[0]) {\n\t   // } eddy ExecuteSheetCommand\n      case \"recalc\":\n      case \"redisplay\":\n         editor.context.sheetobj.ScheduleSheetCommands(cmdstr, false);\n         break;\n\n      case \"undo\":\n         if(SocialCalc._app ) editor.context.sheetobj.widgetsClean = false;     // force app widgets to render\n         editor.SheetUndo();\n         break;\n\n      case \"redo\":\n         if(SocialCalc._app ) editor.context.sheetobj.widgetsClean = false;     // force app widgets to render\n         editor.SheetRedo();\n         break;\n\n      case \"setemailparameters\":\n\t\t  SocialCalc.TriggerIoAction.Email(cmdTokens[1], cmdTokens[2]);\n    \t  break;\n\n\n      default:\n         editor.context.sheetobj.ScheduleSheetCommands(cmdstr, saveundo);\n         break;\n      }\n   }\n\n\n//\n// EditorSheetStatusCallback(recalcdata, status, arg, editor)\n//\n// Called during recalc, executing commands, etc.\n//\n\nSocialCalc.EditorSheetStatusCallback = function(recalcdata, status, arg, editor) {\n\n   var f, cell, dcmd;\n   var sheetobj = editor.context.sheetobj;\n\n   var signalstatus = function(s) {\n      for (f in editor.StatusCallback) {\n         if (editor.StatusCallback[f].func) {\n            editor.StatusCallback[f].func(editor, s, arg, editor.StatusCallback[f].params);\n            }\n         }\n      }\n\n   switch (status) {\n\n      case \"startup\":\n         break;\n\n      case \"cmdstart\":\n         editor.busy = true;\n         sheetobj.celldisplayneeded = \"\";\n         break;\n\n      case \"cmdextension\":\n         break;\n\n      case \"cmdend\":\n         signalstatus(status);\n\n         if (sheetobj.changedrendervalues) {\n            editor.context.PrecomputeSheetFontsAndLayouts();\n            editor.context.CalculateCellSkipData();\n            sheetobj.changedrendervalues = false;\n            }\n\n         if (sheetobj.celldisplayneeded && !sheetobj.renderneeded) {\n             if (sheetobj.cells[sheetobj.celldisplayneeded] && sheetobj.cells[sheetobj.celldisplayneeded].valuetype != \"e#N/A\") {\n                cr = SocialCalc.coordToCr(sheetobj.celldisplayneeded);\n                cell = SocialCalc.GetEditorCellElement(editor, cr.row, cr.col);\n                editor.ReplaceCell(cell, cr.row, cr.col); // if no value set, wait for recalc and render .\n                }\n             }\n         if (editor.deferredCommands.length) {\n            dcmd = editor.deferredCommands.shift();\n            editor.EditorScheduleSheetCommands(dcmd.cmdstr, dcmd.saveundo, true);\n            return;\n            }\n         if (sheetobj.attribs.needsrecalc &&\n               (sheetobj.attribs.recalc!=\"off\" || sheetobj.recalconce)\n               && editor.recalcFunction) {\n            editor.FitToEditTable();\n            sheetobj.renderneeded = false; // recalc will force a render\n            if (sheetobj.recalconce) delete sheetobj.recalconce; // only do once\n            editor.recalcFunction(editor);\n            }\n         else {\n            if (sheetobj.renderneeded) {\n               editor.FitToEditTable();\n               sheetobj.renderneeded = false;\n               editor.ScheduleRender(false);\n               }\n            else {\n               editor.SchedulePositionCalculations(); // just in case command changed positions\n//               editor.busy = false;\n//               signalstatus(\"cmdendnorender\");\n               }\n            }\n\n         // Handle hidden column.\n         if (sheetobj.hiddencolrow == \"col\") {\n            if (editor.ecell !== null) {\n               var col = editor.ecell.col;\n               while (sheetobj.colattribs.hide[SocialCalc.rcColname(col)] == \"yes\") {\n                  col++;\n                  }\n               var coord = SocialCalc.crToCoord(col, editor.ecell.row);\n               editor.MoveECell(coord);\n               sheetobj.hiddencolrow = \"\";\n               }\n            }\n\n         // Handle hidden row.\n         if (sheetobj.hiddencolrow == \"row\") {\n            if (editor.ecell !== null) {\n               var row = editor.ecell.row;\n               while (sheetobj.rowattribs.hide[row] == \"yes\") {\n                  row++;\n                  }\n               var coord = SocialCalc.crToCoord(editor.ecell.col, row);\n               editor.MoveECell(coord);\n               sheetobj.hiddencolrow = \"\";\n               }\n            }\n\n         return;\n\n      case \"calcstart\":\n         editor.busy = true;\n         break;\n\n      case \"calccheckdone\":\n      case \"calcorder\":\n      case \"calcstep\":\n      case \"calcloading\":\n      case \"calcserverfunc\":\n         break;\n\n      case \"calcfinished\":\n         signalstatus(status);\n         editor.ScheduleRender(false);\n         return;\n\n      case \"schedrender\":\n         editor.busy = true; // in case got here without cmd or recalc\n         break;\n\n      case \"renderdone\":\n         break;\n\n      case \"schedposcalc\":\n         editor.busy = true; // in case got here without cmd or recalc\n         break;\n\n      case \"doneposcalc\":\n          if (editor.deferredEmailCommands.length) {\n              signalstatus(status);\n              var emailcmd = editor.deferredEmailCommands.shift();\n              editor.EditorScheduleSheetCommands(emailcmd.cmdstr, emailcmd.saveundo, true);\n              return;\n              }\n\n\n         if (editor.deferredCommands.length) {\n            signalstatus(status);\n            dcmd = editor.deferredCommands.shift();\n            editor.EditorScheduleSheetCommands(dcmd.cmdstr, dcmd.saveundo, true);\n            }\n         else {\n            editor.busy = false;\n            signalstatus(status);\n            if (editor.state==\"start\") editor.DisplayCellContents(); // make sure up to date\n            }\n         return;\n      // eddy EditorSheetStatusCallback {\n      case \"emailing\":\n      case \"confirmemailsent\":\n        break;\n      // } EditorSheetStatusCallback eddy\n\n      default:\n    \t alert(\"Unknown status: \"+status);\n         break;\n\n      }\n\n   signalstatus(status);\n\n   return;\n\n   }\n\n//\n// str = SocialCalc.EditorGetStatuslineString(editor, status, arg, params)\n//\n// Assumes params is an object where it can use \"calculating\" and \"command\"\n// to keep track of state.\n// Returns string for status line.\n//\n\nSocialCalc.EditorGetStatuslineString = function(editor, status, arg, params) {\n\n   var scc = SocialCalc.Constants;\n\n   var sstr, progress, coord, circ, r, c, cell, sum, ele;\n\n   progress = \"\";\n\n   switch (status) {\n      case \"moveecell\":\n      case \"rangechange\":\n      case \"startup\":\n         break;\n      case \"cmdstart\":\n         params.command = true;\n         document.body.style.cursor = \"progress\";\n         editor.griddiv.style.cursor = \"progress\";\n         progress = scc.s_statusline_executing;\n         break;\n      case \"cmdextension\":\n         progress = \"Command Extension: \"+arg;\n         break;\n      case \"cmdend\":\n         params.command = false;\n         break;\n      case \"schedrender\":\n         progress = scc.s_statusline_displaying;\n         break;\n      case \"renderdone\":\n         progress = \" \";\n         break;\n      case \"schedposcalc\":\n         progress = scc.s_statusline_displaying;\n         break;\n      case \"cmdendnorender\":\n      case \"doneposcalc\":\n         document.body.style.cursor = \"default\";\n         editor.griddiv.style.cursor = \"default\";\n         // eddy EditorGetStatuslineString {\n         // all updates done, So let future event clear the \"sent\" message in the status bar\n         if(params.emailing == \"sent\") {\n        \t progress = params.emailreponse;\n        \t params.emailreponse = \"\";\n        \t params.emailing = \"done\";\n         }\n         // } eddy EditorGetStatuslineString\n         break;\n\n      case \"calcorder\":\n         progress = scc.s_statusline_ordering+Math.floor(100*arg.count/(arg.total||1))+\"%\";\n         break;\n      case \"calcstep\":\n         progress = scc.s_statusline_calculating+Math.floor(100*arg.count/(arg.total||1))+\"%\";\n         break;\n      case \"calcloading\":\n         progress = scc.s_statusline_calculatingls+\": \"+arg.sheetname;\n         break;\n      case \"calcserverfunc\":\n         progress = scc.s_statusline_calculating+Math.floor(100*arg.count/(arg.total||1))+\"%, \"+scc.s_statusline_doingserverfunc+arg.funcname+scc.s_statusline_incell+arg.coord;\n         break;\n      case \"calcstart\":\n         params.calculating = true;\n         document.body.style.cursor = \"progress\";\n         editor.griddiv.style.cursor = \"progress\"; // griddiv has an explicit cursor style\n         progress = scc.s_statusline_calcstart;\n         break;\n      case \"calccheckdone\":\n         break;\n      case \"calcfinished\":\n         params.calculating = false;\n         break;\n      // eddy EditorGetStatuslineString {\n      case \"emailing\":\n    \t params.emailing = \"sending\";\n    \t params.emailreponse =\"\";\n         break;\n      case \"confirmemailsent\":\n     \t params.emailing = \"sent\";\n     \t if(typeof params.emailreponse === 'undefined') params.emailreponse =\"\";\n     \t params.emailreponse += arg;\n         break;\n      // } eddy EditorGetStatuslineString\n\n      default:\n         progress = status;\n         break;\n      }\n\n   // eddy EditorGetStatuslineString {\n   // if send email then update status bar with \"sending\" and then \"sent\"\n   if(params.emailing == \"sending\") {\n  \t progress += scc.s_statusline_sendemail;\n   }\n   if(params.emailing == \"sent\") {\n  \t progress += params.emailreponse;\n   }\n   // } eddy EditorGetStatuslineString\n\n   if (!progress && params.calculating) {\n      progress = scc.s_statusline_calculating;\n      }\n\n   // if there is a range, calculate sum (not during busy times)\n   if (!params.calculating && !params.command && !progress && editor.range.hasrange\n       && (editor.range.left!=editor.range.right || editor.range.top!=editor.range.bottom)) {\n      sum = 0;\n      for (r=editor.range.top; r <= editor.range.bottom; r++) {\n         for (c=editor.range.left; c <= editor.range.right; c++) {\n            cell = editor.context.sheetobj.cells[SocialCalc.crToCoord(c, r)];\n            if (!cell) continue;\n            if (cell.valuetype && cell.valuetype.charAt(0)==\"n\") {\n               sum += cell.datavalue-0;\n               }\n            }\n         }\n\n      sum = SocialCalc.FormatNumber.formatNumberWithFormat(sum, \"[,]General\", \"\");\n\n      coord = SocialCalc.crToCoord(editor.range.left, editor.range.top) + \":\" +\n         SocialCalc.crToCoord(editor.range.right, editor.range.bottom);\n      progress = coord + \" (\" + (editor.range.right-editor.range.left+1) + \"x\" + (editor.range.bottom-editor.range.top+1) +\n                 \") \"+scc.s_statusline_sum+\"=\" + sum + \" \" + progress;\n      }\n   sstr = (editor.ecell || {}).coord+\" &nbsp; \"+progress;\n\n   if (!params.calculating && editor.context.sheetobj.attribs.needsrecalc==\"yes\") {\n      sstr += ' &nbsp; '+scc.s_statusline_recalcneeded;\n      }\n\n   circ = editor.context.sheetobj.attribs.circularreferencecell;\n   if (circ) {\n      circ = circ.replace(/\\|/, \" referenced by \");\n      sstr += ' &nbsp; '+scc.s_statusline_circref + circ + '</span>';\n      }\n   // eddy EditorGetStatuslineString {\n   sstr += \"\";\n   // } eddy EditorGetStatuslineString\n   return sstr;\n\n   }\n\n\n//\n// Mouse stuff\n//\n\nSocialCalc.EditorMouseInfo = {\n\n   // The registeredElements array is used to identify editor grid in which the mouse is doing things.\n\n   // One item for each active editor, each an object with:\n   //    .element, .editor\n\n   registeredElements: [],\n\n   editor: null, // editor being processed (between mousedown and mouseup)\n   element: null, // element being processed\n\n   ignore: false, // if true, mousedowns are ignored\n\n   mousedowncoord: \"\", // coord where mouse went down for drag range\n   mouselastcoord: \"\", // coord where mouse last was during drag\n   mouseresizecol: \"\", // col being resized\n   mouseresizeclientx: null, // where resize started\n   mouseresizedisplay: null // element tracking new size\n   }\n\n//\n// EditorMouseRegister(editor)\n//\n\nSocialCalc.EditorMouseRegister = function(editor) {\n\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   var element = editor.fullgrid;\n   var i;\n\n   for (i=0; i<mouseinfo.registeredElements.length; i++) {\n      if (mouseinfo.registeredElements[i].editor == editor) {\n         if (mouseinfo.registeredElements[i].element == element) {\n            return; // already set - don't do it again\n            }\n         break;\n         }\n      }\n\n   if (i<mouseinfo.registeredElements.length) {\n      mouseinfo.registeredElements[i].element = element;\n      }\n   else {\n      mouseinfo.registeredElements.push({element: element, editor: editor});\n      }\n\n   if (element.addEventListener) { // DOM Level 2 -- Firefox, et al\n      element.addEventListener(\"mousedown\", SocialCalc.ProcessEditorMouseDown, false);\n      element.addEventListener(\"dblclick\", SocialCalc.ProcessEditorDblClick, false);\n      }\n   else if (element.attachEvent) { // IE 5+\n      element.attachEvent(\"onmousedown\", SocialCalc.ProcessEditorMouseDown);\n      element.attachEvent(\"ondblclick\", SocialCalc.ProcessEditorDblClick);\n      }\n   else { // don't handle this\n      throw \"Browser not supported\";\n      }\n\n   mouseinfo.ignore = false; // just in case\n\n   return;\n\n   }\n\n//\n// EditorMouseUnregister(editor)\n//\n\nSocialCalc.EditorMouseUnregister = function(editor) {\n\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   var element = editor.fullgrid;\n   var i, oldelement;\n\n   for (i=0; i<mouseinfo.registeredElements.length; i++) {\n      if (mouseinfo.registeredElements[i].editor == editor) {\n         break;\n         }\n      }\n\n   if (i<mouseinfo.registeredElements.length) {\n      oldelement = mouseinfo.registeredElements[i].element; // remove old handlers\n      if (oldelement.removeEventListener) { // DOM Level 2\n         oldelement.removeEventListener(\"mousedown\", SocialCalc.ProcessEditorMouseDown, false);\n         oldelement.removeEventListener(\"dblclick\", SocialCalc.ProcessEditorDblClick, false);\n         }\n      else if (oldelement.detachEvent) { // IE\n         oldelement.detachEvent(\"onmousedown\", SocialCalc.ProcessEditorMouseDown);\n         oldelement.detachEvent(\"ondblclick\", SocialCalc.ProcessEditorDblClick);\n         }\n      mouseinfo.registeredElements.splice(i, 1);\n      }\n\n   return;\n\n   }\n\nSocialCalc.StopPropagation = function(event) {\n    if (event.stopPropagation) event.stopPropagation(); // DOM Level 2\n    else event.cancelBubble = true; // IE 5+\n    if (event.preventDefault) event.preventDefault(); // DOM Level 2\n    else event.returnValue = false; // IE 5+\n}\n\nSocialCalc.SetMouseMoveUp = function(move, up, element, event) {\n       // Event code from JavaScript, Flanagan, 5th Edition, pg. 422\n   if (document.addEventListener) { // DOM Level 2 -- Firefox, et al\n      document.addEventListener(\"mousemove\", move, true); // capture everywhere\n      document.addEventListener(\"mouseup\", up, true); // capture everywhere\n      }\n   else if (element.attachEvent) { // IE 5+\n      element.setCapture();\n      element.attachEvent(\"onmousemove\", move);\n      element.attachEvent(\"onmouseup\", up);\n      element.attachEvent(\"onlosecapture\", up);\n   }\n    SocialCalc.StopPropagation(event);\n}\n\nSocialCalc.RemoveMouseMoveUp = function(move, up, element, event) {\n    SocialCalc.StopPropagation(event);\n    if (document.removeEventListener) { // DOM Level 2\n\tdocument.removeEventListener(\"mousemove\", move, true);\n\tdocument.removeEventListener(\"mouseup\", up, true);\n    }\n    else if (element.detachEvent) { // IE\n\telement.detachEvent(\"onlosecapture\", up);\n\telement.detachEvent(\"onmouseup\", up);\n\telement.detachEvent(\"onmousemove\", move);\n\telement.releaseCapture();\n    }\n}\n\nSocialCalc.ProcessEditorMouseDown = function(e) {\n\n   var editor, result, coord, textarea, wval, range;\n\n   var event = e || window.event;\n\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   var ele = event.target || event.srcElement; // source object is often within what we want\n   var target = ele;\n   if (target.nodeType == 3) target = target.parentNode; // defeat Safari bug\n\n   var mobj;\n\n   if (mouseinfo.ignore) return; // ignore this\n\n   for (mobj=null; !mobj && ele; ele=ele.parentNode) { // go up tree looking for one of our elements\n      mobj = SocialCalc.LookupElement(ele, mouseinfo.registeredElements);\n      }\n   if (!mobj) {\n      mouseinfo.editor = null;\n      return; // not one of our elements\n      }\n\n   editor = mobj.editor;\n   mouseinfo.element = ele;\n   range = editor.range;\n\n   var pos = SocialCalc.GetElementPositionWithScroll(editor.toplevel);\n   var clientX = event.clientX - pos.left;\n   var clientY = event.clientY - pos.top;\n   result = SocialCalc.GridMousePosition(editor, clientX, clientY);\n\n   if (!result) return; // not on a cell or col header\n   mouseinfo.editor = editor; // remember for later\n\n    if (result.rowheader) {\n\tif (result.rowselect)  {\n\t    SocialCalc.ProcessEditorRowselectMouseDown(e, ele, result);\n\t} else {\n\t    SocialCalc.ProcessEditorRowsizeMouseDown(e, ele, result);\n\t}\n\treturn;\n    }\n\n    if (result.colheader) {\n\tif (result.colselect)  {\n\t    SocialCalc.ProcessEditorColselectMouseDown(e, ele, result);\n\t} else {\n\t    SocialCalc.ProcessEditorColsizeMouseDown(e, ele, result);\n\t}\n\treturn;\n    }\n\n   if (!result.coord) return; // not us\n\n   if (!range.hasrange) {\n      if (e.shiftKey)\n         editor.RangeAnchor();\n      }\n   coord = editor.MoveECell(result.coord);\n   // eddy ProcessEditorMouseDown {\n   if(SocialCalc._app == true) { // \"app\" wigets need to keep focus - needed because \"coord\" always equals A1\n     SocialCalc.CmdGotFocus(true); // cell widgets need to keep focus\n     return;\n   }\n\n   var clickedCell = editor.context.sheetobj.cells[coord];\n   if(clickedCell) {\n     if(clickedCell.valuetype.charAt(1) == 'i') { // IF cell contains ioWidget\n       var formula_name= clickedCell.valuetype.substring(2);\n       var widget_id = formula_name+'_'+coord;\n       if(target && widget_id == target.id) { // if widget was clicked (rather than cell containing widget)\n         var cell_widget=document.getElementById(widget_id);\n         SocialCalc.CmdGotFocus(cell_widget); // cell widgets need to keep focus\n       }\n\t\treturn; // let ioWidget keep the focus\n\t\t}\n\t }\n   // }\n\n   if (range.hasrange) {\n      if (e.shiftKey)\n         editor.RangeExtend();\n      else\n         editor.RangeRemove();\n      }\n\n   mouseinfo.mousedowncoord = coord; // remember if starting drag range select\n   mouseinfo.mouselastcoord = coord;\n\n   editor.EditorMouseRange(coord);\n\n   SocialCalc.KeyboardSetFocus(editor);\n   if (editor.state!=\"start\" && editor.inputBox) editor.inputBox.element.focus();\n    SocialCalc.SetMouseMoveUp(SocialCalc.ProcessEditorMouseMove,\n\t\t\t      SocialCalc.ProcessEditorMouseUp,\n\t\t\t      ele,\n\t\t\t      event);\n   return;\n\n   }\n\nSocialCalc.EditorMouseRange = function(editor, coord) {\n\n   var inputtext, wval;\n   var range = editor.range;\n\n   switch (editor.state) { // editing a cell - shouldn't get here if no inputBox\n      case \"input\":\n         inputtext = editor.inputBox.GetText();\n         wval = editor.workingvalues;\n         if ((\"(+-*/,:!&<>=^\".indexOf(inputtext.slice(-1))>=0 && inputtext.slice(0,1)==\"=\") ||\n             (inputtext == \"=\")) {\n            wval.partialexpr = inputtext;\n            }\n\n         if (wval.partialexpr) { // if in pointing operation\n            if (coord) {\n               if (range.hasrange) {\n                  editor.inputBox.SetText(wval.partialexpr + SocialCalc.crToCoord(range.left, range.top) + \":\" +\n                     SocialCalc.crToCoord(range.right, range.bottom));\n                  }\n               else {\n                  editor.inputBox.SetText(wval.partialexpr + coord);\n                  }\n               }\n            }\n         else { // not in point -- done editing\n            editor.inputBox.Blur();\n            editor.inputBox.ShowInputBox(false);\n            editor.state = \"start\";\n            editor.cellhandles.ShowCellHandles(true);\n            editor.EditorSaveEdit();\n            editor.inputBox.DisplayCellContents(null);\n            }\n         break;\n\n      case \"inputboxdirect\":\n         editor.inputBox.Blur();\n         editor.inputBox.ShowInputBox(false);\n         editor.state = \"start\";\n         editor.cellhandles.ShowCellHandles(true);\n         editor.EditorSaveEdit();\n         editor.inputBox.DisplayCellContents(null);\n         break;\n      }\n   }\n\nSocialCalc.ProcessEditorMouseMove = function(e) {\n\n   var editor, element, result, coord, now, textarea, sheetobj, cellobj, wval;\n\n   var event = e || window.event;\n\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   editor = mouseinfo.editor;\n   if (!editor) return; // not us, ignore\n   if (mouseinfo.ignore) return; // ignore this\n   element = mouseinfo.element;\n\n   var pos = SocialCalc.GetElementPositionWithScroll(editor.toplevel);\n   var clientX = event.clientX - pos.left;\n   var clientY = event.clientY - pos.top;\n   result = SocialCalc.GridMousePosition(editor, clientX, clientY); // get cell with move\n\n   if (!result) return;\n\n   if (result && !result.coord) {\n      SocialCalc.SetDragAutoRepeat(editor, result);\n      return;\n      }\n\n   SocialCalc.SetDragAutoRepeat(editor, null); // stop repeating if it was\n\n   if (!result.coord) return;\n\n   if (result.coord!=mouseinfo.mouselastcoord) {\n      if (!e.shiftKey && !editor.range.hasrange) {\n         editor.RangeAnchor(mouseinfo.mousedowncoord);\n         }\n      editor.MoveECell(result.coord);\n      editor.RangeExtend();\n      }\n   mouseinfo.mouselastcoord = result.coord;\n\n   editor.EditorMouseRange(result.coord);\n   SocialCalc.StopPropagation(event);\n   return;\n   }\n\n\nSocialCalc.ProcessEditorMouseUp = function(e) {\n\n   var editor, element, result, coord, now, textarea, sheetobj, cellobj, wval;\n\n   var event = e || window.event;\n\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   editor = mouseinfo.editor;\n   if (!editor) return; // not us, ignore\n   if (mouseinfo.ignore) return; // ignore this\n   element = mouseinfo.element;\n\n   var pos = SocialCalc.GetElementPositionWithScroll(editor.toplevel);\n   var clientX = event.clientX - pos.left;\n   var clientY = event.clientY - pos.top;\n   result = SocialCalc.GridMousePosition(editor, clientX, clientY); // get cell with up\n\n   SocialCalc.SetDragAutoRepeat(editor, null); // stop repeating if it was\n\n   if (!result) return;\n\n   if (!result.coord) result.coord = editor.ecell.coord;\n\n   if (editor.range.hasrange) {\n      editor.MoveECell(result.coord);\n      editor.RangeExtend();\n      }\n   else if (result.coord && result.coord!=mouseinfo.mousedowncoord) {\n      editor.RangeAnchor(mouseinfo.mousedowncoord);\n      editor.MoveECell(result.coord);\n      editor.RangeExtend();\n      }\n\n   editor.EditorMouseRange(result.coord);\n   mouseinfo.editor = null;\n   SocialCalc.RemoveMouseMoveUp(SocialCalc.ProcessEditorMouseMove,\n\t\t\t\t  SocialCalc.ProcessEditorMouseUp,\n\t\t\t\t  element,\n\t\t\t\t  event);\n   return false;\n\n   }\n\n\nSocialCalc.ProcessEditorColsizeMouseDown = function(e, ele, result) {\n\n   var event = e || window.event;\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   var editor = mouseinfo.editor;\n   var pos = SocialCalc.GetElementPositionWithScroll(editor.toplevel);\n   var clientX = event.clientX - pos.left;\n\n   mouseinfo.mouseresizecolnum = result.coltoresize; // remember col being resized\n   mouseinfo.mouseresizecol = SocialCalc.rcColname(result.coltoresize);\n   mouseinfo.mousedownclientx = clientX;\n   mouseinfo.mousecoltounhide = result.coltounhide;\n\n   if (result.coltoresize) {\n      var sizedisplay = document.createElement(\"div\");\n      mouseinfo.mouseresizedisplay = sizedisplay;\n      sizedisplay.style.width = \"auto\";\n      sizedisplay.style.position = \"absolute\";\n      sizedisplay.style.zIndex = 100;\n      sizedisplay.style.top = editor.headposition.top+\"px\";\n      sizedisplay.style.left = editor.colpositions[result.coltoresize]+\"px\";\n      sizedisplay.innerHTML = '<table cellpadding=\"0\" cellspacing=\"0\"><tr><td style=\"height:100px;'+\n        'border:1px dashed black;background-color:white;width:' +\n        (editor.context.colwidth[mouseinfo.mouseresizecolnum]-2) + 'px;\">&nbsp;</td>'+\n        '<td><div style=\"font-size:small;color:white;background-color:gray;padding:4px;\">'+\n        editor.context.colwidth[mouseinfo.mouseresizecolnum] + '</div></td></tr></table>';\n      SocialCalc.setStyles(sizedisplay.firstChild.lastChild.firstChild.childNodes[0], \"filter:alpha(opacity=85);opacity:.85;\"); // so no warning msg with Firefox about filter\n\n      editor.toplevel.appendChild(sizedisplay);\n      }\n    SocialCalc.SetMouseMoveUp( SocialCalc.ProcessEditorColsizeMouseMove,\n\t\t\t       SocialCalc.ProcessEditorColsizeMouseUp,\n\t\t\t       editor.toplevel,\n\t\t\t       event);\n   return;\n   }\n\n\nSocialCalc.ProcessEditorColsizeMouseMove = function(e) {\n\n   var event = e || window.event;\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   var editor = mouseinfo.editor;\n   if (!editor) return; // not us, ignore\n\n   if (mouseinfo.mouseresizecolnum) {\n      var pos = SocialCalc.GetElementPositionWithScroll(editor.toplevel);\n      var clientX = event.clientX - pos.left;\n\n      var newsize = (editor.context.colwidth[mouseinfo.mouseresizecolnum]-0) + (clientX - mouseinfo.mousedownclientx);\n      if (newsize < SocialCalc.Constants.defaultMinimumColWidth) newsize = SocialCalc.Constants.defaultMinimumColWidth;\n\n      var sizedisplay = mouseinfo.mouseresizedisplay;\n//      sizedisplay.firstChild.lastChild.firstChild.childNodes[1].firstChild.innerHTML = newsize+\"\";\n//      sizedisplay.firstChild.lastChild.firstChild.childNodes[0].firstChild.style.width = (newsize-2)+\"px\";\n      sizedisplay.innerHTML = '<table cellpadding=\"0\" cellspacing=\"0\"><tr><td style=\"height:100px;'+\n          'border:1px dashed black;background-color:white;width:' + (newsize-2) + 'px;\">&nbsp;</td>'+\n          '<td><div style=\"font-size:small;color:white;background-color:gray;padding:4px;\">'+\n          newsize + '</div></td></tr></table>';\n      SocialCalc.setStyles(sizedisplay.firstChild.lastChild.firstChild.childNodes[0], \"filter:alpha(opacity=85);opacity:.85;\"); // so no warning msg with Firefox about filter\n      }\n   SocialCalc.StopPropagation(event);\n   return;\n   }\n\n\nSocialCalc.ProcessEditorColsizeMouseUp = function(e) {\n\n   var event = e || window.event;\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   var editor = mouseinfo.editor;\n   if (!editor) return; // not us, ignore\n   element = mouseinfo.element;\n   var pos = SocialCalc.GetElementPositionWithScroll(editor.toplevel);\n   var clientX = event.clientX - pos.left;\n   SocialCalc.RemoveMouseMoveUp(\n       SocialCalc.ProcessEditorColsizeMouseMove,\n       SocialCalc.ProcessEditorColsizeMouseUp,\n       editor.toplevel,\n       event);\n\n   if (mouseinfo.mousecoltounhide) {\n      editor.EditorScheduleSheetCommands(\"set \"+SocialCalc.rcColname(mouseinfo.mousecoltounhide)+\" hide\", true, false);\n      /*\n      if (editor.ecell && editor.ecell.col == mouseinfo.mousecoltounhide+1) {\n         editor.MoveECell(SocialCalc.crToCoord(mouseinfo.mousecoltounhide, editor.ecell.row));\n         }*/\n      }\n   else if (mouseinfo.mouseresizecolnum) {\n      var newsize = (editor.context.colwidth[mouseinfo.mouseresizecolnum]-0) + (clientX - mouseinfo.mousedownclientx);\n      if (newsize < SocialCalc.Constants.defaultMinimumColWidth) newsize = SocialCalc.Constants.defaultMinimumColWidth;\n\n      editor.EditorScheduleSheetCommands(\"set \"+mouseinfo.mouseresizecol+\" width \"+newsize, true, false);\n\n      if (editor.timeout) window.clearTimeout(editor.timeout);\n      editor.timeout = window.setTimeout(SocialCalc.FinishColRowSize, 1); // wait - Firefox 2 has a bug otherwise with next mousedown\n      }\n\n   return false;\n\n   }\n\n\nSocialCalc.FinishColRowSize = function() {\n\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   var editor = mouseinfo.editor;\n   if (!editor) return;\n\n   editor.toplevel.removeChild(mouseinfo.mouseresizedisplay);\n   mouseinfo.mouseresizedisplay = null;\n\n//   editor.FitToEditTable();\n//   editor.EditorRenderSheet();\n//   editor.SchedulePositionCalculations();\n\n   mouseinfo.editor = null;\n\n   return;\n\n   }\n\n\nSocialCalc.ProcessEditorRowselectMouseDown = function(e, ele, result) {\n    var event = e || window.event;\n    var mouseinfo = SocialCalc.EditorMouseInfo;\n    var editor = mouseinfo.editor;\n    var sheet = SocialCalc.GetSpreadsheetControlObject().sheet;\n    coord1 = SocialCalc.crToCoord(1, result.row)\n    coord2 = SocialCalc.crToCoord(sheet.LastCol(),\n\t\t\t\t  result.row)\n    coord3 = SocialCalc.crToCoord(editor.firstscrollingcol,\n\t\t\t\t  result.row)\n    editor.RangeAnchor(coord1);\n    editor.RangeExtend(coord2);\n    editor.MoveECell(coord3);\n    SocialCalc.SetMouseMoveUp(SocialCalc.ProcessEditorRowselectMouseMove,\n\t\t\t      SocialCalc.ProcessEditorRowselectMouseUp,\n\t\t\t      editor.toplevel,\n\t\t\t      event);\n}\n\nSocialCalc.ProcessEditorRowselectMouseMove = function(e) {\n    var event = e || window.event;\n    var mouseinfo = SocialCalc.EditorMouseInfo;\n    var editor = mouseinfo.editor;\n    var sheet = SocialCalc.GetSpreadsheetControlObject().sheet;\n\n    if (!editor) return; // not us, ignore\n\n    var pos = SocialCalc.GetElementPositionWithScroll(editor.toplevel);\n    var clientX = event.clientX - pos.left;\n    var clientY = event.clientY - pos.top;\n    result = SocialCalc.GridMousePosition(editor, clientX, clientY);\n    coord2 = SocialCalc.crToCoord(sheet.LastCol(),\n\t\t\t\t  result.row)\n    coord3 = SocialCalc.crToCoord(editor.firstscrollingcol,\n\t\t\t\t  result.row)\n    editor.RangeExtend(coord2);\n    editor.MoveECell(coord3);\n    return;\n}\n\nSocialCalc.ProcessEditorRowselectMouseUp = function(e) {\n    var event = e || window.event;\n    var mouseinfo = SocialCalc.EditorMouseInfo;\n    var editor = mouseinfo.editor;\n    if (!editor) return; // not us, ignore\n    SocialCalc.RemoveMouseMoveUp(SocialCalc.ProcessEditorRowselectMouseMove,\n\t\t\t\t SocialCalc.ProcessEditorRowselectMouseUp,\n\t\t\t\t editor.toplevel,\n\t\t\t\t e);\n    return;\n}\n\nSocialCalc.ProcessEditorColselectMouseDown = function(e, ele, result) {\n    var event = e || window.event;\n    var mouseinfo = SocialCalc.EditorMouseInfo;\n    var editor = mouseinfo.editor;\n    var sheet = SocialCalc.GetSpreadsheetControlObject().sheet;\n\n    coord1 = SocialCalc.crToCoord(result.col, 1)\n    coord2 = SocialCalc.crToCoord(result.col,\n\t\t\t\t  sheet.LastRow())\n    coord3 = SocialCalc.crToCoord(result.col,\n\t\t\t\t  editor.firstscrollingrow)\n\n    editor.RangeAnchor(coord1);\n    editor.RangeExtend(coord2);\n    editor.MoveECell(coord3);\n    SocialCalc.SetMouseMoveUp(SocialCalc.ProcessEditorColselectMouseMove,\n\t\t\t      SocialCalc.ProcessEditorColselectMouseUp,\n\t\t\t      editor.toplevel,\n\t\t\t      event);\n\n}\n\nSocialCalc.ProcessEditorColselectMouseMove = function(e) {\n    var event = e || window.event;\n    var mouseinfo = SocialCalc.EditorMouseInfo;\n    var editor = mouseinfo.editor;\n    var sheet = SocialCalc.GetSpreadsheetControlObject().sheet;\n\n    if (!editor) return; // not us, ignore\n\n    var pos = SocialCalc.GetElementPositionWithScroll(editor.toplevel);\n    var clientX = event.clientX - pos.left;\n    var clientY = event.clientY - pos.top;\n    result = SocialCalc.GridMousePosition(editor, clientX, clientY);\n    coord2 = SocialCalc.crToCoord(result.col,\n\t\t\t\t  sheet.LastRow())\n    coord3 = SocialCalc.crToCoord(result.col,\n\t\t\t\t  editor.firstscrollingrow)\n    editor.RangeExtend(coord2);\n    editor.MoveECell(coord3);\n    return;\n}\n\nSocialCalc.ProcessEditorColselectMouseUp = function(e) {\n    var event = e || window.event;\n    var mouseinfo = SocialCalc.EditorMouseInfo;\n    var editor = mouseinfo.editor;\n    if (!editor) return; // not us, ignore\n    SocialCalc.RemoveMouseMoveUp(SocialCalc.ProcessEditorColselectMouseMove,\n\t\t\t\t SocialCalc.ProcessEditorColselectMouseUp,\n\t\t\t\t editor.toplevel,\n\t\t\t\t e);\n    return;\n}\n\nSocialCalc.ProcessEditorRowsizeMouseDown = function(e, ele, result) {\n\n   var event = e || window.event;\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   var editor = mouseinfo.editor;\n   var pos = SocialCalc.GetSpreadsheetControlObject().spreadsheetDiv.firstChild.offsetHeight;\n   var clientY = event.clientY - pos;\n\n   mouseinfo.mouseresizerownum = result.rowtoresize; // remember col being resized\n   mouseinfo.mouseresizerow = result.rowtoresize;\n   mouseinfo.mousedownclienty = clientY;\n   mouseinfo.mouserowtounhide = result.rowtounhide;\n\n  if (result.rowtoresize) {\n    var sizedisplay = document.createElement(\"div\");\n    mouseinfo.mouseresizedisplay = sizedisplay;\n    sizedisplay.style.width = editor.context.totalwidth+\"px\";\n    sizedisplay.style.height = editor.rowpositions[result.rowtoresize]+\"px\";\n    sizedisplay.style.position = \"absolute\";\n    sizedisplay.style.zIndex = 100;\n    sizedisplay.style.top = editor.rowpositions[result.rowtoresize]+\"px\";\n    sizedisplay.style.left = editor.headposition.left+\"px\";\n    sizedisplay.innerHTML = '<table cellpadding=\"0\" cellspacing=\"0\"><tr><td style=\"width:100px' +\n      'border:1px dashed black;background-color:white;height:' +\n      (editor.context.rowheight[mouseinfo.mouseresizerownum]-2) + 'px;\">&nbsp;</td>'+\n      '<td><div style=\"font-size:small;color:white;background-color:gray;padding:4px;\">'+\n      editor.context.rowheight[mouseinfo.mouseresizerownum] + '</div></td></tr></table>';\n    SocialCalc.setStyles(sizedisplay.firstChild.lastChild.firstChild.childNodes[0], \"filter:alpha(opacity=85);opacity:.5;\"); // so no warning msg with Firefox about filter\n\n    editor.toplevel.appendChild(sizedisplay);\n  }\n    SocialCalc.SetMouseMoveUp(SocialCalc.ProcessEditorRowsizeMouseMove,\n\t\t\t      SocialCalc.ProcessEditorRowsizeMouseUp,\n\t\t\t      editor.toplevel,\n\t\t\t      event);\n    return;\n   }\n\n\nSocialCalc.ProcessEditorRowsizeMouseMove = function(e) {\n\n   var event = e || window.event;\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   var editor = mouseinfo.editor;\n   if (!editor) return; // not us, ignore\n\n  if (mouseinfo.mouseresizerownum) {\n    var pos = SocialCalc.GetSpreadsheetControlObject().spreadsheetDiv.firstChild.offsetHeight;\n    var clientY = event.clientY - pos;\n\n    var newsize = (editor.context.rowheight[mouseinfo.mouseresizerownum]-0) + (clientY - mouseinfo.mousedownclienty);\n    if (newsize < SocialCalc.Constants.defaultAssumedRowHeight) newsize = SocialCalc.Constants.defaultAssumedRowHeight;\n\n    var sizedisplay = mouseinfo.mouseresizedisplay;\n    sizedisplay.innerHTML = '<table cellpadding=\"0\" cellspacing=\"0\"><tr><td style=\"width:100px;'+\n      'border:1px dashed black;background-color:white;height:' + (newsize-2) + 'px;\">&nbsp;</td>'+\n      '<td><div style=\"font-size:small;color:white;background-color:gray;padding:4px;\">'+\n      newsize + '</div></td></tr></table>';\n    SocialCalc.setStyles(sizedisplay.firstChild.lastChild.firstChild.childNodes[0], \"filter:alpha(opacity=85);opacity:.5;\"); // so no warning msg with Firefox about filter\n  }\n\n   SocialCalc.StopPropagation(event);\n   return;\n\n   }\n\n\nSocialCalc.ProcessEditorRowsizeMouseUp = function(e) {\n\n   var event = e || window.event;\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   var editor = mouseinfo.editor;\n   if (!editor) return; // not us, ignore\n   element = mouseinfo.element;\n   var pos = SocialCalc.GetSpreadsheetControlObject().spreadsheetDiv.firstChild.offsetHeight;\n   var clientY = event.clientY - pos;\n   SocialCalc.RemoveMouseMoveUp(\n       SocialCalc.ProcessEditorRowsizeMouseMove,\n       SocialCalc.ProcessEditorRowsizeMouseUp,\n       editor.toplevel,\n       event);\n   if (mouseinfo.mouserowtounhide) {\n      editor.EditorScheduleSheetCommands(\"set \"+mouseinfo.mouserowtounhide+\" hide\", true, false);\n      }\n   else if (mouseinfo.mouseresizerownum) {\n     var newsize = (editor.context.rowheight[mouseinfo.mouseresizerownum]-0) + (clientY - mouseinfo.mousedownclienty);\n     if (newsize < SocialCalc.Constants.defaultAssumedRowHeight) newsize = SocialCalc.Constants.defaultAssumedRowHeight;\n     editor.EditorScheduleSheetCommands(\"set \"+mouseinfo.mouseresizerownum+\" height \"+newsize, true, false);\n\n     if (editor.timeout) window.clearTimeout(editor.timeout);\n     editor.timeout = window.setTimeout(SocialCalc.FinishColRowSize, 1); // wait - Firefox 2 has a bug otherwise with next mousedown\n   }\n\n   return false;\n\n   }\n\n\n//\n// Handle auto-repeat of dragging the cursor into the borders of the sheet\n//\n\nSocialCalc.AutoRepeatInfo = {\n\n   timer: null, // timer object for repeating\n   mouseinfo: null, // result from SocialCalc.GridMousePosition\n   repeatinterval: 1000, // milliseconds to wait between repeats\n   editor: null, // editor object to use when it repeats\n   repeatcallback: null // used instead of default when repeating (e.g., for cellhandles)\n                        // called as: repeatcallback(newcoord, direction)\n\n};\n\n// Control auto-repeat. If mouseinfo==null, cancel.\n\nSocialCalc.SetDragAutoRepeat = function(editor, mouseinfo, callback) {\n\n   var repeatinfo = SocialCalc.AutoRepeatInfo;\n   var coord, direction;\n\n   repeatinfo.repeatcallback = callback; // null in regular case\n\n   if (!mouseinfo) { // cancel\n      if (repeatinfo.timer) { // If was repeating, stop\n         window.clearTimeout(repeatinfo.timer); // cancel timer\n         repeatinfo.timer = null;\n         }\n      repeatinfo.mouseinfo = null;\n      return; // done\n      }\n\n   repeatinfo.editor = editor;\n\n   if (repeatinfo.mouseinfo) { // check for change while repeating\n      if (mouseinfo.rowheader || mouseinfo.rowfooter) {\n         if (mouseinfo.row != repeatinfo.mouseinfo.row) { // changed row while dragging sidewards\n            coord = SocialCalc.crToCoord(editor.ecell.col, mouseinfo.row); // change to it\n            if (repeatinfo.repeatcallback) {\n               if (mouseinfo.row < repeatinfo.mouseinfo.row) {\n                  direction = \"left\";\n                  }\n               else if (mouseinfo.row > repeatinfo.mouseinfo.row) {\n                  direction = \"right\";\n                  }\n               else {\n                  direction = \"\";\n                  }\n               repeatinfo.repeatcallback(coord, direction);\n               }\n            else {\n               editor.MoveECell(coord);\n               editor.MoveECell(coord);\n               editor.RangeExtend();\n               editor.EditorMouseRange(coord);\n               }\n            }\n         }\n      else if (mouseinfo.colheader || mouseinfo.colfooter) {\n         if (mouseinfo.col != repeatinfo.mouseinfo.col) { // changed col while dragging vertically\n            coord = SocialCalc.crToCoord(mouseinfo.col, editor.ecell.row); // change to it\n            if (repeatinfo.repeatcallback) {\n               if (mouseinfo.row < repeatinfo.mouseinfo.row) {\n                  direction = \"left\";\n                  }\n               else if (mouseinfo.row > repeatinfo.mouseinfo.row) {\n                  direction = \"right\";\n                  }\n               else {\n                  direction = \"\";\n                  }\n               repeatinfo.repeatcallback(coord, direction);\n               }\n            else {\n               editor.MoveECell(coord);\n               editor.RangeExtend();\n               editor.EditorMouseRange(coord);\n               }\n            }\n         }\n      }\n\n   repeatinfo.mouseinfo = mouseinfo;\n\n   if (mouseinfo.distance < 5) repeatinfo.repeatinterval = 333;\n   else if (mouseinfo.distance < 10) repeatinfo.repeatinterval = 250;\n   else if (mouseinfo.distance < 25) repeatinfo.repeatinterval = 100;\n   else if (mouseinfo.distance < 35) repeatinfo.repeatinterval = 75;\n   else { // too far - stop repeating\n      if (repeatinfo.timer) { // if repeating, cancel it\n         window.clearTimeout(repeatinfo.timer); // cancel timer\n         repeatinfo.timer = null;\n         }\n      return;\n      }\n\n   if (!repeatinfo.timer) { // start if not already running\n      repeatinfo.timer = window.setTimeout(SocialCalc.DragAutoRepeat, repeatinfo.repeatinterval);\n      }\n\n   return;\n\n   }\n\n//\n// DragAutoRepeat()\n//\n\nSocialCalc.DragAutoRepeat = function() {\n\n   var repeatinfo = SocialCalc.AutoRepeatInfo;\n   var mouseinfo = repeatinfo.mouseinfo;\n\n   var direction, coord, cr;\n\n   if (mouseinfo.rowheader) direction = \"left\";\n   else if (mouseinfo.rowfooter) direction = \"right\";\n   else if (mouseinfo.colheader) direction = \"up\";\n   else if (mouseinfo.colfooter) direction = \"down\";\n\n   if (repeatinfo.repeatcallback) {\n      cr = SocialCalc.coordToCr(repeatinfo.editor.ecell.coord);\n      if (direction == \"left\" && cr.col > 1) cr.col--;\n      else if (direction == \"right\") cr.col++;\n      else if (direction == \"up\" && cr.row > 1) cr.row--;\n      else if (direction == \"down\") cr.row++;\n      coord = SocialCalc.crToCoord(cr.col, cr.row);\n      repeatinfo.repeatcallback(coord, direction);\n      }\n   else {\n      coord = repeatinfo.editor.MoveECellWithKey(\"[a\"+direction+\"]shifted\");\n      if (coord) repeatinfo.editor.EditorMouseRange(coord);\n      }\n\n   repeatinfo.timer = window.setTimeout(SocialCalc.DragAutoRepeat, repeatinfo.repeatinterval);\n\n   }\n\n//\n// Handling Clicking\n//\n\nSocialCalc.ProcessEditorDblClick = function(e) {\n\n   var editor, result, coord, textarea, wval, range;\n\n   var event = e || window.event;\n\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   var ele = event.target || event.srcElement; // source object is often within what we want\n   var mobj;\n\n   if (mouseinfo.ignore) return; // ignore this\n\n   for (mobj=null; !mobj && ele; ele=ele.parentNode) { // go up tree looking for one of our elements\n      mobj = SocialCalc.LookupElement(ele, mouseinfo.registeredElements);\n      }\n   if (!mobj) {\n      mouseinfo.editor = null;\n      return; // not one of our elements\n      }\n\n   editor = mobj.editor;\n\n   var pos = SocialCalc.GetElementPositionWithScroll(editor.toplevel);\n   var clientX = event.clientX - pos.left;\n   var clientY = event.clientY - pos.top;\n   result = SocialCalc.GridMousePosition(editor, clientX, clientY);\n   if (!result || !result.coord) return; // not within cell area - ignore\n\n   mouseinfo.editor = editor; // remember for later\n   mouseinfo.element = ele;\n   range = editor.range;\n\n   sheetobj = editor.context.sheetobj;\n\n   switch (editor.state) {\n      case \"start\":\n         SocialCalc.EditorOpenCellEdit(editor);\n         break;\n\n      case \"input\":\n         break;\n\n      default:\n         break;\n      }\n   SocialCalc.StopPropagation(event);\n   return;\n\n   }\n\n\nSocialCalc.EditorOpenCellEdit = function(editor) {\n\n   var wval;\n\n   if (!editor.ecell) return true; // no ecell\n   if (!editor.inputBox) return true; // no input box, so no editing (happens on noEdit)\n   if (editor.inputBox.element.disabled) return true; // multi-line: ignore\n   editor.inputBox.ShowInputBox(true);\n   editor.inputBox.Focus();\n   editor.inputBox.SetText(\"\");\n   editor.inputBox.DisplayCellContents();\n   editor.inputBox.Select(\"end\");\n   wval = editor.workingvalues;\n   wval.partialexpr = \"\";\n   wval.ecoord = editor.ecell.coord;\n   wval.erow = editor.ecell.row;\n   wval.ecol = editor.ecell.col;\n\n   return;\n\n   }\n\n\nSocialCalc.EditorProcessKey = function(editor, ch, e) {\n\n   var result, cell, cellobj, valueinfo, fch, coord, inputtext, f;\n\n   var sheetobj = editor.context.sheetobj;\n   var wval = editor.workingvalues;\n   var range = editor.range;\n\n   if (typeof ch != \"string\") ch = \"\";\n\n   switch (editor.state) {\n      case \"start\":\n         if (e.shiftKey && ch.substr(0,2)==\"[a\") {\n            ch = ch + \"shifted\";\n            }\n         if (ch==\"[enter]\") ch = \"[adown]\";\n         if (ch==\"[tab]\") ch = e.shiftKey ? \"[aleft]\" : \"[aright]\";\n         if (ch.substr(0,2)==\"[a\" || ch.substr(0,3)==\"[pg\" || ch==\"[home]\") {\n            result = editor.MoveECellWithKey(ch);\n            return !result;\n            }\n         if (ch==\"[del]\" || ch==\"[backspace]\") {\n            if (!editor.noEdit && !editor.ECellReadonly()) {\n               editor.EditorApplySetCommandsToRange(\"empty\", \"\");\n               }\n            break;\n            }\n         if (ch==\"[esc]\") {\n            if (range.hasrange) {\n               editor.RangeRemove();\n               editor.MoveECell(range.anchorcoord);\n               for (f in editor.StatusCallback) {\n                  editor.StatusCallback[f].func(editor, \"specialkey\", ch, editor.StatusCallback[f].params);\n                  }\n               }\n            return false;\n            }\n\n         if (ch==\"[f2]\") {\n            if (editor.noEdit || editor.ECellReadonly()) return true;\n            SocialCalc.EditorOpenCellEdit(editor);\n            editor.state=\"inputboxdirect\"; // arrow keys move left and right, rather than select cells\n            return false;\n            }\n\n         if ((ch.length>1 && ch.substr(0,1)==\"[\") || ch.length==0) { // some control key\n            if (editor.ctrlkeyFunction && ch.length>0) {\n               return editor.ctrlkeyFunction(editor, ch);\n               }\n            else {\n               return true;\n               }\n            }\n         if (!editor.ecell) return true; // no ecell\n         if (!editor.inputBox) return true; // no inputBox so no editing\n         if (editor.ECellReadonly()) return true;\n         editor.inputBox.element.disabled = false; // make sure editable\n         editor.state = \"input\";\n         editor.inputBox.ShowInputBox(true);\n         editor.inputBox.Focus();\n         editor.inputBox.SetText(ch);\n         editor.inputBox.Select(\"end\");\n         wval.partialexpr = \"\";\n         wval.ecoord = editor.ecell.coord;\n         wval.erow = editor.ecell.row;\n         wval.ecol = editor.ecell.col;\n         editor.RangeRemove();\n         break;\n\n      case \"input\":\n         inputtext = editor.inputBox.GetText(); // should not get here if no inputBox\n         if (editor.inputBox.skipOne) return false; // ignore a key already handled\n         if (ch==\"[esc]\" || ch==\"[enter]\" || ch==\"[tab]\" || (ch && ch.substr(0,2)==\"[a\")) {\n            if ((\"(+-*/,:!&<>=^\".indexOf(inputtext.slice(-1))>=0 && inputtext.slice(0,1)==\"=\") ||\n                (inputtext == \"=\")) {\n               wval.partialexpr = inputtext;\n               }\n            if (wval.partialexpr) { // if in pointing operation\n               if (e.shiftKey && ch.substr(0,2)==\"[a\") {\n                  ch = ch + \"shifted\";\n                  }\n               coord = editor.MoveECellWithKey(ch);\n               if (coord) {\n                  if (range.hasrange) {\n                     editor.inputBox.SetText(wval.partialexpr + SocialCalc.crToCoord(range.left, range.top) + \":\" +\n                        SocialCalc.crToCoord(range.right, range.bottom));\n                     }\n                  else {\n                     editor.inputBox.SetText(wval.partialexpr + coord);\n                     }\n                  return false;\n                  }\n               }\n            editor.inputBox.Blur();\n            editor.inputBox.ShowInputBox(false);\n            editor.state = \"start\";\n            editor.cellhandles.ShowCellHandles(true);\n            if (ch != \"[esc]\") {\n               editor.EditorSaveEdit();\n               if (editor.ecell.coord != wval.ecoord) {\n                  editor.MoveECell(wval.ecoord);\n                  }\n               if (ch==\"[enter]\") ch = \"[adown]\";\n               if (ch==\"[tab]\") ch = e.shiftKey ? \"[aleft]\" : \"[aright]\";\n               if (ch.substr(0,2)==\"[a\") {\n                  editor.MoveECellWithKey(ch);\n                  }\n               }\n            else {\n               editor.inputBox.DisplayCellContents();\n               editor.RangeRemove();\n               editor.MoveECell(wval.ecoord);\n               }\n            break;\n            }\n         if (wval.partialexpr && ch==\"[backspace]\") {\n            editor.inputBox.SetText(wval.partialexpr);\n            wval.partialexpr = \"\";\n            editor.RangeRemove();\n            editor.MoveECell(wval.ecoord);\n            editor.inputBox.ShowInputBox(true); // make sure it's moved back if necessary\n            return false;\n            }\n         if (ch==\"[f2]\") {\n           editor.state = \"inputboxdirect\";\n           return false;\n           }\n         if (range.hasrange) {\n            editor.RangeRemove();\n            }\n         editor.MoveECell(wval.ecoord);\n         if (wval.partialexpr) {\n            editor.inputBox.ShowInputBox(true); // make sure it's moved back if necessary\n            wval.partialexpr = \"\"; // not pointing\n            }\n         return true;\n\n      case \"inputboxdirect\":\n         inputtext = editor.inputBox.GetText(); // should not get here if no inputBox\n         if (ch==\"[esc]\" || ch==\"[enter]\" || ch==\"[tab]\") {\n            editor.inputBox.Blur();\n            editor.inputBox.ShowInputBox(false);\n            editor.state = \"start\";\n            editor.cellhandles.ShowCellHandles(true);\n            if (ch == \"[esc]\") {\n               editor.inputBox.DisplayCellContents();\n               }\n            else {\n               editor.EditorSaveEdit();\n               if (editor.ecell.coord != wval.ecoord) {\n                  editor.MoveECell(wval.ecoord);\n                  }\n               if (ch==\"[enter]\") ch = \"[adown]\";\n               if (ch==\"[tab]\") ch = e.shiftKey ? \"[aleft]\" : \"[aright]\";\n               if (ch.substr(0,2)==\"[a\") {\n                  editor.MoveECellWithKey(ch);\n                  }\n               }\n            break;\n            }\n         if (ch==\"[f2]\") {\n           editor.state = \"input\"; // arrow keys add range/coord to inputbox formula\n           return false;\n           }\n         return true;\n\n      case \"skip-and-start\":\n         editor.state = \"start\";\n         editor.cellhandles.ShowCellHandles(true);\n         return false;\n\n      default:\n         return true;\n      }\n\n   return false;\n\n   }\n\nSocialCalc.EditorAddToInput = function(editor, str, prefix) {\n\n   var wval = editor.workingvalues;\n\n   if (editor.noEdit || editor.ECellReadonly()) return;\n\n   switch (editor.state) {\n      case \"start\":\n         editor.state = \"input\";\n         editor.inputBox.ShowInputBox(true);\n         editor.inputBox.element.disabled = false; // make sure editable and overwrite old\n         editor.inputBox.Focus();\n         editor.inputBox.SetText((prefix||\"\")+str);\n         editor.inputBox.Select(\"end\");\n         wval.partialexpr = \"\";\n         wval.ecoord = editor.ecell.coord;\n         wval.erow = editor.ecell.row;\n         wval.ecol = editor.ecell.col;\n         editor.RangeRemove();\n         break;\n\n      case \"input\":\n      case \"inputboxdirect\":\n         editor.inputBox.element.focus();\n         if (wval.partialexpr) {\n            editor.inputBox.SetText(wval.partialexpr);\n            wval.partialexpr = \"\";\n            editor.RangeRemove();\n            editor.MoveECell(wval.ecoord);\n            }\n         editor.inputBox.SetText(editor.inputBox.GetText()+str);\n         break;\n\n      default:\n         break;\n      }\n\n   }\n\n\nSocialCalc.EditorDisplayCellContents = function(editor) {\n\n   if (editor.inputBox) editor.inputBox.DisplayCellContents();\n\n   }\n\nSocialCalc.EditorSaveEdit = function(editor, text) {\n\n   var result, cell, valueinfo, fch, type, value, oldvalue, cmdline;\n\n   var sheetobj = editor.context.sheetobj;\n   var wval = editor.workingvalues;\n\n   type = \"text t\";\n   value = typeof text == \"string\" ? text : editor.inputBox.GetText(); // either explicit or from input box\n\n   oldvalue = SocialCalc.GetCellContents(sheetobj, wval.ecoord)+\"\";\n   if (value == oldvalue) { // no change\n      return;\n      }\n   fch = value.charAt(0);\n   if (fch==\"=\" && value.indexOf(\"\\n\")==-1) {\n      type = \"formula\";\n      value = value.substring(1);\n      }\n   else if (fch==\"'\") {\n      type = \"text t\";\n      value = value.substring(1);\n      valueinfo = SocialCalc.DetermineValueType(value); // determine type again\n      if (valueinfo.type.charAt(0)==\"t\") {\n         type = \"text \"+valueinfo.type;\n         }\n      }\n   else if (value.length==0) {\n      type = \"empty\";\n      }\n   else {\n      valueinfo = SocialCalc.DetermineValueType(value);\n      if (valueinfo.type==\"n\" && value==(valueinfo.value+\"\")) { // see if don't need \"constant\"\n         type = \"value n\";\n         }\n      else if (valueinfo.type.charAt(0)==\"t\") {\n         type = \"text \"+valueinfo.type;\n         }\n      else if (valueinfo.type==\"\") {\n         type = \"text t\";\n         }\n      else {\n         type = \"constant \"+valueinfo.type+\" \"+valueinfo.value;\n         }\n      }\n\n   if (type.charAt(0)==\"t\") { // text\n      value = SocialCalc.encodeForSave(value); // newlines, :, and \\ are escaped\n      }\n\n   cmdline = \"set \"+wval.ecoord+\" \"+type+\" \"+value;\n   editor.EditorScheduleSheetCommands(cmdline, true, false);\n   // eddy EditorSaveEdit {\n   if(typeof sheetobj.ioEventTree === 'undefined') return;\n   if(typeof sheetobj.ioParameterList === 'undefined') return;\n   if(typeof sheetobj.ioEventTree[wval.ecoord] !== 'undefined') {\n\t   SocialCalc.EditedTriggerCell(sheetobj.ioEventTree[wval.ecoord], wval.ecoord, editor, sheetobj);\n   }\n\n   // }\n\n   return;\n\n   }\n\n\n// Eddy EditedTriggerCell {\n\n\nSocialCalc.EditedTriggerCell  = function(actionFormulaCells, editedCellRef, editor, sheet) {\n\n\t for(var actionCellId in actionFormulaCells) {\n\n\t\t\tvar parameters = sheet.ioParameterList[actionCellId];\n            if(typeof parameters === 'undefined') continue;\n\n\t\t\tswitch(parameters.function_name) {\n\t\t\t\t  case \"EMAILONEDIT\" :\n\t\t\t\t  case \"EMAILONEDITIF\" :\n\t\t\t\t\t  cmdline = \"setemailparameters \"+actionCellId+ \" \" + editedCellRef;\n\t\t\t\t\t// hold off on commands until recalc done\n\t\t\t\t      editor.deferredEmailCommands.push({cmdstr: cmdline, saveundo: false});\n//\t\t\t\t\t  editor.EditorScheduleSheetCommands(cmdline, false, false);\n\t\t\t\t\t  break;\n\t\t\t}\n\t }\n\n}\n// } Eddy EditedTriggerCell\n\n\n\n\n\n\n//\n// SocialCalc.EditorApplySetCommandsToRange(editor, cmd)\n//\n// Takes ecell or range and does a \"set\" command with cmd.\n//\n\nSocialCalc.EditorApplySetCommandsToRange = function(editor, cmd) {\n\n   var cell, row, col, line, errortext;\n\n   var sheetobj = editor.context.sheetobj;\n   var ecell = editor.ecell;\n   var range = editor.range;\n\n   if (range.hasrange) {\n      coord = SocialCalc.crToCoord(range.left, range.top)+\":\"+SocialCalc.crToCoord(range.right, range.bottom);\n      line = \"set \"+coord+\" \"+cmd;\n      errortext = editor.EditorScheduleSheetCommands(line, true, false);\n      }\n   else {\n      line = \"set \"+ecell.coord+\" \"+cmd;\n      errortext = editor.EditorScheduleSheetCommands(line, true, false);\n      }\n\n   editor.DisplayCellContents();\n\n   }\n\nSocialCalc.EditorProcessMouseWheel = function(event, delta, mousewheelinfo, wobj) {\n\n   if (wobj.functionobj.editor.busy) return; // ignore if busy\n\n   if (delta > 0) {\n      wobj.functionobj.editor.ScrollRelative(true, Math.floor(-delta * 1.5));\n      }\n   if (delta < 0) {\n      wobj.functionobj.editor.ScrollRelative(true, Math.ceil(-delta * 1.5));\n      }\n\n   }\n\n//\n// GridMousePosition(editor, clientX, clientY)\n//\n// Returns an object with row and col numbers and coord (spans handled for coords),\n// and rowheader/colheader true if in header (where coord will be undefined).\n// If in colheader, will return coltoresize if on appropriate place in col header.\n// Also, there is rowfooter (on right) and colfooter (on bottom).\n// In row/col header/footer, returns \"distance\" as pixels over the edge.\n//\n\nSocialCalc.GridMousePosition = function(editor, clientX, clientY) {\n\n   var row, rowpane, col, colpane, rowtoresize, coltoresize;\n   var result = {};\n\n   for (row=1; row<editor.rowpositions.length; row++) {\n      if (!editor.rowheight[row]) continue; // not rendered yet -- may be above or below us\n      if (editor.rowpositions[row]+editor.rowheight[row]>clientY) {\n         break;\n         }\n      }\n   for (col=1; col<editor.colpositions.length; col++) {\n      if (!editor.colwidth[col]) continue;\n      if (editor.colpositions[col]+editor.colwidth[col]>clientX) {\n         break;\n         }\n      }\n\n   result.row = row;\n   result.col = col;\n\n   if (editor.headposition && SocialCalc._app != true)  {\n      if (clientX < editor.headposition.left && clientX >= editor.gridposition.left) {\n         result.rowheader = true;\n         result.distance = editor.headposition.left - clientX;\n         result.rowtoresize = false;\n         result.rowselect = false;\n\n         // resize bar\n         for (rowtoresize=1; rowtoresize<editor.rowpositions.length; rowtoresize++) {\n            if (!editor.rowheight[rowtoresize]) continue;\n            if (((editor.rowpositions[rowtoresize] + editor.rowheight[rowtoresize]) - 3) <= clientY\n               && ((editor.rowpositions[rowtoresize] + editor.rowheight[rowtoresize]) + 3) >= clientY) {\n               result.rowtoresize = rowtoresize;\n               break;\n            }\n         }\n\n         // Handle unhide row.\n         if (unhide = editor.context.rowunhidetop[row]) {\n           pos = SocialCalc.GetElementPosition(unhide);\n           if (clientX >= pos.left && clientX < pos.left+unhide.offsetWidth\n               && clientY >= (editor.rowpositions[row] + editor.rowheight[row] - unhide.offsetHeight)\n               && clientY < (editor.rowpositions[row] + editor.rowheight[row])) {\n             result.rowtounhide = row+1;\n           }\n         }\n         if (unhide = editor.context.rowunhidebottom[row]) {\n           pos = SocialCalc.GetElementPosition(unhide);\n           if (clientX >= pos.left && clientX < pos.left+unhide.offsetWidth\n               && clientY >= (editor.rowpositions[row])\n               && clientY < (editor.rowpositions[row] + unhide.offsetHeight)) {\n             result.rowtounhide = row-1;\n           }\n         }\n         if(result.rowtounhide == null) {  //if unhide then ignore row select & resize\n           for (rowpane=0; rowpane<editor.context.rowpanes.length; rowpane++) {\n             if (result.rowtoresize >= editor.context.rowpanes[rowpane].first &&\n               result.rowtoresize <= editor.context.rowpanes[rowpane].last) { // visible column\n               return result;\n             }\n           }\n           result.rowselect = true;\n         }\n         delete result.rowtoresize;\n         return result;\n         }\n      else if (clientY < editor.headposition.top && clientY > editor.gridposition.top) { // > because of sizing row\n         result.colheader = true;\n         result.distance = editor.headposition.top - clientY;\n         result.coltoresize = false;\n\t result.colselect = false;\n\n         // resize bar\n         for (coltoresize=1; coltoresize<editor.colpositions.length; coltoresize++) {\n            if (!editor.colwidth[coltoresize]) continue;\n            if (((editor.colpositions[coltoresize] + editor.colwidth[coltoresize]) - 3) <= clientX\n               && ((editor.colpositions[coltoresize] + editor.colwidth[coltoresize]) + 3) >= clientX) {\n               result.coltoresize = coltoresize;\n               break;\n            }\n         }\n\n         // Handle unhide column.\n         if (unhide = editor.context.colunhideleft[col]) {\n            pos = SocialCalc.GetElementPosition(unhide);\n            if (clientX >= pos.left && clientX < pos.left+unhide.offsetWidth && clientY >= pos.top  && clientY < pos.top+unhide.offsetHeight) {\n               result.coltounhide = col+1;\n               }\n            }\n         if (unhide = editor.context.colunhideright[col]) {\n            pos = SocialCalc.GetElementPosition(unhide);\n            if (clientX >= pos.left && clientX < pos.left+unhide.offsetWidth && clientY >= pos.top  && clientY < pos.top+unhide.offsetHeight) {\n               result.coltounhide = col-1;\n               }\n            }\n\n         if(result.coltounhide == null) {  //if unhide then ignore col select & resize\n           for (colpane=0; colpane<editor.context.colpanes.length; colpane++) {\n              if (result.coltoresize >= editor.context.colpanes[colpane].first &&\n                  result.coltoresize <= editor.context.colpanes[colpane].last) { // visible column\n                 return result;\n                 }\n              }\n           result.colselect = true;\n           }\n         delete result.coltoresize;\n         return result;\n         }\n      else if (clientX >= editor.verticaltablecontrol.controlborder) {\n         result.rowfooter = true;\n         result.distance = clientX - editor.verticaltablecontrol.controlborder;\n         return result;\n         }\n      else if (clientY >= editor.horizontaltablecontrol.controlborder) {\n         result.colfooter = true;\n         result.distance = clientY - editor.horizontaltablecontrol.controlborder;\n         return result;\n         }\n      else if (clientX < editor.gridposition.left) {\n         result.rowheader = true;\n         result.distance = editor.headposition.left - clientX;\n         return result;\n         }\n      else if (clientY <= editor.gridposition.top) {\n         result.colheader = true;\n         result.distance = editor.headposition.top - clientY;\n         return result;\n         }\n      else {\n         result.coord = SocialCalc.crToCoord(result.col, result.row);\n         if (editor.context.cellskip[result.coord]) { // handle skipped cells\n            result.coord = editor.context.cellskip[result.coord];\n            }\n         return result;\n         }\n      }\n\n   return null;\n\n   }\n\n//\n// GetEditorCellElement(editor, row, col)\n//\n// Returns an object with element, the table cell element in the DOM that corresponds to row and column,\n// as well as rowpane and colpane, the panes with the cell.\n// If no such element, then returns null;\n//\n\nSocialCalc.GetEditorCellElement = function(editor, row, col) {\n\n  var headerColOffset = 0;\n  var headerRowOffset = 0;\n   //Adjust for row/col headers\n   if (editor.context.showRCHeaders == false) {\n     var headerColOffset = -1;\n     var headerRowOffset = -1;\n   }\n   var rowpane, colpane, c, coord;\n   var rowindex = 0;\n   var colindex = 0;\n\n   for (rowpane=0; rowpane<editor.context.rowpanes.length; rowpane++) {\n      if (row >= editor.context.rowpanes[rowpane].first && row <= editor.context.rowpanes[rowpane].last) {\n         for (colpane=0; colpane<editor.context.colpanes.length; colpane++) {\n            if (col >= editor.context.colpanes[colpane].first && col <= editor.context.colpanes[colpane].last) {\n               rowindex += row - editor.context.rowpanes[rowpane].first + 2;\n               for (c=editor.context.colpanes[colpane].first; c<=col; c++) {\n                  coord=editor.context.cellskip[SocialCalc.crToCoord(c,row)];\n                  if (!coord || !editor.context.CoordInPane(coord, rowpane, colpane)) // don't count col-spanned cells\n                     colindex++;\n                  }\n               return {\n                  element: editor.griddiv.firstChild.lastChild.childNodes[rowindex +headerRowOffset].childNodes[colindex + headerColOffset],\n                  rowpane: rowpane, colpane: colpane};\n               }\n            for (c=editor.context.colpanes[colpane].first; c<=editor.context.colpanes[colpane].last; c++) {\n               coord=editor.context.cellskip[SocialCalc.crToCoord(c,row)];\n               if (!coord || !editor.context.CoordInPane(coord, rowpane, colpane)) // don't count col-spanned cells\n                  colindex++;\n               }\n            colindex += 1;\n            }\n         }\n      rowindex += editor.context.rowpanes[rowpane].last - editor.context.rowpanes[rowpane].first + 1 + 1;\n      }\n\n   return null;\n}\n\n//\n// cellcoord = MoveECellWithKey(editor, ch)\n//\n// Processes an arrow key, etc., moving the edit cell.\n// If not a movement key, returns null.\n//\n\nSocialCalc.MoveECellWithKey = function(editor, ch) {\n\n   var coord, row, col, cell;\n   var shifted = false;\n   var delta = 1;\n\n   if (!editor.ecell) {\n      return null;\n      }\n\n   if (ch.slice(-7)==\"shifted\") {\n      ch = ch.slice(0,-7);\n      shifted = true;\n      }\n\n   row = editor.ecell.row;\n   col = editor.ecell.col;\n   cell = editor.context.sheetobj.cells[editor.ecell.coord];\n\n   switch (ch) {\n      case \"[adown]\":\n         row += (cell && cell.rowspan) || 1;\n         break;\n      case \"[aup]\":\n         row--;\n         delta = -1;\n         break;\n      case \"[pgdn]\":\n         row += editor.pageUpDnAmount - 1 + ((cell && cell.rowspan) || 1);\n         break;\n      case \"[pgup]\":\n         row -= editor.pageUpDnAmount;\n         delta = -1;\n         break;\n      case \"[aright]\":\n         col += (cell && cell.colspan) || 1;\n         break;\n      case \"[aleft]\":\n         col--;\n         delta = -1;\n         break;\n      case \"[home]\":\n         row = 1;\n         col = 1;\n         break;\n      default:\n         return null;\n      }\n\n   // Adjust against usermax col and row.\n   if (editor.context.sheetobj.attribs.usermaxcol) col = Math.min(editor.context.sheetobj.attribs.usermaxcol, col);\n   if (editor.context.sheetobj.attribs.usermaxrow) row = Math.min(editor.context.sheetobj.attribs.usermaxrow, row);\n\n   // Handle hidden column.\n   while (editor.context.sheetobj.colattribs.hide[SocialCalc.rcColname(col)] == \"yes\") {\n      col += delta;\n      if (col < 1) {\n         delta = -delta;\n         col = 1;\n         }\n      }\n\n   // Handle hidden row.\n   while (editor.context.sheetobj.rowattribs.hide[row] == \"yes\") {\n      row += delta;\n      if (row < 1) {\n         delta = -delta;\n         row = 1;\n         }\n      }\n\n   if (!editor.range.hasrange) {\n      if (shifted)\n         editor.RangeAnchor();\n      }\n\n   coord = editor.MoveECell(SocialCalc.crToCoord(col, row));\n\n   if (editor.range.hasrange) {\n      if (shifted)\n         editor.RangeExtend();\n      else\n         editor.RangeRemove();\n      }\n\n   return coord;\n\n   }\n\n//\n// cellcoord = MoveECell(editor, newecell)\n//\n// Takes a coordinate and returns the new edit cell coordinate (which may be\n// different if newecell is covered by a span).\n//\n\nSocialCalc.MoveECell = function(editor, newcell) {\n\n   var cell, f;\n\n   var highlights = editor.context.highlights;\n\n   // adjust against user max col/row\n   var ecell = SocialCalc.coordToCr(newcell);\n   if (editor.context.sheetobj.attribs.usermaxcol && ecell.col > editor.context.sheetobj.attribs.usermaxcol)\n      ecell.col = editor.context.sheetobj.attribs.usermaxcol;\n   if (editor.context.sheetobj.attribs.usermaxrow && ecell.row > editor.context.sheetobj.attribs.usermaxrow)\n      ecell.row = editor.context.sheetobj.attribs.usermaxrow;\n   newcell = SocialCalc.crToCoord(ecell.col, ecell.row);\n\n   if (editor.ecell) {\n      if (editor.ecell.coord==newcell) return newcell; // already there - don't do anything and don't tell anybody\n      cell=SocialCalc.GetEditorCellElement(editor, editor.ecell.row, editor.ecell.col);\n      delete highlights[editor.ecell.coord];\n      if (editor.range2.hasrange &&\n        editor.ecell.row>=editor.range2.top && editor.ecell.row<=editor.range2.bottom &&\n        editor.ecell.col>=editor.range2.left && editor.ecell.col<=editor.range2.right) {\n         highlights[editor.ecell.coord] = \"range2\";\n         }\n      editor.UpdateCellCSS(cell, editor.ecell.row, editor.ecell.col);\n      editor.SetECellHeaders(\"\"); // set to regular col/rowname styles\n      if(editor.cellhandles) editor.cellhandles.ShowCellHandles(false); // only if row/col visible\n      }\n   newcell = editor.context.cellskip[newcell] || newcell;\n   editor.ecell = SocialCalc.coordToCr(newcell);\n   editor.ecell.coord = newcell;\n   cell=SocialCalc.GetEditorCellElement(editor, editor.ecell.row, editor.ecell.col);\n   // eddy MoveECell {\n   // }\n   highlights[newcell] = \"cursor\";\n\n   for (f in editor.MoveECellCallback) { // let others know\n      editor.MoveECellCallback[f](editor);\n      }\n\n   editor.UpdateCellCSS(cell, editor.ecell.row, editor.ecell.col);\n   editor.SetECellHeaders(\"selected\");\n\n   for (f in editor.StatusCallback) { // let status line, etc., know\n      editor.StatusCallback[f].func(editor, \"moveecell\", newcell, editor.StatusCallback[f].params);\n      }\n\n   if (editor.busy) {\n      editor.ensureecell = true; // wait for when not busy\n      }\n   else {\n      editor.ensureecell = false;\n      editor.EnsureECellVisible();\n      }\n\n   return newcell;\n\n   }\n\nSocialCalc.EnsureECellVisible = function(editor) {\n\n   var vamount = 0;\n   var hamount = 0;\n\n   if (editor.ecell.row > editor.lastnonscrollingrow) {\n      if (editor.ecell.row < editor.firstscrollingrow) {\n         vamount = editor.ecell.row - editor.firstscrollingrow - Math.floor((editor.lastvisiblerow - editor.firstscrollingrow)/2);\n         }\n      else if (editor.ecell.row + 1 > editor.lastvisiblerow) {\n         vamount = editor.ecell.row - editor.lastvisiblerow + Math.floor((editor.lastvisiblerow - editor.firstscrollingrow)/2);\n         }\n      }\n   if (editor.ecell.col > editor.lastnonscrollingcol) {\n      if (editor.ecell.col < editor.firstscrollingcol) {\n         hamount = editor.ecell.col - editor.firstscrollingcol - Math.floor((editor.lastvisiblecol - editor.firstscrollingcol)/2);\n         }\n      else if (editor.ecell.col + 1 > editor.lastvisiblecol) {\n        hamount = editor.ecell.col- editor.lastvisiblecol + Math.floor((editor.lastvisiblecol - editor.firstscrollingcol)/2);\n         }\n      }\n\n   if (vamount!=0 || hamount!=0) {\n      editor.ScrollRelativeBoth(vamount, hamount);\n      }\n   else {\n      editor.cellhandles.ShowCellHandles(true);\n      }\n\n   }\n\nSocialCalc.ReplaceCell = function(editor, cell, row, col) {\n\n   var newelement, a;\n   if (!cell) return;\n   newelement = editor.context.RenderCell(row, col, cell.rowpane, cell.colpane, true, null);\n   if (newelement && cell.element) { // skip hidden cells\n      // Don't use a real element and replaceChild, which seems to have focus issues with IE, Firefox, and speed issues\n      cell.element.innerHTML = newelement.innerHTML;\n      cell.element.style.cssText = \"\";\n      cell.element.className = newelement.className;\n      for (a in newelement.style) {\n         if (newelement.style[a]!=\"cssText\")\n            cell.element.style[a] = newelement.style[a];\n         }\n      }\n   }\n\n\nSocialCalc.UpdateCellCSS = function(editor, cell, row, col) {\n\n   var newelement, a;\n   if (!cell) return;\n   newelement = editor.context.RenderCell(row, col, cell.rowpane, cell.colpane, true, null);\n   if (newelement) {\n      cell.element.style.cssText = \"\";\n      cell.element.className = newelement.className;\n      for (a in newelement.style) {\n         if (newelement.style[a]!=\"cssText\")\n            cell.element.style[a] = newelement.style[a];\n         }\n      }\n   }\n\n\nSocialCalc.SetECellHeaders = function(editor, selected) {\n\n   // eddy SetECellHeaders {\n   if(editor.context.showRCHeaders === false) return;\n   // } SetECellHeaders\n   var ecell = editor.ecell;\n   var context = editor.context;\n\n   var rowpane, colpane, first, last;\n   var rowindex = 0;\n   var colindex = 0;\n   var headercell;\n\n   if (!ecell) return;\n\n   // Handle ecell on a hidden column/row.\n   while (context.sheetobj.colattribs.hide[SocialCalc.rcColname(ecell.col)] == \"yes\") {\n      ecell.col++;\n      }\n   while (context.sheetobj.rowattribs.hide[ecell.row] == \"yes\") {\n      ecell.row++;\n      }\n\n   ecell.coord = SocialCalc.crToCoord(ecell.col, ecell.row);\n\n   for (rowpane=0; rowpane<context.rowpanes.length; rowpane++) {\n      first = context.rowpanes[rowpane].first;\n      last = context.rowpanes[rowpane].last;\n      if (ecell.row >= first && ecell.row <= last) {\n         var i = 2+rowindex+ecell.row-first\n         if (editor.fullgrid !== null && i >= 0) {\n            headercell = editor.fullgrid.childNodes[1].childNodes[i].childNodes[0];\n            if (headercell) {\n               if (context.classnames) headercell.className=context.classnames[selected+\"rowname\"];\n               if (context.explicitStyles) headercell.style.cssText=context.explicitStyles[selected+\"rowname\"];\n               headercell.style.verticalAlign=\"top\"; // to get around Safari making top of centered row number be\n                                                     // considered top of row (and can't get <row> position in Safari)\n               }\n            }\n         }\n      rowindex += last - first + 1 + 1;\n      }\n\n   for (colpane=0; colpane<context.colpanes.length; colpane++) {\n      first = context.colpanes[colpane].first;\n      last = context.colpanes[colpane].last;\n      if (ecell.col >= first && ecell.col <= last) {\n         var i = 1+colindex+ecell.col-first\n         if (editor.fullgrid !== null && i >= 0) {\n            headercell = editor.fullgrid.childNodes[1].childNodes[1].childNodes[i];\n            if (headercell) {\n               if (context.classnames) headercell.className=context.classnames[selected+\"colname\"];\n               if (context.explicitStyles) headercell.style.cssText=context.explicitStyles[selected+\"colname\"];\n               }\n            }\n         }\n      colindex += last - first + 1 + 1;\n      }\n   }\n\n//\n// ECellReadonly(editor, ecoord)\n//\n// Returns true if ecoord is readonly (or ecell if missing).\n//\n\nSocialCalc.ECellReadonly = function(editor, ecoord) {\n\n   if (!ecoord && editor.ecell) {\n      ecoord = editor.ecell.coord;\n      }\n\n   if (!ecoord) return false;\n\n   var cell = editor.context.sheetobj.cells[ecoord];\n   return cell && cell.readonly;\n\n   }\n\n//\n// RangeAnchor(editor, ecoord)\n//\n// Sets the anchor of a range to ecoord (or ecell if missing).\n//\n\nSocialCalc.RangeAnchor = function(editor, ecoord) {\n\n   if (editor.range.hasrange) {\n      editor.RangeRemove();\n      }\n\n   editor.RangeExtend(ecoord);\n\n   }\n\n//\n// RangeExtend(editor, ecoord)\n//\n// Sets the other corner of the range to ecoord or, if missing, ecell.\n//\n\nSocialCalc.RangeExtend = function(editor, ecoord) {\n\n   var a, cell, cr, coord, row, col, f;\n\n   var highlights = editor.context.highlights;\n   var range = editor.range;\n   var range2 = editor.range2;\n\n   var ecell;\n   if (ecoord) {\n      ecell = SocialCalc.coordToCr(ecoord);\n      ecell.coord = ecoord;\n      }\n   else ecell = editor.ecell;\n\n   if (!ecell) return; // just in case\n\n   if (!range.hasrange) { // called without RangeAnchor...\n      range.anchorcoord = ecell.coord;\n      range.anchorrow = ecell.row;\n      range.top = ecell.row;\n      range.bottom = ecell.row;\n      range.anchorcol = ecell.col;\n      range.left = ecell.col;\n      range.right = ecell.col;\n      range.hasrange = true;\n      }\n\n   if (range.anchorrow < ecell.row) {\n      range.top = range.anchorrow;\n      range.bottom = ecell.row;\n      }\n   else {\n      range.top = ecell.row;\n      range.bottom = range.anchorrow;\n      }\n   if (range.anchorcol < ecell.col) {\n      range.left = range.anchorcol;\n      range.right = ecell.col;\n      }\n   else {\n      range.left = ecell.col;\n      range.right = range.anchorcol;\n      }\n\n   for (coord in highlights) {\n      switch (highlights[coord]) {\n         case \"range\":\n            highlights[coord] = \"unrange\";\n            break;\n         case \"range2\":\n            highlights[coord] = \"unrange2\";\n            break;\n         }\n      }\n\n   for (row=range.top; row<=range.bottom; row++) {\n      for (col=range.left; col<=range.right; col++) {\n         coord = SocialCalc.crToCoord(col, row);\n         switch (highlights[coord]) {\n            case \"unrange\":\n               highlights[coord] = \"range\";\n               break;\n            case \"cursor\":\n               break;\n            case \"unrange2\":\n            default:\n               highlights[coord] = \"newrange\";\n               break;\n            }\n         }\n      }\n\n   for (row=range2.top; range2.hasrange && row<=range2.bottom; row++) {\n      for (col=range2.left; col<=range2.right; col++) {\n         coord = SocialCalc.crToCoord(col, row);\n         switch (highlights[coord]) {\n            case \"unrange2\":\n               highlights[coord] = \"range2\";\n               break;\n            case \"range\":\n            case \"newrange\":\n            case \"cursor\":\n               break;\n            default:\n               highlights[coord] = \"newrange2\";\n               break;\n            }\n         }\n      }\n\n   for (coord in highlights) {\n\n      switch (highlights[coord]) {\n         case \"unrange\":\n            delete highlights[coord];\n            break;\n         case \"newrange\":\n            highlights[coord] = \"range\";\n            break;\n         case \"newrange2\":\n            highlights[coord] = \"range2\";\n            break;\n         case \"range\":\n         case \"range2\":\n         case \"cursor\":\n            continue;\n         }\n\n      cr = SocialCalc.coordToCr(coord);\n      cell = SocialCalc.GetEditorCellElement(editor, cr.row, cr.col);\n      editor.UpdateCellCSS(cell, cr.row, cr.col);\n\n      }\n\n   for (f in editor.RangeChangeCallback) { // let others know\n      editor.RangeChangeCallback[f](editor);\n      }\n\n   // create range/coord string and do status callback\n\n   coord = SocialCalc.crToCoord(editor.range.left, editor.range.top);\n   if (editor.range.left!=editor.range.right || editor.range.top!=editor.range.bottom) { // more than one cell\n      coord += \":\" + SocialCalc.crToCoord(editor.range.right, editor.range.bottom);\n      }\n   for (f in editor.StatusCallback) {\n      editor.StatusCallback[f].func(editor, \"rangechange\", coord, editor.StatusCallback[f].params);\n      }\n\n   return;\n\n   }\n\n//\n// RangeRemove(editor)\n//\n// Turns off the range.\n//\n\nSocialCalc.RangeRemove = function(editor) {\n\n   var cell, cr, coord, row, col, f;\n\n   var highlights = editor.context.highlights;\n   var range = editor.range;\n   var range2 = editor.range2;\n\n   if (!range.hasrange && !range2.hasrange) return;\n\n   for (row=range2.top; range2.hasrange && row<=range2.bottom; row++) {\n      for (col=range2.left; col<=range2.right; col++) {\n         coord = SocialCalc.crToCoord(col, row);\n         switch (highlights[coord]) {\n            case \"range\":\n               highlights[coord] = \"newrange2\";\n               break;\n            case \"range2\":\n            case \"cursor\":\n               break;\n            default:\n               highlights[coord] = \"newrange2\";\n               break;\n            }\n         }\n      }\n\n   for (coord in highlights) {\n      switch (highlights[coord]) {\n         case \"range\":\n            delete highlights[coord];\n            break;\n         case \"newrange2\":\n            highlights[coord] = \"range2\";\n            break;\n         case \"cursor\":\n            continue;\n         }\n      cr = SocialCalc.coordToCr(coord);\n      cell=SocialCalc.GetEditorCellElement(editor, cr.row, cr.col);\n      editor.UpdateCellCSS(cell, cr.row, cr.col);\n      }\n\n   range.hasrange = false;\n\n   for (f in editor.RangeChangeCallback) { // let others know\n      editor.RangeChangeCallback[f](editor);\n      }\n\n   for (f in editor.StatusCallback) {\n      editor.StatusCallback[f].func(editor, \"rangechange\", \"\", editor.StatusCallback[f].params);\n      }\n\n   return;\n\n   }\n\n//\n// Range2Remove(editor)\n//\n// Turns off the range2.\n//\n\nSocialCalc.Range2Remove = function(editor) {\n\n   var cell, cr, coord, row, col, f;\n\n   var highlights = editor.context.highlights;\n   var range2 = editor.range2;\n\n   if (!range2.hasrange) return;\n\n   for (coord in highlights) {\n      switch (highlights[coord]) {\n         case \"range2\":\n            delete highlights[coord];\n            break;\n         case \"range\":\n         case \"cursor\":\n            continue;\n         }\n      cr = SocialCalc.coordToCr(coord);\n      cell=SocialCalc.GetEditorCellElement(editor, cr.row, cr.col);\n      editor.UpdateCellCSS(cell, cr.row, cr.col);\n      }\n\n   range2.hasrange = false;\n\n   return;\n\n   }\n\n//\n// FitToEditTable(editor)\n//\n// Figure out (through column width declarations and approximation of pixels per row)\n// how many rendered rows and columns you need to be at least a little larger than\n// the editor's editing area.\n//\n\nSocialCalc.FitToEditTable = function(editor) {\n\n   var colnum, colname, colwidth, totalwidth, totalrows, rownum, rowpane, needed;\n\n   var context=editor.context;\n   var sheetobj=context.sheetobj;\n   var sheetcolattribs=sheetobj.colattribs;\n\n   // Calculate column width data\n\n   totalwidth=context.showRCHeaders ? context.rownamewidth-0 : 0;\n   for (colpane=0; colpane<context.colpanes.length-1; colpane++) { // Get width of all but last pane\n      for (colnum=context.colpanes[colpane].first; colnum<=context.colpanes[colpane].last; colnum++) {\n         colname=SocialCalc.rcColname(colnum);\n         if (sheetobj.colattribs.hide[colname] != \"yes\") {\n            colwidth = sheetobj.colattribs.width[colname] || sheetobj.attribs.defaultcolwidth || SocialCalc.Constants.defaultColWidth;\n            if (colwidth==\"blank\" || colwidth==\"auto\") colwidth=\"\";\n            totalwidth+=(colwidth && ((colwidth-0)>0)) ? (colwidth-0) : 10;\n            }\n         }\n      }\n\n   for (colnum=context.colpanes[colpane].first; colnum<=10000; colnum++) { //!!! max for safety, but makes that col max!!!\n      colname=SocialCalc.rcColname(colnum);\n      if (sheetobj.colattribs.hide[colname] != \"yes\") {\n         colwidth = sheetobj.colattribs.width[colname] || sheetobj.attribs.defaultcolwidth || SocialCalc.Constants.defaultColWidth;\n         if (colwidth==\"blank\" || colwidth==\"auto\") colwidth=\"\";\n         totalwidth+=(colwidth && ((colwidth-0)>0)) ? (colwidth-0) : 10;\n         }\n      if (totalwidth > editor.tablewidth) break;\n      }\n\n   context.colpanes[colpane].last = context.sheetobj.attribs.usermaxcol || colnum;\n\n   // Calculate row height data\n\n   // find first visible row - Bug fix when many rows hidden - as PANEL formula hides many rows\n   var firstRow = context.rowpanes[0].first;\n   var lastRow = context.sheetobj.attribs.lastrow;\n   while(sheetobj.rowattribs.hide[firstRow] == \"yes\" && firstRow <lastRow) firstRow++;\n   context.rowpanes[0].first = firstRow;\n\n   // count visible rows in pane(s)\n   totalrows=context.showRCHeaders ? 1 : 0;\n   for (rowpane=0; rowpane<context.rowpanes.length-1; rowpane++) { // count all panes but last one\n      totalrows += context.rowpanes[rowpane].last - context.rowpanes[rowpane].first + 1;\n      for (rownum=context.rowpanes[rowpane].first; rownum<=context.rowpanes[rowpane].last; rownum++) {\n         if (sheetobj.rowattribs.hide[rownum] == \"yes\") {\n            totalrows--;\n            }\n         }\n      }\n\n   needed = editor.tableheight - totalrows * context.pixelsPerRow; // estimate amount needed\n\n   context.rowpanes[rowpane].last = context.sheetobj.attribs.usermaxrow || context.rowpanes[rowpane].first + Math.floor(needed / context.pixelsPerRow) + 1;\n\n   }\n\n//\n// CalculateEditorPositions(editor)\n//\n// Calculate the screen positions and other values of various editing elements\n// These values change and need to be recomputed when the pane first/last or cell contents change,\n// as well as new column widths, etc.\n//\n// Note: Only call this after the grid has been rendered! You may have to wait for a timeout...\n//\n\nSocialCalc.CalculateEditorPositions = function(editor) {\n\n   var rowpane, colpane, i;\n\n   editor.gridposition = SocialCalc.GetElementPosition(editor.griddiv);\n\n   var element = editor.griddiv.firstChild.lastChild.childNodes[1].childNodes[0]; // 2nd tr 1st td\n   editor.headposition = SocialCalc.GetElementPosition(element);\n   editor.headposition.left += element.offsetWidth;\n   editor.headposition.top += element.offsetHeight;\n\n   editor.rowpositions = [];\n   for (rowpane=0; rowpane<editor.context.rowpanes.length; rowpane++) {\n      editor.CalculateRowPositions(rowpane, editor.rowpositions, editor.rowheight);\n      }\n   for (i=0; i<editor.rowpositions.length; i++) {\n      if (editor.rowpositions[i]>editor.gridposition.top+editor.tableheight) break;\n      }\n   editor.lastvisiblerow = i-1;\n\n   editor.colpositions = [];\n   for (colpane=0; colpane<editor.context.colpanes.length; colpane++) {\n      editor.CalculateColPositions(colpane, editor.colpositions, editor.colwidth);\n      }\n   for (i=0; i<editor.colpositions.length; i++) {\n      if (editor.colpositions[i]>editor.gridposition.left+editor.tablewidth) break;\n      }\n   editor.lastvisiblecol = i-1;\n\n   editor.firstscrollingrow = editor.context.rowpanes[editor.context.rowpanes.length-1].first;\n   while (editor.context.sheetobj.rowattribs.hide[editor.firstscrollingrow] == \"yes\") {\n      editor.firstscrollingrow++;\n      }\n   editor.firstscrollingrowtop = editor.rowpositions[editor.firstscrollingrow] || editor.headposition.top;\n   editor.lastnonscrollingrow = editor.context.rowpanes.length-1 > 0 ?\n         editor.context.rowpanes[editor.context.rowpanes.length-2].last : 0;\n   editor.firstscrollingcol = editor.context.colpanes[editor.context.colpanes.length-1].first;\n   while (editor.context.sheetobj.colattribs.hide[SocialCalc.rcColname(editor.firstscrollingcol)] == \"yes\") {\n      editor.firstscrollingcol++;\n      }\n   editor.firstscrollingcolleft = editor.colpositions[editor.firstscrollingcol] || editor.headposition.left;\n   editor.lastnonscrollingcol = editor.context.colpanes.length-1 > 0 ?\n         editor.context.colpanes[editor.context.colpanes.length-2].last : 0;\n\n   // Now do the table controls\n\n   editor.verticaltablecontrol.ComputeTableControlPositions();\n   editor.horizontaltablecontrol.ComputeTableControlPositions();\n   }\n\n//\n// ScheduleRender(editor)\n//\n// Do a series of timeouts to render the sheet, wait for background layout and\n// rendering by the browser, and then update editor visuals, sliders, etc.\n//\n\nSocialCalc.ScheduleRender = function(editor) {\n   if(editor.ignoreRender == true) return; // formDataViewer is only used for \"ExecuteSheetCommand\" fumctions - so skip render\n   if (editor.timeout) window.clearTimeout(editor.timeout); // in case called more than once, just use latest\n\n   SocialCalc.EditorSheetStatusCallback(null, \"schedrender\", null, editor);\n   editor.timeout = window.setTimeout(function() { SocialCalc.DoRenderStep(editor); }, 1);\n\n   }\n\n// DoRenderStep(editor)\n//\n\nSocialCalc.DoRenderStep = function(editor) {\n\n   editor.timeout = null;\n\n   editor.EditorRenderSheet();\n\n   SocialCalc.EditorSheetStatusCallback(null, \"renderdone\", null, editor);\n\n   SocialCalc.EditorSheetStatusCallback(null, \"schedposcalc\", null, editor);\n\n   editor.timeout = window.setTimeout(function() { SocialCalc.DoPositionCalculations(editor); }, 1);\n\n   }\n\n//\n// SocialCalc.SchedulePositionCalculations(editor)\n//\n\nSocialCalc.SchedulePositionCalculations = function(editor) {\n\n   SocialCalc.EditorSheetStatusCallback(null, \"schedposcalc\", null, editor);\n\n   editor.timeout = window.setTimeout(function() { SocialCalc.DoPositionCalculations(editor); }, 1);\n\n   }\n\n// DoPositionCalculations(editor)\n//\n// Update editor visuals, sliders, etc.\n//\n// Note: Only call this after the DOM objects have been modified and rendered!\n//\n\nSocialCalc.DoPositionCalculations = function(editor) {\n\n   editor.timeout = null;\n\n   editor.CalculateEditorPositions();\n   editor.verticaltablecontrol.PositionTableControlElements();\n   editor.horizontaltablecontrol.PositionTableControlElements();\n\n   SocialCalc.EditorSheetStatusCallback(null, \"doneposcalc\", null, editor);\n\n   if (editor.ensureecell && editor.ecell && !editor.deferredCommands.length) { // don't do if deferred cmd to execute\n      editor.ensureecell = false;\n      editor.EnsureECellVisible(); // this could cause another redisplay\n      }\n\n   editor.cellhandles.ShowCellHandles(true);\n\n\n//!!! Need to now check to see if this positioned controls out of the editing area\n//!!! (such as when there is a large wrapped cell and it pushes the pane boundary too far down).\n\n   }\n\nSocialCalc.CalculateRowPositions = function(editor, panenum, positions, sizes) {\n\n   var toprow, rowpane, rownum, offset, trowobj, cellposition;\n\n   var context=editor.context;\n   var sheetobj=context.sheetobj;\n\n   var tbodyobj;\n\n   // eddy CalculateRowPositions {\n//   if (!context.showRCHeaders) throw(\"Needs showRCHeaders=true\");\n   if (!context.showRCHeaders) return;\n   // } CalculateRowPositions\n\n   tbodyobj=editor.fullgrid.lastChild;\n\n   // Calculate start of this pane as row in this table:\n\n   toprow = 2;\n   for (rowpane=0; rowpane<panenum; rowpane++) {\n      toprow += context.rowpanes[rowpane].last - context.rowpanes[rowpane].first + 2; // skip pane and spacing row\n      }\n\n   offset = 0;\n   for (rownum=context.rowpanes[rowpane].first; rownum<=context.rowpanes[rowpane].last; rownum++) {\n      trowobj = tbodyobj.childNodes[toprow+offset];\n      offset++;\n      if (!trowobj) { continue; }\n\n      if (!positions[rownum]) {\n         positions[rownum] = trowobj.firstChild.offsetTop;\n         sizes[rownum] = trowobj.firstChild.offsetHeight;\n         }\n      }\n\n   return;\n\n   }\n\nSocialCalc.CalculateColPositions = function(editor, panenum, positions, sizes) {\n\n   var leftcol, colpane, colnum, offset, trowobj, cellposition;\n\n   var context=editor.context;\n   var sheetobj=context.sheetobj;\n\n   var tbodyobj;\n\n   // eddy CalculateColPositions {\n   // if (!context.showRCHeaders) throw(\"Needs showRCHeaders=true\");\n   if (!context.showRCHeaders) return;\n   // } CalculateColPositions\n\n   tbodyobj=editor.fullgrid.lastChild;\n\n   // Calculate start of this pane as column in this table:\n\n   leftcol = 1;\n   for (colpane=0; colpane<panenum; colpane++) {\n      leftcol += context.colpanes[colpane].last - context.colpanes[colpane].first + 2; // skip pane and spacing col\n      }\n\n   trowobj = tbodyobj.childNodes[1]; // get heading row, which has all columns\n   offset = 0;\n   for (colnum=context.colpanes[colpane].first; colnum<=context.colpanes[colpane].last; colnum++) {\n      cellposition = SocialCalc.GetElementPosition(trowobj.childNodes[leftcol+offset]);\n      if (!positions[colnum]) {\n         positions[colnum] = cellposition.left; // first one takes precedence\n         if (trowobj.childNodes[leftcol+offset]) {\n            sizes[colnum] = trowobj.childNodes[leftcol+offset].offsetWidth;\n            }\n         }\n      offset++;\n      }\n\n   return;\n\n   }\n\n\n// ScrollRelative(editor, vertical, amount)\n//\n// If vertical true, scrolls up(-)/down(+), else left(-)/right(+)\n\nSocialCalc.ScrollRelative = function(editor, vertical, amount) {\n\n   if (vertical) {\n      editor.ScrollRelativeBoth(amount, 0);\n      }\n   else {\n      editor.ScrollRelativeBoth(0, amount);\n      }\n   return;\n\n   }\n\n// ScrollRelativeBoth(editor, vamount, hamount)\n//\n// Does both with one render\n\nSocialCalc.ScrollRelativeBoth = function(editor, vamount, hamount) {\n\n   var context=editor.context;\n   var dv = vamount > 0 ? 1 : -1, dh = hamount > 0 ? 1 : -1;\n\n   var vplen=context.rowpanes.length;\n   var vlimit = vplen>1 ? context.rowpanes[vplen-2].last+1 : 1; // don't scroll past here\n   if (context.rowpanes[vplen-1].first+vamount < vlimit) { // limit amount\n      vamount = (-context.rowpanes[vplen-1].first) + vlimit;\n      }\n\n   var hplen=context.colpanes.length;\n   var hlimit = hplen>1 ? context.colpanes[hplen-2].last+1 : 1; // don't scroll past here\n   if (context.colpanes[hplen-1].first+hamount < hlimit) { // limit amount\n      hamount = (-context.colpanes[hplen-1].first) + hlimit;\n      }\n\n   // Handle hidden column by finding a next one that's not hidden.\n   while (context.sheetobj.colattribs.hide[SocialCalc.rcColname(context.colpanes[hplen-1].first+hamount)] == \"yes\") {\n      hamount += dh;\n      if (hamount < 1) {\n         hamount = 0;\n         break;\n         }\n      }\n\n   // Handle hidden row by finding a next one that's not hidden.\n   while (context.sheetobj.rowattribs.hide[context.rowpanes[vplen-1].first+vamount] == \"yes\") {\n      vamount += dv;\n      if (vamount < 1) {\n         vamount = 0;\n         break;\n         }\n      }\n\n   if ((vamount==1 || vamount==-1) && hamount==0) { // special case quick scrolls\n      if (vamount==1) {\n         editor.ScrollTableUpOneRow();\n         }\n      else {\n         editor.ScrollTableDownOneRow();\n         }\n      if (editor.ecell) editor.SetECellHeaders(\"selected\");\n      editor.SchedulePositionCalculations();\n      return;\n      }\n\n   // Do a gross move and render\n\n   if (vamount!=0 || hamount!=0) {\n      context.rowpanes[vplen-1].first += vamount;\n      context.rowpanes[vplen-1].last += vamount;\n      context.colpanes[hplen-1].first += hamount;\n      context.colpanes[hplen-1].last += hamount;\n      editor.LimitLastPanes();\n      editor.FitToEditTable();\n      editor.ScheduleRender();\n      }\n\n   }\n\n\n// PageRelative(editor, vertical, direction)\n//\n// If vertical true, pages up(direction is -)/down(+), else left(-)/right(+)\n\nSocialCalc.PageRelative = function(editor, vertical, direction) {\n\n   var context=editor.context;\n   var panes=vertical ? \"rowpanes\" : \"colpanes\";\n   var lastpane=context[panes][context[panes].length-1];\n   var lastvisible=vertical ? \"lastvisiblerow\" : \"lastvisiblecol\";\n   var sizearray=vertical ? editor.rowheight : editor.colwidth;\n   var defaultsize=vertical ? SocialCalc.Constants.defaultAssumedRowHeight : SocialCalc.Constants.defaultColWidth;\n   var size, newfirst, totalsize, current;\n\n   if (direction > 0) { // down/right\n      newfirst = editor[lastvisible];\n      if (newfirst == lastpane.first) newfirst += 1; // move at least one\n      }\n   else {\n      if (vertical) { // calculate amount to scroll\n         totalsize = editor.tableheight - (editor.firstscrollingrowtop - editor.gridposition.top);\n         }\n      else {\n         totalsize = editor.tablewidth - (editor.firstscrollingcolleft - editor.gridposition.left);\n         }\n      totalsize -= sizearray[editor[lastvisible]] > 0 ? sizearray[editor[lastvisible]] : defaultsize;\n\n      for (newfirst=lastpane.first-1; newfirst>0; newfirst--) {\n         size = sizearray[newfirst] > 0 ? sizearray[newfirst] : defaultsize;\n         if (totalsize < size) break;\n         totalsize -= size;\n         }\n\n      current = lastpane.first;\n      if (newfirst >= current) newfirst = current-1; // move at least 1\n      if (newfirst < 1) newfirst = 1;\n      }\n\n   lastpane.first = newfirst;\n   lastpane.last = newfirst+1;\n   editor.LimitLastPanes();\n   editor.FitToEditTable();\n   editor.ScheduleRender();\n\n   }\n\n// LimitLastPanes(editor)\n//\n// Makes sure that the \"first\" of the last panes isn't before the last of the previous pane\n//\n\nSocialCalc.LimitLastPanes = function(editor) {\n\n   var context=editor.context;\n   var plen;\n\n   plen = context.rowpanes.length;\n   if (plen>1 && context.rowpanes[plen-1].first <= context.rowpanes[plen-2].last)\n       context.rowpanes[plen-1].first = context.rowpanes[plen-2].last+1;\n   if (context.sheetobj.attribs.usermaxrow && context.rowpanes[plen-1].first > context.sheetobj.attribs.usermaxrow)\n       context.rowpanes[plen-1].first = context.sheetobj.attribs.usermaxrow;\n\n   plen = context.colpanes.length;\n   if (plen>1 && context.colpanes[plen-1].first <= context.colpanes[plen-2].last)\n       context.colpanes[plen-1].first = context.colpanes[plen-2].last+1;\n   if (context.sheetobj.attribs.usermaxcol && context.colpanes[plen-1].first > context.sheetobj.attribs.usermaxcol)\n       context.colpanes[plen-1].first = context.sheetobj.attribs.usermaxcol;\n\n   }\n\nSocialCalc.ScrollTableUpOneRow = function(editor) {\n\n   var toprow, rowpane, rownum, colnum, colpane, cell, oldrownum, maxspan, newbottomrow, newrow, oldchild, bottomrownum;\n   var rowneedsrefresh={};\n\n   var context=editor.context;\n   var sheetobj=context.sheetobj;\n   var tableobj=editor.fullgrid;\n\n   var tbodyobj;\n\n   tbodyobj=tableobj.lastChild;\n\n   toprow = context.showRCHeaders ? 2 : 1;\n   for (rowpane=0; rowpane<context.rowpanes.length-1; rowpane++) {\n      toprow += context.rowpanes[rowpane].last - context.rowpanes[rowpane].first + 2; // skip pane and spacing row\n      }\n\n   // abort if scrolling beyond user max row\n   if (context.sheetobj.attribs.usermaxrow && (context.sheetobj.attribs.usermaxrow - context.rowpanes[rowpane].first < 1)) {\n      return tableobj;\n      }\n\n   tbodyobj.removeChild(tbodyobj.childNodes[toprow]);\n\n   context.rowpanes[rowpane].first++;\n   context.rowpanes[rowpane].last++;\n   editor.FitToEditTable();\n   context.CalculateColWidthData(); // Just in case, since normally done in RenderSheet\n\n   if (!context.sheetobj.attribs.usermaxrow || context.rowpanes[rowpane].last != context.sheetobj.attribs.usermaxrow) {\n      newbottomrow = context.RenderRow(context.rowpanes[rowpane].last, rowpane);\n      tbodyobj.appendChild(newbottomrow);\n      }\n\n   // if scrolled off a row with starting rowspans, replace rows for the largest rowspan\n\n   maxrowspan = 1;\n   oldrownum=context.rowpanes[rowpane].first - 1;\n\n   for (colpane=0; colpane<context.colpanes.length; colpane++) {\n      for (colnum=context.colpanes[colpane].first; colnum<=context.colpanes[colpane].last; colnum++) {\n         coord=SocialCalc.crToCoord(colnum, oldrownum);\n         if (context.cellskip[coord]) continue;\n         cell=sheetobj.cells[coord];\n         if (cell && cell.rowspan>maxrowspan) maxrowspan=cell.rowspan;\n         }\n      }\n\n   if (maxrowspan>1) {\n      for (rownum=1; rownum<maxrowspan; rownum++) {\n         if (rownum+oldrownum >= context.rowpanes[rowpane].last) break;\n         newrow=context.RenderRow(rownum+oldrownum, rowpane);\n         oldchild=tbodyobj.childNodes[toprow+rownum-1];\n         tbodyobj.replaceChild(newrow,oldchild);\n         }\n      }\n\n   // if added a row that includes rowspans from above, update the size of those to include new row\n\n   bottomrownum=context.rowpanes[rowpane].last;\n\n   for (colpane=0; colpane<context.colpanes.length; colpane++) {\n      for (colnum=context.colpanes[colpane].first; colnum<=context.colpanes[colpane].last; colnum++) {\n         coord=context.cellskip[SocialCalc.crToCoord(colnum, bottomrownum)];\n         if (!coord) continue; // only look at spanned cells\n         rownum=context.coordToCR[coord].row-0;\n         if (rownum==context.rowpanes[rowpane].last ||\n             rownum<context.rowpanes[rowpane].first) continue; // this row (colspan) or starts above pane\n         cell=sheetobj.cells[coord];\n         if (cell && cell.rowspan>1) rowneedsrefresh[rownum]=true; // remember row num to update\n         }\n      }\n\n   for (rownum in rowneedsrefresh) {\n      newrow=context.RenderRow(rownum, rowpane);\n      oldchild=tbodyobj.childNodes[(toprow+(rownum-context.rowpanes[rowpane].first))];\n      tbodyobj.replaceChild(newrow,oldchild);\n      }\n\n   return tableobj;\n   }\n\nSocialCalc.ScrollTableDownOneRow = function(editor) {\n\n   var toprow, rowpane, rownum, colnum, colpane, cell, newrownum, maxspan, newbottomrow, newrow, oldchild, bottomrownum;\n   var rowneedsrefresh={};\n\n   var context=editor.context;\n   var sheetobj=context.sheetobj;\n   var tableobj=editor.fullgrid;\n\n   var tbodyobj;\n\n   tbodyobj=tableobj.lastChild;\n\n   toprow = context.showRCHeaders ? 2 : 1;\n   for (rowpane=0; rowpane<context.rowpanes.length-1; rowpane++) {\n      toprow += context.rowpanes[rowpane].last - context.rowpanes[rowpane].first + 2; // skip pane and spacing row\n      }\n\n   if (!context.sheetobj.attribs.usermaxrow) {\n      tbodyobj.removeChild(tbodyobj.childNodes[toprow+(context.rowpanes[rowpane].last-context.rowpanes[rowpane].first)]);\n      }\n\n   context.rowpanes[rowpane].first--;\n   context.rowpanes[rowpane].last--;\n   editor.FitToEditTable();\n   context.CalculateColWidthData(); // Just in case, since normally done in RenderSheet\n\n   newrow = context.RenderRow(context.rowpanes[rowpane].first, rowpane);\n   tbodyobj.insertBefore(newrow, tbodyobj.childNodes[toprow]);\n\n   // if inserted a row with starting rowspans, replace rows for the largest rowspan\n\n   maxrowspan = 1;\n   newrownum=context.rowpanes[rowpane].first;\n\n   for (colpane=0; colpane<context.colpanes.length; colpane++) {\n      for (colnum=context.colpanes[colpane].first; colnum<=context.colpanes[colpane].last; colnum++) {\n         coord=SocialCalc.crToCoord(colnum, newrownum);\n         if (context.cellskip[coord]) continue;\n         cell=sheetobj.cells[coord];\n         if (cell && cell.rowspan>maxrowspan) maxrowspan=cell.rowspan;\n         }\n      }\n\n   if (maxrowspan>1) {\n      for (rownum=1; rownum<maxrowspan; rownum++) {\n         if (rownum+newrownum > context.rowpanes[rowpane].last) break;\n         newrow=context.RenderRow(rownum+newrownum, rowpane);\n         oldchild=tbodyobj.childNodes[toprow+rownum];\n         tbodyobj.replaceChild(newrow,oldchild);\n         }\n      }\n\n   // if last row now includes rowspans or rowspans from above, update the size of those to remove deleted row\n\n   bottomrownum=context.rowpanes[rowpane].last;\n\n   for (colpane=0; colpane<context.colpanes.length; colpane++) {\n      for (colnum=context.colpanes[colpane].first; colnum<=context.colpanes[colpane].last; colnum++) {\n         coord=SocialCalc.crToCoord(colnum, bottomrownum);\n         cell=sheetobj.cells[coord];\n         if (cell && cell.rowspan>1) {\n            rowneedsrefresh[bottomrownum]=true; // need to update this row\n            continue;\n            }\n         coord=context.cellskip[SocialCalc.crToCoord(colnum, bottomrownum)];\n         if (!coord) continue; // only look at spanned cells\n         rownum=context.coordToCR[coord].row-0;\n         if (rownum==bottomrownum ||\n             rownum<context.rowpanes[rowpane].first) continue; // this row (colspan) or starts above pane\n         cell=sheetobj.cells[coord];\n         if (cell && cell.rowspan>1) rowneedsrefresh[rownum]=true; // remember row num to update\n         }\n      }\n\n   for (rownum in rowneedsrefresh) {\n      newrow=context.RenderRow(rownum, rowpane);\n      oldchild=tbodyobj.childNodes[(toprow+(rownum-context.rowpanes[rowpane].first))];\n      tbodyobj.replaceChild(newrow,oldchild);\n      }\n\n   return tableobj;\n   }\n\n\n// *************************************\n//\n// InputBox class:\n//\n// This class deals with the text box for editing cell contents.\n// It mainly controls a user input box for typed content and is used to interact with\n// the keyboard code, etc.\n//\n// You can use this inside a formula bar control of some sort.\n// You create this after you have created a table editor object (but not necessarily\n// done the CreateTableEditor method).\n//\n// When the user starts typing text, or double-clicks on a cell, this object\n// comes into play.\n//\n// The element given when this is first constructed should be an input HTMLElement or\n// something that acts like one. Check the code here to see what is done to it.\n//\n// *************************************\n\nSocialCalc.InputBox = function(element, editor) {\n\n   if (!element) return; // invoked without enough data to work\n\n   this.element = element; // the input element associated with this InputBox\n   this.editor = editor; // the TableEditor this belongs to\n   this.inputEcho = null;\n\n   editor.inputBox = this;\n\n   element.onmousedown = SocialCalc.InputBoxOnMouseDown;\n\n   editor.MoveECellCallback.formulabar = function(e){\n      if (e.state!=\"start\") return; // if not in normal keyboard mode don't replace formula bar\n      editor.inputBox.DisplayCellContents(e.ecell.coord);\n      };\n   }\n\n\n// Methods:\n\nSocialCalc.InputBox.prototype.DisplayCellContents = function(coord) {SocialCalc.InputBoxDisplayCellContents(this, coord);};\nSocialCalc.InputBox.prototype.ShowInputBox = function(show) {this.editor.inputEcho.ShowInputEcho(show);};\nSocialCalc.InputBox.prototype.GetText = function() {return this.element.value;};\nSocialCalc.InputBox.prototype.SetText = function(newtext) {\n   if (!this.element) return;\n   this.element.value=newtext;\n   this.editor.inputEcho.SetText(newtext+\"_\");\n   };\nSocialCalc.InputBox.prototype.Focus = function() {SocialCalc.InputBoxFocus(this);};\nSocialCalc.InputBox.prototype.Blur = function() {return this.element.blur();};\nSocialCalc.InputBox.prototype.Select = function(t) {\n   if (!this.element) return;\n   switch (t) {\n      case \"end\":\n         if (document.selection && document.selection.createRange) {\n            /* IE 4+ - Safer than setting .selectionEnd as it also works for Textareas. */\n            try {\n               var range = document.selection.createRange().duplicate();\n               range.moveToElementText(this.element);\n               range.collapse(false);\n               range.select();\n            }\n            catch (e) {\n               if (this.element.selectionStart!=undefined) {\n                  this.element.selectionStart=this.element.value.length;\n                  this.element.selectionEnd=this.element.value.length;\n               }\n            }\n         } else if (this.element.selectionStart!=undefined) {\n            this.element.selectionStart=this.element.value.length;\n            this.element.selectionEnd=this.element.value.length;\n         }\n         break;\n      }\n   };\n\n// Functions:\n\n//\n// SocialCalc.InputBoxDisplayCellContents(inputbox, coord)\n//\n// Sets input box to the contents of the specified cell (or ecell if null).\n//\n\nSocialCalc.InputBoxDisplayCellContents = function(inputbox, coord) {\n\n   var scc = SocialCalc.Constants;\n\n   if (!inputbox) return;\n   if (!coord) {\n     if (!inputbox.editor) return; // not initialized yet\n     if (!inputbox.editor.ecell) return; // not initialized yet\n     coord = inputbox.editor.ecell.coord;\n   }\n   var text = SocialCalc.GetCellContents(inputbox.editor.context.sheetobj, coord);\n   if (text.indexOf(\"\\n\")!=-1) {\n      text = scc.s_inputboxdisplaymultilinetext;\n      inputbox.element.disabled = true;\n      }\n   else if (inputbox.editor.ECellReadonly()) {\n      inputbox.element.disabled = true;\n      }\n   else {\n      inputbox.element.disabled = false;\n      }\n   inputbox.SetText(text);\n\n   }\n\n//\n// SocialCalc.InputBoxFocus(inputbox)\n//\n// Call this to have the input box get the focus and respond to keystrokes\n// but still pass them off to SocialCalc.ProcessKey.\n//\n\nSocialCalc.InputBoxFocus = function(inputbox) {\n\n   if (!inputbox) return;\n   inputbox.element.focus();\n   var editor = inputbox.editor;\n   editor.state = \"input\";\n   var wval = editor.workingvalues;\n   wval.partialexpr = \"\";\n   wval.ecoord = editor.ecell.coord;\n   wval.erow = editor.ecell.row;\n   wval.ecol = editor.ecell.col;\n\n   };\n\n//\n// SocialCalc.InputBoxOnMouseDown(e)\n//\n// This is called when the input box gets the focus. It then responds to keystrokes\n// and pass them off to SocialCalc.ProcessKey, but in a different editing state.\n//\n\nSocialCalc.InputBoxOnMouseDown = function(e) {\n\n   var editor = SocialCalc.Keyboard.focusTable; // get TableEditor doing keyboard stuff\n   if (!editor) return true; // we're not handling it -- let browser do default\n   var wval = editor.workingvalues;\n\n   switch (editor.state) {\n      case \"start\":\n         editor.state=\"inputboxdirect\";\n         wval.partialexpr = \"\";\n         wval.ecoord = editor.ecell.coord;\n         wval.erow = editor.ecell.row;\n         wval.ecol = editor.ecell.col;\n         editor.inputEcho.ShowInputEcho(true);\n         break;\n\n      case \"input\":\n         wval.partialexpr = \"\"; // make sure not pointing\n         editor.MoveECell(wval.ecoord);\n         editor.state=\"inputboxdirect\";\n         SocialCalc.KeyboardFocus(); // may have come here from outside of grid\n         break;\n\n      case \"inputboxdirect\":\n         break;\n      }\n   }\n\n\n// *************************************\n//\n// InputEcho class:\n//\n// This object creates and controls an element that echos what's in the InputBox during editing\n// It is draggable.\n//\n// *************************************\n\nSocialCalc.InputEcho = function(editor) {\n\n   var scc = SocialCalc.Constants;\n\n   this.editor = editor; // the TableEditor this belongs to\n   this.text = \"\"; // current value of what is displayed\n   this.interval = null; // timer handle\n\n   this.container = null; // element containing main echo as well as prompt line\n   this.main = null; // main echo area\n   this.prompt = null;\n   this.hint = null; // focus cell hint area\n\n   this.functionbox = null; // function chooser dialog\n\n   this.container = document.createElement(\"div\");\n   SocialCalc.setStyles(this.container, \"display:none;position:absolute;zIndex:10;\");\n\n   this.main = document.createElement(\"div\");\n   if (scc.defaultInputEchoClass) this.main.className = scc.defaultInputEchoClass;\n   if (scc.defaultInputEchoStyle) SocialCalc.setStyles(this.main, scc.defaultInputEchoStyle);\n   this.main.innerHTML = \"&nbsp;\";\n\n   this.hint = document.createElement(\"div\");\n   if (scc.defaultInputEchoHintClass) this.hint.className = scc.defaultInputEchoHintClass;\n   if (scc.defaultInputEchoHintStyle) SocialCalc.setStyles(this.hint, scc.defaultInputEchoHintStyle);\n   this.hint.innerHTML = \"\";\n\n   this.container.appendChild(this.hint);\n   this.container.appendChild(this.main);\n\n   this.prompt = document.createElement(\"div\");\n   if (scc.defaultInputEchoPromptClass) this.prompt.className = scc.defaultInputEchoPromptClass;\n   if (scc.defaultInputEchoPromptStyle) SocialCalc.setStyles(this.prompt, scc.defaultInputEchoPromptStyle);\n   this.prompt.innerHTML = \"\";\n\n   this.container.appendChild(this.prompt);\n\n   SocialCalc.DragRegister(this.main, true, true,\n                 {MouseDown: SocialCalc.DragFunctionStart,\n                  MouseMove: SocialCalc.DragFunctionPosition,\n                  MouseUp: SocialCalc.DragFunctionPosition,\n                  Disabled: null, positionobj: this.container},\n                  this.editor.toplevel);\n\n   editor.toplevel.appendChild(this.container);\n\n   }\n\n// Methods:\n\nSocialCalc.InputEcho.prototype.ShowInputEcho = function(show) {return SocialCalc.ShowInputEcho(this, show);};\nSocialCalc.InputEcho.prototype.SetText = function(str) {return SocialCalc.SetInputEchoText(this, str);};\n\n// Functions:\n\nSocialCalc.ShowInputEcho = function(inputecho, show) {\n\n   var cell, position;\n   var editor = inputecho.editor;\n\n   if (!editor) return;\n\n   if (show) {\n      editor.cellhandles.ShowCellHandles(false);\n      cell=SocialCalc.GetEditorCellElement(editor, editor.ecell.row, editor.ecell.col);\n      if (cell) {\n         position = SocialCalc.GetElementPosition(cell.element);\n         inputecho.container.style.left = (position.left-1)+\"px\";\n         inputecho.container.style.top = (position.top-1)+\"px\";\n         }\n      inputecho.hint.innerHTML = editor.ecell.coord;\n      inputecho.container.style.display = \"block\";\n      if (inputecho.interval) window.clearInterval(inputecho.interval); // just in case\n      inputecho.interval = window.setInterval(SocialCalc.InputEchoHeartbeat, 50);\n      }\n   else {\n      if (inputecho.interval) window.clearInterval(inputecho.interval);\n      inputecho.container.style.display = \"none\";\n      }\n\n   }\n\nSocialCalc.SetInputEchoText = function(inputecho, str) {\n\n   var scc = SocialCalc.Constants;\n   var fname, fstr;\n   var newstr = SocialCalc.special_chars(str);\n   newstr = newstr.replace(/\\n/g,\"<br>\");\n\n   if (inputecho.text != newstr) {\n      inputecho.main.innerHTML = newstr;\n      inputecho.text = newstr;\n      }\n\n   var parts = str.match(/.*[\\+\\-\\*\\/\\&\\^\\<\\>\\=\\,\\(]([A-Za-z][A-Za-z][\\w\\.]*?)\\([^\\)]*$/);\n   if (str.charAt(0)==\"=\" && parts) {\n      fname = parts[1].toUpperCase();\n      if (SocialCalc.Formula.FunctionList[fname]) {\n         SocialCalc.Formula.FillFunctionInfo(); //  make sure filled\n         fstr = SocialCalc.special_chars(fname+\"(\"+SocialCalc.Formula.FunctionArgString(fname)+\")\");\n         }\n      else {\n         fstr = scc.ietUnknownFunction+fname;\n         }\n      if (inputecho.prompt.innerHTML != fstr) {\n         inputecho.prompt.innerHTML = fstr;\n         inputecho.prompt.style.display = \"block\";\n         }\n      }\n   else if (inputecho.prompt.style.display != \"none\") {\n      inputecho.prompt.innerHTML = \"\";\n      inputecho.prompt.style.display = \"none\";\n      }\n\n   }\n\nSocialCalc.InputEchoHeartbeat = function() {\n\n   var editor = SocialCalc.Keyboard.focusTable; // get TableEditor doing keyboard stuff\n   if (!editor) return true; // we're not handling it -- let browser do default\n\n   editor.inputEcho.SetText(editor.inputBox.GetText()+\"_\");\n\n   }\n\nSocialCalc.InputEchoMouseDown = function(e) {\n      var event = e || window.event;\n\n      var editor = SocialCalc.Keyboard.focusTable; // get TableEditor doing keyboard stuff\n      if (!editor) return true; // we're not handling it -- let browser do default\n\n//      if (event.stopPropagation) event.stopPropagation(); // DOM Level 2\n//      else event.cancelBubble = true; // IE 5+\n//      if (event.preventDefault) event.preventDefault(); // DOM Level 2\n//      else event.returnValue = false; // IE 5+\n\n      editor.inputBox.element.focus();\n\n//      return false;\n      };\n\n\n// *************************************\n//\n// CellHandles class:\n//\n// This object creates and controls the elements around the cursor cell for dragging, etc.\n//\n// *************************************\n\nSocialCalc.CellHandles = function(editor) {\n\n   var scc = SocialCalc.Constants;\n   var functions;\n\n   if (editor.noEdit) return; // leave us with nothing\n\n   this.editor = editor; // the TableEditor this belongs to\n\n   this.noCursorSuffix = false;\n\n   this.movedmouse = false; // used to detect no-op\n\n   this.draghandle = document.createElement(\"div\");\n   SocialCalc.setStyles(this.draghandle, \"display:none;position:absolute;zIndex:8;border:1px solid white;width:4px;height:4px;fontSize:1px;backgroundColor:#0E93D8;cursor:default;\");\n   this.draghandle.innerHTML = '&nbsp;';\n   editor.toplevel.appendChild(this.draghandle);\n   SocialCalc.AssignID(editor, this.draghandle, \"draghandle\");\n\n   var imagetype = \"png\";\n   if (navigator.userAgent.match(/MSIE 6\\.0/)) {\n      imagetype = \"gif\";\n      }\n\n   this.dragpalette = document.createElement(\"div\");\n   SocialCalc.setStyles(this.dragpalette, \"display:none;position:absolute;zIndex:8;width:90px;height:90px;fontSize:1px;textAlign:center;cursor:default;\"+\n      \"backgroundImage:url(\"+SocialCalc.Constants.defaultImagePrefix+\"drag-handles.\"+imagetype+\");\");\n   this.dragpalette.innerHTML = '&nbsp;';\n   editor.toplevel.appendChild(this.dragpalette);\n   SocialCalc.AssignID(editor, this.dragpalette, \"dragpalette\");\n\n   this.dragtooltip = document.createElement(\"div\");\n   SocialCalc.setStyles(this.dragtooltip, \"display:none;position:absolute;zIndex:9;border:1px solid black;width:100px;height:auto;fontSize:10px;backgroundColor:#FFFFFF;\");\n   this.dragtooltip.innerHTML = '&nbsp;';\n   editor.toplevel.appendChild(this.dragtooltip);\n   SocialCalc.AssignID(editor, this.dragtooltip, \"dragtooltip\");\n\n   this.fillinghandle = document.createElement(\"div\");\n   SocialCalc.setStyles(this.fillinghandle, \"display:none;position:absolute;zIndex:9;border:1px solid black;width:auto;height:14px;fontSize:10px;backgroundColor:#FFFFFF;\");\n   this.fillinghandle.innerHTML = '&nbsp;';\n   editor.toplevel.appendChild(this.fillinghandle);\n   SocialCalc.AssignID(editor, this.fillinghandle, \"fillinghandle\");\n\n   if (this.draghandle.addEventListener) { // DOM Level 2 -- Firefox, et al\n      this.draghandle.addEventListener(\"mousemove\", SocialCalc.CellHandlesMouseMoveOnHandle, false);\n      this.dragpalette.addEventListener(\"mousedown\", SocialCalc.CellHandlesMouseDown, false);\n      this.dragpalette.addEventListener(\"mousemove\", SocialCalc.CellHandlesMouseMoveOnHandle, false);\n      }\n   else if (this.draghandle.attachEvent) { // IE 5+\n      this.draghandle.attachEvent(\"onmousemove\", SocialCalc.CellHandlesMouseMoveOnHandle);\n      this.dragpalette.attachEvent(\"onmousedown\", SocialCalc.CellHandlesMouseDown);\n      this.dragpalette.attachEvent(\"onmousemove\", SocialCalc.CellHandlesMouseMoveOnHandle);\n      }\n   else { // don't handle this\n      throw \"Browser not supported\";\n      }\n\n   }\n\n// Methods:\n\nSocialCalc.CellHandles.prototype.ShowCellHandles = function(show, moveshow) {return SocialCalc.ShowCellHandles(this, show, moveshow);};\n\n// Functions:\n\nSocialCalc.ShowCellHandles = function(cellhandles, show, moveshow) {\n\n   var cell, cell2, position, position2;\n   var editor = cellhandles.editor;\n   var doshow = false;\n   var row, col;\n   var colinc = 1, rowinc = 1;\n\n   if (!editor) return;\n   if (!editor.ecell) return;\n\n   do { // a block that can you can \"break\" out of easily\n\n      if (!show) break;\n\n      row = editor.ecell.row;\n      col = editor.ecell.col;\n\n      if (editor.state != \"start\") break;\n      if (row >= editor.lastvisiblerow) break;\n      if (col >= editor.lastvisiblecol) break;\n      if (row < editor.firstscrollingrow) break;\n      if (col < editor.firstscrollingcol) break;\n\n      // Go beyond one column if hidden.\n      while (editor.context.sheetobj.colattribs.hide[SocialCalc.rcColname(col+colinc)] == \"yes\") {\n         colinc++;\n         }\n\n      // Go beyond one row if hidden.\n      while (editor.context.sheetobj.rowattribs.hide[row+rowinc] == \"yes\") {\n         rowinc++;\n         }\n\n      // Check colspan and rowspan.\n      cell = editor.context.sheetobj.cells[SocialCalc.crToCoord(col+colinc-1, row+rowinc-1)];\n      if (typeof cell != \"undefined\") {\n         colinc += (cell.colspan || 1) - 1;\n         rowinc += (cell.rowspan || 1) - 1;\n         }\n\n      if (editor.rowpositions[row+rowinc]+20>editor.horizontaltablecontrol.controlborder) {\n         break;\n         }\n      if (editor.rowpositions[row+rowinc]-10<editor.headposition.top) {\n         break;\n         }\n      if (editor.colpositions[col+colinc]+20>editor.verticaltablecontrol.controlborder) {\n         break;\n         }\n      if (editor.colpositions[col+colinc]-30<editor.headposition.left) {\n         break;\n         }\n\n      cellhandles.draghandle.style.left = (editor.colpositions[col+colinc]-1)+\"px\";\n      cellhandles.draghandle.style.top = (editor.rowpositions[row+rowinc]-1)+\"px\";\n      cellhandles.draghandle.style.display = \"block\";\n\n      if (moveshow) {\n         cellhandles.draghandle.style.display = \"none\";\n         cellhandles.dragpalette.style.left = (editor.colpositions[col+colinc]-45)+\"px\";\n         cellhandles.dragpalette.style.top = (editor.rowpositions[row+rowinc]-45)+\"px\";\n         cellhandles.dragpalette.style.display = \"block\";\n         cellhandles.dragtooltip.style.left = (editor.colpositions[col+colinc]-45)+\"px\";\n         cellhandles.dragtooltip.style.top = (editor.rowpositions[row+rowinc]+45)+\"px\";\n         cellhandles.dragtooltip.style.display = \"none\";\n         }\n\n      doshow = true;\n\n      }\n   while (false); // only do once\n\n   if (!doshow) {\n      cellhandles.draghandle.style.display = \"none\";\n      }\n   if (!moveshow) {\n      cellhandles.dragpalette.style.display = \"none\";\n      cellhandles.dragtooltip.style.display = \"none\";\n      }\n\n   }\n\nSocialCalc.CellHandlesMouseMoveOnHandle = function(e) {\n\n   var scc = SocialCalc.Constants;\n\n   var event = e || window.event;\n   var target = event.target || event.srcElement\n\n   var editor = SocialCalc.Keyboard.focusTable; // get TableEditor doing keyboard stuff\n   if (!editor) return true; // we're not handling it -- let browser do default\n   var cellhandles = editor.cellhandles;\n   if (!cellhandles.editor) return true; // no handles\n\n   var pos = SocialCalc.GetElementPositionWithScroll(editor.toplevel);\n   var clientX = event.clientX - pos.left;\n   var clientY = event.clientY - pos.top;\n\n   if (!editor.cellhandles.mouseDown) {\n      editor.cellhandles.ShowCellHandles(true, true); // show move handles, too\n\n      if (target == cellhandles.dragpalette) {\n         var whichhandle = SocialCalc.SegmentDivHit([scc.CH_radius1, scc.CH_radius2], editor.cellhandles.dragpalette, clientX, clientY);\n         if (whichhandle==0) { // off of active part of palette\n            SocialCalc.CellHandlesHoverTimeout();\n            return;\n            }\n         }\n\n      if (cellhandles.timer) {\n         window.clearTimeout(cellhandles.timer);\n         cellhandles.timer = null;\n         }\n      cellhandles.timer = window.setTimeout(SocialCalc.CellHandlesHoverTimeout, 3000);\n   }\n\n   return;\n\n   }\n\n//\n// whichsegment = SocialCalc.SegmentDivHit(segtable, divWithMouseHit, x, y)\n//\n// Takes segtable = [upperleft quadrant, upperright, bottomright, bottomleft]\n//  where each quadrant is either:\n//      0 = ignore hits here\n//      number = return this value\n//      array = a new segtable for this subquadrant\n//\n// Alternatively, segtable can be:\n//  [radius 1, radius 2] and it returns 0 if no hit,\n//  -1, -2, -3, -4 for inner quadrants, and +1...+4 for outer quadrants\n//\n\nSocialCalc.SegmentDivHit = function(segtable, divWithMouseHit, x, y) {\n\n   var width = divWithMouseHit.offsetWidth;\n   var height = divWithMouseHit.offsetHeight;\n   var left = divWithMouseHit.offsetLeft;\n   var top = divWithMouseHit.offsetTop;\n   var v = 0;\n   var table = segtable;\n   var len = Math.sqrt(Math.pow(x-left-(width/2.0-.5), 2)+Math.pow(y-top-(height/2.0-.5), 2));\n\n   if (table.length==2) { // type 2 segtable\n      if (x >= left && x < left+width/2 && y >= top && y < top+height/2) { // upper left\n         if (len <= segtable[0]) v = -1;\n         else if (len <= segtable[1]) v = 1;\n         }\n      if (x >= left+width/2 && x < left+width && y >= top && y < top+height/2) { // upper right\n         if (len <= segtable[0]) v = -2;\n         else if (len <= segtable[1]) v = 2;\n         }\n      if (x >= left+width/2 && x < left+width && y >= top+height/2 && y < top+height) { // bottom right\n         if (len <= segtable[0]) v = -3;\n         else if (len <= segtable[1]) v = 3;\n         }\n      if (x >= left && x < left+width/2 && y >= top+height/2 && y < top+height) { // bottom right\n         if (len <= segtable[0]) v = -4;\n         else if (len <= segtable[1]) v = 4;\n         }\n      return v;\n      }\n\n   while (true) {\n      if (x >= left && x < left+width/2 && y >= top && y < top+height/2) { // upper left\n         quadrant += \"1\";\n         v = table[0];\n         if (typeof v == \"number\") {\n            break;\n            }\n         table = v;\n         width = width/2;\n         height = height/2;\n         continue;\n         }\n      if (x >= left+width/2 && x < left+width && y >= top && y < top+height/2) { // upper right\n         quadrant += \"2\";\n         v = table[1];\n         if (typeof v == \"number\") {\n            break;\n            }\n         table = v;\n         width = width/2;\n         left = left+width;\n         height = height/2;\n         continue;\n         }\n      if (x >= left+width/2 && x < left+width && y >= top+height/2 && y < top+height) { // bottom right\n         quadrant += \"3\";\n         v = table[2];\n         if (typeof v == \"number\") {\n            break;\n            }\n         table = v;\n         width = width/2;\n         left = left + width;\n         height = height/2;\n         top = top + height;\n         continue;\n         }\n      if (x >= left && x < left+width/2 && y >= top+height/2 && y < top+height) { // bottom right\n         quadrant += \"4\";\n         v = table[3];\n         if (typeof v == \"number\") {\n            break;\n            }\n         table = v;\n         width = width/2;\n         height = height/2;\n         top = top + height;\n         continue;\n         }\n      return 0; // didn't match\n      }\n\n//addmsg((x-divWithMouseHit.offsetLeft)+\",\"+(y-divWithMouseHit.offsetTop)+\"=\"+quadrant+\" \"+v);\n   return v;\n\n}\n\nSocialCalc.CellHandlesHoverTimeout = function() {\n\n   editor = SocialCalc.Keyboard.focusTable; // get TableEditor doing keyboard stuff\n   if (!editor) return true; // we're not handling it -- let browser do default\n   var cellhandles = editor.cellhandles;\n   if (cellhandles.timer) {\n      window.clearTimeout(cellhandles.timer);\n      cellhandles.timer = null;\n      }\n   editor.cellhandles.ShowCellHandles(true, false); // hide move handles\n\n}\n\nSocialCalc.CellHandlesMouseDown = function(e) {\n\n   var scc = SocialCalc.Constants;\n   var editor, result, coord, textarea, wval, range;\n\n   var event = e || window.event;\n\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n\n   editor = SocialCalc.Keyboard.focusTable; // get TableEditor doing keyboard stuff\n   if (!editor) return true; // we're not handling it -- let browser do default\n\n   if (editor.busy) return; // don't do anything when busy (is this correct?)\n\n   var cellhandles = editor.cellhandles;\n\n   cellhandles.movedmouse = false; // detect no-op\n\n   var pos = SocialCalc.GetElementPositionWithScroll(editor.toplevel);\n   var clientX = event.clientX - pos.left;\n   var clientY = event.clientY - pos.top;\n\n   if (cellhandles.timer) { // cancel timer\n      window.clearTimeout(cellhandles.timer);\n      cellhandles.timer = null;\n      }\n\n   cellhandles.dragtooltip.innerHTML = \"&nbsp;\";\n   cellhandles.dragtooltip.style.display = \"none\";\n\n   range = editor.range;\n\n   var whichhandle = SocialCalc.SegmentDivHit([scc.CH_radius1, scc.CH_radius2], editor.cellhandles.dragpalette, clientX, clientY);\n   if (whichhandle==1 || whichhandle==-1 || whichhandle==0) {\n      cellhandles.ShowCellHandles(true, false); // hide move handles\n      return;\n      }\n\n   mouseinfo.ignore = true; // stop other code from looking at the mouse\n\n   if (whichhandle==-3) {\n      cellhandles.dragtype = \"Fill\";\n//      mouseinfo.element = editor.cellhandles.fillhandle;\n      cellhandles.noCursorSuffix = false;\n      }\n   else if (whichhandle==3) {\n      cellhandles.dragtype = \"FillC\";\n//      mouseinfo.element = editor.cellhandles.fillhandle;\n      cellhandles.noCursorSuffix = false;\n      }\n   else if (whichhandle==-2) {\n      cellhandles.dragtype = \"Move\";\n//      mouseinfo.element = editor.cellhandles.movehandle1;\n      cellhandles.noCursorSuffix = true;\n      }\n   else if (whichhandle==-4) {\n      cellhandles.dragtype = \"MoveI\";\n//      mouseinfo.element = editor.cellhandles.movehandle2;\n      cellhandles.noCursorSuffix = false;\n      }\n   else if (whichhandle==2) {\n      cellhandles.dragtype = \"MoveC\";\n//      mouseinfo.element = editor.cellhandles.movehandle1;\n      cellhandles.noCursorSuffix = true;\n      }\n   else if (whichhandle==4) {\n      cellhandles.dragtype = \"MoveIC\";\n//      mouseinfo.element = editor.cellhandles.movehandle2;\n      cellhandles.noCursorSuffix = false;\n      }\n\n   cellhandles.filltype = null;\n\n   switch (cellhandles.dragtype) {\n      case \"Fill\":\n      case \"FillC\":\n         if (!range.hasrange) {\n            editor.RangeAnchor();\n            }\n         editor.range2.top = editor.range.top;\n         editor.range2.right = editor.range.right;\n         editor.range2.bottom = editor.range.bottom;\n         editor.range2.left = editor.range.left;\n         editor.range2.hasrange = true;\n         break;\n\n      case \"Move\":\n      case \"MoveI\":\n      case \"MoveC\":\n      case \"MoveIC\":\n         if (!range.hasrange) {\n            editor.RangeAnchor();\n            }\n         editor.range2.top = editor.range.top;\n         editor.range2.right = editor.range.right;\n         editor.range2.bottom = editor.range.bottom;\n         editor.range2.left = editor.range.left;\n         editor.range2.hasrange = true;\n         editor.RangeRemove();\n         break;\n\n      default:\n         return; // not for us\n      }\n\n   cellhandles.fillinghandle.style.left = (clientX)+\"px\";\n   cellhandles.fillinghandle.style.top = (clientY - 17)+\"px\";\n   cellhandles.fillinghandle.innerHTML = scc.s_CHindicatorOperationLookup[cellhandles.dragtype]+\n                                         (scc.s_CHindicatorDirectionLookup[editor.cellhandles.filltype] || \"\");\n   cellhandles.fillinghandle.style.display = \"block\";\n\n   cellhandles.ShowCellHandles(true, false); // hide move handles\n   cellhandles.mouseDown = true;\n\n   mouseinfo.editor = editor; // remember for later\n\n   coord = editor.ecell.coord; // start with cell with handles\n\n   cellhandles.startingcoord = coord;\n   cellhandles.startingX = clientX;\n   cellhandles.startingY = clientY;\n\n   mouseinfo.mouselastcoord = coord;\n\n   SocialCalc.KeyboardSetFocus(editor);\n\n   if (document.addEventListener) { // DOM Level 2 -- Firefox, et al\n      document.addEventListener(\"mousemove\", SocialCalc.CellHandlesMouseMove, true); // capture everywhere\n      document.addEventListener(\"mouseup\", SocialCalc.CellHandlesMouseUp, true); // capture everywhere\n      }\n   else if (cellhandles.draghandle.attachEvent) { // IE 5+\n      cellhandles.draghandle.setCapture();\n      cellhandles.draghandle.attachEvent(\"onmousemove\", SocialCalc.CellHandlesMouseMove);\n      cellhandles.draghandle.attachEvent(\"onmouseup\", SocialCalc.CellHandlesMouseUp);\n      cellhandles.draghandle.attachEvent(\"onlosecapture\", SocialCalc.CellHandlesMouseUp);\n     }\n   SocialCalc.StopPropagation(event);\n   return;\n\n   }\n\nSocialCalc.CellHandlesMouseMove = function(e) {\n\n   var scc = SocialCalc.Constants;\n   var editor, element, result, coord, now, textarea, sheetobj, cellobj, wval;\n   var crstart, crend, cr, c, r;\n\n   var event = e || window.event;\n\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   editor = mouseinfo.editor;\n   if (!editor) return; // not us, ignore\n   var cellhandles = editor.cellhandles;\n\n   element = mouseinfo.element;\n\n   var pos = SocialCalc.GetElementPositionWithScroll(editor.toplevel);\n   var clientX = event.clientX - pos.left;\n   var clientY = event.clientY - pos.top;\n   result = SocialCalc.GridMousePosition(editor, clientX, clientY); // get cell with move\n\n   if (!result) return;\n\n   if (result && !result.coord) {\n      SocialCalc.SetDragAutoRepeat(editor, result, SocialCalc.CellHandlesDragAutoRepeat);\n      return;\n      }\n\n   SocialCalc.SetDragAutoRepeat(editor, null); // stop repeating if it was\n\n   if (!result.coord) return;\n\n   crstart = SocialCalc.coordToCr(editor.cellhandles.startingcoord);\n   crend = SocialCalc.coordToCr(result.coord);\n\n\n   cellhandles.movedmouse = true; // did move, so not no-op\n\n   switch (cellhandles.dragtype) {\n      case \"Fill\":\n      case \"FillC\":\n\n         if (result.coord == cellhandles.startingcoord) { // reset when come back\n            cellhandles.filltype = null;\n            cellhandles.startingX = clientX;\n            cellhandles.startingY = clientY;\n            }\n         else {\n            if (cellhandles.filltype) { // moving and have already determined filltype\n               if (cellhandles.filltype==\"Down\") { // coerse to that\n                  crend.col = crstart.col;\n                  if (crend.row < crstart.row) crend.row = crstart.row;\n                  }\n               else {\n                  crend.row = crstart.row;\n                  if (crend.col < crstart.col) crend.col = crstart.col;\n                  }\n               }\n            else {\n               if (Math.abs(clientY - cellhandles.startingY) > 10) {\n                  cellhandles.filltype = \"Down\";\n                  }\n               else if (Math.abs(clientX - cellhandles.startingX) > 10) {\n                  cellhandles.filltype = \"Right\";\n                  }\n               crend.col = crstart.col; // until decide, leave it at start\n               crend.row = crstart.row;\n               }\n            }\n         result.coord = SocialCalc.crToCoord(crend.col, crend.row);\n         if (result.coord!=mouseinfo.mouselastcoord) {\n            editor.MoveECell(result.coord);\n            editor.RangeExtend();\n            }\n         break;\n\n      case \"Move\":\n      case \"MoveC\":\n         if (result.coord!=mouseinfo.mouselastcoord) {\n            editor.MoveECell(result.coord);\n            c = editor.range2.right - editor.range2.left + result.col;\n            r = editor.range2.bottom - editor.range2.top + result.row;\n            editor.RangeAnchor(SocialCalc.crToCoord(c, r));\n            editor.RangeExtend();\n            }\n         break;\n\n      case \"MoveI\":\n      case \"MoveIC\":\n         if (result.coord == cellhandles.startingcoord) { // reset when come back\n            cellhandles.filltype = null;\n            cellhandles.startingX = clientX;\n            cellhandles.startingY = clientY;\n            }\n         else {\n            if (cellhandles.filltype) { // moving and have already determined filltype\n               if (cellhandles.filltype==\"Vertical\") { // coerse to that\n                  crend.col = editor.range2.left;\n                  if (crend.row>=editor.range2.top && crend.row<=editor.range2.bottom+1) crend.row = editor.range2.bottom+2;\n                  }\n               else {\n                  crend.row = editor.range2.top;\n                  if (crend.col>=editor.range2.left && crend.col<=editor.range2.right+1) crend.col = editor.range2.right+2;\n                  }\n               }\n            else {\n               if (Math.abs(clientY - cellhandles.startingY) > 10) {\n                  cellhandles.filltype = \"Vertical\";\n                  }\n               else if (Math.abs(clientX - cellhandles.startingX) > 10) {\n                  cellhandles.filltype = \"Horizontal\";\n                  }\n               crend.col = crstart.col; // until decide, leave it at start\n               crend.row = crstart.row;\n               }\n            }\n         result.coord = SocialCalc.crToCoord(crend.col, crend.row);\n         if (result.coord!=mouseinfo.mouselastcoord) {\n            editor.MoveECell(result.coord);\n            if (!cellhandles.filltype) { // no fill type\n               editor.RangeRemove();\n               }\n            else {\n               c = editor.range2.right - editor.range2.left + crend.col;\n               r = editor.range2.bottom - editor.range2.top + crend.row;\n               editor.RangeAnchor(SocialCalc.crToCoord(c, r));\n               editor.RangeExtend();\n               }\n            }\n         break;\n\n      }\n\n\n   cellhandles.fillinghandle.style.left = clientX+\"px\";\n   cellhandles.fillinghandle.style.top = (clientY - 17)+\"px\";\n   cellhandles.fillinghandle.innerHTML = scc.s_CHindicatorOperationLookup[cellhandles.dragtype]+\n                                         (scc.s_CHindicatorDirectionLookup[editor.cellhandles.filltype] || \"\");\n   cellhandles.fillinghandle.style.display = \"block\";\n\n   mouseinfo.mouselastcoord = result.coord;\n   SocialCalc.StopPropagation(event);\n   return;\n   }\n\nSocialCalc.CellHandlesDragAutoRepeat = function(coord, direction) {\n\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   var editor = mouseinfo.editor;\n   if (!editor) return; // not us, ignore\n   var cellhandles = editor.cellhandles;\n\n   var crstart = SocialCalc.coordToCr(editor.cellhandles.startingcoord);\n   var crend = SocialCalc.coordToCr(coord);\n\n   var newcoord, c, r;\n\n   var vscroll = 0;\n   var hscroll = 0;\n\n   if (direction == \"left\") hscroll = -1;\n   else if (direction == \"right\") hscroll = 1;\n   else if (direction == \"up\") vscroll = -1;\n   else if (direction == \"down\") vscroll = 1;\n   editor.ScrollRelativeBoth(vscroll, hscroll);\n\n\n   switch (cellhandles.dragtype) {\n      case \"Fill\":\n      case \"FillC\":\n         if (cellhandles.filltype) { // moving and have already determined filltype\n            if (cellhandles.filltype==\"Down\") { // coerse to that\n               crend.col = crstart.col;\n               if (crend.row < crstart.row) crend.row = crstart.row;\n               }\n            else {\n               crend.row = crstart.row;\n               if (crend.col < crstart.col) crend.col = crstart.col;\n               }\n            }\n         else {\n            crend.col = crstart.col; // until decide, leave it at start\n            crend.row = crstart.row;\n            }\n\n         newcoord = SocialCalc.crToCoord(crend.col, crend.row);\n         if (newcoord!=mouseinfo.mouselastcoord) {\n            editor.MoveECell(coord);\n            editor.RangeExtend();\n            }\n         break;\n\n      case \"Move\":\n      case \"MoveC\":\n         if (coord!=mouseinfo.mouselastcoord) {\n            editor.MoveECell(coord);\n            c = editor.range2.right - editor.range2.left + editor.ecell.col;\n            r = editor.range2.bottom - editor.range2.top + editor.ecell.row;\n            editor.RangeAnchor(SocialCalc.crToCoord(c, r));\n            editor.RangeExtend();\n            }\n         break;\n\n      case \"MoveI\":\n      case \"MoveIC\":\n         if (cellhandles.filltype) { // moving and have already determined filltype\n            if (cellhandles.filltype==\"Vertical\") { // coerse to that\n               crend.col = editor.range2.left;\n               if (crend.row>=editor.range2.top && crend.row<=editor.range2.bottom+1) crend.row = editor.range2.bottom+2;\n               }\n            else {\n               crend.row = editor.range2.top;\n               if (crend.col>=editor.range2.left && crend.col<=editor.range2.right+1) crend.col = editor.range2.right+2;\n               }\n            }\n         else {\n            crend.col = crstart.col; // until decide, leave it at start\n            crend.row = crstart.row;\n            }\n\n         newcoord = SocialCalc.crToCoord(crend.col, crend.row);\n         if (newcoord!=mouseinfo.mouselastcoord) {\n            editor.MoveECell(newcoord);\n            c = editor.range2.right - editor.range2.left + crend.col;\n            r = editor.range2.bottom - editor.range2.top + crend.row;\n            editor.RangeAnchor(SocialCalc.crToCoord(c, r));\n            editor.RangeExtend();\n            }\n         break;\n\n      }\n\n   mouseinfo.mouselastcoord = newcoord;\n\n   }\n\nSocialCalc.CellHandlesMouseUp = function(e) {\n\n   var editor, element, result, coord, now, textarea, sheetobj, cellobj, wval, cstr, cmdtype, cmdtype2;\n   var crstart, crend;\n   var sizec, sizer, deltac, deltar;\n\n   var event = e || window.event;\n\n   var mouseinfo = SocialCalc.EditorMouseInfo;\n   editor = mouseinfo.editor;\n   if (!editor) return; // not us, ignore\n   var cellhandles = editor.cellhandles;\n\n   element = mouseinfo.element;\n\n   mouseinfo.ignore = false;\n\n   var pos = SocialCalc.GetElementPositionWithScroll(editor.toplevel);\n   var clientX = event.clientX - pos.left;\n   var clientY = event.clientY - pos.top;\n   result = SocialCalc.GridMousePosition(editor, clientX, clientY); // get cell with up\n\n   SocialCalc.SetDragAutoRepeat(editor, null); // stop repeating if it was\n\n   cellhandles.mouseDown = false;\n   cellhandles.noCursorSuffix = false;\n\n   cellhandles.fillinghandle.style.display = \"none\";\n\n   if (!result) result = {};\n   if (!result.coord) result.coord = editor.ecell.coord;\n\n   switch (cellhandles.dragtype) {\n      case \"Fill\":\n      case \"Move\":\n      case \"MoveI\":\n         cmdtype2 = \" all\";\n            break;\n      case \"FillC\":\n      case \"MoveC\":\n      case \"MoveIC\":\n         cmdtype2 = \" formulas\";\n         break;\n      }\n\n   if (!cellhandles.movedmouse) { // didn't move: just leave one cell selected\n      cellhandles.dragtype = \"Nothing\";\n      }\n\n   switch (cellhandles.dragtype) {\n      case \"Nothing\":\n         editor.Range2Remove();\n         editor.RangeRemove();\n         break;\n\n      case \"Fill\":\n      case \"FillC\":\n\n         crstart = SocialCalc.coordToCr(cellhandles.startingcoord);\n         crend = SocialCalc.coordToCr(result.coord);\n         if (cellhandles.filltype) {\n            if (cellhandles.filltype==\"Down\") {\n               crend.col = crstart.col;\n               }\n            else {\n               crend.row = crstart.row;\n               }\n            }\n         result.coord = SocialCalc.crToCoord(crend.col, crend.row);\n\n         editor.MoveECell(result.coord);\n         editor.RangeExtend();\n\n         if (editor.cellhandles.filltype==\"Right\") {\n            cmdtype = \"right\";\n            }\n         else {\n            cmdtype = \"down\";\n            }\n         cstr = \"fill\"+cmdtype+\" \"+SocialCalc.crToCoord(editor.range.left, editor.range.top)+\n                   \":\"+SocialCalc.crToCoord(editor.range.right, editor.range.bottom)+cmdtype2;\n         editor.EditorScheduleSheetCommands(cstr, true, false);\n         break;\n\n      case \"Move\":\n      case \"MoveC\":\n         editor.context.cursorsuffix = \"\";\n         cstr = \"movepaste \"+\n                     SocialCalc.crToCoord(editor.range2.left, editor.range2.top) + \":\" +\n                     SocialCalc.crToCoord(editor.range2.right, editor.range2.bottom)\n                     +\" \"+editor.ecell.coord+cmdtype2;\n         editor.EditorScheduleSheetCommands(cstr, true, false);\n         editor.Range2Remove();\n\n         break;\n\n      case \"MoveI\":\n      case \"MoveIC\":\n         editor.context.cursorsuffix = \"\";\n         sizec = editor.range2.right - editor.range2.left;\n         sizer = editor.range2.bottom - editor.range2.top;\n         deltac = editor.ecell.col - editor.range2.left;\n         deltar = editor.ecell.row - editor.range2.top;\n         cstr = \"moveinsert \"+\n                     SocialCalc.crToCoord(editor.range2.left, editor.range2.top) + \":\" +\n                     SocialCalc.crToCoord(editor.range2.right, editor.range2.bottom)\n                     +\" \"+editor.ecell.coord+cmdtype2;\n         editor.EditorScheduleSheetCommands(cstr, true, false);\n         editor.Range2Remove();\n         editor.RangeRemove();\n         if (editor.cellhandles.filltype==\" Horizontal\" && deltac > 0) {\n            editor.MoveECell(SocialCalc.crToCoord(editor.ecell.col-sizec-1, editor.ecell.row));\n            }\n         else if (editor.cellhandles.filltype==\" Vertical\" && deltar > 0) {\n            editor.MoveECell(SocialCalc.crToCoord(editor.ecell.col, editor.ecell.row-sizer-1));\n            }\n         editor.RangeAnchor(SocialCalc.crToCoord(editor.ecell.col+sizec, editor.ecell.row+sizer));\n         editor.RangeExtend();\n\n         break;\n\n      }\n    SocialCalc.RemoveMouseMoveUp(SocialCalc.CellHandlesMouseMove,\n\t\t\t\t    SocialCalc.CellHandlesMouseUp,\n\t\t\t\t    cellhandles.draghandle,\n\t\t\t\t    event);\n   mouseinfo.editor = null;\n   return false;\n   }\n\n// *************************************\n//\n// TableControl class:\n//\n// This class deals with the horizontal and verical scrollbars and pane sliders.\n//\n// +--------------+\n// | Endcap       |\n// +- - - - - - - +\n// |              |\n// +--------------+\n// | Pane Slider  |\n// +--------------+\n// |              |\n// | Less Button  |\n// |              |\n// +--------------+\n// | Scroll Area  |\n// |              |\n// |              |\n// +--------------+\n// | Thumb        |\n// +--------------+\n// |              |\n// +--------------+\n// |              |\n// | More Button  |\n// |              |\n// +--------------+\n//\n// *************************************\n\nSocialCalc.TableControl = function(editor, vertical, size) {\n\n   var scc = SocialCalc.Constants;\n\n   this.editor = editor; // the TableEditor this belongs to\n\n   this.vertical = vertical; // true if vertical control, false if horizontal\n   this.size = size; // length in pixels\n\n   this.main = null; // main element containing all the others\n   this.endcap = null; // the area at the top/left between the end and the pane slider\n   this.paneslider = null; // the slider to adjust the pane split\n   this.lessbutton = null; // the top/left scroll button\n   this.morebutton = null; // the bottom/right scroll button\n   this.scrollarea = null; // the area between the scroll buttons\n   this.thumb = null; // the sliding thing in the scrollarea\n\n   // computed position values:\n\n   this.controlborder = null; // left or top screen position for vertical or horizontal control\n   this.endcapstart = null; // top or left screen position for vertical or horizontal control\n   this.panesliderstart = null;\n   this.lessbuttonstart = null;\n   this.morebuttonstart = null;\n   this.scrollareastart = null;\n   this.scrollareaend = null;\n   this.scrollareasize = null;\n   this.thumbpos = null;\n\n   // constants:\n\n   this.controlthickness = scc.defaultTableControlThickness; // other dimension of complete control in pixels\n   this.sliderthickness = scc.defaultTCSliderThickness;\n   this.buttonthickness = scc.defaultTCButtonThickness;\n   this.thumbthickness = scc.defaultTCThumbThickness;\n   this.minscrollingpanesize = this.buttonthickness+this.buttonthickness+this.thumbthickness+20; // the 20 is to leave a little space\n\n   }\n\n// Methods:\n\nSocialCalc.TableControl.prototype.CreateTableControl = function() {return SocialCalc.CreateTableControl(this);};\nSocialCalc.TableControl.prototype.PositionTableControlElements = function() {SocialCalc.PositionTableControlElements(this);};\nSocialCalc.TableControl.prototype.ComputeTableControlPositions = function() {SocialCalc.ComputeTableControlPositions(this);};\n\n// Functions:\n\nSocialCalc.CreateTableControl = function(control) {\n\n   var s, functions, params;\n   var AssignID = SocialCalc.AssignID;\n   var setStyles = SocialCalc.setStyles;\n   var scc = SocialCalc.Constants;\n\n   var imageprefix = control.editor.imageprefix;\n   var vh = control.vertical ? \"v\" : \"h\";\n   var SCLoc = SocialCalc.LocalizeString;\n\n   control.main = document.createElement(\"div\");\n   s = control.main.style;\n   s.height = (control.vertical ? control.size : control.controlthickness)+\"px\";\n   s.width = (control.vertical ? control.controlthickness : control.size)+\"px\";\n   s.zIndex = 0;\n   setStyles(control.main, scc.TCmainStyle);\n   s.backgroundImage=\"url(\"+imageprefix+\"main-\"+vh+\".gif)\";\n   if (scc.TCmainClass) control.main.className = scc.TCmainClass;\n\n   control.main.style.display=\"none\"; // wait for layout\n\n   control.endcap = document.createElement(\"div\");\n   s = control.endcap.style;\n   s.height = control.controlthickness+\"px\";\n   s.width = control.controlthickness+\"px\";\n   s.zIndex = 1;\n   s.overflow = \"hidden\"; // IE will make the DIV at least font-size height...so use this\n   s.position = \"absolute\";\n   setStyles(control.endcap, scc.TCendcapStyle);\n   s.backgroundImage=\"url(\"+imageprefix+\"endcap-\"+vh+\".gif)\";\n   if (scc.TCendcapClass) control.endcap.className = scc.TCendcapClass;\n   AssignID(control.editor, control.endcap, \"endcap\"+vh);\n\n   control.main.appendChild(control.endcap);\n\n   control.paneslider = document.createElement(\"div\");\n   s = control.paneslider.style;\n   s.height = (control.vertical ? control.sliderthickness : control.controlthickness)+\"px\";\n   s.overflow = \"hidden\"; // IE will make the DIV at least font-size height...so use this\n   s.width = (control.vertical ? control.controlthickness : control.sliderthickness)+\"px\";\n   s.position = \"absolute\";\n   s[control.vertical?\"top\":\"left\"] = \"4px\";\n   s.zIndex = 3;\n   s.backgroundImage=\"url(\"+imageprefix+\"paneslider-\"+vh+\".gif)\";\n   if (scc.TCpanesliderClass) control.paneslider.className = scc.TCpanesliderClass;\n   AssignID(control.editor, control.paneslider, \"paneslider\"+vh);\n   control.paneslider.title = SCLoc(control.vertical ? \"Drag to lock pane horizontally\" : \"Drag to lock pane vertically\");\n\n   functions = {MouseDown:SocialCalc.TCPSDragFunctionStart,\n                    MouseMove: SocialCalc.TCPSDragFunctionMove,\n                    MouseUp: SocialCalc.TCPSDragFunctionStop,\n                    Disabled: function() {return control.editor.busy;}};\n\n   functions.control = control; // make sure this is there\n\n   // Drag pane slider - every thing but app view\n   if (SocialCalc._app != true) SocialCalc.DragRegister(control.paneslider, control.vertical, !control.vertical, functions, control.editor.toplevel);\n\n   control.main.appendChild(control.paneslider);\n\n   control.lessbutton = document.createElement(\"div\");\n   s = control.lessbutton.style;\n   s.height = (control.vertical ? control.buttonthickness : control.controlthickness)+\"px\";\n   s.width = (control.vertical ? control.controlthickness : control.buttonthickness)+\"px\";\n   s.zIndex = 2;\n   s.overflow = \"hidden\"; // IE will make the DIV at least font-size height...so use this\n   s.position = \"absolute\";\n   setStyles(control.lessbutton, scc.TClessbuttonStyle);\n   s.backgroundImage=\"url(\"+imageprefix+\"less-\"+vh+\"n.gif)\"\n   if (scc.TClessbuttonClass) control.lessbutton.className = scc.TClessbuttonClass;\n   AssignID(control.editor, control.lessbutton, \"lessbutton\"+vh);\n\n   params = {repeatwait:scc.TClessbuttonRepeatWait, repeatinterval:scc.TClessbuttonRepeatInterval,\n             normalstyle: \"backgroundImage:url(\"+imageprefix+\"less-\"+vh+\"n.gif);\",\n             downstyle: \"backgroundImage:url(\"+imageprefix+\"less-\"+vh+\"d.gif);\",\n             hoverstyle: \"backgroundImage:url(\"+imageprefix+\"less-\"+vh+\"h.gif);\"};\n   functions = {MouseDown:function(){if(!control.editor.busy) control.editor.ScrollRelative(control.vertical, -1);},\n                Repeat:function(){if(!control.editor.busy) control.editor.ScrollRelative(control.vertical, -1);},\n                Disabled: function() {return control.editor.busy;}};\n\n   SocialCalc.ButtonRegister(control.editor, control.lessbutton, params, functions);\n\n   control.main.appendChild(control.lessbutton);\n\n   control.morebutton = document.createElement(\"div\");\n   s = control.morebutton.style;\n   s.height = (control.vertical ? control.buttonthickness : control.controlthickness)+\"px\";\n   s.width = (control.vertical ? control.controlthickness : control.buttonthickness)+\"px\";\n   s.zIndex = 2;\n   s.overflow = \"hidden\"; // IE will make the DIV at least font-size height...so use this\n   s.position = \"absolute\";\n   setStyles(control.morebutton, scc.TCmorebuttonStyle);\n   s.backgroundImage=\"url(\"+imageprefix+\"more-\"+vh+\"n.gif)\"\n   if (scc.TCmorebuttonClass) control.morebutton.className = scc.TCmorebuttonClass;\n   AssignID(control.editor, control.morebutton, \"morebutton\"+vh);\n\n   params = {repeatwait:scc.TCmorebuttonRepeatWait, repeatinterval:scc.TCmorebuttonRepeatInterval,\n             normalstyle: \"backgroundImage:url(\"+imageprefix+\"more-\"+vh+\"n.gif);\",\n             downstyle: \"backgroundImage:url(\"+imageprefix+\"more-\"+vh+\"d.gif);\",\n             hoverstyle: \"backgroundImage:url(\"+imageprefix+\"more-\"+vh+\"h.gif);\"};\n   functions = {MouseDown:function(){if(!control.editor.busy) control.editor.ScrollRelative(control.vertical, +1);},\n                Repeat:function(){if(!control.editor.busy) control.editor.ScrollRelative(control.vertical, +1);},\n                Disabled: function() {return control.editor.busy;}};\n\n   SocialCalc.ButtonRegister(control.editor, control.morebutton, params, functions);\n\n   control.main.appendChild(control.morebutton);\n\n   control.scrollarea = document.createElement(\"div\");\n   s = control.scrollarea.style;\n   s.height = control.controlthickness+\"px\";\n   s.width = control.controlthickness+\"px\";\n   s.zIndex = 1;\n   s.overflow = \"hidden\"; // IE will make the DIV at least font-size height...so use this\n   s.position = \"absolute\";\n   setStyles(control.scrollarea, scc.TCscrollareaStyle);\n   s.backgroundImage=\"url(\"+imageprefix+\"scrollarea-\"+vh+\".gif)\";\n   if (scc.TCscrollareaClass) control.scrollarea.className = scc.TCscrollareaClass;\n   AssignID(control.editor, control.scrollarea, \"scrollarea\"+vh);\n\n   params = {repeatwait:scc.TCscrollareaRepeatWait, repeatinterval:scc.TCscrollareaRepeatWait};\n   functions = {MouseDown:SocialCalc.ScrollAreaClick, Repeat:SocialCalc.ScrollAreaClick,\n                Disabled: function() {return control.editor.busy;}};\n   functions.control = control;\n\n   SocialCalc.ButtonRegister(control.editor, control.scrollarea, params, functions);\n\n   control.main.appendChild(control.scrollarea);\n\n   control.thumb = document.createElement(\"div\");\n   s = control.thumb.style;\n   s.height =  (control.vertical ? control.thumbthickness : control.controlthickness)+\"px\";\n   s.width = (control.vertical ? control.controlthickness : control.thumbthickness)+\"px\";\n   s.zIndex = 2;\n   s.overflow = \"hidden\"; // IE will make the DIV at least font-size height...so use this\n   s.position = \"absolute\";\n   setStyles(control.thumb, scc.TCthumbStyle);\n   control.thumb.style.backgroundImage=\"url(\"+imageprefix+\"thumb-\"+vh+\"n.gif)\";\n   if (scc.TCthumbClass) control.thumb.className = scc.TCthumbClass;\n   AssignID(control.editor, control.thumb, \"thumb\"+vh);\n\n   functions = {MouseDown:SocialCalc.TCTDragFunctionStart,\n                MouseMove: SocialCalc.TCTDragFunctionMove,\n                MouseUp: SocialCalc.TCTDragFunctionStop,\n                Disabled: function() {return control.editor.busy;}};\n   functions.control = control; // make sure this is there\n\n   // Drag pane slider - every thing but app view\n   if (SocialCalc._app != true) SocialCalc.DragRegister(control.thumb, control.vertical, !control.vertical, functions, control.editor.toplevel);\n\n   params = {normalstyle: \"backgroundImage:url(\"+imageprefix+\"thumb-\"+vh+\"n.gif)\", name:\"Thumb\",\n             downstyle:  \"backgroundImage:url(\"+imageprefix+\"thumb-\"+vh+\"d.gif)\",\n             hoverstyle:  \"backgroundImage:url(\"+imageprefix+\"thumb-\"+vh+\"h.gif)\"};\n   SocialCalc.ButtonRegister(control.editor, control.thumb, params, null); // give it button-like visual behavior\n\n   control.main.appendChild(control.thumb);\n\n   return control.main;\n\n}\n\n//\n// ScrollAreaClick - Button function to process pageup/down clicks\n//\n\nSocialCalc.ScrollAreaClick = function(e, buttoninfo, bobj) {\n\n   var control = bobj.functionobj.control;\n   var pos = SocialCalc.GetElementPositionWithScroll(control.editor.toplevel);\n   var clickpos = control.vertical ? buttoninfo.clientY-pos.top : buttoninfo.clientX-pos.left;\n   if (control.editor.busy) { // ignore if busy - wait for next repeat\n      return;\n      }\n   control.editor.PageRelative(control.vertical, clickpos > control.thumbpos ? 1 : -1);\n\n   return;\n\n}\n\n//\n// PositionTableControlElements\n//\n\nSocialCalc.PositionTableControlElements = function(control) {\n\n   var border, realend, thumbpos;\n\n   var editor = control.editor;\n\n   if (control.vertical) {\n      border = control.controlborder+\"px\";\n      control.endcap.style.top = control.endcapstart+\"px\";\n      control.endcap.style.left = border;\n      control.paneslider.style.top = control.panesliderstart+\"px\";\n      control.paneslider.style.left = border\n      control.lessbutton.style.top = control.lessbuttonstart+\"px\";\n      control.lessbutton.style.left = border;\n      control.morebutton.style.top = control.morebuttonstart+\"px\";\n      control.morebutton.style.left = border;\n      control.scrollarea.style.top = control.scrollareastart+\"px\";\n      control.scrollarea.style.left = border;\n      control.scrollarea.style.height = control.scrollareasize+\"px\";\n      realend = Math.max(editor.context.sheetobj.attribs.lastrow, editor.firstscrollingrow+1);\n      thumbpos = ((editor.firstscrollingrow-(editor.lastnonscrollingrow+1))*(control.scrollareasize-3*control.thumbthickness))/\n         (realend-(editor.lastnonscrollingrow+1))+control.scrollareastart-1;\n      thumbpos = Math.floor(thumbpos);\n      control.thumb.style.top = thumbpos+\"px\";\n      control.thumb.style.left = border;\n      }\n   else {\n      border = control.controlborder+\"px\";\n      control.endcap.style.left = control.endcapstart+\"px\";\n      control.endcap.style.top = border;\n      control.paneslider.style.left = control.panesliderstart+\"px\";\n      control.paneslider.style.top = border\n      control.lessbutton.style.left = control.lessbuttonstart+\"px\";\n      control.lessbutton.style.top = border;\n      control.morebutton.style.left = control.morebuttonstart+\"px\";\n      control.morebutton.style.top = border;\n      control.scrollarea.style.left = control.scrollareastart+\"px\";\n      control.scrollarea.style.top = border;\n      control.scrollarea.style.width = control.scrollareasize+\"px\";\n      realend = Math.max(editor.context.sheetobj.attribs.lastcol, editor.firstscrollingcol+1);\n      thumbpos = ((editor.firstscrollingcol-(editor.lastnonscrollingcol+1))*(control.scrollareasize-control.thumbthickness))/\n         (realend-editor.lastnonscrollingcol)+control.scrollareastart-1;\n      thumbpos = Math.floor(thumbpos);\n      control.thumb.style.left = thumbpos+\"px\";\n      control.thumb.style.top = border;\n      }\n   control.thumbpos = thumbpos;\n   control.main.style.display=\"block\";\n\n   }\n\n//\n// ComputeTableControlPositions\n//\n// This routine computes the screen positions and other values needed for laying out\n// the table control elements.\n//\n\nSocialCalc.ComputeTableControlPositions = function(control) {\n\n   var editor = control.editor;\n\n   if (!editor.gridposition || !editor.headposition) throw(\"Can't compute table control positions before editor positions\");\n\n   if (control.vertical) {\n      control.controlborder = editor.gridposition.left+editor.tablewidth; // border=left position\n      control.endcapstart = editor.gridposition.top; // start=top position\n      control.panesliderstart = editor.firstscrollingrowtop-control.sliderthickness;\n      control.lessbuttonstart = editor.firstscrollingrowtop-1;\n      control.morebuttonstart = editor.gridposition.top+editor.tableheight-control.buttonthickness;\n      control.scrollareastart = editor.firstscrollingrowtop-1+control.buttonthickness;\n      control.scrollareaend = control.morebuttonstart-1;\n      control.scrollareasize = control.scrollareaend-control.scrollareastart+1;\n      }\n   else {\n      control.controlborder = editor.gridposition.top+editor.tableheight; // border=top position\n      control.endcapstart = editor.gridposition.left; // start=left position\n      control.panesliderstart = editor.firstscrollingcolleft-control.sliderthickness;\n      control.lessbuttonstart = editor.firstscrollingcolleft-1;\n      control.morebuttonstart = editor.gridposition.left+editor.tablewidth-control.buttonthickness;\n      control.scrollareastart = editor.firstscrollingcolleft-1+control.buttonthickness;\n      control.scrollareaend = control.morebuttonstart-1;\n      control.scrollareasize = control.scrollareaend-control.scrollareastart+1;\n      }\n   }\n\n////// TCPS - TableControl Pan Slider methods\n\n//\n// TCPSDragFunctionStart(event, draginfo, dobj)\n//\n// TableControlPaneSlider function for starting drag\n//\n\nSocialCalc.TCPSDragFunctionStart = function(event, draginfo, dobj) {\n\n   var editor = dobj.functionobj.control.editor;\n   var scc = SocialCalc.Constants;\n\n   SocialCalc.DragFunctionStart(event, draginfo, dobj);\n\n   draginfo.trackingline = document.createElement(\"div\");\n   draginfo.trackingline.style.height = dobj.vertical ? scc.TCPStrackinglineThickness :\n      (editor.tableheight-(editor.headposition.top-editor.gridposition.top))+\"px\";\n   draginfo.trackingline.style.width = dobj.vertical ?\n      (editor.tablewidth-(editor.headposition.left-editor.gridposition.left))+\"px\" : scc.TCPStrackinglineThickness;\n   draginfo.trackingline.style.backgroundImage=\"url(\"+editor.imageprefix+\"trackingline-\"+(dobj.vertical?\"v\":\"h\")+\".gif)\";;\n   if (scc.TCPStrackinglineClass) draginfo.trackingline.className = scc.TCPStrackinglineClass;\n   SocialCalc.setStyles(draginfo.trackingline, scc.TCPStrackinglineStyle);\n\n   if (dobj.vertical) {\n      row = SocialCalc.Lookup(draginfo.clientY+dobj.functionobj.control.sliderthickness, editor.rowpositions);\n      draginfo.trackingline.style.top = (editor.rowpositions[row] || editor.headposition.top)+\"px\";\n      draginfo.trackingline.style.left = editor.headposition.left+\"px\";\n      draginfo.trackingline.id = 'trackingline-vertical';\n      if (editor.context.rowpanes.length-1) { // has 2 already\n         editor.context.SetRowPaneFirstLast(1, editor.context.rowpanes[0].last+1, editor.context.rowpanes[0].last+1);\n         editor.FitToEditTable();\n         editor.ScheduleRender();\n         }\n      }\n   else {\n      col = SocialCalc.Lookup(draginfo.clientX+dobj.functionobj.control.sliderthickness, editor.colpositions);\n      draginfo.trackingline.style.top = editor.headposition.top+\"px\";\n      draginfo.trackingline.style.left = (editor.colpositions[col] || editor.headposition.left)+\"px\";\n      draginfo.trackingline.id = 'trackingline-horizon';\n      if (editor.context.colpanes.length-1) { // has 2 already\n         editor.context.SetColPaneFirstLast(1, editor.context.colpanes[0].last+1, editor.context.colpanes[0].last+1);\n         editor.FitToEditTable();\n         editor.ScheduleRender();\n         }\n      }\n\n   editor.griddiv.appendChild(draginfo.trackingline);\n\n   }\n\n//\n// TCPSDragFunctionMove(event, draginfo, dobj)\n//\n\nSocialCalc.TCPSDragFunctionMove = function(event, draginfo, dobj) {\n\n   var row, col, max, min;\n   var control = dobj.functionobj.control;\n   var sliderthickness = control.sliderthickness;\n   var editor = control.editor;\n\n   if (dobj.vertical) {\n      max = control.morebuttonstart - control.minscrollingpanesize - draginfo.offsetY; // restrict movement\n      if (draginfo.clientY > max) draginfo.clientY = max;\n      min = editor.headposition.top - sliderthickness - draginfo.offsetY;\n      if (draginfo.clientY < min) draginfo.clientY = min;\n\n      row = SocialCalc.Lookup(draginfo.clientY+sliderthickness, editor.rowpositions);\n\n      // Handle hidden row.\n      while (editor.context.sheetobj.rowattribs.hide[row] == \"yes\") {\n         row++;\n         }\n\n      draginfo.trackingline.style.top = (editor.rowpositions[row] || editor.headposition.top)+\"px\";\n      }\n   else {\n      max = control.morebuttonstart - control.minscrollingpanesize - draginfo.offsetX;\n      if (draginfo.clientX > max) draginfo.clientX = max;\n      min = editor.headposition.left - sliderthickness - draginfo.offsetX;\n      if (draginfo.clientX < min) draginfo.clientX = min;\n\n      col = SocialCalc.Lookup(draginfo.clientX+sliderthickness, editor.colpositions);\n\n      // Handle hidden column.\n      while (editor.context.sheetobj.colattribs.hide[SocialCalc.rcColname(col)] == \"yes\") {\n         col++;\n         }\n\n      draginfo.trackingline.style.left = (editor.colpositions[col] || editor.headposition.left)+\"px\";\n      }\n\n   SocialCalc.DragFunctionPosition(event, draginfo, dobj);\n\n   }\n\n//\n// TCPSDragFunctionStop(event, draginfo, dobj)\n//\n\nSocialCalc.TCPSDragFunctionStop = function(event, draginfo, dobj) {\n\n   var row, col, max, min, dc;\n   var control = dobj.functionobj.control;\n   var sliderthickness = control.sliderthickness;\n   var editor = control.editor;\n\n   if (dobj.vertical) {\n     max = control.morebuttonstart - control.minscrollingpanesize - draginfo.offsetY; // restrict movement\n     if (draginfo.clientY > max) draginfo.clientY = max;\n     min = editor.headposition.top - sliderthickness - draginfo.offsetY;\n     if (draginfo.clientY < min) draginfo.clientY = min;\n\n     row = SocialCalc.Lookup(draginfo.clientY+sliderthickness, editor.rowpositions);\n     if (row>editor.context.sheetobj.attribs.lastrow) row=editor.context.sheetobj.attribs.lastrow; // can't extend sheet here\n\n     // Handle hidden row.\n     while (editor.context.sheetobj.rowattribs.hide[row] == \"yes\") {\n       row++;\n     }\n\n\n     editor.EditorScheduleSheetCommands('pane row ' + row, true, false);\n   }\n   else {\n     max = control.morebuttonstart - control.minscrollingpanesize - draginfo.offsetX;\n     if (draginfo.clientX > max) draginfo.clientX = max;\n     min = editor.headposition.left - sliderthickness - draginfo.offsetX;\n     if (draginfo.clientX < min) draginfo.clientX = min;\n\n     col = SocialCalc.Lookup(draginfo.clientX+sliderthickness, editor.colpositions);\n     if (col>editor.context.sheetobj.attribs.lastcol) col=editor.context.sheetobj.attribs.lastcol; // can't extend sheet here\n\n     // Handle hidden column.\n     while (editor.context.sheetobj.colattribs.hide[SocialCalc.rcColname(col)] == \"yes\") {\n       col++;\n     }\n\n     editor.EditorScheduleSheetCommands('pane col ' + col, true, false);\n   }\n\n   }\n\n////// TCT - TableControl Thumb methods\n\n//!!!! Note: Need to make start use same code as move/stop for determining row/col, since stop will set that\n//!!!! Note: Need to make start/move/stop use positioning code that corresponds closer to\n//!!!!       ComputeTableControlPositions calculations.\n\n//\n// TCTDragFunctionStart(event, draginfo, dobj)\n//\n// TableControlThumb function for starting drag\n//\n\nSocialCalc.TCTDragFunctionStart = function(event, draginfo, dobj) {\n\n   var rowpane, colpane, row, col;\n\n   var control = dobj.functionobj.control;\n   var editor = control.editor;\n   var scc = SocialCalc.Constants;\n\n   SocialCalc.DragFunctionStart(event, draginfo, dobj);\n\n   if (draginfo.thumbstatus) { // get rid of old one if mouseup was out of window\n      if (draginfo.thumbstatus.rowmsgele) draginfo.thumbstatus.rowmsgele = null;\n      if (draginfo.thumbstatus.rowpreviewele) draginfo.thumbstatus.rowpreviewele = null;\n      editor.toplevel.removeChild(draginfo.thumbstatus);\n      draginfo.thumbstatus = null;\n      }\n\n   draginfo.thumbstatus = document.createElement(\"div\");\n\n   if (dobj.vertical) {\n      if (scc.TCTDFSthumbstatusvClass) draginfo.thumbstatus.className = scc.TCTDFSthumbstatusvClass;\n      SocialCalc.setStyles(draginfo.thumbstatus, scc.TCTDFSthumbstatusvStyle);\n      draginfo.thumbstatus.style.top = (draginfo.clientY+scc.TCTDFStopOffsetv)+\"px\";\n      draginfo.thumbstatus.style.left = (control.controlborder-10-(editor.tablewidth/2))+\"px\";\n      draginfo.thumbstatus.style.width = (editor.tablewidth/2)+\"px\";\n\n      draginfo.thumbcontext = new SocialCalc.RenderContext(editor.context.sheetobj);\n      draginfo.thumbcontext.showGrid = true;\n      draginfo.thumbcontext.rowpanes = [{first: 1, last: 1}];\n      var pane = editor.context.colpanes[editor.context.colpanes.length-1];\n      draginfo.thumbcontext.colpanes = [{first: pane.first, last: pane.last}];\n      draginfo.thumbstatus.innerHTML = '<table cellspacing=\"0\" cellpadding=\"0\"><tr><td valign=\"top\" style=\"'+\n        scc.TCTDFSthumbstatusrownumStyle+'\" class=\"'+scc.TCTDFSthumbstatusrownumClass+\n        '\"><div>msg</div></td><td valign=\"top\"><div style=\"overflow:hidden;\">preview</div></td></tr></table>';\n      draginfo.thumbstatus.rowmsgele = draginfo.thumbstatus.firstChild.firstChild.firstChild.firstChild.firstChild;\n      draginfo.thumbstatus.rowpreviewele = draginfo.thumbstatus.firstChild.firstChild.firstChild.childNodes[1].firstChild;\n      editor.toplevel.appendChild(draginfo.thumbstatus);\n      SocialCalc.TCTDragFunctionRowSetStatus(draginfo, editor, editor.firstscrollingrow || 1);\n      }\n   else {\n      if (scc.TCTDFSthumbstatushClass) draginfo.thumbstatus.className = scc.TCTDFSthumbstatushClass;\n      SocialCalc.setStyles(draginfo.thumbstatus, scc.TCTDFSthumbstatushStyle);\n      draginfo.thumbstatus.style.top = (control.controlborder+scc.TCTDFStopOffseth)+\"px\";\n      draginfo.thumbstatus.style.left = (draginfo.clientX+scc.TCTDFSleftOffseth)+\"px\";\n      editor.toplevel.appendChild(draginfo.thumbstatus);\n      draginfo.thumbstatus.innerHTML = scc.s_TCTDFthumbstatusPrefixh+SocialCalc.rcColname(editor.firstscrollingcol);\n      }\n\n   }\n\n\n//\n// SocialCalc.TCTDragFunctionRowSetStatus(draginfo, editor, row)\n//\n// Render partial row\n//\n\nSocialCalc.TCTDragFunctionRowSetStatus = function(draginfo, editor, row) {\n\n   var scc = SocialCalc.Constants;\n   var msg = scc.s_TCTDFthumbstatusPrefixv+row+\" \";\n\n   draginfo.thumbstatus.rowmsgele.innerHTML = msg;\n\n   draginfo.thumbcontext.rowpanes = [{first: row, last: row}];\n   draginfo.thumbrowshown = row;\n\n   var ele = draginfo.thumbcontext.RenderSheet(draginfo.thumbstatus.rowpreviewele.firstChild, {type: \"html\"});\n\n   }\n\n\n//\n// TCTDragFunctionMove(event, draginfo, dobj)\n//\n\nSocialCalc.TCTDragFunctionMove = function(event, draginfo, dobj) {\n\n   var first, msg;\n   var control = dobj.functionobj.control;\n   var thumbthickness = control.thumbthickness;\n   var editor = control.editor;\n   var scc = SocialCalc.Constants;\n\n   if (dobj.vertical) {\n      if (draginfo.clientY > control.scrollareaend - draginfo.offsetY - control.thumbthickness + 2)\n         draginfo.clientY = control.scrollareaend - draginfo.offsetY - control.thumbthickness + 2;\n      if (draginfo.clientY < control.scrollareastart - draginfo.offsetY - 1)\n         draginfo.clientY = control.scrollareastart - draginfo.offsetY - 1;\n      draginfo.thumbstatus.style.top = draginfo.clientY+\"px\";\n\n      first =\n         ((draginfo.clientY+draginfo.offsetY-control.scrollareastart+1)/(control.scrollareasize-control.thumbthickness))\n         * (editor.context.sheetobj.attribs.lastrow-editor.lastnonscrollingrow)\n         + editor.lastnonscrollingrow + 1;\n      first = Math.floor(first);\n      if (first <= editor.lastnonscrollingrow) first = editor.lastnonscrollingrow + 1;\n      if (first > editor.context.sheetobj.attribs.lastrow) first = editor.context.sheetobj.attribs.lastrow;\n//      msg = scc.s_TCTDFthumbstatusPrefixv+first;\n      if (first != draginfo.thumbrowshown) {\n         SocialCalc.TCTDragFunctionRowSetStatus(draginfo, editor, first);\n         }\n      }\n   else {\n      if (draginfo.clientX > control.scrollareaend - draginfo.offsetX - control.thumbthickness + 2)\n         draginfo.clientX = control.scrollareaend - draginfo.offsetX - control.thumbthickness + 2;\n      if (draginfo.clientX < control.scrollareastart - draginfo.offsetX - 1)\n         draginfo.clientX = control.scrollareastart - draginfo.offsetX - 1;\n      draginfo.thumbstatus.style.left = draginfo.clientX+\"px\";\n\n      first =\n         ((draginfo.clientX+draginfo.offsetX-control.scrollareastart+1)/(control.scrollareasize-control.thumbthickness))\n         * (editor.context.sheetobj.attribs.lastcol-editor.lastnonscrollingcol)\n         + editor.lastnonscrollingcol + 1;\n      first = Math.floor(first);\n      if (first <= editor.lastnonscrollingcol) first = editor.lastnonscrollingcol + 1;\n      if (first > editor.context.sheetobj.attribs.lastcol) first = editor.context.sheetobj.attribs.lastcol;\n      msg = scc.s_TCTDFthumbstatusPrefixh+SocialCalc.rcColname(first);\n      draginfo.thumbstatus.innerHTML = msg;\n      }\n\n   SocialCalc.DragFunctionPosition(event, draginfo, dobj);\n\n   }\n\n//\n// TCTDragFunctionStop(event, draginfo, dobj)\n//\n\nSocialCalc.TCTDragFunctionStop = function(event, draginfo, dobj) {\n\n   var first;\n   var control = dobj.functionobj.control;\n   var editor = control.editor;\n\n   if (dobj.vertical) {\n      first =\n         ((draginfo.clientY+draginfo.offsetY-control.scrollareastart+1)/(control.scrollareasize-control.thumbthickness))\n         * (editor.context.sheetobj.attribs.lastrow-editor.lastnonscrollingrow)\n         + editor.lastnonscrollingrow + 1;\n      first = Math.floor(first);\n      if (first <= editor.lastnonscrollingrow) first = editor.lastnonscrollingrow + 1;\n      if (first > editor.context.sheetobj.attribs.lastrow) first = editor.context.sheetobj.attribs.lastrow;\n\n      editor.context.SetRowPaneFirstLast(editor.context.rowpanes.length-1, first, first+1);\n      }\n   else {\n      first =\n         ((draginfo.clientX+draginfo.offsetX-control.scrollareastart+1)/(control.scrollareasize-control.thumbthickness))\n         * (editor.context.sheetobj.attribs.lastcol-editor.lastnonscrollingcol)\n         + editor.lastnonscrollingcol + 1;\n      first = Math.floor(first);\n      if (first <= editor.lastnonscrollingcol) first = editor.lastnonscrollingcol + 1;\n      if (first > editor.context.sheetobj.attribs.lastcol) first = editor.context.sheetobj.attribs.lastcol;\n\n      editor.context.SetColPaneFirstLast(editor.context.colpanes.length-1, first, first+1);\n      }\n\n   editor.FitToEditTable();\n\n   if (draginfo.thumbstatus.rowmsgele) draginfo.thumbstatus.rowmsgele = null;\n   if (draginfo.thumbstatus.rowpreviewele) draginfo.thumbstatus.rowpreviewele = null;\n   editor.toplevel.removeChild(draginfo.thumbstatus);\n   draginfo.thumbstatus = null;\n\n   editor.ScheduleRender();\n\n   }\n\n// *************************************\n//\n// Dragging functions:\n//\n// *************************************\n\nSocialCalc.DragInfo = {\n\n   // There is only one of these -- no \"new\" is done.\n   // Only one dragging operation can be active at a time.\n   // The registeredElements array is used to decide which item to drag.\n\n   // One item for each draggable thing, each an object with:\n   //    .element, .vertical, .horizontal, .functionobj, .parent\n\n   registeredElements: [],\n\n   // Items used during a drag\n\n   draggingElement: null, // item being processed (.element is the actual element)\n   startX: 0,\n   startY: 0,\n   startZ: 0,\n   clientX: 0, // modifyable version to restrict movement\n   clientY: 0,\n   offsetX: 0,\n   offsetY: 0,\n   relativeOffset: {left:0,top:0} // retrieved at drag start\n\n   }\n\n//\n// DragRegister(element, vertical, horizontal, functionobj, parent) - make element draggable\n//\n// The functionobj defaults to moving the element contrained only by vertical and horizontal settings.\n//\n\nSocialCalc.DragRegister = function(element, vertical, horizontal, functionobj, parent) {\n\n   var draginfo = SocialCalc.DragInfo;\n\n   if (!functionobj) {\n      functionobj = {MouseDown: SocialCalc.DragFunctionStart, MouseMove: SocialCalc.DragFunctionPosition,\n                     MouseUp: SocialCalc.DragFunctionPosition,\n                     Disabled: null};\n      }\n\n   draginfo.registeredElements.push(\n      {element: element, vertical: vertical, horizontal: horizontal, functionobj: functionobj, parent: parent}\n      );\n\n   if (element.addEventListener) { // DOM Level 2 -- Firefox, et al\n      element.addEventListener(\"mousedown\", SocialCalc.DragMouseDown, false);\n      }\n   else if (element.attachEvent) { // IE 5+\n      element.attachEvent(\"onmousedown\", SocialCalc.DragMouseDown);\n      }\n   else { // don't handle this\n      throw SocialCalc.Constants.s_BrowserNotSupported;\n      }\n\n   }\n\n//\n// DragUnregister(element) - remove object from list\n//\n\nSocialCalc.DragUnregister = function(element) {\n\n   var draginfo = SocialCalc.DragInfo;\n\n   var i;\n\n   if (!element) return;\n\n   for (i=0; i<draginfo.registeredElements.length; i++) {\n      if (draginfo.registeredElements[i].element == element) {\n         draginfo.registeredElements.splice(i,1);\n         if (element.removeEventListener) { // DOM Level 2 -- Firefox, et al\n            element.removeEventListener(\"mousedown\", SocialCalc.DragMouseDown, false);\n            }\n         else { // IE 5+\n            element.detachEvent(\"onmousedown\", SocialCalc.DragMouseDown);\n            }\n         return;\n         }\n      }\n\n   return; // ignore if not in list\n\n   }\n\n//\n// DragMouseDown(event)\n//\n\nSocialCalc.DragMouseDown = function(event) {\n\n   var e = event || window.event;\n\n   var draginfo = SocialCalc.DragInfo;\n\n   var dobj = SocialCalc.LookupElement(e.target || e.srcElement, draginfo.registeredElements);\n   if (!dobj) return;\n\n   if (dobj && dobj.functionobj && dobj.functionobj.Disabled) {\n      if (dobj.functionobj.Disabled(e, draginfo, dobj)) {\n         return;\n         }\n      }\n\n   draginfo.draggingElement = dobj;\n   if (dobj.parent) {\n      draginfo.relativeOffset = SocialCalc.GetElementPositionWithScroll(dobj.parent);\n      }\n   draginfo.clientX = e.clientX - draginfo.relativeOffset.left;\n   draginfo.clientY = e.clientY - draginfo.relativeOffset.top;\n   draginfo.startX = draginfo.clientX;\n   draginfo.startY = draginfo.clientY;\n   draginfo.startZ = dobj.element.style.zIndex;\n   draginfo.offsetX = 0;\n   draginfo.offsetY = 0;\n\n   dobj.element.style.zIndex = \"100\";\n   SocialCalc.SetMouseMoveUp(SocialCalc.DragMouseMove,\n\t\t\t     SocialCalc.DragMouseUp,\n\t\t\t     dobj.element,\n\t\t\t     e);\n   if (dobj && dobj.functionobj && dobj.functionobj.MouseDown) dobj.functionobj.MouseDown(e, draginfo, dobj);\n\n   return false;\n\n   }\n\n//\n// DragMouseMove(event)\n//\n\nSocialCalc.DragMouseMove = function(event) {\n\n   var e = event || window.event;\n\n   var draginfo = SocialCalc.DragInfo;\n   var dobj = draginfo.draggingElement;\n\n   draginfo.clientX = e.clientX - draginfo.relativeOffset.left;\n   draginfo.clientY = e.clientY - draginfo.relativeOffset.top;\n   SocialCalc.StopPropagation(e);\n   if (dobj && dobj.functionobj && dobj.functionobj.MouseMove) dobj.functionobj.MouseMove(e, draginfo, dobj);\n   return false;\n   }\n\n//\n// DragMouseUp(event)\n//\n\nSocialCalc.DragMouseUp = function(event) {\n\n   var e = event || window.event;\n\n   var draginfo = SocialCalc.DragInfo;\n   var dobj = draginfo.draggingElement;\n\n   draginfo.clientX = e.clientX - draginfo.relativeOffset.left;\n   draginfo.clientY = e.clientY - draginfo.relativeOffset.top;\n\n   dobj.element.style.zIndex = draginfo.startZ;\n\n   if (dobj && dobj.functionobj && dobj.functionobj.MouseUp) dobj.functionobj.MouseUp(e, draginfo, dobj);\n   SocialCalc.RemoveMouseMoveUp(SocialCalc.DragMouseMove,\n\t\t\t\tSocialCalc.DragMouseUp,\n\t\t\t\tdobj.element, e);\n   draginfo.draggingElement = null;\n   return false;\n   }\n\n//\n// DragFunctionStart(event, draginfo, dobj)\n//\n\nSocialCalc.DragFunctionStart = function(event, draginfo, dobj) {\n\n   var element = dobj.functionobj.positionobj || dobj.element;\n\n   draginfo.offsetY = parseInt(element.style.top) - draginfo.clientY;\n   draginfo.offsetX = parseInt(element.style.left) - draginfo.clientX;\n\n   }\n\n//\n// DragFunctionPosition(event, draginfo, dobj)\n//\n\nSocialCalc.DragFunctionPosition = function(event, draginfo, dobj) {\n\n   var element = dobj.functionobj.positionobj || dobj.element;\n\n   if (dobj.vertical) element.style.top = (draginfo.clientY + draginfo.offsetY)+\"px\";\n   if (dobj.horizontal) element.style.left = (draginfo.clientX + draginfo.offsetX)+\"px\";\n\n   }\n\n// *************************************\n//\n// Button functions:\n//\n// *************************************\n\nSocialCalc.ButtonInfo = {\n\n   // There is only one of these -- no \"new\" is done.\n   // Only one button operation can be active at a time.\n   // The registeredElements array is used to identify items.\n\n   // One item for each clickable element, each an object with:\n   //    .element, .normalstyle, .hoverstyle, .downstyle, .repeatinterval, .functionobj, .editor\n   //\n   // .functionobj is an object with optional function objects for:\n   //    mouseover, mouseout, mousedown, repeatinterval, mouseup, disabled\n\n   registeredElements: [],\n\n   // Items used during hover over an element, clicking, repeating, etc.\n\n   buttonElement: null, // item being processed, hover or down (.element is the actual element)\n   doingHover: false, // true if mouse is over one of our elements\n   buttonDown: false, // true if button down and buttonElement not null\n   timer: null, // timer object for repeating\n\n   // Used while processing an event\n\n   relativeOffset: null,\n   clientX: 0,\n   clientY: 0\n\n   }\n\n//\n// ButtonRegister(editor, element, paramobj, functionobj) - make element clickable\n//\n// The arguments (other than editor and element) may be null (meaning no change for style and no repeat)\n// The paramobj has the optional normalstyle, hoverstyle, downstyle, repeatwait, repeatinterval settings\n\nSocialCalc.ButtonRegister = function(editor, element, paramobj, functionobj) {\n\n   var buttoninfo = SocialCalc.ButtonInfo;\n\n   if (!paramobj) paramobj = {};\n\n   buttoninfo.registeredElements.push(\n      {name: paramobj.name, element: element, editor: editor,\n       normalstyle: paramobj.normalstyle, hoverstyle: paramobj.hoverstyle, downstyle: paramobj.downstyle,\n       repeatwait: paramobj.repeatwait, repeatinterval: paramobj.repeatinterval, functionobj: functionobj}\n      );\n\n   if (element.addEventListener) { // DOM Level 2 -- Firefox, et al\n      element.addEventListener(\"mousedown\", SocialCalc.ButtonMouseDown, false);\n      element.addEventListener(\"mouseover\", SocialCalc.ButtonMouseOver, false);\n      element.addEventListener(\"mouseout\", SocialCalc.ButtonMouseOut, false);\n      }\n   else if (element.attachEvent) { // IE 5+\n      element.attachEvent(\"onmousedown\", SocialCalc.ButtonMouseDown);\n      element.attachEvent(\"onmouseover\", SocialCalc.ButtonMouseOver);\n      element.attachEvent(\"onmouseout\", SocialCalc.ButtonMouseOut);\n      }\n   else { // don't handle this\n      throw SocialCalc.Constants.s_BrowserNotSupported;\n      }\n\n   return;\n   }\n\n//\n// ButtonMouseOver(event)\n//\n\nSocialCalc.ButtonMouseOver = function(event) {\n\n   var e = event || window.event;\n\n   var buttoninfo = SocialCalc.ButtonInfo;\n\n   var bobj = SocialCalc.LookupElement(e.target || e.srcElement, buttoninfo.registeredElements);\n\n   if (!bobj) return;\n\n   if (buttoninfo.buttonDown) {\n      if (buttoninfo.buttonElement==bobj) {\n         buttoninfo.doingHover = true; // keep track whether we are on the pressed button or not\n         }\n      return;\n      }\n\n   if (buttoninfo.buttonElement &&\n          buttoninfo.buttonElement!=bobj && buttoninfo.doingHover) { // moved to a new one, undo hover there\n      SocialCalc.setStyles(buttoninfo.buttonElement.element, buttoninfo.buttonElement.normalstyle);\n      }\n\n   buttoninfo.buttonElement = bobj; // remember this one is hovering\n   buttoninfo.doingHover = true;\n\n   SocialCalc.setStyles(bobj.element, bobj.hoverstyle); // set style (if provided)\n\n   if (bobj && bobj.functionobj && bobj.functionobj.MouseOver) bobj.functionobj.MouseOver(e, buttoninfo, bobj);\n\n   return;\n\n   }\n\n//\n// ButtonMouseOut(event)\n//\n\nSocialCalc.ButtonMouseOut = function(event) {\n\n   var e = event || window.event;\n\n   var buttoninfo = SocialCalc.ButtonInfo;\n\n   if (buttoninfo.buttonDown) {\n      buttoninfo.doingHover = false; // keep track of overs and outs\n      return;\n      }\n\n   var bobj = SocialCalc.LookupElement(e.target || e.srcElement, buttoninfo.registeredElements);\n\n   if (buttoninfo.doingHover) { // if there was a hover, undo it\n      if (buttoninfo.buttonElement)\n         SocialCalc.setStyles(buttoninfo.buttonElement.element, buttoninfo.buttonElement.normalstyle);\n      buttoninfo.buttonElement = null;\n      buttoninfo.doingHover = false;\n      }\n\n   if (bobj && bobj.functionobj && bobj.functionobj.MouseOut) bobj.functionobj.MouseOut(e, buttoninfo, bobj);\n\n   return;\n\n   }\n\n//\n// ButtonMouseDown(event)\n//\n\nSocialCalc.ButtonMouseDown = function(event) {\n\n   var e = event || window.event;\n\n   var buttoninfo = SocialCalc.ButtonInfo;\n\n   var viewportinfo = SocialCalc.GetViewportInfo();\n\n   var bobj = SocialCalc.LookupElement(e.target || e.srcElement, buttoninfo.registeredElements);\n\n   if (!bobj) return; // not one of our elements\n\n   if (bobj && bobj.functionobj && bobj.functionobj.Disabled) {\n      if (bobj.functionobj.Disabled(e, buttoninfo, bobj)) {\n         return;\n         }\n      }\n\n   buttoninfo.buttonElement = bobj;\n   buttoninfo.buttonDown = true;\n\n   SocialCalc.setStyles(bobj.element, buttoninfo.buttonElement.downstyle);\n\n   // Register event handler for mouse up\n\n   // Event code from JavaScript, Flanagan, 5th Edition, pg. 422\n   if (document.addEventListener) { // DOM Level 2 -- Firefox, et al\n      document.addEventListener(\"mouseup\", SocialCalc.ButtonMouseUp, true); // capture everywhere\n      }\n   else if (bobj.element.attachEvent) { // IE 5+\n      bobj.element.setCapture();\n      bobj.element.attachEvent(\"onmouseup\", SocialCalc.ButtonMouseUp);\n      bobj.element.attachEvent(\"onlosecapture\", SocialCalc.ButtonMouseUp);\n      }\n   SocialCalc.StopPropagation(e);\n   buttoninfo.relativeOffset = SocialCalc.GetElementPositionWithScroll(bobj.editor.toplevel);\n   buttoninfo.clientX = e.clientX - buttoninfo.relativeOffset.left;\n   buttoninfo.clientY = e.clientY - buttoninfo.relativeOffset.top;\n\n   if (bobj && bobj.functionobj && bobj.functionobj.MouseDown) bobj.functionobj.MouseDown(e, buttoninfo, bobj);\n\n   if (bobj.repeatwait) { // if a repeat wait is set, then starting waiting for first repetition\n      buttoninfo.timer = window.setTimeout(SocialCalc.ButtonRepeat, bobj.repeatwait);\n      }\n\n   return;\n\n   }\n\n//\n// ButtonMouseUp(event)\n//\n\nSocialCalc.ButtonMouseUp = function(event) {\n\n   var e = event || window.event;\n\n   var buttoninfo = SocialCalc.ButtonInfo;\n   var bobj = buttoninfo.buttonElement;\n\n   if (buttoninfo.timer) { // if repeating, cancel it\n      window.clearTimeout(buttoninfo.timer); // cancel timer\n      buttoninfo.timer = null;\n      }\n\n   if (!buttoninfo.buttonDown) return; // already did this (e.g., in IE, releaseCapture fires losecapture)\n   SocialCalc.StopPropagation(e);\n   if (document.removeEventListener) { // DOM Level 2\n      document.removeEventListener(\"mouseup\", SocialCalc.ButtonMouseUp, true);\n      }\n   else if (document.detachEvent) { // IE\n      bobj.element.detachEvent(\"onlosecapture\", SocialCalc.ButtonMouseUp);\n      bobj.element.detachEvent(\"onmouseup\", SocialCalc.ButtonMouseUp);\n      bobj.element.releaseCapture();\n      }\n\n   if (buttoninfo.buttonElement.downstyle) {\n      if (buttoninfo.doingHover)\n         SocialCalc.setStyles(bobj.element, buttoninfo.buttonElement.hoverstyle);\n      else\n         SocialCalc.setStyles(bobj.element, buttoninfo.buttonElement.normalstyle);\n      }\n\n   buttoninfo.buttonDown = false;\n\n   if (bobj && bobj.functionobj && bobj.functionobj.MouseUp) bobj.functionobj.MouseUp(e, buttoninfo, bobj);\n\n   }\n\n//\n// ButtonRepeat()\n//\n\nSocialCalc.ButtonRepeat = function() {\n\n   var buttoninfo = SocialCalc.ButtonInfo;\n   var bobj = buttoninfo.buttonElement;\n\n   if (!bobj) return;\n\n   if (bobj && bobj.functionobj && bobj.functionobj.Repeat) bobj.functionobj.Repeat(null, buttoninfo, bobj);\n\n   buttoninfo.timer = window.setTimeout(SocialCalc.ButtonRepeat, bobj.repeatinterval || 100);\n\n   }\n\n// *************************************\n//\n// MouseWheel functions:\n//\n// *************************************\n\nSocialCalc.MouseWheelInfo = {\n\n   // There is only one of these -- no \"new\" is done.\n   // The mousewheel only affects the one area the mouse pointer is over\n   // The registeredElements array is used to identify items.\n\n   // One item for each element to respond to the mousewheel, each an object with:\n   //    .element, .functionobj\n\n   registeredElements: []\n\n   }\n\n//\n// MouseWheelRegister(element, functionobj) - make element respond to mousewheel\n//\n\nSocialCalc.MouseWheelRegister = function(element, functionobj) {\n\n   var mousewheelinfo = SocialCalc.MouseWheelInfo;\n\n   mousewheelinfo.registeredElements.push(\n      {element: element, functionobj: functionobj}\n      );\n\n   if (element.addEventListener) { // DOM Level 2 -- Firefox, et al\n      element.addEventListener(\"DOMMouseScroll\", SocialCalc.ProcessMouseWheel, false);\n      element.addEventListener(\"mousewheel\", SocialCalc.ProcessMouseWheel, false); // Opera needs this\n      }\n   else if (element.attachEvent) { // IE 5+\n      element.attachEvent(\"onmousewheel\", SocialCalc.ProcessMouseWheel);\n      }\n   else { // don't handle this\n      throw SocialCalc.Constants.s_BrowserNotSupported;\n      }\n\n   return;\n\n   }\n\nSocialCalc.ProcessMouseWheel = function(e) {\n\n   var event = e || window.event;\n   var delta;\n\n   if (SocialCalc.Keyboard.passThru) return; // ignore\n\n   var mousewheelinfo = SocialCalc.MouseWheelInfo;\n   var ele = event.target || event.srcElement; // source object is often within what we want\n   var wobj;\n\n   for (wobj=null; !wobj && ele; ele=ele.parentNode) { // go up tree looking for one of our elements\n      wobj = SocialCalc.LookupElement(ele, mousewheelinfo.registeredElements);\n      }\n   if (!wobj) return; // not one of our elements\n\n   if (event.wheelDelta) {\n      delta = event.wheelDelta/120;\n      }\n   else delta = -event.detail/3;\n   if (!delta) delta = 0;\n\n   if (wobj.functionobj && wobj.functionobj.WheelMove) wobj.functionobj.WheelMove(event, delta, mousewheelinfo, wobj);\n\n   if (event.preventDefault) event.preventDefault();\n   event.returnValue = false;\n\n   }\n\n// *************************************\n//\n// Keyboard functions:\n//\n// For more information about keyboard handling, see: http://unixpapa.com/js/key.html\n//\n// *************************************\n\nSocialCalc.keyboardTables = {\n\n   specialKeysCommon: {\n      8: \"[backspace]\", 9: \"[tab]\", 13: \"[enter]\", 25: \"[tab]\", 27: \"[esc]\", 33: \"[pgup]\", 34: \"[pgdn]\",\n      35: \"[end]\", 36: \"[home]\", 37: \"[aleft]\", 38: \"[aup]\", 39: \"[aright]\", 40: \"[adown]\", 45: \"[ins]\",\n      46: \"[del]\", 113: \"[f2]\"\n      },\n\n   specialKeysIE: {\n      8: \"[backspace]\", 9: \"[tab]\", 13: \"[enter]\", 25: \"[tab]\", 27: \"[esc]\", 33: \"[pgup]\", 34: \"[pgdn]\",\n      35: \"[end]\", 36: \"[home]\", 37: \"[aleft]\", 38: \"[aup]\", 39: \"[aright]\", 40: \"[adown]\", 45: \"[ins]\",\n      46: \"[del]\", 113: \"[f2]\"\n      },\n\n   controlKeysIE: {\n      65: \"[ctrl-a]\",\n      67: \"[ctrl-c]\",\n      83: \"[ctrl-s]\",\n      86: \"[ctrl-v]\",\n      88: \"[ctrl-x]\",\n      90: \"[ctrl-z]\"\n      },\n\n   specialKeysOpera: {\n      8: \"[backspace]\", 9: \"[tab]\", 13: \"[enter]\", 25: \"[tab]\", 27: \"[esc]\", 33: \"[pgup]\", 34: \"[pgdn]\",\n      35: \"[end]\", 36: \"[home]\", 37: \"[aleft]\", 38: \"[aup]\", 39: \"[aright]\", 40: \"[adown]\",\n      45: \"[ins]\", // issues with releases before 9.5 - same as \"-\" (\"-\" changed in 9.5)\n      46: \"[del]\", // issues with releases before 9.5 - same as \".\" (\".\" changed in 9.5)\n      113: \"[f2]\"\n      },\n\n   controlKeysOpera: {\n      65: \"[ctrl-a]\",\n      67: \"[ctrl-c]\",\n      83: \"[ctrl-s]\",\n      86: \"[ctrl-v]\",\n      88: \"[ctrl-x]\",\n      90: \"[ctrl-z]\"\n      },\n\n   specialKeysSafari: {\n      8: \"[backspace]\", 9: \"[tab]\", 13: \"[enter]\", 25: \"[tab]\", 27: \"[esc]\", 63232: \"[aup]\", 63233: \"[adown]\",\n      63234: \"[aleft]\", 63235: \"[aright]\", 63272: \"[del]\", 63273: \"[home]\", 63275: \"[end]\", 63276: \"[pgup]\",\n      63277: \"[pgdn]\", 63237: \"[f2]\"\n      },\n\n   controlKeysSafari: {\n      97: \"[ctrl-a]\",\n      99: \"[ctrl-c]\",\n      115: \"[ctrl-s]\",\n      118: \"[ctrl-v]\",\n      120: \"[ctrl-x]\",\n      122: \"[ctrl-z]\"\n      },\n\n   ignoreKeysSafari: {\n      63236: \"[f1]\", 63238: \"[f3]\", 63239: \"[f4]\", 63240: \"[f5]\", 63241: \"[f6]\", 63242: \"[f7]\",\n      63243: \"[f8]\", 63244: \"[f9]\", 63245: \"[f10]\", 63246: \"[f11]\", 63247: \"[f12]\", 63289: \"[numlock]\"\n      },\n\n   specialKeysFirefox: {\n      8: \"[backspace]\", 9: \"[tab]\", 13: \"[enter]\", 25: \"[tab]\", 27: \"[esc]\", 33: \"[pgup]\", 34: \"[pgdn]\",\n      35: \"[end]\", 36: \"[home]\", 37: \"[aleft]\", 38: \"[aup]\", 39: \"[aright]\", 40: \"[adown]\", 45: \"[ins]\",\n      46: \"[del]\", 113: \"[f2]\"\n      },\n\n   controlKeysFirefox: {\n      97: \"[ctrl-a]\",\n      99: \"[ctrl-c]\",\n      115: \"[ctrl-s]\",\n      118: \"[ctrl-v]\",\n      120: \"[ctrl-x]\",\n      122: \"[ctrl-z]\"\n      },\n\n   ignoreKeysFirefox: {\n      16: \"[shift]\", 17: \"[ctrl]\", 18: \"[alt]\", 20: \"[capslock]\", 19: \"[pause]\", 44: \"[printscreen]\",\n      91: \"[windows]\", 92: \"[windows]\", 112: \"[f1]\", 114: \"[f3]\", 115: \"[f4]\", 116: \"[f5]\",\n      117: \"[f6]\", 118: \"[f7]\", 119: \"[f8]\", 120: \"[f9]\", 121: \"[f10]\", 122: \"[f11]\", 123: \"[f12]\",\n      144: \"[numlock]\", 145: \"[scrolllock]\", 224: \"[cmd]\"\n      }\n   }\n\nSocialCalc.Keyboard = {\n   areListener: false, // if true, we have been installed as a listener for keyboard events\n   focusTable: null, // the table editor object that gets keystrokes or null\n   passThru: null, // if not null, control element with focus to pass keyboard events to (has blur method), or \"true\"\n   didProcessKey: false, // did SocialCalc.ProcessKey in keydown\n   statusFromProcessKey: false, // the status from the keydown SocialCalc.ProcessKey\n   repeatingKeyPress: false, // some browsers (Opera, Gecko Mac) repeat special keys as KeyPress not KeyDown\n   chForProcessKey: \"\" // remember so can do repeat in those cases\n   };\n\nSocialCalc.KeyboardSetFocus = function(editor) {\n\n   SocialCalc.Keyboard.focusTable = editor;\n\n   if (!SocialCalc.Keyboard.areListener) {\n      document.onkeydown = SocialCalc.ProcessKeyDown;\n      document.onkeypress = SocialCalc.ProcessKeyPress;\n      SocialCalc.Keyboard.areListener = true;\n      }\n   if (SocialCalc.Keyboard.passThru) {\n      if (SocialCalc.Keyboard.passThru.blur) {\n         SocialCalc.Keyboard.passThru.blur();\n         }\n      SocialCalc.Keyboard.passThru = null;\n      }\n   window.focus();\n   }\n\nSocialCalc.KeyboardFocus = function() {\n\n   SocialCalc.Keyboard.passThru = null;\n   window.focus();\n\n   }\n\nSocialCalc.ProcessKeyDown = function(e) {\n\n   var kt = SocialCalc.keyboardTables;\n   kt.didProcessKey = false; // always start false\n   kt.statusFromProcessKey = false;\n   kt.repeatingKeyPress = false;\n\n   var ch=\"\";\n   var status=true;\n\n   if (SocialCalc._app) return; // // ignore in app - widgets need control\n   if (SocialCalc.Keyboard.passThru) return; // ignore\n\n   e = e || window.event;\n\n   if (e.which==undefined) { // IE\n      ch = kt.specialKeysCommon[e.keyCode];\n      if (!ch) {\n         if (e.ctrlKey) {\n            ch=kt.controlKeysIE[e.keyCode];\n            }\n         if (!ch)\n            return true;\n         }\n      status = SocialCalc.ProcessKey(ch, e);\n\n      if (!status) {\n         if (e.preventDefault) e.preventDefault();\n            e.returnValue = false;\n         }\n      }\n\n   else {\n      ch = kt.specialKeysCommon[e.keyCode];\n      if (!ch) {\n//         return true;\n         if (e.ctrlKey || e.metaKey) {\n            ch=kt.controlKeysIE[e.keyCode]; // this works here\n            }\n         if (!ch)\n            return true;\n         }\n\n      status = SocialCalc.ProcessKey(ch, e); // process the key\n      kt.didProcessKey = true; // remember what happened\n      kt.statusFromProcessKey = status;\n      kt.chForProcessKey = ch;\n      }\n\n   return status;\n\n   }\n\nSocialCalc.ProcessKeyPress = function(e) {\n\n   var kt = SocialCalc.keyboardTables;\n\n   var ch=\"\";\n\n   e = e || window.event;\n   if (SocialCalc._app) return; // // ignore in app - widgets need control\n\n   if (SocialCalc.Keyboard.passThru) return; // ignore\n   if (kt.didProcessKey) { // already processed this key\n      if (kt.repeatingKeyPress) {\n         return SocialCalc.ProcessKey(kt.chForProcessKey, e); // process the same key as on KeyDown\n         }\n      else {\n         kt.repeatingKeyPress = true; // see if get another KeyPress before KeyDown\n         return kt.statusFromProcessKey; // do what it said to do\n         }\n      }\n\n   if (e.which==undefined) { // IE\n      // Note: Esc and Enter will come through here, too, if not stopped at KeyDown\n      ch=String.fromCharCode(e.keyCode); // convert to a character (special chars handled at ev1)\n      }\n\n   else { // not IE\n      if (!e.which)\n         return false; // ignore - special key\n      if (e.charCode==undefined) { // Opera\n         if (e.which!=0) { // character\n            if (e.which<32 || e.which==144) { // special char (144 is numlock)\n               ch = kt.specialKeysOpera[e.which];\n               if (ch) {\n                  return true;\n                  }\n               }\n            else {\n               if (e.ctrlKey) {\n                  ch=kt.controlKeysOpera[e.keyCode];\n                  }\n               else {\n                  ch = String.fromCharCode(e.which);\n                  }\n               }\n            }\n         else { // special char\n            return true;\n            }\n         }\n\n      else if (e.keyCode==0 && e.charCode==0) { // OLPC Fn key or something\n         return; // ignore\n         }\n\n      else if (e.keyCode==e.charCode) { // Safari\n         ch = kt.specialKeysSafari[e.keyCode];\n         if (!ch) {\n            if (kt.ignoreKeysSafari[e.keyCode]) // pass this through\n               return true;\n            if (e.metaKey) {\n               ch=kt.controlKeysSafari[e.keyCode];\n               }\n            else {\n               ch = String.fromCharCode(e.which);\n               }\n            }\n         }\n\n      else { // Firefox\n         if (kt.specialKeysFirefox[e.keyCode]) {\n            return true;\n            }\n         ch = String.fromCharCode(e.which);\n         if (e.ctrlKey || e.metaKey) {\n            ch = kt.controlKeysFirefox[e.which];\n            }\n         }\n      }\n\n   var status = SocialCalc.ProcessKey(ch, e);\n\n   if (!status) {\n      if (e.preventDefault) e.preventDefault();\n      e.returnValue = false;\n      }\n\n   return status;\n\n   }\n\n//\n// status = SocialCalc.ProcessKey(ch, e)\n//\n// Take a key representation as a character string and dispatch to appropriate routine\n//\n\nSocialCalc.ProcessKey = function (ch, e) {\n   var ft = SocialCalc.Keyboard.focusTable;\n   if (!ft) return true; // we're not handling it -- let browser do default\n   return ft.EditorProcessKey(ch, e);\n   }\n\n\n\n//\n/*\n// SocialCalc Number Formatting Library\n//\n// Part of the SocialCalc package.\n//\n// (c) Copyright 2008 Socialtext, Inc.\n// All Rights Reserved.\n//\n// The contents of this file are subject to the Artistic License 2.0; you may not\n// use this file except in compliance with the License. You may obtain a copy of \n// the License at http://socialcalc.org/licenses/al-20/.\n//\n// Some of the other files in the SocialCalc package are licensed under\n// different licenses. Please note the licenses of the modules you use.\n//\n// Code History:\n//\n// Initially coded by Dan Bricklin of Software Garden, Inc., for Socialtext, Inc.\n// Based in part on the SocialCalc 1.1.0 code written in Perl.\n// The SocialCalc 1.1.0 code was:\n//    Portions (c) Copyright 2005, 2006, 2007 Software Garden, Inc.\n//    All Rights Reserved.\n//    Portions (c) Copyright 2007 Socialtext, Inc.\n//    All Rights Reserved.\n// The Perl SocialCalc started as modifications to the wikiCalc(R) program, version 1.0.\n// wikiCalc 1.0 was written by Software Garden, Inc.\n// Unless otherwise specified, referring to \"SocialCalc\" in comments refers to this\n// JavaScript version of the code, not the SocialCalc Perl code.\n//\n*/\n\n   var SocialCalc;\n   if (!SocialCalc) SocialCalc = {}; // May be used with other SocialCalc libraries or standalone\n\nSocialCalc.FormatNumber = {};\n\nSocialCalc.FormatNumber.format_definitions = {}; // Parsed formats are stored here globally\n\n// Most constants that are often customized for localization are in the SocialCalc.Constants module.\n// If you use this module standalone, provide at least the \"FormatNumber\" values.\n//\n\n// The following values may be customized externally for further localization of the format definitions themselves,\n// but that would make them incompatible with other uses and is discouraged.\n//\n\nSocialCalc.FormatNumber.separatorchar = \",\";\nSocialCalc.FormatNumber.decimalchar = \".\";\nSocialCalc.FormatNumber.daynames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\nSocialCalc.FormatNumber.daynames3 = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\nSocialCalc.FormatNumber.monthnames3 = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\nSocialCalc.FormatNumber.monthnames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\",\n                                      \"October\", \"November\", \"December\"];\n\nSocialCalc.FormatNumber.allowedcolors =\n   {BLACK: \"#000000\", BLUE: \"#0000FF\", CYAN: \"#00FFFF\", GREEN: \"#00FF00\", MAGENTA: \"#FF00FF\",\n    RED: \"#FF0000\", WHITE: \"#FFFFFF\", YELLOW: \"#FFFF00\"};\n\nSocialCalc.FormatNumber.alloweddates =\n   {H: \"h]\", M: \"m]\", MM: \"mm]\", S: \"s]\", SS: \"ss]\"};\n\n// Other constants\n\nSocialCalc.FormatNumber.commands =\n   {copy: 1, color: 2, integer_placeholder: 3, fraction_placeholder: 4, decimal: 5,\n    currency: 6, general:7, separator: 8, date: 9, comparison: 10, section: 11, style: 12};\n\nSocialCalc.FormatNumber.datevalues = {julian_offset: 2415019, seconds_in_a_day: 24 * 60 * 60, seconds_in_an_hour: 60 * 60};\n\n/* *******************\n\n result = SocialCalc.FormatNumber.formatNumberWithFormat = function(rawvalue, format_string, currency_char)\n\n************************* */\n\nSocialCalc.FormatNumber.formatNumberWithFormat = function(rawvalue, format_string, currency_char) {\n\n   var scc = SocialCalc.Constants;\n   var scfn = SocialCalc.FormatNumber;\n\n   var op, operandstr, fromend, cval, operandstrlc;\n   var startval, estartval;\n   var hrs, mins, secs, ehrs, emins, esecs, ampmstr, ymd;\n   var minOK, mpos;\n   var result=\"\";\n   var thisformat;\n   var section, gotcomparison, compop, compval, cpos, oppos;\n   var sectioninfo;\n   var i, decimalscale, scaledvalue, strvalue, strparts, integervalue, fractionvalue;\n   var integerdigits2, integerpos, fractionpos, textcolor, textstyle, separatorchar, decimalchar;\n   var value; // working copy to change sign, etc.\n\n   if (typeof(rawvalue) == \"string\" && !rawvalue.length) return \"\";\n\n   value = rawvalue-0; // make sure a number\n   if (!isFinite(value)) {\n      if (typeof(rawvalue) == \"string\") { // if original was a string, try to format it\n         return scfn.formatTextWithFormat(rawvalue, format_string);\n         }\n      else {\n         return \"NaN\";\n         }\n      }\n   rawvalue = value;\n\n   var negativevalue = value < 0 ? 1 : 0; // determine sign, etc.\n   if (negativevalue) value = -value;\n   var zerovalue = value == 0 ? 1 : 0;\n\n   currency_char = currency_char || scc.FormatNumber_DefaultCurrency;\n\n   scfn.parse_format_string(scfn.format_definitions, format_string); // make sure format is parsed\n   thisformat = scfn.format_definitions[format_string]; // Get format structure\n\n   if (!thisformat) throw \"Format not parsed error!\";\n\n   section = thisformat.sectioninfo.length - 1; // get number of sections - 1\n\n   if (thisformat.hascomparison) { // has comparisons - determine which section\n      section = 0; // set to which section we will use\n      gotcomparison = 0; // this section has no comparison\n      for (cpos=0; ;cpos++) { // scan for comparisons\n         op = thisformat.operators[cpos];\n         operandstr = thisformat.operands[cpos]; // get next operator and operand\n         if (!op) { // at end with no match\n            if (gotcomparison) { // if comparison but no match\n               format_string = \"General\"; // use default of General\n               scfn.parse_format_string(scfn.format_definitions, format_string);\n               thisformat = scfn.format_definitions[format_string];\n               section = 0;\n               }\n            break; // if no comparision, matches on this section\n            }\n         if (op == scfn.commands.section) { // end of section\n            if (!gotcomparison) { // no comparison, so it's a match\n               break;\n               }\n            gotcomparison = 0;\n            section++; // check out next one\n            continue;\n            }\n         if (op == scfn.commands.comparison) { // found a comparison - do we meet it?\n            i=operandstr.indexOf(\":\");\n            compop=operandstr.substring(0,i);\n            compval=operandstr.substring(i+1)-0;\n            if ((compop == \"<\" && rawvalue < compval) ||\n                (compop == \"<=\" && rawvalue <= compval) ||\n                (compop == \"=\" && rawvalue == compval) ||\n                (compop == \"<>\" && rawvalue != compval) ||\n                (compop == \">=\" && rawvalue >= compval) ||\n                (compop == \">\" && rawvalue > compval)) { // a match\n               break;\n               }\n            gotcomparison = 1;\n            }\n         }\n      }\n   else if (section > 0) { // more than one section (separated by \";\")\n      if (section == 1) { // two sections\n         if (negativevalue) {\n            negativevalue = 0; // sign will provided by section, not automatically\n            section = 1; // use second section for negative values\n            }\n         else {\n            section = 0; // use first for all others\n            }\n         }\n      else if (section == 2 || section == 3) { // three or four sections\n         if (negativevalue) {\n            negativevalue = 0; // sign will provided by section, not automatically\n            section = 1; // use second section for negative values\n            }\n         else if (zerovalue) {\n            section = 2; // use third section for zero values\n            }\n         else {\n            section = 0; // use first for positive\n            }\n         }\n      }\n\n   sectioninfo = thisformat.sectioninfo[section]; // look at values for our section\n\n   if (sectioninfo.commas > 0) { // scale by thousands\n      for (i=0; i<sectioninfo.commas; i++) {\n         value /= 1000;\n         }\n      }\n   if (sectioninfo.percent > 0) { // do percent scaling\n      for (i=0; i<sectioninfo.percent; i++) {\n         value *= 100;\n         }\n      }\n\n   decimalscale = 1; // cut down to required number of decimal digits\n   for (i=0; i<sectioninfo.fractiondigits; i++) {\n      decimalscale *= 10;\n      }\n   scaledvalue = Math.floor(value * decimalscale + 0.5);\n   scaledvalue = scaledvalue / decimalscale;\n\n   if (typeof scaledvalue != \"number\") return \"NaN\";\n   if (!isFinite(scaledvalue)) return \"NaN\";\n\n   strvalue = scaledvalue+\"\"; // convert to string (Number.toFixed doesn't do all we need)\n\n//   strvalue = value.toFixed(sectioninfo.fractiondigits); // cut down to required number of decimal digits\n                                                         // and convert to string\n\n   if (scaledvalue == 0 && (sectioninfo.fractiondigits || sectioninfo.integerdigits)) {\n      negativevalue = 0; // no \"-0\" unless using multiple sections or General\n      }\n\n   if (strvalue.indexOf(\"e\")>=0) { // converted to scientific notation\n      return rawvalue+\"\"; // Just return plain converted raw value\n      }\n\n   strparts=strvalue.match(/^\\+{0,1}(\\d*)(?:\\.(\\d*)){0,1}$/); // get integer and fraction parts\n   if (!strparts) return \"NaN\"; // if not a number\n   integervalue = strparts[1];\n   if (!integervalue || integervalue==\"0\") integervalue=\"\";\n   fractionvalue = strparts[2];\n   if (!fractionvalue) fractionvalue = \"\";\n\n   if (sectioninfo.hasdate) { // there are date placeholders\n      if (rawvalue < 0) { // bad date\n         return \"??-???-??&nbsp;??:??:??\";\n         }\n      startval = (rawvalue-Math.floor(rawvalue)) * scfn.datevalues.seconds_in_a_day; // get date/time parts\n      estartval = rawvalue * scfn.datevalues.seconds_in_a_day; // do elapsed time version, too\n      hrs = Math.floor(startval / scfn.datevalues.seconds_in_an_hour);\n      ehrs = Math.floor(estartval / scfn.datevalues.seconds_in_an_hour);\n      startval = startval - hrs * scfn.datevalues.seconds_in_an_hour;\n      mins = Math.floor(startval / 60);\n      emins = Math.floor(estartval / 60);\n      secs = startval - mins * 60;\n      decimalscale = 1; // round appropriately depending if there is ss.0\n      for (i=0; i<sectioninfo.fractiondigits; i++) {\n         decimalscale *= 10;\n         }\n      secs = Math.floor(secs * decimalscale + 0.5);\n      secs = secs / decimalscale;\n      esecs = Math.floor(estartval * decimalscale + 0.5);\n      esecs = esecs / decimalscale;\n      if (secs >= 60) { // handle round up into next second, minute, etc.\n         secs = 0;\n         mins++; emins++;\n         if (mins >= 60) {\n            mins = 0;\n            hrs++; ehrs++;\n            if (hrs >= 24) {\n               hrs = 0;\n               rawvalue++;\n               }\n            }\n         }\n      fractionvalue = (secs-Math.floor(secs))+\"\"; // for \"hh:mm:ss.000\"\n      fractionvalue = fractionvalue.substring(2); // skip \"0.\"\n\n      ymd = SocialCalc.FormatNumber.convert_date_julian_to_gregorian(Math.floor(rawvalue+scfn.datevalues.julian_offset));\n\n      minOK = 0; // says \"m\" can be minutes if true\n      mspos = sectioninfo.sectionstart; // m scan position in ops\n      for ( ; ; mspos++) { // scan for \"m\" and \"mm\" to see if any minutes fields, and am/pm\n         op = thisformat.operators[mspos];\n         operandstr = thisformat.operands[mspos]; // get next operator and operand\n         if (!op) break; // don't go past end\n         if (op==scfn.commands.section) break;\n         if (op==scfn.commands.date) {\n            if ((operandstr.toLowerCase()==\"am/pm\" || operandstr.toLowerCase()==\"a/p\") && !ampmstr) {\n               if (hrs >= 12) {\n                  hrs -= 12;\n                  ampmstr = operandstr.toLowerCase()==\"a/p\" ? scc.s_FormatNumber_pm1 : scc.s_FormatNumber_pm; // \"P\" : \"PM\";\n                  }\n               else {\n                  ampmstr = operandstr.toLowerCase()==\"a/p\" ? scc.s_FormatNumber_am1 : scc.s_FormatNumber_am; // \"A\" : \"AM\";\n                  }\n               if (operandstr.indexOf(ampmstr)<0)\n                  ampmstr = ampmstr.toLowerCase(); // have case match case in format\n               }\n            if (minOK && (operandstr==\"m\" || operandstr==\"mm\")) {\n               thisformat.operands[mspos] += \"in\"; // turn into \"min\" or \"mmin\"\n               }\n            if (operandstr.charAt(0)==\"h\") {\n               minOK = 1; // m following h or hh or [h] is minutes not months\n               }\n            else {\n               minOK = 0;\n               }\n            }\n         else if (op!=scfn.commands.copy) { // copying chars can be between h and m\n            minOK = 0;\n            }\n         }\n      minOK = 0;\n      for (--mspos; ; mspos--) { // scan other way for s after m\n         op = thisformat.operators[mspos];\n         operandstr = thisformat.operands[mspos]; // get next operator and operand\n         if (!op) break; // don't go past end\n         if (op==scfn.commands.section) break;\n         if (op==scfn.commands.date) {\n            if (minOK && (operandstr==\"m\" || operandstr==\"mm\")) {\n               thisformat.operands[mspos] += \"in\"; // turn into \"min\" or \"mmin\"\n               }\n            if (operandstr==\"ss\") {\n               minOK = 1; // m before ss is minutes not months\n               }\n            else {\n               minOK = 0;\n               }\n            }\n         else if (op!=scfn.commands.copy) { // copying chars can be between ss and m\n            minOK = 0;\n            }\n         }\n      }\n\n   integerdigits2 = 0; // init counters, etc.\n   integerpos = 0;\n   fractionpos = 0;\n   textcolor = \"\";\n   textstyle = \"\";\n   separatorchar = scc.FormatNumber_separatorchar;\n   if (separatorchar.indexOf(\" \")>=0) separatorchar = separatorchar.replace(/ /g, \"&nbsp;\");\n   decimalchar = scc.FormatNumber_decimalchar;\n   if (decimalchar.indexOf(\" \")>=0) decimalchar = decimalchar.replace(/ /g, \"&nbsp;\");\n\n   oppos = sectioninfo.sectionstart;\n\n   while (op = thisformat.operators[oppos]) { // execute format\n      operandstr = thisformat.operands[oppos++]; // get next operator and operand\n\n      if (op == scfn.commands.copy) { // put char in result\n         result += operandstr;\n         }\n\n      else if (op == scfn.commands.color) { // set color\n         textcolor = operandstr;\n         }\n\n      else if (op == scfn.commands.style) { // set style\n         textstyle = operandstr;\n         }\n\n      else if (op == scfn.commands.integer_placeholder) { // insert number part\n         if (negativevalue) {\n            result += \"-\";\n            negativevalue = 0;\n            }\n         integerdigits2++;\n         if (integerdigits2 == 1) { // first one\n            if (integervalue.length > sectioninfo.integerdigits) { // see if integer wider than field\n               for (;integerpos < (integervalue.length - sectioninfo.integerdigits); integerpos++) {\n                  result += integervalue.charAt(integerpos);\n                  if (sectioninfo.thousandssep) { // see if this is a separator position\n                     fromend = integervalue.length - integerpos - 1;\n                     if (fromend > 2 && fromend % 3 == 0) {\n                        result += separatorchar;\n                        }\n                     }\n                  }\n               }\n            }\n         if (integervalue.length < sectioninfo.integerdigits\n             && integerdigits2 <= sectioninfo.integerdigits - integervalue.length) { // field is wider than value\n            if (operandstr == \"0\" || operandstr == \"?\") { // fill with appropriate characters\n               result += operandstr == \"0\" ? \"0\" : \"&nbsp;\";\n               if (sectioninfo.thousandssep) { // see if this is a separator position\n                  fromend = sectioninfo.integerdigits - integerdigits2;\n                  if (fromend > 2 && fromend % 3 == 0) {\n                     result += separatorchar;\n                     }\n                  }\n               }\n            }\n         else { // normal integer digit - add it\n            result += integervalue.charAt(integerpos);\n            if (sectioninfo.thousandssep) { // see if this is a separator position\n               fromend = integervalue.length - integerpos - 1;\n               if (fromend > 2 && fromend % 3 == 0) {\n                  result += separatorchar;\n                  }\n               }\n            integerpos++;\n            }\n         }\n      else if (op == scfn.commands.fraction_placeholder) { // add fraction part of number\n         if (fractionpos >= fractionvalue.length) {\n            if (operandstr == \"0\" || operandstr == \"?\") {\n               result += operandstr == \"0\" ? \"0\" : \"&nbsp;\";\n               }\n            }\n         else {\n            result += fractionvalue.charAt(fractionpos);\n            }\n         fractionpos++;\n         }\n\n      else if (op == scfn.commands.decimal) { // decimal point\n         if (negativevalue) {\n            result += \"-\";\n            negativevalue = 0;\n            }\n         result += decimalchar;\n         }\n\n      else if (op == scfn.commands.currency) { // currency symbol\n         if (negativevalue) {\n            result += \"-\";\n            negativevalue = 0;\n            }\n         result += operandstr;\n         }\n\n      else if (op == scfn.commands.general) { // insert \"General\" conversion\n\n         // *** Cut down number of significant digits to avoid floating point artifacts:\n\n         if (value!=0) { // only if non-zero\n            var factor = Math.floor(Math.LOG10E * Math.log(value)); // get integer magnitude as a power of 10\n            factor = Math.pow(10, 13-factor); // turn into scaling factor\n            value = Math.floor(factor * value + 0.5)/factor; // scale positive value, round, undo scaling\n            if (!isFinite(value)) return \"NaN\";\n            }\n         if (negativevalue) {\n            result += \"-\";\n            }\n         strvalue = value+\"\"; // convert original value to string\n         if (strvalue.indexOf(\"e\")>=0) { // converted to scientific notation\n            result += strvalue;\n            continue;\n            }\n         strparts=strvalue.match(/^\\+{0,1}(\\d*)(?:\\.(\\d*)){0,1}$/); // get integer and fraction parts\n         integervalue = strparts[1];\n         if (!integervalue || integervalue==\"0\") integervalue=\"\";\n         fractionvalue = strparts[2];\n         if (!fractionvalue) fractionvalue = \"\";\n         integerpos = 0;\n         fractionpos = 0;\n         if (integervalue.length) {\n            for (;integerpos < integervalue.length; integerpos++) {\n               result += integervalue.charAt(integerpos);\n               if (sectioninfo.thousandssep) { // see if this is a separator position\n                  fromend = integervalue.length - integerpos - 1;\n                  if (fromend > 2 && fromend % 3 == 0) {\n                     result += separatorchar;\n                     }\n                  }\n               }\n             }\n         else {\n            result += \"0\";\n            }\n         if (fractionvalue.length) {\n            result += decimalchar;\n            for (;fractionpos < fractionvalue.length; fractionpos++) {\n               result += fractionvalue.charAt(fractionpos);\n               }\n            }\n         }\n      else if (op==scfn.commands.date) { // date placeholder\n         operandstrlc = operandstr.toLowerCase();\n         if (operandstrlc==\"y\" || operandstrlc==\"yy\") {\n            result += (ymd.year+\"\").substring(2);\n            }\n         else if (operandstrlc==\"yyyy\") {\n            result += ymd.year+\"\";\n            }\n         else if (operandstrlc==\"d\") {\n            result += ymd.day+\"\";\n            }\n         else if (operandstrlc==\"dd\") {\n            cval = 1000 + ymd.day;\n            result += (cval+\"\").substr(2);\n            }\n         else if (operandstrlc==\"ddd\") {\n            cval = Math.floor(rawvalue+6) % 7;\n            result += scc.s_FormatNumber_daynames3[cval];\n            }\n         else if (operandstrlc==\"dddd\") {\n            cval = Math.floor(rawvalue+6) % 7;\n            result += scc.s_FormatNumber_daynames[cval];\n            }\n         else if (operandstrlc==\"m\") {\n            result += ymd.month+\"\";\n            }\n         else if (operandstrlc==\"mm\") {\n            cval = 1000 + ymd.month;\n            result += (cval+\"\").substr(2);\n            }\n         else if (operandstrlc==\"mmm\") {\n            result += scc.s_FormatNumber_monthnames3[ymd.month-1];\n            }\n         else if (operandstrlc==\"mmmm\") {\n            result += scc.s_FormatNumber_monthnames[ymd.month-1];\n            }\n         else if (operandstrlc==\"mmmmm\") {\n            result += scc.s_FormatNumber_monthnames[ymd.month-1].charAt(0);\n            }\n         else if (operandstrlc==\"h\") {\n            result += hrs+\"\";\n            }\n         else if (operandstrlc==\"h]\") {\n            result += ehrs+\"\";\n            }\n         else if (operandstrlc==\"mmin\") {\n            cval = (1000 + mins)+\"\";\n            result += cval.substr(2);\n            }\n         else if (operandstrlc==\"mm]\") {\n            if (emins < 100) {\n               cval = (1000 + emins)+\"\";\n               result += cval.substr(2);\n               }\n            else {\n               result += emins+\"\";\n               }\n            }\n         else if (operandstrlc==\"min\") {\n            result += mins+\"\";\n            }\n         else if (operandstrlc==\"m]\") {\n            result += emins+\"\";\n            }\n         else if (operandstrlc==\"hh\") {\n            cval = (1000 + hrs)+\"\";\n            result += cval.substr(2);\n            }\n         else if (operandstrlc==\"s\") {\n            cval = Math.floor(secs);\n            result += cval+\"\";\n            }\n         else if (operandstrlc==\"ss\") {\n            cval = (1000 + Math.floor(secs))+\"\";\n            result += cval.substr(2);\n            }\n         else if (operandstrlc==\"am/pm\" || operandstrlc==\"a/p\") {\n            result += ampmstr;\n            }\n         else if (operandstrlc==\"ss]\") {\n            if (esecs < 100) {\n               cval = (1000 + Math.floor(esecs))+\"\";\n               result += cval.substr(2);\n               }\n            else {\n               cval = Math.floor(esecs);\n               result += cval+\"\";\n               }\n            }\n         }\n      else if (op == scfn.commands.section) { // end of section\n         break;\n         }\n\n      else if (op == scfn.commands.comparison) { // ignore\n         continue;\n         }\n\n      else {\n         result += \"!! Parse error !!\";\n         }\n      }\n\n   if (textcolor) {\n      result = '<span style=\"color:'+textcolor+';\">'+result+'</span>';\n      }\n   if (textstyle) {\n      result = '<span style=\"'+textstyle+';\">'+result+'</span>';\n      }\n\n   return result;\n\n   };\n\n/* *******************\n\n result = SocialCalc.FormatNumber.formatTextWithFormat = function(rawvalue, format_string)\n\n************************* */\n\nSocialCalc.FormatNumber.formatTextWithFormat = function(rawvalue, format_string) {\n\n   var scc = SocialCalc.Constants;\n   var scfn = SocialCalc.FormatNumber;\n   var value = rawvalue+\"\";\n   var result = \"\";\n   var section;\n   var sectioninfo;\n   var oppos;\n   var operandstr;\n   var textcolor = \"\";\n   var textstyle = \"\";\n\n   scfn.parse_format_string(scfn.format_definitions, format_string); // make sure format is parsed\n   thisformat = scfn.format_definitions[format_string]; // Get format structure\n\n   if (!thisformat) throw \"Format not parsed error!\";\n\n   section = thisformat.sectioninfo.length - 1; // get number of sections - 1\n   if (section == 0) {\n      section = 0;\n      }\n   else if (section == 3) {\n      section = 3;\n      }\n   else {\n      return value;\n      }\n\n   sectioninfo = thisformat.sectioninfo[section]; // look at values for our section\n   oppos = sectioninfo.sectionstart;\n\n   while (op = thisformat.operators[oppos]) { // execute format\n      operandstr = thisformat.operands[oppos++]; // get next operator and operand\n\n      if (op == scfn.commands.copy) { // put char in result\n         if (operandstr == \"@\") {\n            result += value;\n            }\n         else {\n            result += operandstr.replace(/ /g, \"&nbsp;\");\n            }\n         }\n\n      else if (op == scfn.commands.color) { // set color\n         textcolor = operandstr;\n         }\n\n      else if (op == scfn.commands.style) { // set style\n         textstyle = operandstr;\n         }\n      }\n\n   if (textcolor) {\n      result = '<span style=\"color:'+textcolor+';\">'+result+'</span>';\n      }\n   if (textstyle) {\n      result = '<span style=\"'+textstyle+';\">'+result+'</span>';\n      }\n\n   return result;\n\n   };\n\n/* *******************\n\n SocialCalc.FormatNumber.parse_format_string(format_defs, format_string)\n\n Takes a format string (e.g., \"#,##0.00_);(#,##0.00)\") and fills in format_defs with the parsed info\n\n format_defs\n    [\"#,##0.0\"]->{} - elements in the hash are one hash for each format\n       .operators->[] - array of operators from parsing the format string (each a number)\n       .operands->[] - array of corresponding operators (each usually a string)\n       .sectioninfo->[] - one hash for each section of the format\n          .start\n          .integerdigits\n          .fractiondigits\n          .commas\n          .percent\n          .thousandssep\n          .hasdates\n       .hascomparison - true if any section has [<100], etc.\n\n************************* */\n\nSocialCalc.FormatNumber.parse_format_string = function(format_defs, format_string) {\n\n   var scfn = SocialCalc.FormatNumber;\n\n   var thisformat, section, sectionfinfo;\n   var integerpart = 1; // start out in integer part\n   var lastwasinteger; // last char was an integer placeholder\n   var lastwasslash; // last char was a backslash - escaping following character\n   var lastwasasterisk; // repeat next char\n   var lastwasunderscore; // last char was _ which picks up following char for width\n   var inquote, quotestr; // processing a quoted string\n   var inbracket, bracketstr, bracketdata; // processing a bracketed string\n   var ingeneral, gpos; // checks for characters \"General\"\n   var ampmstr, part; // checks for characters \"A/P\" and \"AM/PM\"\n   var indate; // keeps track of date/time placeholders\n   var chpos; // character position being looked at\n   var ch; // character being looked at\n\n   if (format_defs[format_string]) return; // already defined - nothing to do\n\n   thisformat = {operators: [], operands: [], sectioninfo: [{}]}; // create info structure for this format\n   format_defs[format_string] = thisformat; // add to other format definitions\n\n   section = 0; // start with section 0\n   sectioninfo = thisformat.sectioninfo[section]; // get reference to info for current section\n   sectioninfo.sectionstart = 0; // position in operands that starts this section\n   sectioninfo.integerdigits = 0; // number of integer-part placeholders\n   sectioninfo.fractiondigits = 0; // fraction placeholders\n   sectioninfo.commas = 0; // commas encountered, to handle scaling\n   sectioninfo.percent = 0; // times to scale by 100\n\n   for (chpos=0; chpos<format_string.length; chpos++) { // parse\n      ch = format_string.charAt(chpos); // get next char to examine\n      if (inquote) {\n         if (ch == '\"') {\n            inquote = 0;\n            thisformat.operators.push(scfn.commands.copy);\n            thisformat.operands.push(quotestr);\n            continue;\n            }\n         quotestr += ch;\n         continue;\n         }\n      if (inbracket) {\n         if (ch==']') {\n            inbracket = 0;\n            bracketdata=SocialCalc.FormatNumber.parse_format_bracket(bracketstr);\n            if (bracketdata.operator==scfn.commands.separator) {\n               sectioninfo.thousandssep = 1; // explicit [,]\n               continue;\n               }\n            if (bracketdata.operator==scfn.commands.date) {\n               sectioninfo.hasdate = 1;\n               }\n            if (bracketdata.operator==scfn.commands.comparison) {\n               thisformat.hascomparison = 1;\n               }\n            thisformat.operators.push(bracketdata.operator);\n            thisformat.operands.push(bracketdata.operand);\n            continue;\n            }\n         bracketstr += ch;\n         continue;\n         }\n      if (lastwasslash) {\n         thisformat.operators.push(scfn.commands.copy);\n         thisformat.operands.push(ch);\n         lastwasslash=false;\n         continue;\n         }\n      if (lastwasasterisk) {\n         thisformat.operators.push(scfn.commands.copy);\n         thisformat.operands.push(ch+ch+ch+ch+ch); // do 5 of them since no real tabs\n         lastwasasterisk=false;\n         continue;\n         }\n      if (lastwasunderscore) {\n         thisformat.operators.push(scfn.commands.copy);\n         thisformat.operands.push(\"&nbsp;\");\n         lastwasunderscore=false;\n         continue;\n         }\n      if (ingeneral) {\n         if (\"general\".charAt(ingeneral)==ch.toLowerCase()) {\n            ingeneral++;\n            if (ingeneral == 7) {\n               thisformat.operators.push(scfn.commands.general);\n               thisformat.operands.push(ch);\n               ingeneral=0;\n               }\n            continue;\n            }\n         ingeneral = 0;\n         }\n      if (indate) { // last char was part of a date placeholder\n         if (indate.charAt(0)==ch) { // another of the same char\n            indate += ch; // accumulate it\n            continue;\n            }\n         thisformat.operators.push(scfn.commands.date); // something else, save date info\n         thisformat.operands.push(indate);\n         sectioninfo.hasdate=1;\n         indate = \"\";\n         }\n      if (ampmstr) {\n         ampmstr += ch;\n         part=ampmstr.toLowerCase();\n         if (part!=\"am/pm\".substring(0,part.length) && part!=\"a/p\".substring(0,part.length)) {\n            ampstr=\"\";\n            }\n         else if (part==\"am/pm\" || part==\"a/p\") {\n            thisformat.operators.push(scfn.commands.date);\n            thisformat.operands.push(ampmstr);\n            ampmstr = \"\";\n            }\n         continue;\n         }\n      if (ch==\"#\" || ch==\"0\" || ch==\"?\") { // placeholder\n         if (integerpart) {\n            sectioninfo.integerdigits++;\n            if (sectioninfo.commas) { // comma inside of integer placeholders\n               sectioninfo.thousandssep = 1; // any number is thousands separator\n               sectioninfo.commas = 0; // reset count of \"thousand\" factors\n               }\n            lastwasinteger = 1;\n            thisformat.operators.push(scfn.commands.integer_placeholder);\n            thisformat.operands.push(ch);\n            }\n         else {\n            sectioninfo.fractiondigits++;\n            lastwasinteger = 1;\n            thisformat.operators.push(scfn.commands.fraction_placeholder);\n            thisformat.operands.push(ch);\n            }\n         }\n      else if (ch==\".\") { // decimal point\n         lastwasinteger = 0;\n         thisformat.operators.push(scfn.commands.decimal);\n         thisformat.operands.push(ch);\n         integerpart = 0;\n         }\n      else if (ch=='$') { // currency char\n         lastwasinteger = 0;\n         thisformat.operators.push(scfn.commands.currency);\n         thisformat.operands.push(ch);\n         }\n      else if (ch==\",\") {\n         if (lastwasinteger) {\n            sectioninfo.commas++;\n            }\n         else {\n            thisformat.operators.push(scfn.commands.copy);\n            thisformat.operands.push(ch);\n            }\n         }\n      else if (ch==\"%\") {\n         lastwasinteger = 0;\n         sectioninfo.percent++;\n         thisformat.operators.push(scfn.commands.copy);\n         thisformat.operands.push(ch);\n         }\n      else if (ch=='\"') {\n         lastwasinteger = 0;\n         inquote = 1;\n         quotestr = \"\";\n         }\n      else if (ch=='[') {\n         lastwasinteger = 0;\n         inbracket = 1;\n         bracketstr = \"\";\n         }\n      else if (ch=='\\\\') {\n         lastwasslash = 1;\n         lastwasinteger = 0;\n         }\n      else if (ch=='*') {\n         lastwasasterisk = 1;\n         lastwasinteger = 0;\n         }\n      else if (ch=='_') {\n         lastwasunderscore = 1;\n         lastwasinteger = 0;\n         }\n      else if (ch==\";\") {\n         section++; // start next section\n         thisformat.sectioninfo[section] = {}; // create a new section\n         sectioninfo = thisformat.sectioninfo[section]; // get reference to info for current section\n         sectioninfo.sectionstart = 1 + thisformat.operators.length; // remember where it starts\n         sectioninfo.integerdigits = 0; // number of integer-part placeholders\n         sectioninfo.fractiondigits = 0; // fraction placeholders\n         sectioninfo.commas = 0; // commas encountered, to handle scaling\n         sectioninfo.percent = 0; // times to scale by 100\n         integerpart = 1; // reset for new section\n         lastwasinteger = 0;\n         thisformat.operators.push(scfn.commands.section);\n         thisformat.operands.push(ch);\n         }\n      else if (ch.toLowerCase()==\"g\") {\n         ingeneral = 1;\n         lastwasinteger = 0;\n         }\n      else if (ch.toLowerCase()==\"a\") {\n         ampmstr = ch;\n         lastwasinteger = 0;\n         }\n      else if (\"dmyhHs\".indexOf(ch)>=0) {\n         indate = ch;\n         }\n      else {\n         lastwasinteger = 0;\n         thisformat.operators.push(scfn.commands.copy);\n         thisformat.operands.push(ch);\n         }\n      }\n\n   if (indate) { // last char was part of unsaved date placeholder\n      thisformat.operators.push(scfn.commands.date);\n      thisformat.operands.push(indate);\n      sectioninfo.hasdate = 1;\n      }\n\n   return;\n\n   }\n\n\n/* *******************\n\n bracketdata = SocialCalc.FormatNumber.parse_format_bracket(bracketstr)\n\n Takes a bracket contents (e.g., \"RED\", \">10\") and returns an operator and operand\n\n bracketdata->{}\n    .operator\n    .operand\n\n************************* */\n\nSocialCalc.FormatNumber.parse_format_bracket = function(bracketstr) {\n\n   var scfn = SocialCalc.FormatNumber;\n   var scc = SocialCalc.Constants;\n\n   var bracketdata={};\n   var parts;\n\n   if (bracketstr.charAt(0)=='$') { // currency\n      bracketdata.operator = scfn.commands.currency;\n      parts=bracketstr.match(/^\\$(.+?)(\\-.+?){0,1}$/);\n      if (parts) {\n         bracketdata.operand = parts[1] || scc.FormatNumber_defaultCurrency || '$';\n         }\n      else {\n         bracketdata.operand = bracketstr.substring(1) || scc.FormatNumber_defaultCurrency || '$';\n         }\n      }\n   else if (bracketstr=='?$') {\n      bracketdata.operator = scfn.commands.currency;\n      bracketdata.operand = '[?$]';\n      }\n   else if (scfn.allowedcolors[bracketstr.toUpperCase()]) {\n      bracketdata.operator = scfn.commands.color;\n      bracketdata.operand = scfn.allowedcolors[bracketstr.toUpperCase()];\n      }\n   else if (parts=bracketstr.match(/^style=([^\"]*)$/)) { // [style=...]\n      bracketdata.operator = scfn.commands.style;\n      bracketdata.operand = parts[1];\n      }\n   else if (bracketstr==\",\") {\n      bracketdata.operator = scfn.commands.separator;\n      bracketdata.operand = bracketstr;\n      }\n   else if (scfn.alloweddates[bracketstr.toUpperCase()]) {\n      bracketdata.operator = scfn.commands.date;\n      bracketdata.operand = scfn.alloweddates[bracketstr.toUpperCase()];\n      }\n   else if (parts=bracketstr.match(/^[<>=]/)) { // comparison operator\n      parts=bracketstr.match(/^([<>=]+)(.+)$/); // split operator and value\n      bracketdata.operator = scfn.commands.comparison;\n      bracketdata.operand = parts[1]+\":\"+parts[2];\n      }\n   else { // unknown bracket\n      bracketdata.operator = scfn.commands.copy;\n      bracketdata.operand = \"[\"+bracketstr+\"]\";\n      }\n\n   return bracketdata;\n\n   }\n\n/* *******************\n\n juliandate = SocialCalc.FormatNumber.convert_date_gregorian_to_julian(year, month, day)\n\n From: http://aa.usno.navy.mil/faq/docs/JD_Formula.html\n Uses: Fliegel, H. F. and van Flandern, T. C. (1968). Communications of the ACM, Vol. 11, No. 10 (October, 1968).\n Translated from the FORTRAN\n\n      I= YEAR\n      J= MONTH\n      K= DAY\nC\n      JD= K-32075+1461*(I+4800+(J-14)/12)/4+367*(J-2-(J-14)/12*12)\n     2    /12-3*((I+4900+(J-14)/12)/100)/4\n\n************************* */\n\nSocialCalc.FormatNumber.convert_date_gregorian_to_julian = function(year, month, day) {\n\n   var juliandate;\n\n   juliandate = day-32075+SocialCalc.intFunc(1461*(year+4800+SocialCalc.intFunc((month-14)/12))/4);\n   juliandate += SocialCalc.intFunc(367*(month-2-SocialCalc.intFunc((month-14)/12)*12)/12);\n   juliandate = juliandate - SocialCalc.intFunc(3*SocialCalc.intFunc((year+4900+SocialCalc.intFunc((month-14)/12))/100)/4);\n\n   return juliandate;\n\n   }\n\n\n/* *******************\n\n ymd = SocialCalc.FormatNumber.convert_date_julian_to_gregorian(juliandate)\n\n ymd->{}\n    .year\n    .month\n    .day\n\n From: http://aa.usno.navy.mil/faq/docs/JD_Formula.html\n Uses: Fliegel, H. F. and van Flandern, T. C. (1968). Communications of the ACM, Vol. 11, No. 10 (October, 1968).\n Translated from the FORTRAN\n\n************************* */\n\nSocialCalc.FormatNumber.convert_date_julian_to_gregorian = function(juliandate) {\n\n   var L, N, I, J, K;\n\n   L = juliandate+68569;\n   N = Math.floor(4*L/146097);\n   L = L-Math.floor((146097*N+3)/4);\n   I = Math.floor(4000*(L+1)/1461001);\n   L = L-Math.floor(1461*I/4)+31;\n   J = Math.floor(80*L/2447);\n   K = L-Math.floor(2447*J/80);\n   L = Math.floor(J/11);\n   J = J+2-12*L;\n   I = 100*(N-49)+I+L;\n\n   return {year:I, month:J, day:K};\n\n   }\n\nSocialCalc.intFunc = function(n) {\n   if (n < 0) {\n      return -Math.floor(-n);\n      }\n   else {\n      return Math.floor(n);\n      }\n   }\n\n\n//\n//\n/*\n// SocialCalc Spreadsheet Formula Library\n//\n// Part of the SocialCalc package\n//\n// (c) Copyright 2008 Socialtext, Inc.\n// All Rights Reserved.\n//\n// The contents of this file are subject to the Artistic License 2.0; you may not\n// use this file except in compliance with the License. You may obtain a copy of \n// the License at http://socialcalc.org/licenses/al-20/.\n//\n// Some of the other files in the SocialCalc package are licensed under\n// different licenses. Please note the licenses of the modules you use.\n//\n// Code History:\n//\n// Initially coded by Dan Bricklin of Software Garden, Inc., for Socialtext, Inc.\n// Based in part on the SocialCalc 1.1.0 code written in Perl.\n// The SocialCalc 1.1.0 code was:\n//    Portions (c) Copyright 2005, 2006, 2007 Software Garden, Inc.\n//    All Rights Reserved.\n//    Portions (c) Copyright 2007 Socialtext, Inc.\n//    All Rights Reserved.\n// The Perl SocialCalc started as modifications to the wikiCalc(R) program, version 1.0.\n// wikiCalc 1.0 was written by Software Garden, Inc.\n// Unless otherwise specified, referring to \"SocialCalc\" in comments refers to this\n// JavaScript version of the code, not the SocialCalc Perl code.\n//\n*/\n\n   var SocialCalc;\n   if (!SocialCalc) SocialCalc = {}; // May be used with other SocialCalc libraries or standalone\n                                     // In any case, requires SocialCalc.Constants.\n\nSocialCalc.Formula = {};\nSocialCalc.TriggerIoAction = {}; // eddy\n\n//\n// Formula constants for parsing:\n//\n\n   SocialCalc.Formula.ParseState = {num: 1, alpha: 2, coord: 3, string: 4, stringquote: 5, numexp1: 6, numexp2: 7, alphanumeric: 8, specialvalue:9};\n\n   SocialCalc.Formula.TokenType = {num: 1, coord: 2, op: 3, name: 4, error: 5, string: 6, space: 7};\n\n   SocialCalc.Formula.CharClass = {num: 1, numstart: 2, op: 3, eof: 4, alpha: 5, incoord: 6, error: 7, quote: 8, space: 9, specialstart: 10};\n \n   SocialCalc.Formula.CharClassTable = {\n      \" \": 9, \"!\": 3, '\"': 8, \"'\": 8, \"#\": 10, \"$\":6, \"%\":3, \"&\":3, \"(\": 3, \")\": 3, \"*\": 3, \"+\": 3, \",\": 3, \"-\": 3, \".\": 2, \"/\": 3,\n       \"0\": 1, \"1\": 1, \"2\": 1, \"3\": 1, \"4\": 1, \"5\": 1, \"6\": 1, \"7\": 1, \"8\": 1, \"9\": 1,\n       \":\": 3, \"<\": 3, \"=\": 3, \">\": 3,\n       \"A\": 5, \"B\": 5, \"C\": 5, \"D\": 5, \"E\": 5, \"F\": 5, \"G\": 5, \"H\": 5, \"I\": 5, \"J\": 5, \"K\": 5, \"L\": 5, \"M\": 5, \"N\": 5,\n       \"O\": 5, \"P\": 5, \"Q\": 5, \"R\": 5, \"S\": 5, \"T\": 5, \"U\": 5, \"V\": 5, \"W\": 5, \"X\": 5, \"Y\": 5, \"Z\": 5,\n       \"^\": 3, \"_\": 5,\n       \"a\": 5, \"b\": 5, \"c\": 5, \"d\": 5, \"e\": 5, \"f\": 5, \"g\": 5, \"h\": 5, \"i\": 5, \"j\": 5, \"k\": 5, \"l\": 5, \"m\": 5, \"n\": 5,\n       \"o\": 5, \"p\": 5, \"q\": 5, \"r\": 5, \"s\": 5, \"t\": 5, \"u\": 5, \"v\": 5, \"w\": 5, \"x\": 5, \"y\": 5, \"z\": 5\n       };\n\n   SocialCalc.Formula.UpperCaseTable = {\n       \"a\": \"A\", \"b\": \"B\", \"c\": \"C\", \"d\": \"D\", \"e\": \"E\", \"f\": \"F\", \"g\": \"G\", \"h\": \"H\", \"i\": \"I\", \"j\": \"J\", \"k\": \"K\", \"l\": \"L\", \"m\": \"M\",\n       \"n\": \"N\", \"o\": \"O\", \"p\": \"P\", \"q\": \"Q\", \"r\": \"R\", \"s\": \"S\", \"t\": \"T\", \"u\": \"U\", \"v\": \"V\", \"w\": \"W\", \"x\": \"X\", \"y\": \"Y\", \"z\": \"Z\",\n       \"A\": \"A\", \"B\": \"B\", \"C\": \"C\", \"D\": \"D\", \"E\": \"E\", \"F\": \"F\", \"G\": \"G\", \"H\": \"H\", \"I\": \"I\", \"J\": \"J\", \"K\": \"K\", \"L\": \"L\", \"M\": \"M\",\n       \"N\": \"N\", \"O\": \"O\", \"P\": \"P\", \"Q\": \"Q\", \"R\": \"R\", \"S\": \"S\", \"T\": \"T\", \"U\": \"U\", \"V\": \"V\", \"W\": \"W\", \"X\": \"X\", \"Y\": \"Y\", \"Z\": \"Z\"\n       }\n\n   SocialCalc.Formula.SpecialConstants = { // names that turn into constants for name lookup\n      \"#NULL!\": \"0,e#NULL!\", \"#NUM!\": \"0,e#NUM!\", \"#DIV/0!\": \"0,e#DIV/0!\", \"#VALUE!\": \"0,e#VALUE!\",\n      \"#REF!\": \"0,e#REF!\", \"#NAME?\": \"0,e#NAME?\"};\n\n\n   // Operator Precedence table\n   //\n   // 1- !, 2- : ,, 3- M P, 4- %, 5- ^, 6- * /, 7- + -, 8- &, 9- < > = G(>=) L(<=) N(<>),\n   // Negative value means Right Associative\n\n   SocialCalc.Formula.TokenPrecedence = {\n      \"!\": 1,\n      \":\": 2, \",\": 2,\n      \"M\": -3, \"P\": -3,\n      \"%\": 4,\n      \"^\": 5,\n      \"*\": 6, \"/\": 6,\n      \"+\": 7, \"-\": 7,\n      \"&\": 8,\n      \"<\": 9, \">\": 9, \"G\": 9, \"L\": 9, \"N\": 9\n      };\n\n   // Convert one-char token text to input text:\n\n   SocialCalc.Formula.TokenOpExpansion = {'G': '>=', 'L': '<=', 'M': '-', 'N': '<>', 'P': '+'};\n\n   //\n   // Information about the resulting value types when doing operations on values (used by LookupResultType)\n   //\n   // Each object entry is an object with specific types with result type info as follows:\n   //\n   //    'type1a': '|type2a:resulta|type2b:resultb|...\n   //    Type of t* or n* matches any of those types not listed\n   //    Results may be a type or the numbers 1 or 2 specifying to return type1 or type2\n   \n\n   SocialCalc.Formula.TypeLookupTable = {\n       unaryminus: { 'n*': '|n*:1|', 'e*': '|e*:1|', 't*': '|t*:e#VALUE!|', 'b': '|b:n|'},\n       unaryplus: { 'n*': '|n*:1|', 'e*': '|e*:1|', 't*': '|t*:e#VALUE!|', 'b': '|b:n|'},\n       unarypercent: { 'n*': '|n:n%|n*:n|', 'e*': '|e*:1|', 't*': '|t*:e#VALUE!|', 'b': '|b:n|'},\n       plus: {\n                'n%': '|n%:n%|nd:n|nt:n|ndt:n|n$:n|n:n|n*:n|b:n|e*:2|t*:e#VALUE!|',\n                'nd': '|n%:n|nd:nd|nt:ndt|ndt:ndt|n$:n|n:nd|n*:n|b:n|e*:2|t*:e#VALUE!|',\n                'nt': '|n%:n|nd:ndt|nt:nt|ndt:ndt|n$:n|n:nt|n*:n|b:n|e*:2|t*:e#VALUE!|',\n                'ndt': '|n%:n|nd:ndt|nt:ndt|ndt:ndt|n$:n|n:ndt|n*:n|b:n|e*:2|t*:e#VALUE!|',\n                'n$': '|n%:n|nd:n|nt:n|ndt:n|n$:n$|n:n$|n*:n|b:n|e*:2|t*:e#VALUE!|',\n                'nl': '|n%:n|nd:n|nt:n|ndt:n|n$:n|n:n|n*:n|b:n|e*:2|t*:e#VALUE!|',\n                'n': '|n%:n|nd:nd|nt:nt|ndt:ndt|n$:n$|n:n|n*:n|b:n|e*:2|t*:e#VALUE!|',\n                'b': '|n%:n%|nd:nd|nt:nt|ndt:ndt|n$:n$|n:n|n*:n|b:n|e*:2|t*:e#VALUE!|',\n                't*': '|ni:1|n*:e#VALUE!|t*:e#VALUE!|b:e#VALUE!|e*:2|',\n                'n*': '|ni:1|e*:2|',\n                'e*': '|e*:1|n*:1|t*:1|b:1|'\n               },\n       concat: {\n                't': '|t:t|th:th|tw:tw|tl:t|tr:tr|t*:2|e*:2|',\n                'th': '|t:th|th:th|tw:t|tl:th|tr:t|t*:t|e*:2|',\n                'tw': '|t:tw|th:t|tw:tw|tl:tw|tr:tw|t*:t|e*:2|',\n                'tl': '|t:tl|th:th|tw:tw|tl:tl|tr:tr|t*:t|e*:2|',\n                't*': '|t*:t|e*:2|',\n                'e*': '|e*:1|n*:1|t*:1|'\n               },\n       oneargnumeric: { 'n*': '|n*:n|', 'e*': '|e*:1|', 't*': '|t*:e#VALUE!|', 'b': '|b:n|'},\n       twoargnumeric: { 'n*': '|n*:n|t*:e#VALUE!|e*:2|', 'e*': '|e*:1|n*:1|t*:1|', 't*': '|t*:e#VALUE!|n*:e#VALUE!|e*:2|'},\n       propagateerror: { 'n*': '|n*:2|e*:2|', 'e*': '|e*:2|', 't*': '|t*:2|e*:2|', 'b': '|b:2|e*:2|'}\n      };\n\n/* *******************\n\n parseinfo = SocialCalc.Formula.ParseFormulaIntoTokens(line)\n\n Parses a text string as if it was a spreadsheet formula\n\n This uses a simple state machine run on each character in turn.\n States remember whether a number is being gathered, etc.\n The result is parseinfo which is an array with one entry for each token:\n   parseinfo[i] = {\n     text: \"the characters making up the parsed token\",\n     type: the type of the token (a number),\n     opcode: a single character version of an operator suitable for use in the\n                  precedence table and distinguishing between unary and binary + and -.\n\n************************* */\n\nSocialCalc.Formula.ParseFormulaIntoTokens = function(line) {\n\n   var i, ch, cclass, haddecimal, last_token, last_token_type, last_token_text, t;\n\n   var scf = SocialCalc.Formula;\n   var scc = SocialCalc.Constants;\n   var parsestate = scf.ParseState;\n   var tokentype = scf.TokenType;\n   var charclass = scf.CharClass;\n   var charclasstable = scf.CharClassTable;\n   var uppercasetable = scf.UpperCaseTable; // much faster than toUpperCase function\n   var pushtoken = scf.ParsePushToken;\n   var coordregex = /^\\$?[A-Z]{1,2}\\$?[1-9]\\d*$/i;\n\n   var parseinfo = [];\n   var str = \"\";\n   var state = 0;\n   var haddecimal = false;\n   var twochrop = \"\";\n   \n  for (i=0; i<=line.length; i++) {\n      if (i<line.length) {\n         ch = line.charAt(i);\n         cclass = charclasstable[ch];\n         }\n      else {\n         ch = \"\";\n         cclass = charclass.eof;\n         }\n\n      if (state == parsestate.num) {\n         if (cclass == charclass.num) {\n            str += ch;\n            }\n         else if (cclass == charclass.numstart && !haddecimal) {\n            haddecimal = true;\n            str += ch;\n            }\n         else if (ch == \"E\" || ch == \"e\") {\n            str += ch;\n            haddecimal = false;\n            state = parsestate.numexp1;\n            }\n         else { // end of number - save it\n            pushtoken(parseinfo, str, tokentype.num, 0);\n            haddecimal = false;\n            state = 0;\n            }\n         }\n\n      if (state == parsestate.numexp1) {\n         if (cclass == parsestate.num) {\n            state = parsestate.numexp2;\n            }\n         else if ((ch == '+' || ch == '-') && (uppercasetable[str.charAt(str.length-1)] == 'E')) {\n            str += ch;\n            }\n         else if (ch == 'E' || ch == 'e') {\n            ;\n            }\n         else {\n            pushtoken(parseinfo, scc.s_parseerrexponent, tokentype.error, 0);\n            state = 0;\n            }\n         }\n\n      if (state == parsestate.numexp2) {\n         if (cclass == charclass.num) {\n            str += ch;\n            }\n         else { // end of number - save it\n            pushtoken(parseinfo, str, tokentype.num, 0);\n            state = 0;\n            }\n         }\n\n      if (state == parsestate.alpha) {\n         if (cclass == charclass.num) {\n            state = parsestate.coord;\n            }\n         else if (cclass == charclass.alpha || ch == \".\") { // alpha may be letters, numbers, \"_\", or \".\"\n            str += ch;\n            }\n         else if (cclass == charclass.incoord) {\n            state = parsestate.coord;\n            }\n         else if (cclass == charclass.op || cclass == charclass.numstart\n                || cclass == charclass.space || cclass == charclass.eof) {\n            pushtoken(parseinfo, str.toUpperCase(), tokentype.name, 0);\n            state = 0;\n            }\n         else {\n            pushtoken(parseinfo, scc.s_parseerrchar, tokentype.error, 0);\n            state = 0;\n            }\n         }\n\n      if (state == parsestate.coord) {\n         if (cclass == charclass.num) {\n            str += ch;\n            }\n         else if (cclass == charclass.incoord) {\n            str += ch;\n            }\n         else if (cclass == charclass.alpha) {\n            state = parsestate.alphanumeric;\n            }\n         else if (cclass == charclass.op || cclass == charclass.numstart ||\n                  cclass == charclass.eof || cclass == charclass.space) {\n            if (coordregex.test(str)) {\n               t = tokentype.coord;\n               }\n            else {\n               t = tokentype.name;\n               }\n            pushtoken(parseinfo, str.toUpperCase(), t, 0);\n            state = 0;\n            }\n         else {\n            pushtoken(parseinfo, scc.s_parseerrchar, tokentype.error, 0);\n            state = 0;\n           }\n         }\n\n\n      if (state == parsestate.alphanumeric) {\n         if (cclass == charclass.num || cclass == charclass.alpha) {\n            str += ch;\n            }\n         else if (cclass == charclass.op || cclass == charclass.numstart\n                || cclass == charclass.space || cclass == charclass.eof) {\n            pushtoken(parseinfo, str.toUpperCase(), tokentype.name, 0);\n            state = 0;\n            }\n         else {\n            pushtoken(parseinfo, scc.s_parseerrchar, tokentype.error, 0);\n            state = 0;\n            }\n         }\n\n      if (state == parsestate.string) {\n         if (cclass == charclass.quote) {\n            state = parsestate.stringquote; // got quote in string: is it doubled (quote in string) or by itself (end of string)?\n            }\n         else if (cclass == charclass.eof) {\n            pushtoken(parseinfo, scc.s_parseerrstring, tokentype.error, 0);\n            state = 0;\n            }\n         else {\n            str += ch;\n            }\n         }\n      else if (state == parsestate.stringquote) { // note else if here\n         if (cclass == charclass.quote) {\n            str += ch;\n            state = parsestate.string; // double quote: add one then continue getting string\n            }\n         else { // something else -- end of string\n            pushtoken(parseinfo, str, tokentype.string, 0);\n            state = 0; // drop through to process\n            }\n         }\n\n      else if (state == parsestate.specialvalue) { // special values like #REF!\n         if (str.charAt(str.length-1) == \"!\") { // done - save value as a name\n            pushtoken(parseinfo, str, tokentype.name, 0);\n            state = 0; // drop through to process\n            }\n         else if (cclass == charclass.eof) {\n            pushtoken(parseinfo, scc.s_parseerrspecialvalue, tokentype.error, 0);\n            state = 0;\n            }\n         else {\n            str += ch;\n            }\n         }\n\n      if (state == 0) {\n         if (cclass == charclass.num) {\n            str = ch;\n            state = parsestate.num;\n            }\n         else if (cclass == charclass.numstart) {\n            str = ch;\n            haddecimal = true;\n            state = parsestate.num;\n            }\n         else if (cclass == charclass.alpha || cclass == charclass.incoord) {\n            str = ch;\n            state = parsestate.alpha;\n            }\n         else if (cclass == charclass.specialstart) {\n            str = ch;\n            state = parsestate.specialvalue;\n            }\n         else if (cclass == charclass.op) {\n            str = ch;\n            if (parseinfo.length>0) {\n               last_token = parseinfo[parseinfo.length-1];\n               last_token_type = last_token.type;\n               last_token_text = last_token.text;\n               if (last_token_type == charclass.op) {\n                  twochrop = last_token_text + str;\n                  if (twochrop == '<=' || twochrop == \">=\" || twochrop == \"<>\") {\n                     str = last_token_text + str;\n                     parseinfo.pop();\n                     if (parseinfo.length>0) {\n                        last_token = parseinfo[parseinfo.length-1];\n                        last_token_type = last_token.type;\n                        last_token_text = last_token.text;\n                        }\n                     else {\n                        last_token_type = charclass.eof;\n                        last_token_text = \"EOF\";\n                        }\n                     }\n                  }\n               }\n            else {\n               last_token_type = charclass.eof;\n               last_token_text = \"EOF\";\n               }\n            t = tokentype.op;\n            if ((parseinfo.length == 0)\n                || (last_token_type == charclass.op && last_token_text != ')' && last_token_text != '%')) { // Unary operator\n               if (str == '-') { // M is unary minus\n                  str = \"M\";\n                  ch = \"M\";\n                  }\n               else if (str == '+') { // P is unary plus\n                  str = \"P\";\n                  ch = \"P\";\n                  }\n               else if (str == ')' && last_token_text == '(') { // null arg list OK\n                  ;\n                  }\n               else if (str != '(') { // binary-op open-paren OK, others no\n                  t = tokentype.error;\n                  str = scc.s_parseerrtwoops;\n                  }\n               }\n            else if (str.length > 1) {\n               if (str == '>=') { // G is >=\n                  str = \"G\";\n                  ch = \"G\";\n                  }\n               else if (str == '<=') { // L is <=\n                  str = \"L\";\n                  ch = \"L\";\n                  }\n               else if (str == '<>') { // N is <>\n                  str = \"N\";\n                  ch = \"N\";\n                  }\n               else {\n                  t = tokentype.error;\n                  str = scc.s_parseerrtwoops;\n                  }\n               }\n            pushtoken(parseinfo, str, t, ch);\n            state = 0;\n            }\n         else if (cclass == charclass.quote) { // starting a string\n            str = \"\";\n            state = parsestate.string;\n            }\n         else if (cclass == charclass.space) { // store so can reconstruct spacing\n            //pushtoken(parseinfo, \" \", tokentype.space, 0);\n            }\n         else if (cclass == charclass.eof) { // ignore -- needed to have extra loop to close out other things\n            }\n         else { // unknown class - such as unknown char\n            pushtoken(parseinfo, scc.s_parseerrchar, tokentype.error, 0);\n            }\n         }\n      }\n\n   return parseinfo;\n\n   }\n\nSocialCalc.Formula.ParsePushToken = function(parseinfo, ttext, ttype, topcode) {\n\n   parseinfo.push({text: ttext, type: ttype, opcode: topcode});\n\n   }\n\n/* *******************\n\n result = SocialCalc.Formula.evaluate_parsed_formula(parseinfo, sheet, allowrangereturn)\n\n Does the calculation expressed in a parsed formula, returning a value, its type, and error info\n returns: {value: value, type: valuetype, error: errortext}.\n\n If allowrangereturn is present and true, can return a range (e.g., \"A1:A10\" - translated from \"A1|A10|\")\n\n************************* */\n\nSocialCalc.Formula.evaluate_parsed_formula = function(parseinfo, sheet, allowrangereturn) {\n\n   var result;\n\n   var scf = SocialCalc.Formula;\n   var tokentype = scf.TokenType;\n\n   var revpolish;\n   var parsestack = [];\n\n   var errortext = \"\";\n\n   revpolish = scf.ConvertInfixToPolish(parseinfo); // result is either an array or a string with error text\n\n   result = scf.EvaluatePolish(parseinfo, revpolish, sheet, allowrangereturn);\n\n   return result;\n\n}\n\n//\n// revpolish = SocialCalc.Formula.ConvertInfixToPolish(parseinfo)\n//\n// Convert infix to reverse polish notation\n//\n// Returns revpolish array with a sequence of references to tokens by number if successful.\n// Errors return a string with the error.\n//\n// Based upon the algorithm shown in Wikipedia \"Reverse Polish notation\" article\n// and then enhanced for additional spreadsheet things\n//\n\nSocialCalc.Formula.ConvertInfixToPolish = function(parseinfo) {\n\n   var scf = SocialCalc.Formula;\n   var scc = SocialCalc.Constants;\n   var tokentype = scf.TokenType;\n   var token_precedence = scf.TokenPrecedence;\n\n   var revpolish = [];\n   var parsestack = [];\n\n   var errortext = \"\";\n\n   var function_start = -1;\n\n   var i, pii, ttype, ttext, tprecedence, tstackprecedence;\n\n   for (i=0; i<parseinfo.length; i++) {\n      pii = parseinfo[i];\n      ttype = pii.type;\n      ttext = pii.text;\n      if (ttype == tokentype.num || ttype == tokentype.coord || ttype == tokentype.string) {\n         revpolish.push(i);\n         }\n      else if (ttype == tokentype.name) {\n         parsestack.push(i);\n         revpolish.push(function_start);\n         }\n      else if (ttype == tokentype.space) { // ignore\n         continue;\n         }\n      else if (ttext == ',') {\n         while (parsestack.length && parseinfo[parsestack[parsestack.length-1]].text != \"(\") {\n            revpolish.push(parsestack.pop());\n            }\n         if (parsestack.length == 0) { // no ( -- error\n            errortext = scc.s_parseerrmissingopenparen;\n            break;\n            }\n         }\n      else if (ttext == '(') {\n         parsestack.push(i);\n         }\n      else if (ttext == ')') {\n         while (parsestack.length && parseinfo[parsestack[parsestack.length-1]].text != \"(\") {\n            revpolish.push(parsestack.pop());\n            }\n         if (parsestack.length == 0) { // no ( -- error\n            errortext = scc.s_parseerrcloseparennoopen;\n            break;\n            }\n         parsestack.pop();\n         if (parsestack.length && parseinfo[parsestack[parsestack.length-1]].type == tokentype.name) {\n            revpolish.push(parsestack.pop());\n            }\n         }\n      else if (ttype == tokentype.op) {\n         if (parsestack.length && parseinfo[parsestack[parsestack.length-1]].type == tokentype.name) {\n            revpolish.push(parsestack.pop());\n            }\n         while (parsestack.length && parseinfo[parsestack[parsestack.length-1]].type == tokentype.op\n                && parseinfo[parsestack[parsestack.length-1]].text != '(') {\n            tprecedence = token_precedence[pii.opcode];\n            tstackprecedence = token_precedence[parseinfo[parsestack[parsestack.length-1]].opcode];\n            if (tprecedence >= 0 && tprecedence < tstackprecedence) {\n               break;\n               }\n            else if (tprecedence < 0) {\n               tprecedence = -tprecedence;\n               if (tstackprecedence < 0) tstackprecedence = -tstackprecedence;\n               if (tprecedence <= tstackprecedence) {\n                  break;\n                  }\n               }\n            revpolish.push(parsestack.pop());\n            }\n         parsestack.push(i);\n         }\n      else if (ttype == tokentype.error) {\n         errortext = ttext;\n         break;\n         }\n      else {\n         errortext = \"Internal error while processing parsed formula. \";\n         break;\n         }\n      }\n   while (parsestack.length>0) {\n      if (parseinfo[parsestack[parsestack.length-1]].text == '(') {\n         errortext = scc.s_parseerrmissingcloseparen;\n         break;\n         }\n      revpolish.push(parsestack.pop());\n      }\n\n   if (errortext) {\n      return errortext;\n      }\n\n   return revpolish;\n\n   }\n\n\n// DebugLog\n// display logged objects in the audit tab of the spreadsheet control\nif(typeof SocialCalc.debug_log === 'undefined') SocialCalc.debug_log = [];\n\nSocialCalc.DebugLog = function(logObject) {\t\n//\tSocialCalc.debug_log.push(logObject);\n}\n\n\n//\n// result = SocialCalc.Formula.EvaluatePolish(parseinfo, revpolish, sheet, allowrangereturn)\n//\n// Execute reverse polish representation of formula\n//\n// Operand values are objects in the operand array with a \"type\" and an optional \"value\".\n// Type can have these values (many are type and sub-type as two or more letters):\n//    \"tw\", \"th\", \"t\", \"n\", \"nt\", \"coord\", \"range\", \"start\", \"eErrorType\", \"b\" (blank)\n// The value of a coord is in the form A57 or A57!sheetname\n// The value of a range is coord|coord|number where number starts at 0 and is\n// the offset of the next item to fetch if you are going through the range one by one\n// The number starts as a null string (\"A1|B3|\")\n//\n\nSocialCalc.Formula.EvaluatePolish = function(parseinfo, revpolish, sheet, allowrangereturn) {\n\n   var scf = SocialCalc.Formula;\n   var scc = SocialCalc.Constants;\n   var tokentype = scf.TokenType;\n   var lookup_result_type = scf.LookupResultType;\n   var typelookup = scf.TypeLookupTable;\n   var operand_as_number = scf.OperandAsNumber;\n   var operand_as_text = scf.OperandAsText;\n   var operand_value_and_type = scf.OperandValueAndType;\n   var operands_as_coord_on_sheet = scf.OperandsAsCoordOnSheet;\n   var format_number_for_display = SocialCalc.format_number_for_display || function(v, t, f) {return v+\"\";};\n\n   var errortext = \"\";\n   var function_start = -1;\n   var missingOperandError = {value: \"\", type: \"e#VALUE!\", error: scc.s_parseerrmissingoperand};\n\n   var operand = [];\n   var PushOperand = function(t, v) {operand.push({type: t, value: v});};\n\n   var i, rii, prii, ttype, ttext, value1, value2, tostype, tostype2, resulttype, valuetype, cond, vmatch, smatch;\n\n   if (!parseinfo.length || (! (revpolish instanceof Array))) {\n      return ({value: \"\", type: \"e#VALUE!\", error: (typeof revpolish == \"string\" ? revpolish : \"\")});\n      }\n\n\t  \n\t  // eddy EvaluatePolish { \n    //    SocialCalc.DebugLog({ revpolish: revpolish});\n    //    SocialCalc.DebugLog({ revpolish: revpolish});\n\t  // }\n\n\t// eddy EvaluatePolish {\n\t\n\t// e.g parameterInfo: [ {'text':'E1','type':2,'opcode':0}, ... ] \n    var parameterInfo = [];\n    // }\t\n\t  \n\t  \n   for (i=0; i<revpolish.length; i++) {\n      rii = revpolish[i];\n      if (rii == function_start) { // Remember the start of a function argument list\n         PushOperand(\"start\", 0);\n         continue;\n         }\n\n      prii = parseinfo[rii];\n      ttype = prii.type;\n      ttext = prii.text;\n\t  // eddy EvaluatePolish {\n\t  parameterInfo.push(prii);\n\t  // }\n\t  \n      if (ttype == tokentype.num) {\n         PushOperand(\"n\", ttext-0);\n         }\n\n      else if (ttype == tokentype.coord) {\n         PushOperand(\"coord\", ttext);\n\t\t \n         }\n\n      else if (ttype == tokentype.string) {\n         PushOperand(\"t\", ttext);\n         }\n\n      else if (ttype == tokentype.op) {\n         if (operand.length <= 0) { // Nothing on the stack...\n            return missingOperandError;\n            break; // done\n            }\n\n         // Unary minus\n\n         if (ttext == 'M') {\n            value1 = operand_as_number(sheet, operand);\n            resulttype = lookup_result_type(value1.type, value1.type, typelookup.unaryminus);\n            PushOperand(resulttype, -value1.value);\n            }\n\n         // Unary plus\n\n         else if (ttext == 'P') {\n            value1 = operand_as_number(sheet, operand);\n            resulttype = lookup_result_type(value1.type, value1.type, typelookup.unaryplus);\n            PushOperand(resulttype, value1.value);\n            }\n\n         // Unary % - percent, left associative\n\n         else if (ttext == '%') {\n            value1 = operand_as_number(sheet, operand);\n            resulttype = lookup_result_type(value1.type, value1.type, typelookup.unarypercent);\n            PushOperand(resulttype, 0.01*value1.value);\n            }\n\n         // & - string concatenate\n\n         else if (ttext == '&') {\n            if (operand.length <= 1) { // Need at least two things on the stack...\n               return missingOperandError;\n               }\n            value2 = operand_as_text(sheet, operand);\n            value1 = operand_as_text(sheet, operand);\n            resulttype = lookup_result_type(value1.type, value1.type, typelookup.concat);\n            PushOperand(resulttype, value1.value + value2.value);\n            }\n\n         // : - Range constructor\n\n         else if (ttext == ':') {\n            if (operand.length <= 1) { // Need at least two things on the stack...\n               return missingOperandError;\n               }\n            value1 = scf.OperandsAsRangeOnSheet(sheet, operand); // get coords even if use name on other sheet\n            if (value1.error) { // not available\n               errortext = errortext || value1.error;\n               }\n            PushOperand(value1.type, value1.value); // push sheetname with range on that sheet\n            }\n\n         // ! - sheetname!coord\n\n         else if (ttext == '!') {\n            if (operand.length <= 1) { // Need at least two things on the stack...\n               return missingOperandError;\n               }\n            value1 = operands_as_coord_on_sheet(sheet, operand); // get coord even if name on other sheet\n            if (value1.error) { // not available\n               errortext = errortext || value1.error;\n               }\n            PushOperand(value1.type, value1.value); // push sheetname with coord or range on that sheet\n            }\n\n         // Comparison operators: < L = G > N (< <= = >= > <>)\n\n         else if (ttext == \"<\" || ttext == \"L\" || ttext == \"=\" || ttext == \"G\" || ttext == \">\" || ttext == \"N\") {\n            if (operand.length <= 1) { // Need at least two things on the stack...\n               errortext = scc.s_parseerrmissingoperand; // remember error\n               break;\n               }\n            value2 = operand_value_and_type(sheet, operand);\n            value1 = operand_value_and_type(sheet, operand);\n            if (value1.type.charAt(0) == \"n\" && value2.type.charAt(0) == \"n\") { // compare two numbers\n               cond = 0;\n               if (ttext == \"<\") { cond = value1.value < value2.value ? 1 : 0; }\n               else if (ttext == \"L\") { cond = value1.value <= value2.value ? 1 : 0; }\n               else if (ttext == \"=\") { cond = value1.value == value2.value ? 1 : 0; }\n               else if (ttext == \"G\") { cond = value1.value >= value2.value ? 1 : 0; }\n               else if (ttext == \">\") { cond = value1.value > value2.value ? 1 : 0; }\n               else if (ttext == \"N\") { cond = value1.value != value2.value ? 1 : 0; }\n               PushOperand(\"nl\", cond);\n               }\n            else if (value1.type.charAt(0) == \"e\") { // error on left\n               PushOperand(value1.type, 0);\n               }               \n            else if (value2.type.charAt(0) == \"e\") { // error on right\n               PushOperand(value2.type, 0);\n               }               \n            else { // text maybe mixed with numbers or blank\n               tostype = value1.type.charAt(0);\n               tostype2 = value2.type.charAt(0);\n               if (tostype == \"n\") {\n                  value1.value = format_number_for_display(value1.value, \"n\", \"\");\n                  }\n               else if (tostype == \"b\") {\n                  value1.value = \"\";\n                  }\n               if (tostype2 == \"n\") {\n                  value2.value = format_number_for_display(value2.value, \"n\", \"\");\n                  }\n               else if (tostype2 == \"b\") {\n                  value2.value = \"\";\n                  }\n               cond = 0;\n               value1.value = value1.value.toLowerCase(); // ignore case\n               value2.value = value2.value.toLowerCase();\n               if (ttext == \"<\") { cond = value1.value < value2.value ? 1 : 0; }\n               else if (ttext == \"L\") { cond = value1.value <= value2.value ? 1 : 0; }\n               else if (ttext == \"=\") { cond = value1.value == value2.value ? 1 : 0; }\n               else if (ttext == \"G\") { cond = value1.value >= value2.value ? 1 : 0; }\n               else if (ttext == \">\") { cond = value1.value > value2.value ? 1 : 0; }\n               else if (ttext == \"N\") { cond = value1.value != value2.value ? 1 : 0; }\n               PushOperand(\"nl\", cond);\n               }\n            }\n\n         // Normal infix arithmethic operators: +, -. *, /, ^\n\n         else { // what's left are the normal infix arithmetic operators\n            if (operand.length <= 1) { // Need at least two things on the stack...\n               errortext = scc.s_parseerrmissingoperand; // remember error\n               break;\n               }\n            if (ttext == '+') {\n               value2 = operand_value_and_type(sheet, operand);\n               value1 = operand_value_and_type(sheet, operand); // allow + to append style formula to widget\n               resulttype = lookup_result_type(value1.type, value2.type, typelookup.plus);\n               PushOperand(resulttype, value1.value + value2.value);\n               } \n            else {\n              value2 = operand_as_number(sheet, operand);\n              value1 = operand_as_number(sheet, operand);              \n              }\n              \n            if (ttext == '-') {\n               resulttype = lookup_result_type(value1.type, value2.type, typelookup.plus);\n               PushOperand(resulttype, value1.value - value2.value);\n               }\n            else if (ttext == '*') {\n               resulttype = lookup_result_type(value1.type, value2.type, typelookup.plus);\n               PushOperand(resulttype, value1.value * value2.value);\n               }\n            else if (ttext == '/') {\n               if (value2.value != 0) {\n                  PushOperand(\"n\", value1.value / value2.value); // gives plain numeric result type\n                  }\n               else {\n                  PushOperand(\"e#DIV/0!\", 0);\n                  }\n               }\n            else if (ttext == '^') {\n               value1.value = Math.pow(value1.value, value2.value);\n               value1.type = \"n\"; // gives plain numeric result type\n               if (isNaN(value1.value)) {\n                  value1.value = 0;\n                  value1.type = \"e#NUM!\";\n                  }\n               PushOperand(value1.type, value1.value);\n               }\n            }\n         }\n\n      // function or name\n\n      else if (ttype == tokentype.name) {\n\t  \n//         errortext = scf.CalculateFunction(ttext, operand, sheet);\n         errortext = scf.CalculateFunction(ttext, operand, sheet, parseinfo.coord); // eddy also pass the cell id\n\t\t \n         if (errortext) break;\n\t\t \n\t\t \n         }\n\n\t\t \n      else {\n         errortext = scc.s_InternalError+\"Unknown token \"+ttype+\" (\"+ttext+\"). \";\n         break;\n         }\n      }\n\n   // look at final value and handle special cases\n\n   value = operand[0] ? operand[0].value : \"\";\n   tostype = operand[0] ? operand[0].type : \"\";\n\n   if (tostype == \"name\") { // name - expand it\n      value1 = SocialCalc.Formula.LookupName(sheet, value);\n      value = value1.value;\n      tostype = value1.type;\n      errortext = errortext || value1.error;\n      }\n\n   if (tostype == \"coord\") { // the value is a coord reference, get its value and type\n      value1 = operand_value_and_type(sheet, operand);\n      value = value1.value;\n      tostype = value1.type;\n      if (tostype == \"b\") {\n         tostype = \"n\";\n         value = 0;\n         }\n      }\n\n   if (operand.length > 1 && !errortext) { // something left - error\n      errortext += scc.s_parseerrerrorinformula;\n      }\n\n   // set return type\n\n   valuetype = tostype;\n\n   if (tostype.charAt(0) == \"e\") { // error value\n      errortext = errortext || tostype.substring(1) || scc.s_calcerrerrorvalueinformula;\n      }\n   else if (tostype == \"range\") {\n      vmatch = value.match(/^(.*)\\|(.*)\\|/);\n      smatch = vmatch[1].indexOf(\"!\");\n      if (smatch>=0) { // swap sheetname\n         vmatch[1] = vmatch[1].substring(smatch+1) + \"!\" + vmatch[1].substring(0, smatch).toUpperCase();\n         }\n      else {\n         vmatch[1] = vmatch[1].toUpperCase();\n         }\n      value = vmatch[1] + \":\" + vmatch[2].toUpperCase();\n      if (!allowrangereturn) {\n         errortext = scc.s_formularangeresult+\" \"+value;\n         }\n      }\n\n   if (errortext && valuetype.charAt(0) != \"e\") {\n      value = errortext;\n      valuetype = \"e\";\n     }\n\n   // look for overflow\n\n   if (valuetype.charAt(0) == \"n\" && (isNaN(value) || !isFinite(value))) {\n      value = 0;\n      valuetype = \"e#NUM!\";\n      errortext = isNaN(value) ? scc.s_calcerrnumericnan: scc.s_calcerrnumericoverflow;\n      }\n\n   return ({value: value, type: valuetype, error: errortext});\n\n   }\n\n\n/*\n#\n# resulttype = SocialCalc.Formula.LookupResultType(type1, type2, typelookup);\n#\n# typelookup has values of the following form:\n#\n#    typelookup{\"typespec1\"} = \"|typespec2A:resultA|typespec2B:resultB|...\"\n#\n# First type1 is looked up. If no match, then the first letter (major type) of type1 plus \"*\" is looked up\n# resulttype is type1 if result is \"1\", type2 if result is \"2\", otherwise the value of result.\n#\n*/\n\nSocialCalc.Formula.LookupResultType = function(type1, type2, typelookup) {\n\n   var pos1, pos2, result;\n\n   var table1 = typelookup[type1];\n\n   if (!table1) {\n      table1 = typelookup[type1.charAt(0)+'*'];\n      if (!table1) {\n         return \"e#VALUE! (internal error, missing LookupResultType \"+type1.charAt(0)+\"*)\"; // missing from table -- please add it\n         }\n      }\n   pos1 = table1.indexOf(\"|\"+type2+\":\");\n   if (pos1 >= 0) {\n      pos2 = table1.indexOf(\"|\", pos1+1);\n      if (pos2<0) return \"e#VALUE! (internal error, incorrect LookupResultType \"+table1+\")\";\n      result = table1.substring(pos1+type2.length+2, pos2);\n      if (result == \"1\") return type1;\n      if (result == \"2\") return type2;\n      return result;\n      }\n   pos1 = table1.indexOf(\"|\"+type2.charAt(0)+\"*:\");\n   if (pos1 >= 0) {\n      pos2 = table1.indexOf(\"|\", pos1+1);\n      if (pos2<0) return \"e#VALUE! (internal error, incorrect LookupResultType \"+table1+\")\";\n      result = table1.substring(pos1+4, pos2);\n      if (result == \"1\") return type1;\n      if (result == \"2\") return type2;\n      return result;\n      }\n   return \"e#VALUE!\";\n\n   }\n\n/*\n#\n# operandinfo = SocialCalc.Formula.TopOfStackValueAndType(sheet, operand)\n#\n# Returns top of stack value and type and then pops the stack.\n# The result is {value: value, type: type, error: \"only if bad error\"}\n#\n*/\n\nSocialCalc.Formula.TopOfStackValueAndType = function(sheet, operand) {\n\n   var cellvtype, cell, pos, coordsheet;\n   var scf = SocialCalc.Formula;\n\n   var result = {type: \"\", value: \"\"};\n\n   var stacklen = operand.length;\n\n   if (!stacklen) { // make sure something is there\n      result.error = SocialCalc.Constants.s_InternalError+\"no operand on stack\";\n      return result;\n      }\n\n   result.value = operand[stacklen-1].value; // get top of stack\n   result.type = operand[stacklen-1].type;\n   operand.pop(); // we have data - pop stack\n\n   if (result.type == \"name\") {\n      result = scf.LookupName(sheet, result.value);\n      }\n\n   return result;\n\n   }\n\n\n/*\n#\n# operandinfo = OperandAsNumber(sheet, operand)\n#\n# Uses operand_value_and_type to get top of stack and pops it.\n# Returns numeric value and type.\n# Text values are treated as 0 if they can't be converted somehow.\n#\n*/\n\nSocialCalc.Formula.OperandAsNumber = function(sheet, operand) {\n\n   var t, valueinfo;\n   var operandinfo = SocialCalc.Formula.OperandValueAndType(sheet, operand);\n\n   t = operandinfo.type.charAt(0);\n\n   if (t == \"n\") {\n      operandinfo.value = operandinfo.value-0;\n      }\n   else if (t == \"b\") { // blank cell\n      operandinfo.type = \"n\";\n      operandinfo.value = 0;\n      }\n   else if (t == \"e\") { // error\n      operandinfo.value = 0;\n      }\n   else {\n      valueinfo = SocialCalc.DetermineValueType ? SocialCalc.DetermineValueType(operandinfo.value) :\n                                                    {value: operandinfo.value-0, type: \"n\"}; // if without rest of SocialCalc\n      if (valueinfo.type.charAt(0) == \"n\") {\n         operandinfo.value = valueinfo.value-0;\n         operandinfo.type = valueinfo.type;\n         }\n      else {\n         operandinfo.value = 0;\n         operandinfo.type = valueinfo.type;\n         }\n      }\n\n   return operandinfo;\n\n   }\n\n/*\n#\n# operandinfo = OperandAsText(sheet, operand)\n#\n# Uses operand_value_and_type to get top of stack and pops it.\n# Returns text value, preserving sub-type.\n#\n*/\n\nSocialCalc.Formula.OperandAsText = function(sheet, operand) {\n\n   var t, valueinfo;\n   var operandinfo = SocialCalc.Formula.OperandValueAndType(sheet, operand);\n\n   t = operandinfo.type.charAt(0);\n\n   if (t ==  \"t\") { // any flavor of text returns as is\n      ;\n      }\n   else if (t == \"n\") {\n      operandinfo.value = SocialCalc.format_number_for_display ?\n                             SocialCalc.format_number_for_display(operandinfo.value, operandinfo.type, \"\") :\n                             operandinfo.value = operandinfo.value+\"\";\n      operandinfo.type = \"t\";\n      }\n   else if (t == \"b\") { // blank\n      operandinfo.value = \"\";\n      operandinfo.type = \"t\";\n      }\n   else if (t == \"e\") { // error\n      operandinfo.value = \"\";\n      }\n   else {\n      operand.value = operandinfo.value + \"\";\n      operand.type = \"t\";\n      }\n\n   return operandinfo;\n\n   }\n\n/*\n#\n# result = SocialCalc.Formula.OperandValueAndType(sheet, operand)\n#\n# Pops the top of stack and returns it, following a coord reference if necessary.\n# The result is {value: value, type: type, error: \"only if bad error\"}\n# Ranges are returned as if they were pushed onto the stack first coord first\n# Also sets type with \"t\", \"n\", \"th\", etc., as appropriate\n#\n*/\n\nSocialCalc.Formula.OperandValueAndType = function(sheet, operand) {\n\n   var cellvtype, cell, pos, coordsheet;\n   var scf = SocialCalc.Formula;\n\n   var result = {type: \"\", value: \"\"};\n\n   var stacklen = operand.length;\n\n   if (!stacklen) { // make sure something is there\n      result.error = SocialCalc.Constants.s_InternalError+\"no operand on stack\";\n      return result;\n      }\n\n   result.value = operand[stacklen-1].value; // get top of stack\n   result.type = operand[stacklen-1].type;\n   operand.pop(); // we have data - pop stack\n\n   if (result.type == \"name\") {\n      result = scf.LookupName(sheet, result.value);\n      }\n\n   if (result.type == \"range\") {\n      result = scf.StepThroughRangeDown(operand, result.value);\n      }\n\n   if (result.type == \"coord\") { // value is a coord reference\n      coordsheet = sheet;\n      pos = result.value.indexOf(\"!\");\n      if (pos != -1) { // sheet reference\n         coordsheet = scf.FindInSheetCache(result.value.substring(pos+1)); // get other sheet\n         if (coordsheet == null) { // unavailable\n            result.type = \"e#REF!\";\n            result.error = SocialCalc.Constants.s_sheetunavailable+\" \"+result.value.substring(pos+1);\n            result.value = 0;\n            return result;\n            }\n         result.value = result.value.substring(0, pos); // get coord part\n         }\n\n      if (coordsheet) {\n         cell = coordsheet.cells[SocialCalc.Formula.PlainCoord(result.value)];\n         if (cell) {\n            cellvtype = cell.valuetype; // get type of value in the cell it points to\n            result.value = cell.datavalue;\n            }\n         else {\n            cellvtype = \"b\";\n            }\n         }\n      else {\n         cellvtype = \"e#N/A\";\n         result.value = 0;\n         }\n      result.type = cellvtype || \"b\";\n      if (result.type == \"b\") { // blank\n         result.value = 0;\n         }\n      }\n\n   return result;\n\n   }\n\n/*\n#\n# operandinfo = SocialCalc.Formula.OperandAsCoord(sheet, operand)\n#\n# Gets top of stack and pops it.\n# Returns coord value. All others are treated as an error.\n#\n*/\n\n\nSocialCalc.Formula.OperandAsCoord = function(sheet, operand) {\n\treturn SocialCalc.Formula.OperandAsType(sheet, operand, \"coord\");\n}\n\n\n/*\n#\n# operandinfo = SocialCalc.Formula.OperandAsRange(sheet, operand)\n#\n# Gets top of stack and pops it.\n# Returns coord value. All others are treated as an error.\n#\n*/\n\nSocialCalc.Formula.OperandAsRange = function(sheet, operand) {\n\treturn SocialCalc.Formula.OperandAsType(sheet, operand, \"range\");\n}\n\n/*\n#\n# operandinfo = SocialCalc.Formula.OperandAsType(sheet, operand, operandtype)\n#\n# Gets top of stack and pops it.\n# Returns operandtype value. All others are treated as an error.\n#\n*/\nSocialCalc.Formula.OperandAsType = function(sheet, operand, operandtype) {\n\n   var scf = SocialCalc.Formula;\n\n   var result = {type: \"\", value: \"\"};\n\n   var stacklen = operand.length;\n\n   result.value = operand[stacklen-1].value; // get top of stack\n   result.type = operand[stacklen-1].type;\n   operand.pop(); // we have data - pop stack\n   if (result.type == \"name\") {\n      result = SocialCalc.Formula.LookupName(sheet, result.value);\n      }\n   if (result.type == operandtype) { // value is a coord reference\n      return result;\n      }\n   else {\n      result.value = SocialCalc.Constants.s_calcerrcellrefmissing;\n      result.type = \"e#REF!\";\n      return result;\n      }\n}\n\n\n/*\n#\n# result = SocialCalc.Formula.OperandsAsCoordOnSheet(sheet, operand)\n#\n# Gets 2 at top of stack and pops them, treating them as sheetname!coord-or-name.\n# Returns stack-style coord value (coord!sheetname, or coord!sheetname|coord|) with\n# a type of coord or range. All others are treated as an error.\n# If sheetname not available, sets result.error.\n#\n*/\n\nSocialCalc.Formula.OperandsAsCoordOnSheet = function(sheet, operand) {\n\n   var sheetname, othersheet, pos1, pos2;\n   var value1 = {};\n   var result = {};\n   var scf = SocialCalc.Formula;\n\n   var stacklen = operand.length;\n   value1.value = operand[stacklen-1].value; // get top of stack - coord or name\n   value1.type = operand[stacklen-1].type;\n   operand.pop(); // we have data - pop stack\n\n   sheetname = scf.OperandAsSheetName(sheet, operand); // get sheetname as text\n   othersheet = scf.FindInSheetCache(sheetname.value);\n   if (othersheet == null) { // unavailable\n      result.type = \"e#REF!\";\n      result.value = 0;\n      result.error = SocialCalc.Constants.s_sheetunavailable+\" \"+sheetname.value;\n      return result;\n      }\n\n   if (value1.type == \"name\") {\n      value1 = scf.LookupName(othersheet, value1.value);\n      }\n   result.type = value1.type;\n   if (value1.type == \"coord\") { // value is a coord reference\n      result.value = value1.value + \"!\" + sheetname.value; // return in the format as used on stack\n      }\n   else if (value1.type == \"range\") { // value is a range reference\n      pos1 = value1.value.indexOf(\"|\");\n      pos2 = value1.value.indexOf(\"|\", pos1+1);\n      result.value = value1.value.substring(0, pos1) + \"!\" + sheetname.value +\n                    \"|\" + value1.value.substring(pos1+1, pos2) + \"|\";\n      }\n   else if (value1.type.charAt(0)==\"e\") {\n      result.value = value1.value;\n      }\n   else {\n      result.error = SocialCalc.Constants.s_calcerrcellrefmissing;\n      result.type = \"e#REF!\";\n      result.value = 0;\n      }\n   return result;\n   \n   }\n\n/*\n#\n# result = SocialCalc.Formula.OperandsAsRangeOnSheet(sheet, operand)\n#\n# Gets 2 at top of stack and pops them, treating them as coord2-or-name:coord1.\n# Name is evaluated on sheet of coord1.\n# Returns result with \"value\" of stack-style range value (coord!sheetname|coord|) and\n# \"type\" of \"range\". All others are treated as an error.\n#\n*/\n\nSocialCalc.Formula.OperandsAsRangeOnSheet = function(sheet, operand) {\n\n   var value1, othersheet, pos1, pos2;\n   var value2 = {};\n   var scf = SocialCalc.Formula;\n   var scc = SocialCalc.Constants;\n\n   var stacklen = operand.length;\n   value2.value = operand[stacklen-1].value; // get top of stack - coord or name for \"right\" side\n   value2.type = operand[stacklen-1].type;\n   operand.pop(); // we have data - pop stack\n\n   value1 = scf.OperandAsCoord(sheet, operand); // get \"left\" coord\n   if (value1.type != \"coord\") { // not a coord, which it must be\n      return {value: 0, type: \"e#REF!\"};\n      }\n\n   othersheet = sheet;\n   pos1 = value1.value.indexOf(\"!\");\n   if (pos1 != -1) { // sheet reference\n      pos2 = value1.value.indexOf(\"|\", pos1+1);\n      if (pos2 < 0) pos2 = value1.value.length;\n      othersheet = scf.FindInSheetCache(value1.value.substring(pos1+1,pos2)); // get other sheet\n      if (othersheet == null) { // unavailable\n         return {value: 0, type: \"e#REF!\", errortext: scc.s_sheetunavailable+\" \"+value1.value.substring(pos1+1,pos2)};\n         }\n      }\n\n   if (value2.type == \"name\") { // coord:name is allowed, if name is just one cell\n      value2 = scf.LookupName(othersheet, value2.value, \"end\");\n      }\n\n   if (value2.type == \"coord\") { // value is a coord reference, so return the combined range\n      return {value: value1.value+\"|\"+value2.value+\"|\", type: \"range\"}; // return range in the format as used on stack\n      }\n   else { // bad form\n      return {value: scc.s_calcerrcellrefmissing, type: \"e#REF!\"};\n      }\n   }\n\n\n/*\n#\n# result = SocialCalc.Formula.OperandAsSheetName(sheet, operand)\n#\n# Gets top of stack and pops it.\n# Returns sheetname value. All others are treated as an error.\n# Accepts text, cell reference, and named value which is one of those two.\n#\n*/\n\nSocialCalc.Formula.OperandAsSheetName = function(sheet, operand) {\n\n   var nvalue, cell;\n\n   var scf = SocialCalc.Formula;\n\n   var result = {type: \"\", value: \"\"};\n\n   var stacklen = operand.length;\n\n   result.value = operand[stacklen-1].value; // get top of stack\n   result.type = operand[stacklen-1].type;\n   operand.pop(); // we have data - pop stack\n   if (result.type == \"name\") {\n      nvalue = SocialCalc.Formula.LookupName(sheet, result.value);\n      if (!nvalue.value) { // not a known name - return bare name as the name value\n         return result;\n         }\n      result.value = nvalue.value;\n      result.type = nvalue.type;\n      }\n   if (result.type == \"coord\") { // value is a coord reference, follow it to find sheet name\n      cell = sheet.cells[SocialCalc.Formula.PlainCoord(result.value)];\n      if (cell) {\n         result.value = cell.datavalue;\n         result.type = cell.valuetype;\n         }\n      else {\n         result.value = \"\";\n         result.type = \"b\";\n         }\n      }\n   if (result.type.charAt(0) == \"t\") { // value is a string which could be a sheet name\n      return result;\n      }\n   else {\n      result.value = \"\";\n      result.error = SocialCalc.Constants.s_calcerrsheetnamemissing;\n      return result;\n      }\n\n   }\n\n//\n// value = SocialCalc.Formula.LookupName(sheet, name)\n//\n// Returns value and type of a named value\n// Names are case insensitive\n// Names may have a definition which is a coord (A1), a range (A1:B7), or a formula (=OFFSET(A1,0,0,5,1))\n// Note: The range must not have sheet names (\"!\") in them.\n//\n\nSocialCalc.Formula.LookupName = function(sheet, name, isEnd) {\n\n   var pos, specialc, parseinfo;\n   var names = sheet.names;\n   var value = {};\n   var startedwalk = false;\n\n   if (names[name.toUpperCase()]) { // is name defined?\n\n      value.value = names[name.toUpperCase()].definition; // yes\n\n      if (value.value.charAt(0) == \"=\") { // formula\n         if (!sheet.checknamecirc) { // are we possibly walking the name tree?\n            sheet.checknamecirc = {}; // not yet\n            startedwalk = true; // remember we are the reference that started it\n            }\n         else {\n            if (sheet.checknamecirc[name]) { // circular reference\n               value.type = \"e#NAME?\";\n               value.error = SocialCalc.Constants.s_circularnameref+' \"' + name + '\".';\n               return value;\n               }\n            }\n         sheet.checknamecirc[name] = true;\n\n         parseinfo = SocialCalc.Formula.ParseFormulaIntoTokens(value.value.substring(1));\n         value = SocialCalc.Formula.evaluate_parsed_formula(parseinfo, sheet, 1); // parse formula, allowing range return\n\n         delete sheet.checknamecirc[name]; // done with us\n         if (startedwalk) {\n            delete sheet.checknamecirc; // done with walk\n            }\n\n         if (value.type != \"range\") {\n            return value;\n            }\n         }\n\n      pos = value.value.indexOf(\":\");\n      if (pos != -1) { // range\n         value.type = \"range\";\n         value.value = value.value.substring(0, pos) + \"|\" + value.value.substring(pos+1)+\"|\";\n         value.value = value.value.toUpperCase();\n         }\n      else {\n         value.type = \"coord\";\n         value.value = value.value.toUpperCase();\n         }\n      return value;\n      }\n   else if (specialc=SocialCalc.Formula.SpecialConstants[name.toUpperCase()]) { // special constant, like #REF!\n      pos = specialc.indexOf(\",\");\n      value.value = specialc.substring(0,pos)-0;\n      value.type = specialc.substring(pos+1);\n      return value;\n      }\n   else if (/^[a-zA-Z][a-zA-Z]?$/.test(name)) {\n      value.type = \"coord\";\n      value.value = name.toUpperCase() + (isEnd ? sheet.attribs.lastrow : 1);\n      return value;\n   }\n   else {\n      value.value = \"\";\n      value.type = \"e#NAME?\";\n      value.error = SocialCalc.Constants.s_calcerrunknownname+' \"'+name+'\"';\n      return value;\n      }\n   }\n\n/*\n#\n# coord = SocialCalc.Formula.StepThroughRangeDown(operand, rangevalue)\n#\n# Returns next coord in a range, keeping track on the operand stack\n# Goes from upper left across and down to bottom right.\n#\n*/\n\nSocialCalc.Formula.StepThroughRangeDown = function(operand, rangevalue) {\n\n   var value1, value2, sequence, pos1, pos2, sheet1, rp, c, r, count;\n   var scf = SocialCalc.Formula;\n\n   pos1 = rangevalue.indexOf(\"|\");\n   pos2 = rangevalue.indexOf(\"|\", pos1+1);\n   value1 = rangevalue.substring(0, pos1);\n   value2 = rangevalue.substring(pos1+1, pos2);\n   sequence = rangevalue.substring(pos2+1) - 0;\n\n   pos1 = value1.indexOf(\"!\");\n   if (pos1 != -1) {\n      sheet1 = value1.substring(pos1);\n      value1 = value1.substring(0, pos1);\n      }\n   else {\n      sheet1 = \"\";\n      }\n   pos1 = value2.indexOf(\"!\");\n   if (pos1 != -1) {\n      value2 = value2.substring(0, pos1);\n      }\n\n   rp = scf.OrderRangeParts(value1, value2);\n   \n   count = 0;\n   for (r=rp.r1; r<=rp.r2; r++) {\n      for (c=rp.c1; c<=rp.c2; c++) {\n         count++;\n         if (count > sequence) {\n            if (r!=rp.r2 || c!=rp.c2) { // keep on stack until done\n               scf.PushOperand(operand, \"range\", value1+sheet1+\"|\"+value2+\"|\"+count);\n               }\n            return {value: SocialCalc.crToCoord(c, r)+sheet1, type: \"coord\"};\n            }\n         }\n      }\n   }\n\n/*\n#\n# result = SocialCalc.Formula.DecodeRangeParts(sheetdata, range)\n#\n# Returns sheetdata for the sheet where the range is, as well as\n# the number of the first column in the range, the number of columns,\n# and equivalent row information:\n#\n# {sheetdata: sheet, sheetname: name-or-\"\", col1num: n, ncols: n, row1num: n, nrows: n}\n#\n# If any errors, a null result is returned.\n#\n*/\n\nSocialCalc.Formula.DecodeRangeParts = function(sheetdata, range) {\n\n   var value1, value2, pos1, pos2, sheet1, coordsheetdata, rp;\n\n   var scf = SocialCalc.Formula;\n\n   pos1 = range.indexOf(\"|\");\n   pos2 = range.indexOf(\"|\", pos1+1);\n   value1 = range.substring(0, pos1);\n   value2 = range.substring(pos1+1, pos2);\n\n   pos1 = value1.indexOf(\"!\");\n   if (pos1 != -1) {\n      sheet1 = value1.substring(pos1+1);\n      value1 = value1.substring(0, pos1);\n      }\n   else {\n      sheet1 = \"\";\n      }\n   pos1 = value2.indexOf(\"!\");\n   if (pos1 != -1) {\n      value2 = value2.substring(0, pos1);\n      }\n\n   coordsheetdata = sheetdata;\n   if (sheet1) { // sheet reference\n      coordsheetdata = scf.FindInSheetCache(sheet1);\n      if (coordsheetdata == null) { // unavailable\n         return null;\n         }\n      }\n\n   rp = scf.OrderRangeParts(value1, value2);\n\n   return {sheetdata: coordsheetdata, sheetname: sheet1, col1num: rp.c1, ncols: rp.c2-rp.c1+1, row1num: rp.r1, nrows: rp.r2-rp.r1+1}\n\n   }\n\n\n\n//*********************\n//\n// Function Handling\n//\n//*********************\n\n// List of functions -- Define after functions are defined\n//\n// SocialCalc.Formula.FunctionList[\"function_name\"] = [function_subroutine, number_of_arguments, arg_def, func_def, func_class, cell_html, io_parameters]\n//   function_subroutine takes arguments (fname, operand, foperand, sheet), returns\n//      errortext or null, pushing result on operand stack.\n//   number_of_arguments is:\n//      0 = no arguments\n//      >0 = exactly that many arguments\n//      <0 = that many arguments (abs value) or more\n//      100 = don't check\n//\n//   arg_def, if present, is the name of the element in SocialCalc.Formula.FunctionArgDefs.\n//   func_def, if present, is a string explaining the function. If not, looked up in SocialCalc.Constants.\n//   func_class, if present, is the comma-separated names of the elements in SocialCalc.Formula.FunctionClasses.\n//   cell_html, if present, is the HTML to display in the cell. will find and replace these <%=cell_reference%>, <%=displayvalue%> see SocialCalc.FormatValueForDisplay\n//   io_parameters, if present, \n//        \"ParameterList\" is used with =CopyValue() etc, used to collect parameters of the formula, for use trigger/action formulas, \n//        \"EventTree\" is used with =Button() etc, used to store trigger cell lookup table\n//        \"Input\" store copy of value in formdata sheet -- for input style GUI widgets - textbox/radio buttons etc - \n//        \"TimeTrigger\" like button, but triggers an action at a time,  rather than on click\n//\n// To add a function, just add it to this object.\n\n   if (!SocialCalc.Formula.FunctionList) { // make sure it is defined (could have been in another module)\n      SocialCalc.Formula.FunctionList = {};\n      }\n\n   // FunctionClasses[classname] = {name: full-name-string, items: [sorted list of function names]};\n   // filled in by SocialCalc.Formula.FillFunctionInfo\n\n   SocialCalc.Formula.FunctionClasses = null; // start null to say needs filling in\n\n   // FunctionArgDef[argname] = explicit-string-for-arg-list;\n   // filled in by SocialCalc.Formula.FillFunctionInfo\n\n   SocialCalc.Formula.FunctionArgDefs = {};\n\n\n   \n\n/*\n#\n# SocialCalc.Formula.StoreIoEventFormula(function_name, coord, operand_reverse, sheet, io_parameters)\n# \n# store forumla parameters of io event formulas\n#\n# enable lookup of ioForumalas when a trigger formula is activated \n# store formula details in sheet.ioEventTree  and sheet.ioParameterList \n#\n*/\n// eddy StoreIoEventFormula\nSocialCalc.Formula.StoreIoEventFormula = function(function_name, coord, operand_reverse, sheet, io_parameters) {\n\tvar operand = [];\n\tSocialCalc.Formula.Clone(operand,operand_reverse);\n    operand.reverse(); // normal parameter order\n    if(operand.length == 0) return;\n\t\n\t\n\n  if(typeof sheet.ioEventTree === 'undefined') sheet.ioEventTree = {};\t// action formulas - e.g. COPYVALUE, COPYFORMULA  - these action formulas are triggered by a trigger formula \n  if(typeof sheet.ioParameterList === 'undefined') sheet.ioParameterList = {}; // widget parameters - e.g. BUTTON, TEXTBOX - this is updated when the widget state changes\n  if(typeof sheet.ioTimeTriggerList === 'undefined') sheet.ioTimeTriggerList = {}; // \n  if(typeof sheet.radioGroupList === 'undefined') sheet.radioGroupList = {}; // \n\n  // store parameters of each action formulas \n  if(typeof sheet.ioParameterList[coord] === 'undefined') sheet.ioParameterList[coord] = {};\n  sheet.ioParameterList[coord] = operand;\n  sheet.ioParameterList[coord].function_name = function_name;\n  \n  // add radio buttons to list - so radio group can be updated\n//  if(function_name == \"RADIOBUTTON\") {\n//    \n//    if(operand.length > 1) {\n//      if (sheet.radioGroupList[]) {\n//        sheet.radioGroup.push()\n//      } else {\n//        \n//      } \n//    }\n//  }\n\n  \n  // send trigger times to server if changed\n  if(io_parameters == \"TimeTrigger\") { // timer trigger formula exists   \n    // function to push cell time into array\n    var PushTriggerTime = function(list, coordA1, sheetData) {\n      var cell = sheetData.cells[coordA1];   \n      if (typeof cell !== 'undefined' && cell.valuetype.charAt(0) == \"n\") { // if not blank and is number\n        list.push(cell.datavalue);\n      }\n    };\n\n    var triggerTimeCellId = SocialCalc.Formula.PlainCoord(operand[0].value); // strip dollar signs\n    \n    var currentTriggerTimeList = [];\n    \n    if(operand[0].type == \"range\" )  {      \n      var rangeinfo = SocialCalc.Formula.DecodeRangeParts(sheet, triggerTimeCellId);\n      for (var i=0; i<rangeinfo.ncols; i++) {\n        for (var j=0; j<rangeinfo.nrows; j++) {\n          var cellCoord = SocialCalc.crToCoord(rangeinfo.col1num + i, rangeinfo.row1num + j);\n          PushTriggerTime(currentTriggerTimeList, cellCoord, sheet);\n        }\n      }\n    }\n    \n    if(operand[0].type == \"coord\" ) {      \n      PushTriggerTime(currentTriggerTimeList, triggerTimeCellId, sheet);\n    }\n    \n    if (operand[0].type.charAt(0) == \"n\") {\n      currentTriggerTimeList.push(operand[0].value);      \n    }\n\n    // if time triggers changed then set changed times in ioTimeTrigger and schedule      \n    if(typeof sheet.ioTimeTriggerList[coord] === 'undefined' || SocialCalc.Formula.ArrayValuesEqual(sheet.ioTimeTriggerList[coord], currentTriggerTimeList) == false) {\n      // set the time+cell in ioTimeTrigger\n      sheet.ioTimeTriggerList[coord] = currentTriggerTimeList;\n      // schedule the set Time Trigger // sheet.ScheduleSheetCommands('...    \n      var timeZoneOffsetMins = (new Date()).getTimezoneOffset();\n      var start_1_1_1970 = 25569; // Day number of 1/1/1970 starting with 1/1/1900 as 1      \n      var triggerUTCTimeList = []; /// EPOCH in Mins - Mins since 1/1/1970 GMT\n      for(var index = 0; index < currentTriggerTimeList.length; ++index) triggerUTCTimeList[index] = Math.floor(((currentTriggerTimeList[index] - start_1_1_1970 ) *24 * 60) + timeZoneOffsetMins);\n      sheet.ScheduleSheetCommands('settimetrigger '+coord+' '+triggerUTCTimeList.toString());       \n    }\n  }\n  \n\t// store trigger lookup table\n  if(io_parameters == \"EventTree\"\t&& (operand[0].type == \"coord\" || operand[0].type == \"range\")) { // trigger cell exists   \n  \t// create a list of action formulas for each trigger cell  \n    var triggerCellId = operand[0].value.replace(/\\$/g,''); // strip dollar signs\n    var PushTriggerCord = function(list, index, v) {\n        if(typeof list[index] === 'undefined') list[index] = {};\n        list[index][v] = v;\n    };\n\n\n    if(operand[0].type == \"range\" )  {      \n\t      var rangeinfo = SocialCalc.Formula.DecodeRangeParts(sheet, triggerCellId);\n      for (var i=0; i<rangeinfo.ncols; i++) {\n         for (var j=0; j<rangeinfo.nrows; j++) {\n            var cellcr = SocialCalc.crToCoord(rangeinfo.col1num + i, rangeinfo.row1num + j);\n                          PushTriggerCord(sheet.ioEventTree, cellcr, coord); \n                          \n         }\n      }\n    }\n    if(operand[0].type == \"coord\" ) {\n        PushTriggerCord(sheet.ioEventTree, triggerCellId, coord); \n    }                \n  }\n\n  \n  //IF GUI widget is \"Input\"\n  if(io_parameters == \"Input\" ) {\n    var formDataViewer = (SocialCalc.CurrentSpreadsheetControlObject != null) \n          ? SocialCalc.CurrentSpreadsheetControlObject.formDataViewer \n          : SocialCalc.CurrentSpreadsheetViewerObject.formDataViewer;\n    \n    if(formDataViewer != null && formDataViewer.loaded == true) {\n      \n      // IF formFields  not loaded - load formFields  \n      if( formDataViewer.formFields == null) SocialCalc.Formula.LoadFormFields();\n      //  get formFieldName\n      var formFieldName = (function_name+coord).toLowerCase();\n      //  if formFieldName not in formFields  \n      var sheetCmd = null;\n      if(formDataViewer.formFields[formFieldName] == null) {\n        //    store formFieldName of gui input widget \n        //    add formFieldName  to formFields  \n        var col = formDataViewer.formFields[formFieldName] = formDataViewer.formFieldsLength++ + 2;\n        //    add formFieldName to next empty cell (starting with B1)\n        var headerCoord = SocialCalc.crToCoord(col, 1);\n        sheetCmd = \"set \"+headerCoord+\" text t \"+SocialCalc.encodeForSave(function_name.toLowerCase()+coord);\n      }\n      if(operand[0].type.charAt(0) == \"t\" || operand[0].type.charAt(0) == \"n\") {       \n        var valueCoord = SocialCalc.crToCoord(formDataViewer.formFields[formFieldName], 2);\n        if(formDataViewer.sheet.cells[valueCoord] == null ||  formDataViewer.sheet.cells[valueCoord].datavalue != operand[0].value) {\n          var sheetCmdTwo = \"set \"+valueCoord+\" text t \"+SocialCalc.encodeForSave(operand[0].value);\n          if (sheetCmd != null) sheetCmd = sheetCmd + \"\\n\" + sheetCmdTwo; else sheetCmd = sheetCmdTwo;        \n        }\n  \n      }\n      if (sheetCmd != null) formDataViewer.sheet.ScheduleSheetCommands(sheetCmd, false);    \n    }    \n  }    \n        \n\n\t//SocialCalc.DebugLog({ ioEventTree: sheet.ioEventTree});\n\t//SocialCalc.DebugLog({ ioParameterList: sheet.ioParameterList});\n}   \n   \n\n/**\n * ArrayValuesEqual\n * \n * Warning - nested vales are NOT tested.\n * returns true if both arrays contain the same values\n */    \nSocialCalc.Formula.ArrayValuesEqual = function(a, b) {\n  var i = a.length;\n  if (i != b.length) return false;\n  while (i--) {\n      if (a[i] !== b[i]) return false;\n  }\n  return true;\n};\n\nSocialCalc.Formula.Clone =   function(destination, source) {\n        for (var property in source) {\n            if (typeof source[property] === \"object\" && source[property] !== null && destination[property]) { \n                SocialCalc.Formula.Clone(destination[property], source[property]);\n            } else {\n                destination[property] = source[property];\n            }\n        }\n    };   \n\n/**\n * LoadFormFields\n * \n * Load the fieldNames of the form \n *  Cell A1 contains \"FieldName:\" and cells B1 to n contain field names\n *  Cell A2 contains \"Pending\" - pending data row. The pending row is moved to row 3 by inseting a new row 2 onSubmit \n *  Put the fieldNames into an array for fast lookup and position information\n */    \n    \nSocialCalc.Formula.LoadFormFields =   function() {\n  var formDataViewer = (SocialCalc.CurrentSpreadsheetControlObject != null) \n    ? SocialCalc.CurrentSpreadsheetControlObject.formDataViewer \n    : SocialCalc.CurrentSpreadsheetViewerObject.formDataViewer;\n\n  formDataViewer.formFields = {};\n\n  \n  //IF cell A1 is blank - Adds \"FieldName:\" to A1\n  if(formDataViewer.sheet.cells.A1 == null ) {\n    formDataViewer.sheet.ScheduleSheetCommands(\"set A1 text t \"+SocialCalc.encodeForSave(\"FieldName:\"), false);       \n  }\n  \n  if(formDataViewer.sheet.cells.A2 == null ) {\n    formDataViewer.sheet.ScheduleSheetCommands(\"set A2 text t \"+SocialCalc.encodeForSave(\"Pending:\"), false);       \n  }\n\n  \n  //  For each cell in row 1, from B1 to 1st blank cell\n  var col = 2;\n  while(true) {\n    var coord = SocialCalc.crToCoord(col, 1);\n    var cell=formDataViewer.sheet.cells[coord];\n    if (!cell) break;\n    //    Put cell value into formFields  \n    formDataViewer.formFields[cell.datavalue.toLowerCase()] = col;\n    col ++;\n  }\n  formDataViewer.formFieldsLength = col -2;\n\n}    \n   \n/*\n#\n# errortext = SocialCalc.Formula.CalculateFunction(fname, operand, sheet)\n#\n# Dispatches for function fname.\n#\n*/\n\nSocialCalc.Formula.CalculateFunction = function(fname, operand, sheet, coord) {\n\n   var fobj, foperand, ffunc, argnum, ttext;\n   var scf = SocialCalc.Formula;\n   var ok = 1;\n   var errortext = \"\";\n\n   fobj = scf.FunctionList[fname];\n\n   if (fobj) {\n   \n\n      foperand = [];\n      ffunc = fobj[0];\n      argnum = fobj[1];\n      scf.CopyFunctionArgs(operand, foperand);\n\n\t  // eddy CalculateFunction {\n   if(fobj[6] && fobj[6] != \"\") {\t  \n\t   SocialCalc.DebugLog(\"action:\"+fname);\t\t\n\t\t scf.StoreIoEventFormula(fname, coord, foperand, sheet, fobj[6]);\n\t\t\n\t  }\n\t  // }\n\t  \n      if (argnum != 100) {\n         if (argnum < 0) {\n            if (foperand.length < -argnum) {\n               errortext = scf.FunctionArgsError(fname, operand);\n               return errortext;\n               }\n            }\n         else {\n            if (foperand.length != argnum) {\n               errortext = scf.FunctionArgsError(fname, operand);\n               return errortext;\n               }\n            }\n         }\n\n\t\t \n\t  \n      errortext = ffunc(fname, operand, foperand, sheet, coord);\n      }\n\n   else {\n         ttext = fname;\n\n         if (operand.length && operand[operand.length-1].type == \"start\") { // no arguments - name or zero arg function\n            operand.pop();\n            scf.PushOperand(operand, \"name\", ttext);\n            }\n\n         else {\n            errortext = SocialCalc.Constants.s_sheetfuncunknownfunction+\" \" + ttext +\". \";\n            }\n      }\n\n   return errortext;\n\n}\n\n//\n// SocialCalc.Formula.PushOperand(operand, t, v)\n//\n// Pushes the type and value onto the operand stack\n//\n\nSocialCalc.Formula.PushOperand = function(operand, t, v) {\n\n   operand.push({type: t, value: v});\n\n   }\n\n//\n// SocialCalc.Formula.CopyFunctionArgs(operand, foperand)\n//\n// Pops operands from operand and pushes on foperand up to function start\n// reversing order in the process.\n//\n\nSocialCalc.Formula.CopyFunctionArgs = function(operand, foperand) {\n\n   var fobj, foperand, ffunc, argnum;\n   var scf = SocialCalc.Formula;\n   var ok = 1;\n   var errortext = null;\n\n   while (operand.length>0 && operand[operand.length-1].type != \"start\") { // get each arg\n      foperand.push(operand.pop()); // copy it\n      }\n   operand.pop(); // get rid of \"start\"\n\n   return;\n\n   }\n\n//\n// errortext = SocialCalc.Formula.FunctionArgsError(fname, operand)\n//\n// Pushes appropriate error on operand stack and returns errortext, including fname\n//\n\nSocialCalc.Formula.FunctionArgsError = function(fname, operand) {\n\n   var errortext = SocialCalc.Constants.s_calcerrincorrectargstofunction+\" \" + fname + \". \";\n   SocialCalc.Formula.PushOperand(operand, \"e#VALUE!\", errortext);\n\n   return errortext;\n\n   }\n\n\n//\n// errortext = SocialCalc.Formula.FunctionSpecificError(fname, operand, errortype, errortext)\n//\n// Pushes specified error and text on operand stack.\n//\n\nSocialCalc.Formula.FunctionSpecificError = function(fname, operand, errortype, errortext) {\n\n   SocialCalc.Formula.PushOperand(operand, errortype, errortext);\n\n   return errortext;\n\n   }\n\n//\n// haserror = SocialCalc.Formula.CheckForErrorValue(operand, v)\n//\n// If v.type is an error, push it on operand stack and return true, otherwise return false.\n//\n\nSocialCalc.Formula.CheckForErrorValue = function(operand, v) {\n\n   if (v.type.charAt(0) == \"e\") {\n      operand.push(v);\n      return true;\n      }\n   else {\n      return false;\n      }\n\n   }\n\n/////////////////////////\n//\n// FUNCTION INFORMATION ROUTINES\n//\n\n//\n// SocialCalc.Formula.FillFunctionInfo()\n//\n// Goes through function definitions and fills out FunctionArgDefs and FunctionClasses.\n// Execute this after any changes to SocialCalc.Constants but before UI is used.\n//\n\nSocialCalc.Formula.FillFunctionInfo = function() {\n\n   var scf = SocialCalc.Formula;\n   var scc = SocialCalc.Constants;\n\n   var fname, f, classes, cname, i;\n\n   if (scf.FunctionClasses) { // only do once\n      return;\n      }\n\n   for (fname in scf.FunctionList) {\n      f = scf.FunctionList[fname];\n      if (f[2]) { // has an arg def\n         scf.FunctionArgDefs[f[2]] = scc[\"s_farg_\"+f[2]] || \"\"; // get it from constants\n         }\n      if (!f[3]) { // no text def, see if in constants\n         if (scc[\"s_fdef_\"+fname]) {\n            scf.FunctionList[fname][3] = scc[\"s_fdef_\"+fname];\n            }\n         }\n      }\n\n   scf.FunctionClasses = {};\n \n   for (i=0; i<scc.function_classlist.length; i++) {\n      cname = scc.function_classlist[i];\n      scf.FunctionClasses[cname] = {name: scc[\"s_fclass_\"+cname], items: []};\n      }\n\n   for (fname in scf.FunctionList) {\n      f = scf.FunctionList[fname];\n      classes = f[4] ? f[4].split(\",\") : []; // get classes\n      classes.push(\"all\");\n      for (i=0; i<classes.length; i++) {\n         cname = classes[i];\n         scf.FunctionClasses[cname].items.push(fname);\n         }\n      }\n   for (cname in scf.FunctionClasses) {\n      scf.FunctionClasses[cname].items.sort();\n      }\n\n   }\n\n//\n// str = SocialCalc.Formula.FunctionArgString(fname)\n//\n// Returns a string representing the arguments to function fname.\n//\n\nSocialCalc.Formula.FunctionArgString = function(fname) {\n\n   var scf = SocialCalc.Formula;\n   var fdata = scf.FunctionList[fname];\n   var nargs, i, str;\n\n   var adef = fdata[2];\n\n   if (!adef) {\n      nargs = fdata[1];\n      if (nargs == 0) {\n         adef = \" \";\n         }\n      else if (nargs > 0) {\n         str = \"v1\";\n         for (i=2; i<=nargs; i++) {\n            str += \", v\"+i;\n            }\n         return str;\n         }\n      else if (nargs < 0) {\n         str = \"v1\";\n         for (i=2; i<-nargs; i++) {\n            str += \", v\"+i;\n            }\n         return str+\", ...\";\n         }\n      else {\n         return \"nargs: \"+nargs;\n         }\n      }\n\n   str = scf.FunctionArgDefs[adef] || adef;\n\n   return str;\n\n   }\n\n\n/////////////////////////\n//\n// FUNCTION DEFINITIONS\n//\n// The standard function definitions follow.\n//\n// Note that some need SocialCalc.DetermineValueType to be defined.\n//\n\n/*\n#\n# AVERAGE(v1,c1:c2,...)\n# CONCAT(value_or_range,...)\n# CONCATENATE(value_or_range,...)\n# COUNT(v1,c1:c2,...)\n# COUNTA(v1,c1:c2,...)\n# COUNTBLANK(v1,c1:c2,...)\n# MAX(v1,c1:c2,...)\n# MIN(v1,c1:c2,...)\n# PRODUCT(v1,c1:c2,...)\n# STDEV(v1,c1:c2,...)\n# STDEVP(v1,c1:c2,...)\n# SUM(v1,c1:c2,...)\n# VAR(v1,c1:c2,...)\n# VARP(v1,c1:c2,...)\n#\n# Calculate all of these and then return the desired one (overhead is in accessing not calculating)\n# If this routine is changed, check the dseries_functions, too.\n#\n*/\n\nSocialCalc.Formula.SeriesFunctions = function(fname, operand, foperand, sheet) {\n\n   var value1, t, v1;\n\n   var scf = SocialCalc.Formula;\n   var operand_value_and_type = scf.OperandValueAndType;\n   var lookup_result_type = scf.LookupResultType;\n   var typelookupplus = scf.TypeLookupTable.plus;\n\n   var PushOperand = function(t, v) {operand.push({type: t, value: v});};\n\n\n   var concat = \"\";\n   var sum = 0;\n   var resulttypesum = \"\";\n   var count = 0;\n   var counta = 0;\n   var countblank = 0;\n   var product = 1;\n   var maxval;\n   var minval;\n   var mk, sk, mk1, sk1; // For variance, etc.: M sub k, k-1, and S sub k-1\n                         // as per Knuth \"The Art of Computer Programming\" Vol. 2 3rd edition, page 232\n\n   while (foperand.length > 0) {\n      value1 = operand_value_and_type(sheet, foperand);\n      t = value1.type.charAt(0);\n      if (t == \"n\") count += 1;\n      if (t != \"b\") counta += 1;\n      if (t == \"b\") countblank += 1;\n      if (t != \"e\" && t != \"b\") concat = concat + value1.value;\n\n      if (t == \"n\") {\n         v1 = value1.value-0; // get it as a number\n         sum += v1;\n         product *= v1;\n         maxval = (maxval!=undefined) ? (v1 > maxval ? v1 : maxval) : v1;\n         minval = (minval!=undefined) ? (v1 < minval ? v1 : minval) : v1;\n         if (count == 1) { // initialize with first values for variance used in STDEV, VAR, etc.\n            mk1 = v1;\n            sk1 = 0;\n            }\n         else { // Accumulate S sub 1 through n as per Knuth noted above\n            mk = mk1 + (v1 - mk1) / count;\n            sk = sk1 + (v1 - mk1) * (v1 - mk);\n            sk1 = sk;\n            mk1 = mk;\n            }\n         resulttypesum = lookup_result_type(value1.type, resulttypesum || value1.type, typelookupplus);\n         }\n      else if (t == \"e\" && resulttypesum.charAt(0) != \"e\") {\n         resulttypesum = value1.type;\n         }\n      }\n\n   resulttypesum = resulttypesum || \"n\";\n\n   switch (fname) {\n      case \"CONCAT\":\n      case \"CONCATENATE\":\n        PushOperand(\"t\", concat);\n        break;\n\n      case \"SUM\":\n         PushOperand(resulttypesum, sum);\n         break;\n\n      case \"PRODUCT\": // may handle cases with text differently than some other spreadsheets\n         PushOperand(resulttypesum, product);\n         break;\n\n      case \"MIN\":\n         PushOperand(resulttypesum, minval || 0);\n         break;\n\n      case \"MAX\":\n         PushOperand(resulttypesum, maxval || 0);\n         break;\n\n      case \"COUNT\":\n         PushOperand(\"n\", count);\n         break;\n\n      case \"COUNTA\":\n         PushOperand(\"n\", counta);\n         break;\n\n      case \"COUNTBLANK\":\n         PushOperand(\"n\", countblank);\n         break;\n\n      case \"AVERAGE\":\n         if (count > 0) {\n            PushOperand(resulttypesum, sum/count);\n            }\n         else {\n            PushOperand(\"e#DIV/0!\", 0);\n            }\n         break;\n\n      case \"STDEV\":\n         if (count > 1) {\n            PushOperand(resulttypesum, Math.sqrt(sk / (count - 1))); // sk is never negative according to Knuth\n            }\n         else {\n            PushOperand(\"e#DIV/0!\", 0);\n            }\n         break;\n\n      case \"STDEVP\":\n         if (count > 1) {\n            PushOperand(resulttypesum, Math.sqrt(sk / count));\n            }\n         else {\n            PushOperand(\"e#DIV/0!\", 0);\n            }\n         break;\n\n      case \"VAR\":\n         if (count > 1) {\n            PushOperand(resulttypesum, sk / (count - 1));\n            }\n         else {\n            PushOperand(\"e#DIV/0!\", 0);\n            }\n         break;\n\n      case \"VARP\":\n         if (count > 1) {\n            PushOperand(resulttypesum, sk / count);\n            }\n         else {\n            PushOperand(\"e#DIV/0!\", 0);\n            }\n         break;\n      }\n\n   return null;\n\n   }\n\n//*********************\n//\n// Docs see - Function Handling - ~line 1560\n// \n//*********************\n\n// Add to function list\nSocialCalc.Formula.FunctionList[\"AVERAGE\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"stat\"];\nSocialCalc.Formula.FunctionList[\"CONCAT\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"text\"];\nSocialCalc.Formula.FunctionList[\"CONCATENATE\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"text\"];\nSocialCalc.Formula.FunctionList[\"COUNT\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"stat\"];\nSocialCalc.Formula.FunctionList[\"COUNTA\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"stat\"];\nSocialCalc.Formula.FunctionList[\"COUNTBLANK\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"stat\"];\nSocialCalc.Formula.FunctionList[\"MAX\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"stat\"];\nSocialCalc.Formula.FunctionList[\"MIN\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"stat\"];\nSocialCalc.Formula.FunctionList[\"PRODUCT\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"stat\"];\nSocialCalc.Formula.FunctionList[\"STDEV\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"stat\"];\nSocialCalc.Formula.FunctionList[\"STDEVP\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"stat\"];\nSocialCalc.Formula.FunctionList[\"SUM\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"stat\"];\nSocialCalc.Formula.FunctionList[\"VAR\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"stat\"];\nSocialCalc.Formula.FunctionList[\"VARP\"] = [SocialCalc.Formula.SeriesFunctions, -1, \"vn\", null, \"stat\"];\n\n/*\n#\n# SUMPRODUCT(range1, range2, ...)\n#\n*/\n\nSocialCalc.Formula.SumProductFunction = function(fname, operand, foperand, sheet) {\n  \n   var range, products = [], sum = 0;\n   var scf = SocialCalc.Formula;\n   var ncols = 0, nrows = 0;\n\n   var PushOperand = function(t, v) {operand.push({type: t, value: v});};\n\n   while (foperand.length > 0) {\n      range = scf.TopOfStackValueAndType(sheet, foperand);\n      if (range.type != \"range\") {\n         PushOperand(\"e#VALUE!\", 0);\n         return;\n         }\n      rangeinfo = scf.DecodeRangeParts(sheet, range.value);\n      if (!ncols) ncols = rangeinfo.ncols;\n      else if (ncols != rangeinfo.ncols) {\n         PushOperand(\"e#VALUE!\", 0);\n         return;\n         }\n      if (!nrows) nrows = rangeinfo.nrows;\n      else if (nrows != rangeinfo.nrows) {\n         PushOperand(\"e#VALUE!\", 0);\n         return;\n         }\n      for (i=0; i<rangeinfo.ncols; i++) {\n         for (j=0; j<rangeinfo.nrows; j++) {\n            k = i * rangeinfo.nrows + j;\n            cellcr = SocialCalc.crToCoord(rangeinfo.col1num + i, rangeinfo.row1num + j);\n            cell = rangeinfo.sheetdata.GetAssuredCell(cellcr);\n            value = cell.valuetype == \"n\" ? cell.datavalue : 0;\n            products[k] = ((typeof products[k] !== 'undefined')? products[k] : 1) * value;\n            }\n         }\n      }\n   for (i=0; i<products.length; i++) {\n      sum += products[i];\n      }\n   PushOperand(\"n\", sum);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"SUMPRODUCT\"] = [SocialCalc.Formula.SumProductFunction, -1, \"rangen\", \"\", \"stat\"];\n\n/*\n#\n# DAVERAGE(databaserange, fieldname, criteriarange)\n# DCOUNT(databaserange, fieldname, criteriarange)\n# DCOUNTA(databaserange, fieldname, criteriarange)\n# DGET(databaserange, fieldname, criteriarange)\n# DMAX(databaserange, fieldname, criteriarange)\n# DMIN(databaserange, fieldname, criteriarange)\n# DPRODUCT(databaserange, fieldname, criteriarange)\n# DSTDEV(databaserange, fieldname, criteriarange)\n# DSTDEVP(databaserange, fieldname, criteriarange)\n# DSUM(databaserange, fieldname, criteriarange)\n# DVAR(databaserange, fieldname, criteriarange)\n# DVARP(databaserange, fieldname, criteriarange)\n#\n# Calculate all of these and then return the desired one (overhead is in accessing not calculating)\n# If this routine is changed, check the series_functions, too.\n#\n*/\n\nSocialCalc.Formula.DSeriesFunctions = function(fname, operand, foperand, sheet) {\n\n   var value1, tostype, cr, dbrange, fieldname, criteriarange, dbinfo, criteriainfo;\n   var fieldasnum, targetcol, i, j, k, cell, criteriafieldnums;\n   var testok, criteriacr, criteria, testcol, testcr;\n   var t;\n\n   var scf = SocialCalc.Formula;\n   var operand_value_and_type = scf.OperandValueAndType;\n   var lookup_result_type = scf.LookupResultType;\n   var typelookupplus = scf.TypeLookupTable.plus;\n\n   var PushOperand = function(t, v) {operand.push({type: t, value: v});};\n\n   var value1 = {};\n\n   var sum = 0;\n   var resulttypesum = \"\";\n   var count = 0;\n   var counta = 0;\n   var countblank = 0;\n   var countmatches = 0;   \n   var product = 1;\n   var maxval;\n   var minval;\n   var mk, sk, mk1, sk1; // For variance, etc.: M sub k, k-1, and S sub k-1\n                         // as per Knuth \"The Art of Computer Programming\" Vol. 2 3rd edition, page 232\n\n   dbrange = scf.TopOfStackValueAndType(sheet, foperand); // get a range\n   fieldname = scf.OperandValueAndType(sheet, foperand); // get a value\n   criteriarange = scf.TopOfStackValueAndType(sheet, foperand); // get a range\n\n   if (dbrange.type != \"range\" || criteriarange.type != \"range\") {\n      return scf.FunctionArgsError(fname, operand);\n      }\n\n   dbinfo = scf.DecodeRangeParts(sheet, dbrange.value);\n   criteriainfo = scf.DecodeRangeParts(sheet, criteriarange.value);\n\n   fieldasnum = scf.FieldToColnum(dbinfo.sheetdata, dbinfo.col1num, dbinfo.ncols, dbinfo.row1num, fieldname.value, fieldname.type);\n   if (fieldasnum <= 0) {\n      PushOperand(\"e#VALUE!\", 0);\n      return;\n      }\n\n   targetcol = dbinfo.col1num + fieldasnum - 1;\n   criteriafieldnums = [];\n\n   for (i=0; i<criteriainfo.ncols; i++) { // get criteria field colnums\n      cell = criteriainfo.sheetdata.GetAssuredCell(SocialCalc.crToCoord(criteriainfo.col1num + i, criteriainfo.row1num));\n      criterianum = scf.FieldToColnum(dbinfo.sheetdata, dbinfo.col1num, dbinfo.ncols, dbinfo.row1num, cell.datavalue, cell.valuetype);\n      if (criterianum <= 0) {\n         PushOperand(\"e#VALUE!\", 0);\n         return;\n         }\n      criteriafieldnums.push(dbinfo.col1num + criterianum - 1);\n      }\n\n   for (i=1; i<dbinfo.nrows; i++) { // go through each row of the database\n      testok = false;\nCRITERIAROW:\n      for (j=1; j<criteriainfo.nrows; j++) { // go through each criteria row\n         for (k=0; k<criteriainfo.ncols; k++) { // look at each column\n            criteriacr = SocialCalc.crToCoord(criteriainfo.col1num + k, criteriainfo.row1num + j); // where criteria is\n            cell = criteriainfo.sheetdata.GetAssuredCell(criteriacr);\n            criteria = cell.datavalue;\n            if (typeof criteria == \"string\" && criteria.length == 0) continue; // blank items are OK\n            testcol = criteriafieldnums[k];\n            testcr = SocialCalc.crToCoord(testcol, dbinfo.row1num + i); // cell to check\n            cell = dbinfo.sheetdata.GetAssuredCell(testcr); // get cell to check from dbinfo sheet\n            if (!scf.TestCriteria(cell.datavalue, cell.valuetype || \"b\", criteria)) {\n               continue CRITERIAROW; // does not meet criteria - check next row\n               }\n            }\n         testok = true; // met all the criteria\n         break CRITERIAROW;\n         }\n      if (!testok) {\n         continue;\n         }\n\n      cr = SocialCalc.crToCoord(targetcol, dbinfo.row1num + i); // get cell of this row to do the function on\n      cell = dbinfo.sheetdata.GetAssuredCell(cr);\n\n      value1.value = cell.datavalue;\n      value1.type = cell.valuetype;\n      t = value1.type.charAt(0);\n      countmatches += 1;\n      if (t == \"n\") count += 1;\n      if (t != \"b\") counta += 1;\n      if (t == \"b\") countblank += 1;\n\n      if (t == \"n\") {\n         v1 = value1.value-0; // get it as a number\n         sum += v1;\n         product *= v1;\n         maxval = (maxval!=undefined) ? (v1 > maxval ? v1 : maxval) : v1;\n         minval = (minval!=undefined) ? (v1 < minval ? v1 : minval) : v1;\n         if (count == 1) { // initialize with first values for variance used in STDEV, VAR, etc.\n            mk1 = v1;\n            sk1 = 0;\n            }\n         else { // Accumulate S sub 1 through n as per Knuth noted above\n            mk = mk1 + (v1 - mk1) / count;\n            sk = sk1 + (v1 - mk1) * (v1 - mk);\n            sk1 = sk;\n            mk1 = mk;\n            }\n         resulttypesum = lookup_result_type(value1.type, resulttypesum || value1.type, typelookupplus);\n         }\n      else if (t == \"e\" && resulttypesum.charAt(0) != \"e\") {\n         resulttypesum = value1.type;\n         }\n      }\n\n   resulttypesum = resulttypesum || \"n\";\n\n   switch (fname) {\n      case \"DSUM\":\n         PushOperand(resulttypesum, sum);\n         break;\n\n      case \"DPRODUCT\": // may handle cases with text differently than some other spreadsheets\n         PushOperand(resulttypesum, product);\n         break;\n\n      case \"DMIN\":\n         PushOperand(resulttypesum, minval || 0);\n         break;\n\n      case \"DMAX\":\n         PushOperand(resulttypesum, maxval || 0);\n         break;\n\n      case \"DCOUNT\":\n         PushOperand(\"n\", count);\n         break;\n\n      case \"DCOUNTA\":\n         PushOperand(\"n\", counta);\n         break;\n\n      case \"DAVERAGE\":\n         if (count > 0) {\n            PushOperand(resulttypesum, sum/count);\n            }\n         else {\n            PushOperand(\"e#DIV/0!\", 0);\n            }\n         break;\n\n      case \"DSTDEV\":\n         if (count > 1) {\n            PushOperand(resulttypesum, Math.sqrt(sk / (count - 1))); // sk is never negative according to Knuth\n            }\n         else {\n            PushOperand(\"e#DIV/0!\", 0);\n            }\n         break;\n\n      case \"DSTDEVP\":\n         if (count > 1) {\n            PushOperand(resulttypesum, Math.sqrt(sk / count));\n            }\n         else {\n            PushOperand(\"e#DIV/0!\", 0);\n            }\n         break;\n\n      case \"DVAR\":\n         if (count > 1) {\n            PushOperand(resulttypesum, sk / (count - 1));\n            }\n         else {\n            PushOperand(\"e#DIV/0!\", 0);\n            }\n         break;\n\n      case \"DVARP\":\n         if (count > 1) {\n            PushOperand(resulttypesum, sk / count);\n            }\n         else {\n            PushOperand(\"e#DIV/0!\", 0);\n            }\n         break;\n\n      case \"DGET\":\n         if (countmatches == 1) {\n            PushOperand(value1.type, value1.value);\n            }\n         else if (countmatches == 0) {\n            PushOperand(\"e#VALUE!\", 0);\n            }\n         else {\n            PushOperand(\"e#NUM!\", 0);\n            }\n         break;\n\n      }\n\n   return;\n\n   }\n\n//*********************\n//\n// Docs see - Function Handling - ~line 1560\n// \n//*********************\n\nSocialCalc.Formula.FunctionList[\"DAVERAGE\"] = [SocialCalc.Formula.DSeriesFunctions, 3, \"dfunc\", \"\", \"stat\"];\nSocialCalc.Formula.FunctionList[\"DCOUNT\"] = [SocialCalc.Formula.DSeriesFunctions, 3, \"dfunc\", \"\", \"stat\"];\nSocialCalc.Formula.FunctionList[\"DCOUNTA\"] = [SocialCalc.Formula.DSeriesFunctions, 3, \"dfunc\", \"\", \"stat\"];\nSocialCalc.Formula.FunctionList[\"DGET\"] = [SocialCalc.Formula.DSeriesFunctions, 3, \"dfunc\", \"\", \"stat\"];\nSocialCalc.Formula.FunctionList[\"DMAX\"] = [SocialCalc.Formula.DSeriesFunctions, 3, \"dfunc\", \"\", \"stat\"];\nSocialCalc.Formula.FunctionList[\"DMIN\"] = [SocialCalc.Formula.DSeriesFunctions, 3, \"dfunc\", \"\", \"stat\"];\nSocialCalc.Formula.FunctionList[\"DPRODUCT\"] = [SocialCalc.Formula.DSeriesFunctions, 3, \"dfunc\", \"\", \"stat\"];\nSocialCalc.Formula.FunctionList[\"DSTDEV\"] = [SocialCalc.Formula.DSeriesFunctions, 3, \"dfunc\", \"\", \"stat\"];\nSocialCalc.Formula.FunctionList[\"DSTDEVP\"] = [SocialCalc.Formula.DSeriesFunctions, 3, \"dfunc\", \"\", \"stat\"];\nSocialCalc.Formula.FunctionList[\"DSUM\"] = [SocialCalc.Formula.DSeriesFunctions, 3, \"dfunc\", \"\", \"stat\"];\nSocialCalc.Formula.FunctionList[\"DVAR\"] = [SocialCalc.Formula.DSeriesFunctions, 3, \"dfunc\", \"\", \"stat\"];\nSocialCalc.Formula.FunctionList[\"DVARP\"] = [SocialCalc.Formula.DSeriesFunctions, 3, \"dfunc\", \"\", \"stat\"];\n\n/*\n#\n# colnum = SocialCalc.Formula.FieldToColnum(sheet, col1num, ncols, row1num, fieldname, fieldtype)\n#\n# If fieldname is a number, uses it, otherwise looks up string in cells in row to find field number\n#\n# If not found, returns 0.\n#\n*/\n\nSocialCalc.Formula.FieldToColnum = function(sheet, col1num, ncols, row1num, fieldname, fieldtype) {\n\n   var colnum, cell, value;\n\n   if (fieldtype.charAt(0) == \"n\") { // number - return it if legal\n      colnum = fieldname - 0; // make sure a number\n      if (colnum <= 0 || colnum > ncols) {\n         return 0;\n         }\n      return Math.floor(colnum);\n      }\n\n   if (fieldtype.charAt(0) != \"t\") { // must be text otherwise\n      return 0;\n      }\n\n   fieldname = fieldname ? fieldname.toLowerCase() : \"\";\n\n   for (colnum=0; colnum < ncols; colnum++) { // look through column headers for a match\n      cell = sheet.GetAssuredCell(SocialCalc.crToCoord(col1num+colnum, row1num));\n      value = cell.datavalue;\n      value = (value+\"\").toLowerCase(); // ignore case\n      if (value == fieldname) { // match\n         return colnum+1;\n         }         \n      }\n   return 0; // looked at all and no match\n\n   }\n\n\n/*\n#\n# HLOOKUP(value, range, row, [rangelookup])\n# VLOOKUP(value, range, col, [rangelookup])\n# MATCH(value, range, [rangelookup])\n#\n*/\n\nSocialCalc.Formula.LookupFunctions = function(fname, operand, foperand, sheet) {\n\n   var lookupvalue, range, offset, rangelookup, offsetvalue, rangeinfo;\n   var c, r, cincr, rincr, previousOK, csave, rsave, cell, value, valuetype, cr, lookupvalue;\n\n   var scf = SocialCalc.Formula;\n   var operand_value_and_type = scf.OperandValueAndType;\n   var lookup_result_type = scf.LookupResultType;\n   var typelookupplus = scf.TypeLookupTable.plus;\n\n   var PushOperand = function(t, v) {operand.push({type: t, value: v});};\n\n   lookupvalue = operand_value_and_type(sheet, foperand);\n   if (typeof lookupvalue.value == \"string\") {\n      lookupvalue.value = lookupvalue.value.toLowerCase();\n      }\n\n   range = scf.TopOfStackValueAndType(sheet, foperand);\n\n   rangelookup = 1; // default to true or 1\n   if (fname == \"MATCH\") {\n      if (foperand.length) {\n         rangelookup = scf.OperandAsNumber(sheet, foperand);\n         if (rangelookup.type.charAt(0) != \"n\") {\n            PushOperand(\"e#VALUE!\", 0);\n            return;\n            }\n         if (foperand.length) {\n            scf.FunctionArgsError(fname, operand);\n            return 0;\n            }\n         rangelookup = rangelookup.value - 0;\n         }\n      }\n   else {\n      offsetvalue = scf.OperandAsNumber(sheet, foperand);\n      if (offsetvalue.type.charAt(0) != \"n\") {\n         PushOperand(\"e#VALUE!\", 0);\n         return;\n         }\n      offsetvalue = Math.floor(offsetvalue.value);\n      if (foperand.length) {\n         rangelookup = scf.OperandAsNumber(sheet, foperand);\n         if (rangelookup.type.charAt(0) != \"n\") {\n            PushOperand(\"e#VALUE!\", 0);\n            return;\n            }\n         if (foperand.length) {\n            scf.FunctionArgsError(fname, operand);\n            return 0;\n            }\n         rangelookup = rangelookup.value ? 1 : 0; // convert to 1 or 0\n         }\n      }\n   lookupvalue.type = lookupvalue.type.charAt(0); // only deal with general type\n   if (lookupvalue.type == \"n\") { // if number, make sure a number\n      lookupvalue.value = lookupvalue.value - 0;\n      }\n\n   if (range.type != \"range\") {\n      scf.FunctionArgsError(fname, operand);\n      return 0;\n      }\n\n   rangeinfo = scf.DecodeRangeParts(sheet, range.value, range.type);\n   if (!rangeinfo) {\n      PushOperand(\"e#REF!\", 0);\n      return;\n      }\n\n   c = 0;\n   r = 0;\n   cincr = 0;\n   rincr = 0;\n   if (fname == \"HLOOKUP\") {\n      cincr = 1;\n      if (offsetvalue > rangeinfo.nrows) {\n         PushOperand(\"e#REF!\", 0);\n         return;\n         }\n      }\n   else if (fname == \"VLOOKUP\") {\n      rincr = 1;\n      if (offsetvalue > rangeinfo.ncols) {\n         PushOperand(\"e#REF!\", 0);\n         return;\n         }\n      }\n   else if (fname == \"MATCH\") {\n      if (rangeinfo.ncols > 1) {\n         if (rangeinfo.nrows > 1) {\n            PushOperand(\"e#N/A\", 0);\n            return;\n            }\n         cincr = 1;\n         }\n      else {\n         rincr = 1;\n         }\n      }\n   else {\n      scf.FunctionArgsError(fname, operand);\n      return 0;\n      }\n   if (offsetvalue < 1 && fname != \"MATCH\") {\n      PushOperand(\"e#VALUE!\", 0);\n      return 0;\n      }\n\n   previousOK; // if 1, previous test was <. If 2, also this one wasn't\n\n   while (1) {\n      cr = SocialCalc.crToCoord(rangeinfo.col1num + c, rangeinfo.row1num + r);\n      cell = rangeinfo.sheetdata.GetAssuredCell(cr);\n      value = cell.datavalue;\n      valuetype = cell.valuetype ? cell.valuetype.charAt(0) : \"b\"; // only deal with general types\n      if (valuetype == \"n\") {\n         value = value - 0; // make sure number\n         }\n      if (rangelookup) { // rangelookup type 1 or -1: look for within brackets for matches\n         if (lookupvalue.type == \"n\" && valuetype == \"n\") {\n            if (lookupvalue.value == value) { // match\n               break;\n               }\n            if ((rangelookup > 0 && lookupvalue.value > value)\n                || (rangelookup < 0 && lookupvalue.value < value)) { // possible match: wait and see\n               previousOK = 1;\n               csave = c; // remember col and row of last OK\n               rsave = r;\n               }\n            else if (previousOK) { // last one was OK, this one isn't\n               previousOK = 2;\n               break;\n               }\n            }\n\n         else if (lookupvalue.type == \"t\" && valuetype == \"t\") {\n            value = typeof value == \"string\" ? value.toLowerCase() : \"\";\n            if (lookupvalue.value == value) { // match\n               break;\n               }\n            if ((rangelookup > 0 && lookupvalue.value > value)\n                || (rangelookup < 0 && lookupvalue.value < value)) { // possible match: wait and see\n               previousOK = 1;\n               csave = c;\n               rsave = r;\n               }\n            else if (previousOK) { // last one was OK, this one isn't\n               previousOK = 2;\n               break;\n               }\n            }\n         }\n      else { // exact value matches\n         if (lookupvalue.type == \"n\" && valuetype == \"n\") {\n            if (lookupvalue.value == value) { // match\n               break;\n               }\n            }\n         else if (lookupvalue.type == \"t\" && valuetype == \"t\") {\n            value = typeof value == \"string\" ? value.toLowerCase() : \"\";\n            if (lookupvalue.value == value) { // match\n               break;\n               }\n            }\n         }\n\n      r += rincr;\n      c += cincr;\n      if (r >= rangeinfo.nrows || c >= rangeinfo.ncols) { // end of range to check, no exact match\n         if (previousOK) { // at least one could have been OK\n            previousOK = 2;\n            break;\n            }\n         PushOperand(\"e#N/A\", 0);\n         return;\n         }\n      }\n\n   if (previousOK == 2) { // back to last OK\n      r = rsave;\n      c = csave;\n      }\n\n   if (fname == \"MATCH\") {\n      value = c + r + 1; // only one may be <> 0\n      valuetype = \"n\";\n      }\n   else {\n      cr = SocialCalc.crToCoord(rangeinfo.col1num+c+(fname == \"VLOOKUP\" ? offsetvalue-1 : 0), rangeinfo.row1num+r+(fname == \"HLOOKUP\" ? offsetvalue-1 : 0));\n      cell = rangeinfo.sheetdata.GetAssuredCell(cr);\n      value = cell.datavalue;\n      valuetype = cell.valuetype;\n      }\n   PushOperand(valuetype, value);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"HLOOKUP\"] = [SocialCalc.Formula.LookupFunctions, -3, \"hlookup\", \"\", \"lookup\"];\nSocialCalc.Formula.FunctionList[\"MATCH\"] = [SocialCalc.Formula.LookupFunctions, -2, \"match\", \"\", \"lookup\"];\nSocialCalc.Formula.FunctionList[\"VLOOKUP\"] = [SocialCalc.Formula.LookupFunctions, -3, \"vlookup\", \"\", \"lookup\"];\n\n/*\n#\n# INDEX(range, rownum, colnum)\n#\n*/\n\nSocialCalc.Formula.IndexFunction = function(fname, operand, foperand, sheet) {\n\n   var range, sheetname, indexinfo, rowindex, colindex, result, resulttype;\n\n   var scf = SocialCalc.Formula;\n\n   var PushOperand = function(t, v) {operand.push({type: t, value: v});};\n\n   range = scf.TopOfStackValueAndType(sheet, foperand); // get range\n   if (range.type != \"range\") {\n      scf.FunctionArgsError(fname, operand);\n      return 0;\n      }\n   indexinfo = scf.DecodeRangeParts(sheet, range.value, range.type);\n   if (indexinfo.sheetname) {\n      sheetname = \"!\" + indexinfo.sheetname;\n      }\n   else {\n      sheetname = \"\";\n      }\n\n   rowindex = {value:0};\n   colindex = {value:0};\n\n   if (foperand.length) { // look for row number\n      rowindex = scf.OperandAsNumber(sheet, foperand);\n      if (rowindex.type.charAt(0) != \"n\" || rowindex.value < 0) {\n         PushOperand(\"e#VALUE!\", 0);\n         return;\n         }\n      if (foperand.length) { // look for col number\n         colindex = scf.OperandAsNumber(sheet, foperand);\n         if (colindex.type.charAt(0) != \"n\" || colindex.value < 0) {\n            PushOperand(\"e#VALUE!\", 0);\n            return;\n            }\n         if (foperand.length) {\n            scf.FunctionArgsError(fname, operand);\n            return 0;\n            }\n         }\n      else { // col number missing\n         if (indexinfo.nrows == 1) { // if only one row, then rowindex is really colindex\n            colindex.value = rowindex.value;\n            rowindex.value = 0;\n            }\n         }\n      }\n\n   if (rowindex.value > indexinfo.nrows || colindex.value > indexinfo.ncols) {\n      PushOperand(\"e#REF!\", 0);\n      return;\n      }\n\n   if (rowindex.value == 0) {\n      if (colindex.value == 0) {\n         if (indexinfo.nrows == 1 && indexinfo.ncols == 1) {\n            result = SocialCalc.crToCoord(indexinfo.col1num, indexinfo.row1num) + sheetname;\n            resulttype = \"coord\";\n            }\n         else {\n            result = SocialCalc.crToCoord(indexinfo.col1num, indexinfo.row1num) + sheetname + \"|\" +\n                     SocialCalc.crToCoord(indexinfo.col1num+indexinfo.ncols-1, indexinfo.row1num+indexinfo.nrows-1) + \n                     \"|\";\n            resulttype = \"range\";\n            }\n         }\n      else {\n         if (indexinfo.nrows == 1) {\n            result = SocialCalc.crToCoord(indexinfo.col1num+colindex.value-1, indexinfo.row1num) + sheetname;\n            resulttype = \"coord\";\n            }\n         else {\n            result = SocialCalc.crToCoord(indexinfo.col1num+colindex.value-1, indexinfo.row1num) + sheetname + \"|\" +\n                     SocialCalc.crToCoord(indexinfo.col1num+colindex.value-1, indexinfo.row1num+indexinfo.nrows-1) +\n                     \"|\";\n            resulttype = \"range\";\n            }\n         }\n      }\n   else {\n      if (colindex.value == 0) {\n         if (indexinfo.ncols == 1) {\n            result = SocialCalc.crToCoord(indexinfo.col1num, indexinfo.row1num+rowindex.value-1) + sheetname;\n            resulttype = \"coord\";\n            }\n         else {\n            result = SocialCalc.crToCoord(indexinfo.col1num, indexinfo.row1num+rowindex.value-1) + sheetname + \"|\" +\n                     SocialCalc.crToCoord(indexinfo.col1num+indexinfo.ncols-1, indexinfo.row1num+rowindex.value-1) +\n                     \"|\";\n            resulttype = \"range\";\n            }\n         }\n      else {\n         result = SocialCalc.crToCoord(indexinfo.col1num+colindex.value-1, indexinfo.row1num+rowindex.value-1) + sheetname;\n         resulttype = \"coord\";\n         }\n      }\n\n   PushOperand(resulttype, result);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"INDEX\"] = [SocialCalc.Formula.IndexFunction, -1, \"index\", \"\", \"lookup\"];\n\n/*\n#\n# COUNTIF(c1:c2,\"criteria\")\n# SUMIF(c1:c2,\"criteria\",[range2])\n#\n*/\n\nSocialCalc.Formula.CountifSumifFunctions = function(fname, operand, foperand, sheet) {\n\n   var range, criteria, sumrange, f2operand, result, resulttype, value1, value2;\n   var sum = 0;\n   var resulttypesum = \"\";\n   var count = 0;\n\n   var scf = SocialCalc.Formula;\n   var operand_value_and_type = scf.OperandValueAndType;\n   var lookup_result_type = scf.LookupResultType;\n   var typelookupplus = scf.TypeLookupTable.plus;\n\n   var PushOperand = function(t, v) {operand.push({type: t, value: v});};\n\n   range = scf.TopOfStackValueAndType(sheet, foperand); // get range or coord\n   criteria = scf.OperandAsText(sheet, foperand); // get criteria\n   if (fname == \"SUMIF\") {\n      if (foperand.length == 1) { // three arg form of SUMIF\n         sumrange = scf.TopOfStackValueAndType(sheet, foperand);\n         }\n      else if (foperand.length == 0) { // two arg form\n         sumrange = {value: range.value, type: range.type};\n         }\n      else {\n         scf.FunctionArgsError(fname, operand);\n         return 0;\n         }\n      }\n   else {\n      sumrange = {value: range.value, type: range.type};\n      }\n\n   if (criteria.type.charAt(0) == \"n\") {\n      criteria.value = criteria.value + \"\"; // make text\n      }\n   else if (criteria.type.charAt(0) == \"e\") { // error\n      criteria.value = null;\n      }\n   else if (criteria.type.charAt(0) == \"b\") { // blank here is undefined\n      criteria.value = null;\n      }\n\n   if (range.type != \"coord\" && range.type != \"range\") {\n      scf.FunctionArgsError(fname, operand);\n      return 0;\n      }\n\n   if (fname == \"SUMIF\" && sumrange.type != \"coord\" && sumrange.type != \"range\") {\n      scf.FunctionArgsError(fname, operand);\n      return 0;\n      }\n\n   foperand.push(range);\n   f2operand = []; // to allow for 3 arg form\n   f2operand.push(sumrange);\n\n   while (foperand.length) {\n      value1 = operand_value_and_type(sheet, foperand);\n      value2 = operand_value_and_type(sheet, f2operand);\n      if (!scf.TestCriteria(value1.value, value1.type, criteria.value)) {\n         continue;\n         }\n\n      count += 1;\n\n      if (value2.type.charAt(0) == \"n\") {\n         sum += value2.value-0;\n         resulttypesum = lookup_result_type(value2.type, resulttypesum || value2.type, typelookupplus);\n         }\n      else if (value2.type.charAt(0) == \"e\" && resulttypesum.charAt(0) != \"e\") {\n         resulttypesum = value2.type;\n         }\n      }\n\n   resulttypesum = resulttypesum || \"n\";\n\n   if (fname == \"SUMIF\") {\n      PushOperand(resulttypesum, sum);\n      }\n   else if (fname == \"COUNTIF\") {\n      PushOperand(\"n\", count);\n      }\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"COUNTIF\"] = [SocialCalc.Formula.CountifSumifFunctions, 2, \"rangec\", \"\", \"stat\"];\nSocialCalc.Formula.FunctionList[\"SUMIF\"] = [SocialCalc.Formula.CountifSumifFunctions, -2, \"sumif\", \"\", \"stat\"];\n\n/*\n#\n# SUMIFS(c1:c2, c3:c4,\"criteria\", [c5:c6,\"criteria\", ...])\n#\n*/\n\nSocialCalc.Formula.SumifsFunction = function(fname, operand, foperand, sheet) {\n   var range, criteria, sumrange, f2operand, result, resulttype, value1, value2;\n   var sum = 0;\n   var resulttypesum = \"\";\n   var count = 0;\n\n   var scf = SocialCalc.Formula;\n   var operand_value_and_type = scf.OperandValueAndType;\n   var lookup_result_type = scf.LookupResultType;\n   var typelookupplus = scf.TypeLookupTable.plus;\n\n   var PushOperand = function(t, v) {operand.push({type: t, value: v});};\n\n   sumrange = scf.TopOfStackValueAndType(sheet, foperand);\n   if (sumrange.type != \"coord\" && sumrange.type != \"range\") {\n      scf.FunctionArgsError(fname, operand);\n      return 0;\n      }\n\n   var ranges = [], criterias = [];\n   while (foperand.length) {\n      range = scf.TopOfStackValueAndType(sheet, foperand); // get range or coord\n      criteria = scf.OperandAsText(sheet, foperand); // get criteria\n      if (criteria.type.charAt(0) == \"n\") {\n         criteria.value = criteria.value + \"\"; // make text\n         }\n      else if (criteria.type.charAt(0) == \"e\") { // error\n         criteria.value = null;\n         }\n      else if (criteria.type.charAt(0) == \"b\") { // blank here is undefined\n         criteria.value = null;\n         }\n      if (range.type != \"coord\" && range.type != \"range\") {\n         scf.FunctionArgsError(fname, operand);\n         return 0;\n         }\n      ranges.push([range]);\n      criterias.push(criteria);\n      }\n\n      f2operand = [];\n      f2operand.push(sumrange);\n\n   while (f2operand.length) {\n      value2 = operand_value_and_type(sheet, f2operand);\n\n      var all_good = true;\n      for (var i=0; i < ranges.length; i++) {\n         value1 = operand_value_and_type(sheet, ranges[i]); // get next condition - note this function increases the test range index\n         if (!all_good) { continue; }  // skip test, but move to next cell in test range\n         if (!scf.TestCriteria(value1.value, value1.type, criterias[i].value)) {\n            all_good = false;\n            }\n         }\n      if (!all_good) { continue; }\n\n      if (value2.type.charAt(0) == \"n\") {\n         sum += value2.value-0;\n         resulttypesum = lookup_result_type(value2.type, resulttypesum || value2.type, typelookupplus);\n         }\n      else if (value2.type.charAt(0) == \"e\" && resulttypesum.charAt(0) != \"e\") {\n         resulttypesum = value2.type;\n         }\n      }\n\n   resulttypesum = resulttypesum || \"n\";\n   PushOperand(resulttypesum, sum);\n   return;\n\n   }\n\n\nSocialCalc.Formula.FunctionList[\"SUMIFS\"] = [SocialCalc.Formula.SumifsFunction, -3, \"sum_range, criteria_range1, criteria1, [criteria_range2, criteria2, ... criteria_range_n, criteria_n]\", \"\", \"stat\"];\n\n/*\n#\n# IF(cond,truevalue,falsevalue)\n#\n*/\n\nSocialCalc.Formula.IfFunction = function(fname, operand, foperand, sheet) {\n\n   var cond, t;\n\n   var scf = SocialCalc.Formula;\n\n   cond = SocialCalc.Formula.OperandValueAndType(sheet, foperand);\n   t = cond.type.charAt(0);\n   if (t != \"n\" && t != \"b\") {\n      operand.push({type: \"e#VALUE!\", value: 0});\n      return;\n      }\n\n   var op1, op2;\n\n   op1 = foperand.pop();\n   if (foperand.length == 1) {\n      op2 = foperand.pop();\n      }\n   else if (foperand.length == 0) {\n      op2 = {type: \"n\", value: 0};\n      }\n   else {\n      scf.FunctionArgsError(fname, operand);\n      return;\n   }\n\n   operand.push(cond.value ? op1 : op2);\n\n   }\n\n// Add to function list\nSocialCalc.Formula.FunctionList[\"IF\"] = [SocialCalc.Formula.IfFunction, -2, \"iffunc\", \"\", \"test\"];\n\n/*\n#\n# DATE(year,month,day)\n#\n*/\n\nSocialCalc.Formula.DateFunction = function(fname, operand, foperand, sheet) {\n\n   var scf = SocialCalc.Formula;\n   var result = 0;\n   var year = scf.OperandAsNumber(sheet, foperand);\n   var month = scf.OperandAsNumber(sheet, foperand);\n   var day = scf.OperandAsNumber(sheet, foperand);\n   var resulttype = scf.LookupResultType(year.type, month.type, scf.TypeLookupTable.twoargnumeric);\n   resulttype = scf.LookupResultType(resulttype, day.type, scf.TypeLookupTable.twoargnumeric);\n   if (resulttype.charAt(0) == \"n\") {\n      result = SocialCalc.FormatNumber.convert_date_gregorian_to_julian(\n                  Math.floor(year.value), Math.floor(month.value), Math.floor(day.value)\n                  ) - SocialCalc.FormatNumber.datevalues.julian_offset;\n      resulttype = \"nd\";\n      }\n   scf.PushOperand(operand, resulttype, result);\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"DATE\"] = [SocialCalc.Formula.DateFunction, 3, \"date\", \"\", \"datetime\"];\n\n/*\n#\n# TIME(hour,minute,second)\n#\n*/\n\nSocialCalc.Formula.TimeFunction = function(fname, operand, foperand, sheet) {\n\n   var scf = SocialCalc.Formula;\n   var result = 0;\n   var hours = scf.OperandAsNumber(sheet, foperand);\n   var minutes = scf.OperandAsNumber(sheet, foperand);\n   var seconds = scf.OperandAsNumber(sheet, foperand);\n   var resulttype = scf.LookupResultType(hours.type, minutes.type, scf.TypeLookupTable.twoargnumeric);\n   resulttype = scf.LookupResultType(resulttype, seconds.type, scf.TypeLookupTable.twoargnumeric);\n   if (resulttype.charAt(0) == \"n\") {\n      result = ((hours.value * 60 * 60) + (minutes.value * 60) + seconds.value) / (24*60*60);\n      resulttype = \"nt\";\n      }\n   scf.PushOperand(operand, resulttype, result);\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"TIME\"] = [SocialCalc.Formula.TimeFunction, 3, \"hms\", \"\", \"datetime\"];\n\n/*\n#\n# DAY(date)\n# MONTH(date)\n# YEAR(date)\n# WEEKDAY(date, [type])\n#\n*/\n\nSocialCalc.Formula.DMYFunctions = function(fname, operand, foperand, sheet) {\n\n   var ymd, dtype, doffset;\n   var scf = SocialCalc.Formula;\n   var result = 0;\n\n   var datevalue = scf.OperandAsNumber(sheet, foperand);\n   var resulttype = scf.LookupResultType(datevalue.type, datevalue.type, scf.TypeLookupTable.oneargnumeric);\n\n   if (resulttype.charAt(0) == \"n\") {\n      ymd = SocialCalc.FormatNumber.convert_date_julian_to_gregorian(\n               Math.floor(datevalue.value + SocialCalc.FormatNumber.datevalues.julian_offset));\n      switch (fname) {\n         case \"DAY\":\n            result = ymd.day;\n            break;\n\n         case \"MONTH\":\n            result = ymd.month;\n            break;\n\n         case \"YEAR\":\n            result = ymd.year;\n            break;\n\n         case \"WEEKDAY\":\n            dtype = {value: 1};\n            if (foperand.length) { // get type if present\n               dtype = scf.OperandAsNumber(sheet, foperand);\n               if (dtype.type.charAt(0) != \"n\" || dtype.value < 1 || dtype.value > 3) {\n                  scf.PushOperand(operand, \"e#VALUE!\", 0);\n                  return;\n                  }\n               if (foperand.length) { // extra args\n                  scf.FunctionArgsError(fname, operand);\n                  return;\n                  }\n               }\n            doffset = 6;\n            if (dtype.value > 1) {\n               doffset -= 1;\n               }\n            result = Math.floor(datevalue.value+doffset) % 7 + (dtype.value < 3 ? 1 : 0);\n            break;\n         }\n      }\n\n   scf.PushOperand(operand, resulttype, result);\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"DAY\"] = [SocialCalc.Formula.DMYFunctions, 1, \"v\", \"\", \"datetime\"];\nSocialCalc.Formula.FunctionList[\"MONTH\"] = [SocialCalc.Formula.DMYFunctions, 1, \"v\", \"\", \"datetime\"];\nSocialCalc.Formula.FunctionList[\"YEAR\"] = [SocialCalc.Formula.DMYFunctions, 1, \"v\", \"\", \"datetime\"];\nSocialCalc.Formula.FunctionList[\"WEEKDAY\"] = [SocialCalc.Formula.DMYFunctions, -1, \"weekday\", \"\", \"datetime\"];\n\n/*\n#\n# HOUR(datetime)\n# MINUTE(datetime)\n# SECOND(datetime)\n#\n*/\n\nSocialCalc.Formula.HMSFunctions = function(fname, operand, foperand, sheet) {\n\n   var hours, minutes, seconds, fraction;\n   var scf = SocialCalc.Formula;\n   var result = 0;\n\n   var datetime = scf.OperandAsNumber(sheet, foperand);\n   var resulttype = scf.LookupResultType(datetime.type, datetime.type, scf.TypeLookupTable.oneargnumeric);\n\n   if (resulttype.charAt(0) == \"n\") {\n      if (datetime.value < 0) {\n         scf.PushOperand(operand, \"e#NUM!\", 0); // must be non-negative\n         return;\n         }\n      fraction = datetime.value - Math.floor(datetime.value); // fraction of a day\n      fraction *= 24;\n      hours = Math.floor(fraction);\n      fraction -= Math.floor(fraction);\n      fraction *= 60;\n      minutes = Math.floor(fraction);\n      fraction -= Math.floor(fraction);\n      fraction *= 60;\n      seconds = Math.floor(fraction + (datetime.value >= 0 ? 0.5: -0.5));\n      if (fname == \"HOUR\") {\n         result = hours;\n         }\n      else if (fname == \"MINUTE\") {\n         result = minutes;\n         }\n      else if (fname == \"SECOND\") {\n         result = seconds;\n         }\n      }\n\n   scf.PushOperand(operand, resulttype, result);\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"HOUR\"] = [SocialCalc.Formula.HMSFunctions, 1, \"v\", \"\", \"datetime\"];\nSocialCalc.Formula.FunctionList[\"MINUTE\"] = [SocialCalc.Formula.HMSFunctions, 1, \"v\", \"\", \"datetime\"];\nSocialCalc.Formula.FunctionList[\"SECOND\"] = [SocialCalc.Formula.HMSFunctions, 1, \"v\", \"\", \"datetime\"];\n\n/*\n#\n# EXACT(v1,v2)\n#\n*/\n\nSocialCalc.Formula.ExactFunction = function(fname, operand, foperand, sheet) {\n\n   var scf = SocialCalc.Formula;\n   var result = 0;\n   var resulttype = \"nl\";\n\n   var value1 = scf.OperandValueAndType(sheet, foperand);\n   var v1type = value1.type.charAt(0);\n   var value2 = scf.OperandValueAndType(sheet, foperand);\n   var v2type = value2.type.charAt(0);\n\n   if (v1type == \"t\") {\n      if (v2type == \"t\") {\n         result = value1.value == value2.value ? 1 : 0;\n         }\n      else if (v2type == \"b\") {\n         result = value1.value.length ? 0 : 1;\n         }\n      else if (v2type == \"n\") {\n         result = value1.value == value2.value+\"\" ? 1 : 0;\n         }\n      else if (v2type == \"e\") {\n         result = value2.value;\n         resulttype = value2.type;\n         }\n      else {\n         result = 0;\n         }\n      }\n   else if (v1type == \"n\") {\n      if (v2type == \"n\") {\n         result = value1.value-0 == value2.value-0 ? 1 : 0;\n         }\n      else if (v2type == \"b\") {\n         result = 0;\n         }\n      else if (v2type == \"t\") {\n         result = value1.value+\"\" == value2.value ? 1 : 0;\n         }\n      else if (v2type == \"e\") {\n         result = value2.value;\n         resulttype = value2.type;\n         }\n      else {\n         result = 0;\n         }\n      }\n   else if (v1type == \"b\") {\n      if (v2type == \"t\") {\n         result = value2.value.length ? 0 : 1;\n         }\n      else if (v2type == \"b\") {\n         result = 1;\n         }\n      else if (v2type == \"n\") {\n         result = 0;\n         }\n      else if (v2type == \"e\") {\n         result = value2.value;\n         resulttype = value2.type;\n         }\n      else {\n         result = 0;\n         }\n      }\n   else if (v1type == \"e\") {\n      result = value1.value;\n      resulttype = value1.type;\n      }\n\n   scf.PushOperand(operand, resulttype, result);\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"EXACT\"] = [SocialCalc.Formula.ExactFunction, 2, \"\", \"\", \"text\"];\n\n/*\n#\n# FIND(key,string,[start])\n# LEFT(string,[length])\n# LEN(string)\n# LOWER(string)\n# MID(string,start,length)\n# PROPER(string)\n# REPLACE(string,start,length,new)\n# REPT(string,count)\n# RIGHT(string,[length])\n# SUBSTITUTE(string,old,new,[which])\n# TRIM(string)\n# HEXCODE(string)\n# UPPER(string)\n#\n*/\n\n// SocialCalc.Formula.ArgList has an array for each function, one entry for each possible arg (up to max).\n// Min args are specified in SocialCalc.Formula.FunctionList.\n// If array element is 1 then it's a text argument, if it's 0 then it's numeric, if -1 then just get whatever's there\n// Text values are manipulated as UTF-8, converting from and back to byte strings\n\nSocialCalc.Formula.ArgList = {\n                FIND: [1, 1, 0],\n                LEFT: [1, 0],\n                LEN: [1],\n                LOWER: [1],\n                MID: [1, 0, 0],\n                PROPER: [1],\n                REPLACE: [1, 0, 0, 1],\n                REPT: [1, 0],\n                RIGHT: [1, 0],\n                SUBSTITUTE: [1, 1, 1, 0],\n                TRIM: [1],\n                HEXCODE: [1],\n                UPPER: [1]\n               };\n\nSocialCalc.Formula.StringFunctions = function(fname, operand, foperand, sheet) {\n\n   var i, value, offset, len, start, count;\n   var scf = SocialCalc.Formula;\n   var result = 0;\n   var resulttype = \"e#VALUE!\";\n\n   var numargs = foperand.length;\n   var argdef = scf.ArgList[fname];\n   var operand_value = [];\n   var operand_type = [];\n\n   for (i=1; i <= numargs; i++) { // go through each arg, get value and type, and check for errors\n      if (i > argdef.length) { // too many args\n         scf.FunctionArgsError(fname, operand);\n         return;\n         }\n      if (argdef[i-1] == 0) {\n         value = scf.OperandAsNumber(sheet, foperand);\n         }\n      else if (argdef[i-1] == 1) {\n         value = scf.OperandAsText(sheet, foperand);\n         }\n      else if (argdef[i-1] == -1) {\n         value = scf.OperandValueAndType(sheet, foperand);\n         }\n      operand_value[i] = value.value;\n      operand_type[i] = value.type;\n      if (value.type.charAt(0) == \"e\") {\n         scf.PushOperand(operand, value.type, result);\n         return;\n         }\n      }\n\n   switch (fname) {\n      case \"FIND\":\n         offset = operand_type[3] ? operand_value[3]-1 : 0;\n         if (offset < 0) {\n            result = \"Start is before string\"; // !! not displayed, no need to translate\n            }\n         else {\n            result = operand_value[2].indexOf(operand_value[1], offset); // (null string matches first char)\n            if (result >= 0) {\n               result += 1;\n               resulttype = \"n\";\n               }\n            else {\n               result = \"Not found\"; // !! not displayed, error is e#VALUE!\n               }\n            }\n         break;\n\n      case \"LEFT\":\n         len = operand_type[2] ? operand_value[2]-0 : 1;\n         if (len < 0) {\n            result = \"Negative length\";\n            }\n         else {\n            result = operand_value[1].substring(0, len);\n            resulttype = \"t\";\n            }\n         break;\n\n      case \"LEN\":\n         result = operand_value[1].length;\n         resulttype = \"n\";\n         break;\n\n      case \"LOWER\":\n         result = operand_value[1].toLowerCase();\n         resulttype = \"t\";\n         break;\n\n      case \"MID\":\n         start = operand_value[2]-0;\n         len = operand_value[3]-0;\n         if (len < 1 || start < 1) {\n            result = \"Bad arguments\";\n            }\n         else {\n            result = operand_value[1].substring(start-1, start+len-1);\n            resulttype = \"t\";\n            }\n         break;\n\n      case \"PROPER\":\n         result = operand_value[1].replace(/\\b\\w+\\b/g, function(word) {\n                     return word.substring(0,1).toUpperCase() + \n                        word.substring(1);\n                     }); // uppercase first character of words (see JavaScript, Flanagan, 5th edition, page 704)\n         resulttype = \"t\";\n         break;\n\n      case \"REPLACE\":\n         start = operand_value[2]-0;\n         len = operand_value[3]-0;\n         if (len < 0 || start < 1) {\n            result = \"Bad arguments\";\n            }\n         else {\n            result = operand_value[1].substring(0, start-1) + operand_value[4] + \n               operand_value[1].substring(start-1+len);\n            resulttype = \"t\";\n            }\n         break;\n\n      case \"REPT\":\n         count = operand_value[2]-0;\n         if (count < 0) {\n            result = \"Negative count\";\n            }\n         else {\n            result = \"\";\n            for (; count > 0; count--) {\n               result += operand_value[1];\n               }\n            resulttype = \"t\";\n            }\n         break;\n\n      case \"RIGHT\":\n         len = operand_type[2] ? operand_value[2]-0 : 1;\n         if (len < 0) {\n            result = \"Negative length\";\n            }\n         else {\n            result = operand_value[1].slice(-len);\n            resulttype = \"t\";\n            }\n         break;\n\n      case \"SUBSTITUTE\":\n         fulltext = operand_value[1];\n         oldtext = operand_value[2];\n         newtext = operand_value[3];\n         if (operand_value[4] != null) {\n            which = operand_value[4]-0;\n            if (which <= 0) {\n               result = \"Non-positive instance number\";\n               break;\n               }\n            }\n         else {\n            which = 0;\n            }\n         count = 0;\n         oldpos = 0;\n         result = \"\";\n         while (true) {\n            pos = fulltext.indexOf(oldtext, oldpos);\n            if (pos >= 0) {\n               count++; //!!!!!! old test just in case: if (count>1000) {alert(pos); break;}\n               result += fulltext.substring(oldpos, pos);\n               if (which==0) {\n                  result += newtext; // substitute\n                  }\n               else if (which==count) {\n                  result += newtext + fulltext.substring(pos+oldtext.length);\n                  break;\n                  }\n               else {\n                  result += oldtext; // leave as was\n                  }\n               oldpos = pos + oldtext.length;\n               }\n            else { // no more\n               result += fulltext.substring(oldpos);\n               break;\n               }\n            }\n         resulttype = \"t\";\n         break;\n\n      case \"TRIM\":\n         result = operand_value[1];\n         result = result.replace(/^ */, \"\");\n         result = result.replace(/ *$/, \"\");\n         result = result.replace(/ +/g, \" \");\n         resulttype = \"t\";\n         break;\n\n      case \"HEXCODE\":\n         result = String(operand_value[1]);\n         var code = result.charCodeAt(0);\n         if (0xD800 <= code && code <= 0xDBFF) {\n             var next = result.charCodeAt(1);\n             if (0xDC00 <= next && next <= 0xDFFF) {\n                 code = ((code - 0xD800) * 0x400) + (next - 0xDC00) + 0x10000;\n             }\n         }\n         result = code.toString(16).toUpperCase();\n         resulttype = \"t\";\n         break;\n\n      case \"UPPER\":\n         result = operand_value[1].toUpperCase();\n         resulttype = \"t\";\n         break;\n\n      }\n\n   scf.PushOperand(operand, resulttype, result);\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"FIND\"] = [SocialCalc.Formula.StringFunctions, -2, \"find\", \"\", \"text\"];\nSocialCalc.Formula.FunctionList[\"LEFT\"] = [SocialCalc.Formula.StringFunctions, -2, \"tc\", \"\", \"text\"];\nSocialCalc.Formula.FunctionList[\"LEN\"] = [SocialCalc.Formula.StringFunctions, 1, \"txt\", \"\", \"text\"];\nSocialCalc.Formula.FunctionList[\"LOWER\"] = [SocialCalc.Formula.StringFunctions, 1, \"txt\", \"\", \"text\"];\nSocialCalc.Formula.FunctionList[\"MID\"] = [SocialCalc.Formula.StringFunctions, 3, \"mid\", \"\", \"text\"];\nSocialCalc.Formula.FunctionList[\"PROPER\"] = [SocialCalc.Formula.StringFunctions, 1, \"v\", \"\", \"text\"];\nSocialCalc.Formula.FunctionList[\"REPLACE\"] = [SocialCalc.Formula.StringFunctions, 4, \"replace\", \"\", \"text\"];\nSocialCalc.Formula.FunctionList[\"REPT\"] = [SocialCalc.Formula.StringFunctions, 2, \"tc\", \"\", \"text\"];\nSocialCalc.Formula.FunctionList[\"RIGHT\"] = [SocialCalc.Formula.StringFunctions, -1, \"tc\", \"\", \"text\"];\nSocialCalc.Formula.FunctionList[\"SUBSTITUTE\"] = [SocialCalc.Formula.StringFunctions, -3, \"subs\", \"\", \"text\"];\nSocialCalc.Formula.FunctionList[\"TRIM\"] = [SocialCalc.Formula.StringFunctions, 1, \"v\", \"\", \"text\"];\nSocialCalc.Formula.FunctionList[\"HEXCODE\"] = [SocialCalc.Formula.StringFunctions, 1, \"v\", \"\", \"text\"];\nSocialCalc.Formula.FunctionList[\"UPPER\"] = [SocialCalc.Formula.StringFunctions, 1, \"v\", \"\", \"text\"];\n\n/*\n#\n# is_functions:\n#\n# ISBLANK(value)\n# ISERR(value)\n# ISERROR(value)\n# ISLOGICAL(value)\n# ISNA(value)\n# ISNONTEXT(value)\n# ISNUMBER(value)\n# ISTEXT(value)\n#\n*/\n\nSocialCalc.Formula.IsFunctions = function(fname, operand, foperand, sheet) {\n\n   var scf = SocialCalc.Formula;\n   var result = 0;\n   var resulttype = \"nl\";\n\n   var value = scf.OperandValueAndType(sheet, foperand);\n   var t = value.type.charAt(0);\n\n   switch (fname) {\n\n      case \"ISBLANK\":\n         result = value.type == \"b\" ? 1 : 0;\n         break;\n\n      case \"ISERR\":\n         result = t == \"e\" ? (value.type == \"e#N/A\" ? 0 : 1) : 0;\n         break;\n\n      case \"ISERROR\":\n         result = t == \"e\" ? 1 : 0;\n         break;\n\n      case \"ISLOGICAL\":\n         result = value.type == \"nl\" ? 1 : 0;\n         break;\n\n      case \"ISNA\":\n         result = value.type == \"e#N/A\" ? 1 : 0;\n         break;\n\n      case \"ISNONTEXT\":\n         result = t == \"t\" ? 0 : 1;\n         break;\n\n      case \"ISNUMBER\":\n         result = t == \"n\" ? 1 : 0;\n         break;\n\n      case \"ISTEXT\":\n         result = t == \"t\" ? 1 : 0;\n         break;\n      }\n\n   scf.PushOperand(operand, resulttype, result);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"ISBLANK\"] = [SocialCalc.Formula.IsFunctions, 1, \"v\", \"\", \"test\"];\nSocialCalc.Formula.FunctionList[\"ISERR\"] = [SocialCalc.Formula.IsFunctions, 1, \"v\", \"\", \"test\"];\nSocialCalc.Formula.FunctionList[\"ISERROR\"] = [SocialCalc.Formula.IsFunctions, 1, \"v\", \"\", \"test\"];\nSocialCalc.Formula.FunctionList[\"ISLOGICAL\"] = [SocialCalc.Formula.IsFunctions, 1, \"v\", \"\", \"test\"];\nSocialCalc.Formula.FunctionList[\"ISNA\"] = [SocialCalc.Formula.IsFunctions, 1, \"v\", \"\", \"test\"];\nSocialCalc.Formula.FunctionList[\"ISNONTEXT\"] = [SocialCalc.Formula.IsFunctions, 1, \"v\", \"\", \"test\"];\nSocialCalc.Formula.FunctionList[\"ISNUMBER\"] = [SocialCalc.Formula.IsFunctions, 1, \"v\", \"\", \"test\"];\nSocialCalc.Formula.FunctionList[\"ISTEXT\"] = [SocialCalc.Formula.IsFunctions, 1, \"v\", \"\", \"test\"];\n\n/*\n#\n# ntv_functions:\n#\n# N(value)\n# T(value)\n# VALUE(value)\n#\n*/\n\nSocialCalc.Formula.NTVFunctions = function(fname, operand, foperand, sheet) {\n\n   var scf = SocialCalc.Formula;\n   var result = 0;\n   var resulttype = \"e#VALUE!\";\n\n   var value = scf.OperandValueAndType(sheet, foperand);\n   var t = value.type.charAt(0);\n\n   switch (fname) {\n\n      case \"N\":\n         result = t == \"n\" ? value.value-0 : 0;\n         resulttype = \"n\";\n         break;\n\n      case \"T\":\n         result = t == \"t\" ? value.value+\"\" : \"\";\n         resulttype = \"t\";\n         break;\n\n      case \"VALUE\":\n         if (t == \"n\" || t == \"b\") {\n            result = value.value || 0;\n            resulttype = \"n\";\n            }\n         else if (t == \"t\") {\n            value = SocialCalc.DetermineValueType(value.value);\n            if (value.type.charAt(0) != \"n\") {\n               result = 0;\n               resulttype = \"e#VALUE!\";\n               }\n            else {\n               result = value.value-0;\n               resulttype = \"n\";\n               }\n            }\n         break;\n      }\n\n   if (t == \"e\") { // error trumps\n      resulttype = value.type;\n      }\n\n   scf.PushOperand(operand, resulttype, result);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"N\"] = [SocialCalc.Formula.NTVFunctions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"T\"] = [SocialCalc.Formula.NTVFunctions, 1, \"v\", \"\", \"text\"];\nSocialCalc.Formula.FunctionList[\"VALUE\"] = [SocialCalc.Formula.NTVFunctions, 1, \"v\", \"\", \"text\"];\n\n/*\n#\n# ABS(value)\n# ACOS(value)\n# ASIN(value)\n# ATAN(value)\n# COS(value)\n# DEGREES(value)\n# EVEN(value)\n# EXP(value)\n# FACT(value)\n# INT(value)\n# LN(value)\n# LOG10(value)\n# ODD(value)\n# RADIANS(value)\n# SIN(value)\n# SQRT(value)\n# TAN(value)\n#\n*/\n\nSocialCalc.Formula.Math1Functions = function(fname, operand, foperand, sheet) {\n\n   var v1, value, f;\n   var result = {};\n\n   var scf = SocialCalc.Formula;\n\n   v1 = scf.OperandAsNumber(sheet, foperand);\n   value = v1.value;\n   result.type = scf.LookupResultType(v1.type, v1.type, scf.TypeLookupTable.oneargnumeric);\n\n   if (result.type == \"n\") {\n      switch (fname) {\n         case \"ABS\":\n            value = Math.abs(value);\n            break;\n\n         case \"ACOS\":\n            if (value >= -1 && value <= 1) {\n               value = Math.acos(value);\n               }\n            else {\n               result.type = \"e#NUM!\";\n               }\n            break;\n\n         case \"ASIN\":\n            if (value >= -1 && value <= 1) {\n               value = Math.asin(value);\n               }\n            else {\n               result.type = \"e#NUM!\";\n               }\n            break;\n\n         case \"ATAN\":\n            value = Math.atan(value);\n            break;\n\n         case \"COS\":\n            value = Math.cos(value);\n            break;\n\n         case \"DEGREES\":\n            value = value * 180/Math.PI;\n            break;\n\n         case \"EVEN\":\n            value = value < 0 ? -value : value;\n            if (value != Math.floor(value)) {\n               value = Math.floor(value + 1) + (Math.floor(value + 1) % 2);\n               }\n            else { // integer\n               value = value + (value % 2);\n               }\n            if (v1.value < 0) value = -value;\n            break;\n\n         case \"EXP\":\n            value = Math.exp(value);\n            break;\n\n         case \"FACT\":\n            f = 1;\n            value = Math.floor(value);\n            for (;value>0;value--) {\n               f *= value;\n               }\n            value = f;\n            break;\n\n         case \"INT\":\n            value = Math.floor(value); // spreadsheet INT is floor(), not int()\n            break;\n\n         case \"LN\":\n            if (value <= 0) {\n               result.type = \"e#NUM!\";\n               result.error = SocialCalc.Constants.s_sheetfunclnarg;\n               }\n            value = Math.log(value);\n            break;\n\n         case \"LOG10\":\n            if (value <= 0) {\n               result.type = \"e#NUM!\";\n               result.error = SocialCalc.Constants.s_sheetfunclog10arg;\n               }\n            value = Math.log(value)/Math.log(10);\n            break;\n\n         case \"ODD\":\n            value = value < 0 ? -value : value;\n            if (value != Math.floor(value)) {\n               value = Math.floor(value + 1) + (1 - (Math.floor(value + 1) % 2));\n               }\n            else { // integer\n               value = value + (1 - (value % 2));\n               }\n            if (v1.value < 0) value = -value;\n            break;\n\n         case \"RADIANS\":\n            value = value * Math.PI/180;\n            break;\n\n         case \"SIN\":\n            value = Math.sin(value);\n            break;\n\n         case \"SQRT\":\n            if (value >= 0) {\n               value = Math.sqrt(value);\n               }\n            else {\n               result.type = \"e#NUM!\";\n               }\n            break;\n\n         case \"TAN\":\n            if (Math.cos(value) != 0) {\n               value = Math.tan(value);\n               }\n            else {\n               result.type = \"e#NUM!\";\n               }\n            break;\n         }\n      }\n\n   result.value = value;\n   operand.push(result);\n\n   return null;\n\n   }\n\n// Add to function list\nSocialCalc.Formula.FunctionList[\"ABS\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"ACOS\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"ASIN\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"ATAN\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"COS\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"DEGREES\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"EVEN\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"EXP\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"FACT\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"INT\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"LN\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"LOG10\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"ODD\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"RADIANS\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"SIN\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"SQRT\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"TAN\"] = [SocialCalc.Formula.Math1Functions, 1, \"v\", \"\", \"math\"];\n\n\n/*\n#\n# ATAN2(x, y)\n# MOD(a, b)\n# POWER(a, b)\n# TRUNC(value, precision)\n#\n*/\n\nSocialCalc.Formula.Math2Functions = function(fname, operand, foperand, sheet) {\n\n   var xval, yval, value, quotient, decimalscale, i;\n   var result = {};\n\n   var scf = SocialCalc.Formula;\n\n   xval = scf.OperandAsNumber(sheet, foperand);\n   yval = scf.OperandAsNumber(sheet, foperand);\n   value = 0;\n   result.type = scf.LookupResultType(xval.type, yval.type, scf.TypeLookupTable.twoargnumeric);\n\n   if (result.type == \"n\") {\n      switch (fname) {\n         case \"ATAN2\":\n            if (xval.value == 0 && yval.value == 0) {\n               result.type = \"e#DIV/0!\";\n               }\n            else {\n               result.value = Math.atan2(yval.value, xval.value);\n               }\n            break;\n\n         case \"POWER\":\n            result.value = Math.pow(xval.value, yval.value);\n            if (isNaN(result.value)) {\n               result.value = 0;\n               result.type = \"e#NUM!\";\n               }\n            break;\n\n         case \"MOD\": // en.wikipedia.org/wiki/Modulo_operation, etc.\n            if (yval.value == 0) {\n               result.type = \"e#DIV/0!\";\n               }\n            else {\n               quotient = xval.value/yval.value;\n               quotient = Math.floor(quotient);\n               result.value = xval.value - (quotient * yval.value);\n               }\n            break;\n\n         case \"TRUNC\":\n            decimalscale = 1; // cut down to required number of decimal digits\n            if (yval.value >= 0) {\n               yval.value = Math.floor(yval.value);\n               for (i=0; i<yval.value; i++) {\n                  decimalscale *= 10;\n                  }\n               result.value = Math.floor(Math.abs(xval.value) * decimalscale) / decimalscale;\n               }\n            else if (yval.value < 0) {\n               yval.value = Math.floor(-yval.value);\n               for (i=0; i<yval.value; i++) {\n                  decimalscale *= 10;\n                  }\n               result.value = Math.floor(Math.abs(xval.value) / decimalscale) * decimalscale;\n               }\n            if (xval.value < 0) {\n               result.value = -result.value;\n               }\n            }\n         }\n \n   operand.push(result);\n\n   return null;\n\n   }\n\n// Add to function list\nSocialCalc.Formula.FunctionList[\"ATAN2\"] = [SocialCalc.Formula.Math2Functions, 2, \"xy\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"MOD\"] = [SocialCalc.Formula.Math2Functions, 2, \"\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"POWER\"] = [SocialCalc.Formula.Math2Functions, 2, \"\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"TRUNC\"] = [SocialCalc.Formula.Math2Functions, 2, \"valpre\", \"\", \"math\"];\n\n/*\n#\n# LOG(value,[base])\n#\n*/\n\nSocialCalc.Formula.LogFunction = function(fname, operand, foperand, sheet) {\n\n   var value, value2;\n   var result = {};\n\n   var scf = SocialCalc.Formula;\n\n   result.value = 0;\n\n   value = scf.OperandAsNumber(sheet, foperand);\n   result.type = scf.LookupResultType(value.type, value.type, scf.TypeLookupTable.oneargnumeric);\n   if (foperand.length == 1) {\n      value2 = scf.OperandAsNumber(sheet, foperand);\n      if (value2.type.charAt(0) != \"n\" || value2.value <= 0) {\n         scf.FunctionSpecificError(fname, operand, \"e#NUM!\", SocialCalc.Constants.s_sheetfunclogsecondarg);\n         return 0;\n         }\n      }\n   else if (foperand.length != 0) {\n      scf.FunctionArgsError(fname, operand);\n      return 0;\n      }\n   else {\n      value2 = {value: Math.E, type: \"n\"};\n      }\n\n   if (result.type == \"n\") {\n      if (value.value <= 0) {\n         scf.FunctionSpecificError(fname, operand, \"e#NUM!\", SocialCalc.Constants.s_sheetfunclogfirstarg);\n         return 0;\n         }\n      result.value = Math.log(value.value)/Math.log(value2.value);\n      }\n\n   operand.push(result);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"LOG\"] = [SocialCalc.Formula.LogFunction, -1, \"log\", \"\", \"math\"];\n\n\n/*\n#\n# ROUND(value,[precision])\n#\n*/\n\nSocialCalc.Formula.RoundFunction = function(fname, operand, foperand, sheet) {\n\n   var value2, decimalscale, scaledvalue, i;\n\n   var scf = SocialCalc.Formula;\n   var result = 0;\n   var resulttype = \"e#VALUE!\";\n\n   var value = scf.OperandValueAndType(sheet, foperand);\n   var resulttype = scf.LookupResultType(value.type, value.type, scf.TypeLookupTable.oneargnumeric);\n\n   if (foperand.length == 1) {\n      value2 = scf.OperandValueAndType(sheet, foperand);\n      if (value2.type.charAt(0) != \"n\") {\n         scf.FunctionSpecificError(fname, operand, \"e#NUM!\", SocialCalc.Constants.s_sheetfuncroundsecondarg);\n         return 0;\n         }\n      }\n   else if (foperand.length != 0) {\n      scf.FunctionArgsError(fname, operand);\n      return 0;\n      }\n   else {\n      value2 = {value: 0, type: \"n\"}; // if no second arg, assume 0 for simple round\n      }\n\n   if (resulttype == \"n\") {\n      value2.value = value2.value-0;\n      if (value2.value == 0) {\n         result = Math.round(value.value);\n         }\n      else if (value2.value > 0) {\n         decimalscale = 1; // cut down to required number of decimal digits\n         value2.value = Math.floor(value2.value);\n         for (i=0; i<value2.value; i++) {\n            decimalscale *= 10;\n            }\n         scaledvalue = Math.round(value.value * decimalscale);\n         result = scaledvalue / decimalscale;\n         }\n      else if (value2.value < 0) {\n         decimalscale = 1; // cut down to required number of decimal digits\n         value2.value = Math.floor(-value2.value);\n         for (i=0; i<value2.value; i++) {\n            decimalscale *= 10;\n            }\n         scaledvalue = Math.round(value.value / decimalscale);\n         result = scaledvalue * decimalscale;\n         }\n      }\n\n   scf.PushOperand(operand, resulttype, result);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"ROUND\"] = [SocialCalc.Formula.RoundFunction, -1, \"vp\", \"\", \"math\"];\n\n/*\n#\n# CEILING(value, [significance])\n# FLOOR(value, [significance])\n#\n*/\n\nSocialCalc.Formula.CeilingFloorFunctions = function(fname, operand, foperand, sheet) {\n\n   var scf = SocialCalc.Formula;\n   var val, sig, t;\n\n   var PushOperand = function(t, v) {operand.push({type: t, value: v});};\n\n   val = scf.OperandValueAndType(sheet, foperand);\n   t = val.type.charAt(0);\n   if (t != \"n\") {\n      PushOperand(\"e#VALUE!\", 0);\n      return;\n      }\n   if (val.value == 0) {\n      PushOperand(\"n\", 0);\n      return;\n      }\n\n   if (foperand.length == 1) {\n      sig = scf.OperandValueAndType(sheet, foperand);\n      t = val.type.charAt(0);\n      if (t != \"n\") {\n         PushOperand(\"e#VALUE!\", 0);\n         return;\n         }\n      }\n   else if (foperand.length == 0) {\n      sig = {type: \"n\", value: val.value > 0 ? 1 : -1};\n      }\n   else {\n      PushOperand(\"e#VALUE!\", 0);\n      return;\n      }\n   if (sig.value == 0) {\n      PushOperand(\"n\", 0);\n      return;\n      }\n   if (sig.value * val.value < 0) {\n      PushOperand(\"e#NUM!\", 0);\n      return;\n      }\n\n   switch (fname) {\n      case \"CEILING\":\n         PushOperand(\"n\", Math.ceil(val.value / sig.value) * sig.value);\n         break;\n      case \"FLOOR\":\n         PushOperand(\"n\", Math.floor(val.value / sig.value) * sig.value);\n         break;\n      }\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"CEILING\"] = [SocialCalc.Formula.CeilingFloorFunctions, -1, \"vsig\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"FLOOR\"] = [SocialCalc.Formula.CeilingFloorFunctions, -1, \"vsig\", \"\", \"math\"];\n\n/*\n#\n# AND(v1,c1:c2,...)\n# OR(v1,c1:c2,...)\n#\n*/\n\nSocialCalc.Formula.AndOrFunctions = function(fname, operand, foperand, sheet) {\n\n   var value1, result;\n\n   var scf = SocialCalc.Formula;\n   var resulttype = \"\";\n\n   if (fname == \"AND\") {\n      result = 1;\n      }\n   else if (fname == \"OR\") {\n      result = 0;\n      }\n\n   while (foperand.length) {\n      value1 = scf.OperandValueAndType(sheet, foperand);\n      if (value1.type.charAt(0) == \"n\") {\n         value1.value = value1.value-0;\n         if (fname == \"AND\") {\n            result = value1.value != 0 ? result : 0;\n            }\n         else if (fname == \"OR\") {\n            result = value1.value != 0 ? 1 : result;\n            }\n         resulttype = scf.LookupResultType(value1.type, resulttype || \"nl\", scf.TypeLookupTable.propagateerror);\n         }\n      else if (value1.type.charAt(0) == \"e\" && resulttype.charAt(0) != \"e\") {\n         resulttype = value1.type;\n         }\n      }\n   if (resulttype.length < 1) {\n      resulttype = \"e#VALUE!\";\n      result = 0;\n      }\n\n   scf.PushOperand(operand, resulttype, result);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"AND\"] = [SocialCalc.Formula.AndOrFunctions, -1, \"vn\", \"\", \"test\"];\nSocialCalc.Formula.FunctionList[\"OR\"] = [SocialCalc.Formula.AndOrFunctions, -1, \"vn\", \"\", \"test\"];\n\n/*\n#\n# NOT(value)\n#\n*/\n\nSocialCalc.Formula.NotFunction = function(fname, operand, foperand, sheet) {\n\n   var result = 0;\n   var scf = SocialCalc.Formula;\n   var value = scf.OperandValueAndType(sheet, foperand);\n   var resulttype = scf.LookupResultType(value.type, value.type, scf.TypeLookupTable.propagateerror);\n\n   if (value.type.charAt(0) == \"n\" || value.type == \"b\") {\n      result = value.value-0 != 0 ? 0 : 1; // do the \"not\" operation\n      resulttype = \"nl\";\n      }\n   else if (value.type.charAt(0) == \"t\") {\n      resulttype = \"e#VALUE!\";\n      }\n\n   scf.PushOperand(operand, resulttype, result);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"NOT\"] = [SocialCalc.Formula.NotFunction, 1, \"v\", \"\", \"test\"];\n\n/*\n#\n# CHOOSE(index,value1,value2,...)\n#\n*/\n\nSocialCalc.Formula.ChooseFunction = function(fname, operand, foperand, sheet) {\n\n   var resulttype, count, value1;\n   var result = 0;\n   var scf = SocialCalc.Formula;\n\n   var cindex = scf.OperandAsNumber(sheet, foperand);\n\n   if (cindex.type.charAt(0) != \"n\") {\n      cindex.value = 0;\n      }\n   cindex.value = Math.floor(cindex.value);\n\n   count = 0;\n   while (foperand.length) {\n      value1 = scf.TopOfStackValueAndType(sheet, foperand);\n      count += 1;\n      if (cindex.value == count) {\n         result = value1.value;\n         resulttype = value1.type;\n         break;\n         }\n      }\n   if (resulttype) { // found something\n      scf.PushOperand(operand, resulttype, result);\n      }\n   else {\n      scf.PushOperand(operand, \"e#VALUE!\", 0);\n      }\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"CHOOSE\"] = [SocialCalc.Formula.ChooseFunction, -2, \"choose\", \"\", \"lookup\"];\n\n/*\n#\n# COLUMNS(c1:c2)\n# ROWS(c1:c2)\n#\n*/\n\nSocialCalc.Formula.ColumnsRowsFunctions = function(fname, operand, foperand, sheet) {\n\n   var resulttype, rangeinfo;\n   var result = 0;\n   var scf = SocialCalc.Formula;\n\n   var value1 = scf.TopOfStackValueAndType(sheet, foperand);\n\n   if (value1.type == \"coord\") {\n      result = 1;\n      resulttype = \"n\";\n      }\n\n   else if (value1.type == \"range\") {\n      rangeinfo = scf.DecodeRangeParts(sheet, value1.value);\n      if (fname == \"COLUMNS\") {\n         result = rangeinfo.ncols;\n         }\n      else if (fname == \"ROWS\") {\n         result = rangeinfo.nrows;\n         }\n      resulttype = \"n\";\n      }\n   else {\n      result = 0;\n      resulttype = \"e#VALUE!\";\n      }\n\n   scf.PushOperand(operand, resulttype, result);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"COLUMNS\"] = [SocialCalc.Formula.ColumnsRowsFunctions, 1, \"range\", \"\", \"lookup\"];\nSocialCalc.Formula.FunctionList[\"ROWS\"] = [SocialCalc.Formula.ColumnsRowsFunctions, 1, \"range\", \"\", \"lookup\"];\n\n\n/*\n#\n# FALSE()\n# NA()\n# NOW()\n# PI()\n# TODAY()\n# TRUE()\n# RAND()\n#\n*/\n\nSocialCalc.Formula.ZeroArgFunctions = function(fname, operand, foperand, sheet) {\n\n   var startval, tzoffset, start_1_1_1970, seconds_in_a_day, nowdays;\n   var result = {value: 0};\n   \n   switch (fname) {\n      case \"FALSE\":\n         result.type = \"nl\";\n         result.value = 0;\n         break;\n\n      case \"NA\":\n         result.type = \"e#N/A\";\n         break;\n\n      case \"NOW\":\n         startval = new Date();\n         tzoffset = startval.getTimezoneOffset();\n         startval = startval.getTime() / 1000; // convert to seconds\n         start_1_1_1970 = 25569; // Day number of 1/1/1970 starting with 1/1/1900 as 1\n         seconds_in_a_day = 24 * 60 * 60;\n         nowdays = start_1_1_1970 + startval / seconds_in_a_day - tzoffset/(24*60);\n         result.value = nowdays;\n         result.type = \"ndt\";\n         SocialCalc.Formula.FreshnessInfo.volatile.NOW = true; // remember\n         break;\n\n      case \"PI\":\n         result.type = \"n\";\n         result.value = Math.PI;\n         break;\n\n      case \"TODAY\":\n         startval = new Date();\n         tzoffset = startval.getTimezoneOffset();\n         startval = startval.getTime() / 1000; // convert to seconds\n         start_1_1_1970 = 25569; // Day number of 1/1/1970 starting with 1/1/1900 as 1\n         seconds_in_a_day = 24 * 60 * 60;\n         nowdays = start_1_1_1970 + startval / seconds_in_a_day - tzoffset/(24*60);\n         result.value = Math.floor(nowdays);\n         result.type = \"nd\";\n         SocialCalc.Formula.FreshnessInfo.volatile.TODAY = true; // remember\n         break;\n\n      case \"TRUE\":\n         result.type = \"nl\";\n         result.value = 1;\n         break;\n\n      case \"RAND\":\n         result.type = \"n\";\n         result.value = Math.random();\n         SocialCalc.Formula.FreshnessInfo.volatile.RAND = true; // remember\n         break;\n\n      }\n\n\n   operand.push(result);\n\n   return null;\n\n}\n\n// Add to function list\nSocialCalc.Formula.FunctionList[\"FALSE\"] = [SocialCalc.Formula.ZeroArgFunctions, 0, \"\", \"\", \"test\"];\nSocialCalc.Formula.FunctionList[\"NA\"] = [SocialCalc.Formula.ZeroArgFunctions, 0, \"\", \"\", \"test\"];\nSocialCalc.Formula.FunctionList[\"NOW\"] = [SocialCalc.Formula.ZeroArgFunctions, 0, \"\", \"\", \"datetime\"];\nSocialCalc.Formula.FunctionList[\"RAND\"] = [SocialCalc.Formula.ZeroArgFunctions, 0, \"\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"PI\"] = [SocialCalc.Formula.ZeroArgFunctions, 0, \"\", \"\", \"math\"];\nSocialCalc.Formula.FunctionList[\"TODAY\"] = [SocialCalc.Formula.ZeroArgFunctions, 0, \"\", \"\", \"datetime\"];\nSocialCalc.Formula.FunctionList[\"TRUE\"] = [SocialCalc.Formula.ZeroArgFunctions, 0, \"\", \"\", \"test\"];\n\n//\n// * * * * * FINANCIAL FUNCTIONS * * * * *\n//\n\n/*\n#\n# DDB(cost,salvage,lifetime,period,[method])\n#\n# Depreciation, method defaults to 2 for double-declining balance\n# See: http://en.wikipedia.org/wiki/Depreciation\n#\n*/\n\nSocialCalc.Formula.DDBFunction = function(fname, operand, foperand, sheet) {\n\n   var method, depreciation, accumulateddepreciation, i;\n   var scf = SocialCalc.Formula;\n\n   var cost = scf.OperandAsNumber(sheet, foperand);\n   var salvage = scf.OperandAsNumber(sheet, foperand);\n   var lifetime = scf.OperandAsNumber(sheet, foperand);\n   var period = scf.OperandAsNumber(sheet, foperand);\n\n   if (scf.CheckForErrorValue(operand, cost)) return;\n   if (scf.CheckForErrorValue(operand, salvage)) return;\n   if (scf.CheckForErrorValue(operand, lifetime)) return;\n   if (scf.CheckForErrorValue(operand, period)) return;\n\n   if (lifetime.value < 1) {\n      scf.FunctionSpecificError(fname, operand, \"e#NUM!\", SocialCalc.Constants.s_sheetfuncddblife);\n      return 0;\n      }\n\n   method = {value: 2, type: \"n\"};\n   if (foperand.length > 0 ) {\n      method = scf.OperandAsNumber(sheet, foperand);\n      }\n   if (foperand.length != 0) {\n      scf.FunctionArgsError(fname, operand);\n      return 0;\n      }\n   if (scf.CheckForErrorValue(operand, method)) return;\n\n   depreciation = 0; // calculated for each period\n   accumulateddepreciation = 0; // accumulated by adding each period's\n\n   for (i=1; i<=period.value-0 && i<=lifetime.value; i++) { // calculate for each period based on net from previous\n      depreciation = (cost.value - accumulateddepreciation) * (method.value / lifetime.value);\n      if (cost.value - accumulateddepreciation - depreciation < salvage.value) { // don't go lower than salvage value\n         depreciation = cost.value - accumulateddepreciation - salvage.value;\n         }\n      accumulateddepreciation += depreciation;\n      }\n\n   scf.PushOperand(operand, 'n$', depreciation);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"DDB\"] = [SocialCalc.Formula.DDBFunction, -4, \"ddb\", \"\", \"financial\"];\n\n/*\n#\n# SLN(cost,salvage,lifetime)\n#\n# Depreciation for each period by straight-line method\n# See: http://en.wikipedia.org/wiki/Depreciation\n#\n*/\n\nSocialCalc.Formula.SLNFunction = function(fname, operand, foperand, sheet) {\n\n   var depreciation;\n   var scf = SocialCalc.Formula;\n\n   var cost = scf.OperandAsNumber(sheet, foperand);\n   var salvage = scf.OperandAsNumber(sheet, foperand);\n   var lifetime = scf.OperandAsNumber(sheet, foperand);\n\n   if (scf.CheckForErrorValue(operand, cost)) return;\n   if (scf.CheckForErrorValue(operand, salvage)) return;\n   if (scf.CheckForErrorValue(operand, lifetime)) return;\n\n   if (lifetime.value < 1) {\n      scf.FunctionSpecificError(fname, operand, \"e#NUM!\", SocialCalc.Constants.s_sheetfuncslnlife);\n      return 0;\n      }\n\n   depreciation = (cost.value - salvage.value) / lifetime.value;\n\n   scf.PushOperand(operand, 'n$', depreciation);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"SLN\"] = [SocialCalc.Formula.SLNFunction, 3, \"csl\", \"\", \"financial\"];\n\n/*\n#\n# SYD(cost,salvage,lifetime,period)\n#\n# Depreciation by Sum of Year's Digits method\n#\n*/\n\nSocialCalc.Formula.SYDFunction = function(fname, operand, foperand, sheet) {\n\n   var depreciation, sumperiods;\n   var scf = SocialCalc.Formula;\n\n   var cost = scf.OperandAsNumber(sheet, foperand);\n   var salvage = scf.OperandAsNumber(sheet, foperand);\n   var lifetime = scf.OperandAsNumber(sheet, foperand);\n   var period = scf.OperandAsNumber(sheet, foperand);\n\n   if (scf.CheckForErrorValue(operand, cost)) return;\n   if (scf.CheckForErrorValue(operand, salvage)) return;\n   if (scf.CheckForErrorValue(operand, lifetime)) return;\n   if (scf.CheckForErrorValue(operand, period)) return;\n\n   if (lifetime.value < 1 || period.value <= 0) {\n      scf.PushOperand(operand, \"e#NUM!\", 0);\n      return 0;\n      }\n\n   sumperiods = ((lifetime.value + 1) * lifetime.value)/2; // add up 1 through lifetime\n   depreciation = (cost.value - salvage.value) * (lifetime.value - period.value + 1) / sumperiods; // calc depreciation\n\n   scf.PushOperand(operand, 'n$', depreciation);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"SYD\"] = [SocialCalc.Formula.SYDFunction, 4, \"cslp\", \"\", \"financial\"];\n\n/*\n#\n# FV(rate, n, payment, [pv, [paytype]])\n# NPER(rate, payment, pv, [fv, [paytype]])\n# PMT(rate, n, pv, [fv, [paytype]])\n# PV(rate, n, payment, [fv, [paytype]])\n# RATE(n, payment, pv, [fv, [paytype, [guess]]])\n#\n# Following the Open Document Format formula specification:\n#\n#    PV = - Fv - (Payment * Nper) [if rate equals 0]\n#    Pv*(1+Rate)^Nper + Payment * (1 + Rate*PaymentType) * ( (1+Rate)^nper -1)/Rate + Fv = 0\n#\n# For each function, the formulas are solved for the appropriate value (transformed using\n# basic algebra).\n#\n*/\n\nSocialCalc.Formula.InterestFunctions = function(fname, operand, foperand, sheet) {\n\n   var resulttype, result, dval, eval, fval;\n   var pv, fv, rate, n, payment, paytype, guess, part1, part2, part3, part4, part5;\n   var olddelta, maxloop, tries, deltaepsilon, rate, oldrate, m;\n\n   var scf = SocialCalc.Formula;\n\n   var aval = scf.OperandAsNumber(sheet, foperand);\n   var bval = scf.OperandAsNumber(sheet, foperand);\n   var cval = scf.OperandAsNumber(sheet, foperand);\n\n   resulttype = scf.LookupResultType(aval.type, bval.type, scf.TypeLookupTable.twoargnumeric);\n   resulttype = scf.LookupResultType(resulttype, cval.type, scf.TypeLookupTable.twoargnumeric);\n   if (foperand.length) { // optional arguments\n      dval = scf.OperandAsNumber(sheet, foperand);\n      resulttype = scf.LookupResultType(resulttype, dval.type, scf.TypeLookupTable.twoargnumeric);\n      if (foperand.length) { // optional arguments\n         eval = scf.OperandAsNumber(sheet, foperand);\n         resulttype = scf.LookupResultType(resulttype, eval.type, scf.TypeLookupTable.twoargnumeric);\n         if (foperand.length) { // optional arguments\n            if (fname != \"RATE\") { // only rate has 6 possible args\n               scf.FunctionArgsError(fname, operand);\n               return 0;\n               }\n            fval = scf.OperandAsNumber(sheet, foperand);\n            resulttype = scf.LookupResultType(resulttype, fval.type, scf.TypeLookupTable.twoargnumeric);\n            }\n         }\n      }\n\n   if (resulttype == \"n\") {\n      switch (fname) {\n         case \"FV\": // FV(rate, n, payment, [pv, [paytype]])\n            rate = aval.value;\n            n = bval.value;\n            payment = cval.value;\n            pv = dval!=null ? dval.value : 0; // get value if present, or use default\n            paytype = eval!=null ? (eval.value ? 1 : 0) : 0;\n            if (rate == 0) { // simple calculation if no interest\n               fv = -pv - (payment * n);\n               }\n            else {\n               fv = -(pv*Math.pow(1+rate,n) + payment * (1 + rate*paytype) * ( Math.pow(1+rate,n) -1)/rate);\n               }\n            result = fv;\n            resulttype = 'n$';\n            break;\n\n         case \"NPER\": // NPER(rate, payment, pv, [fv, [paytype]])\n            rate = aval.value;\n            payment = bval.value;\n            pv = cval.value;\n            fv = dval!=null ? dval.value : 0;\n            paytype = eval!=null ? (eval.value ? 1 : 0) : 0;\n            if (rate == 0) { // simple calculation if no interest\n               if (payment == 0) {\n                  scf.PushOperand(operand, \"e#NUM!\", 0);\n                  return;\n                  }\n               n = (pv + fv)/(-payment);\n               }\n            else {\n               part1 = payment * (1 + rate * paytype) / rate;\n               part2 = pv + part1;\n               if (part2 == 0 || rate <= -1) {\n                  scf.PushOperand(operand, \"e#NUM!\", 0);\n                  return;\n                  }\n               part3 = (part1 - fv) / part2;\n               if (part3 <= 0) {\n                  scf.PushOperand(operand, \"e#NUM!\", 0);\n                  return;\n                  }\n               part4 = Math.log(part3);\n               part5 = Math.log(1 + rate); // rate > -1\n               n = part4/part5;\n               }\n            result = n;\n            resulttype = 'n';\n            break;\n\n         case \"PMT\": // PMT(rate, n, pv, [fv, [paytype]])\n            rate = aval.value;\n            n = bval.value;\n            pv = cval.value;\n            fv = dval!=null ? dval.value : 0;\n            paytype = eval!=null ? (eval.value ? 1 : 0) : 0;\n            if (n == 0) {\n               scf.PushOperand(operand, \"e#NUM!\", 0);\n               return;\n               }\n            else if (rate == 0) { // simple calculation if no interest\n               payment = (fv - pv)/n;\n               }\n            else {\n               payment = (0 - fv - pv*Math.pow(1+rate,n))/((1 + rate*paytype) * ( Math.pow(1+rate,n) -1)/rate);\n               }\n            result = payment;\n            resulttype = 'n$';\n            break;\n\n         case \"PV\": // PV(rate, n, payment, [fv, [paytype]])\n            rate = aval.value;\n            n = bval.value;\n            payment = cval.value;\n            fv = dval!=null ? dval.value : 0;\n            paytype = eval!=null ? (eval.value ? 1 : 0) : 0;\n            if (rate == -1) {\n               scf.PushOperand(operand, \"e#DIV/0!\", 0);\n               return;\n               }\n            else if (rate == 0) { // simple calculation if no interest\n               pv = -fv - (payment * n);\n               }\n            else {\n               pv = (-fv - payment * (1 + rate*paytype) * ( Math.pow(1+rate,n) -1)/rate)/(Math.pow(1+rate,n));\n               }\n            result = pv;\n            resulttype = 'n$';\n            break;\n\n            case \"RATE\": // RATE(n, payment, pv, [fv, [paytype, [guess]]])\n               n = aval.value;\n               payment = bval.value;\n               pv = cval.value;\n               fv = dval!=null ? dval.value : 0;\n               paytype = eval!=null ? (eval.value ? 1 : 0) : 0;\n               guess = fval!=null ? fval.value : 0.1;\n\n               // rate is calculated by repeated approximations\n               // The deltas are used to calculate new guesses\n\n               maxloop = 100;\n               tries = 0;\n               delta = 1;\n               epsilon = 0.0000001; // this is close enough\n               rate = guess || 0.00000001; // zero is not allowed\n               while ((delta >= 0 ? delta : -delta) > epsilon && (rate != oldrate)) {\n                  delta = fv + pv*Math.pow(1+rate,n) + payment * (1 + rate*paytype) * ( Math.pow(1+rate,n) -1)/rate;\n                  if (olddelta!=null) {\n                     m = (delta - olddelta)/(rate - oldrate) || .001; // get slope (not zero)\n                     oldrate = rate;\n                     rate = rate - delta / m; // look for zero crossing\n                     olddelta = delta;\n                     }\n                  else { // first time - no old values\n                     oldrate = rate;\n                     rate = 1.1 * rate;\n                     olddelta = delta;\n                     }\n                  tries++;\n                  if (tries >= maxloop) { // didn't converge yet\n                     scf.PushOperand(operand, \"e#NUM!\", 0);\n                     return;\n                     }\n                  }\n               result = rate;\n               resulttype = 'n%';\n               break;\n         }\n      }\n \n   scf.PushOperand(operand, resulttype, result);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"FV\"] = [SocialCalc.Formula.InterestFunctions, -3, \"fv\", \"\", \"financial\"];\nSocialCalc.Formula.FunctionList[\"NPER\"] = [SocialCalc.Formula.InterestFunctions, -3, \"nper\", \"\", \"financial\"];\nSocialCalc.Formula.FunctionList[\"PMT\"] = [SocialCalc.Formula.InterestFunctions, -3, \"pmt\", \"\", \"financial\"];\nSocialCalc.Formula.FunctionList[\"PV\"] = [SocialCalc.Formula.InterestFunctions, -3, \"pv\", \"\", \"financial\"];\nSocialCalc.Formula.FunctionList[\"RATE\"] = [SocialCalc.Formula.InterestFunctions, -3, \"rate\", \"\", \"financial\"];\n\n/*\n#\n# NPV(rate,v1,v2,c1:c2,...)\n#\n*/\n\nSocialCalc.Formula.NPVFunction = function(fname, operand, foperand, sheet) {\n\n   var resulttypenpv, rate, sum, factor, value1;\n\n   var scf = SocialCalc.Formula;\n\n   var rate = scf.OperandAsNumber(sheet, foperand);\n   if (scf.CheckForErrorValue(operand, rate)) return;\n\n   sum = 0;\n   resulttypenpv = \"n\";\n   factor = 1;\n\n   while (foperand.length) {\n      value1 = scf.OperandValueAndType(sheet, foperand);\n      if (value1.type.charAt(0) == \"n\") {\n         factor *= (1 + rate.value);\n         if (factor == 0) {\n            scf.PushOperand(operand, \"e#DIV/0!\", 0);\n            return;\n            }\n         sum += value1.value / factor;\n         resulttypenpv = scf.LookupResultType(value1.type, resulttypenpv || value1.type, scf.TypeLookupTable.plus);\n         }\n      else if (value1.type.charAt(0) == \"e\" && resulttypenpv.charAt(0) != \"e\") {\n         resulttypenpv = value1.type;\n         break;\n         }\n      }\n\n   if (resulttypenpv.charAt(0) == \"n\") {\n      resulttypenpv = 'n$';\n      }\n\n   scf.PushOperand(operand, resulttypenpv, sum);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"NPV\"] = [SocialCalc.Formula.NPVFunction, -2, \"npv\", \"\", \"financial\"];\n\n/*\n#\n# IRR(c1:c2,[guess])\n#\n*/\n\nSocialCalc.Formula.IRRFunction = function(fname, operand, foperand, sheet) {\n\n   var value1, guess, oldsum, maxloop, tries, epsilon, rate, oldrate, m, sum, factor, i;\n   var rangeoperand = [];\n   var cashflows = [];\n\n   var scf = SocialCalc.Formula;\n\n   rangeoperand.push(foperand.pop()); // first operand is a range\n\n   while (rangeoperand.length) { // get values from range so we can do iterative approximations\n      value1 = scf.OperandValueAndType(sheet, rangeoperand);\n      if (value1.type.charAt(0) == \"n\") {\n         cashflows.push(value1.value);\n         }\n      else if (value1.type.charAt(0) == \"e\") {\n         scf.PushOperand(operand, \"e#VALUE!\", 0);\n         return;\n         }\n      }\n\n   if (!cashflows.length) {\n      scf.PushOperand(operand, \"e#NUM!\", 0);\n      return;\n      }\n\n   guess = {value: 0};\n\n   if (foperand.length) { // guess is provided\n      guess = scf.OperandAsNumber(sheet, foperand);\n      if (guess.type.charAt(0) != \"n\" && guess.type.charAt(0) != \"b\") {\n         scf.PushOperand(operand, \"e#VALUE!\", 0);\n         return;\n         }\n      if (foperand.length) { // should be no more args\n         scf.FunctionArgsError(fname, operand);\n         return;\n         }\n      }\n\n   guess.value = guess.value || 0.1;\n\n   // rate is calculated by repeated approximations\n   // The deltas are used to calculate new guesses\n\n   maxloop = 20;\n   tries = 0;\n   epsilon = 0.0000001; // this is close enough\n   rate = guess.value;\n   sum = 1;\n\n   while ((sum >= 0 ? sum : -sum) > epsilon && (rate != oldrate)) {\n      sum = 0;\n      factor = 1;\n      for (i=0; i<cashflows.length; i++) {\n         factor *= (1 + rate);\n         if (factor == 0) {\n            scf.PushOperand(operand, \"e#DIV/0!\", 0);\n            return;\n            }\n         sum += cashflows[i] / factor;\n         }\n\n      if (oldsum!=null) {\n         m = (sum - oldsum)/(rate - oldrate); // get slope\n         oldrate = rate;\n         rate = rate - sum / m; // look for zero crossing\n         oldsum = sum;\n         }\n      else { // first time - no old values\n         oldrate = rate;\n         rate = 1.1 * rate;\n         oldsum = sum;\n         }\n      tries++;\n      if (tries >= maxloop) { // didn't converge yet\n         scf.PushOperand(operand, \"e#NUM!\", 0);\n         return;\n         }\n      }\n\n   scf.PushOperand(operand, 'n%', rate);\n\n   return;\n\n   }\n\nSocialCalc.Formula.FunctionList[\"IRR\"] = [SocialCalc.Formula.IRRFunction, -1, \"irr\", \"\", \"financial\"];\n\n\n\n// -----------------------------------------\n// eddy  BUTTON COPYVALUE COPYFORMULA {\n// -----------------------------------------\n\n/*\n#\n# BUTTON(string) // \n# IMAGEBUTTON(string) \n# TEXTBOX(string) // \n# AUTOCOMPLETE(string, range)\n# SELECT(string, range [,size [,multiple]])\n# CHECKBOX(string) // \n# RADIOBUTTON(string,groupname)\n# COPYVALUE(range, destinationCell, value_or_range) // \n# COPYFORMULA(range, destinationCell, formula_range)) // \n# INSERT(trigger_cell, destination_range [,formula_range,value_range,formula_range, ...])\n# DELETEIF(trigger_cell, criteria , test_range) \n# COMMAND(trigger_cell, commands)\n# COMMANDIF(trigger_cell, condition, commands) \n# PANEL(indices_or_csv, panel1_range [, panel2_range , ...])  \n# SPLASH(splash_panel_range)  // shows splash screen (range) - shows while loading dependant sheets from server  \n# STYLE(css)  \n#\n*/\n\n\nSocialCalc.Formula.IoFunctions = function(fname, operand, foperand, sheet, coord) {\n\n  \n// ArgList has an array for each function, one entry for each possible arg (up to max).\n// Min args are specified in SocialCalc.Formula.FunctionList.\n// Minus values are repeated parameters\n//  -1 to -15  - repeated parameters\n//  -1 - [number, ...]  - e.g. [2,-1,-2]  means (text, [number, text, number, text, ... ] - repeated parameters\n//  1 - number \n//  2 - text \n//  3 - text | number \n//  4 - coord \n//  5 - coord | number \n//  6 - coord | text \n//  7 - coord | text | number \n//  8 - range \n//  9 - range | number \n//  10 - range | text 11 - range | text | number \n//  12 - range | coord \n//  13 - range | coord | number \n//  14 - range | coord | text \n//  15 - range | coord | text | number \n\n\n\n   var argList = {\n\t\t\t\t BUTTON: [2]\n        ,IMAGEBUTTON: [2]\n   \t\t\t,EMAIL: [14, 14, 14, 14]\n\t\t\t\t,EMAILIF: [13, 14, 14, 14, 14]\n\t\t\t\t,EMAILONEDIT: [14, 14, 14, 14, 14]\n\t\t\t\t,EMAILAT: [13, 14, 14, 14, 14]\n\t\t\t\t,EMAILONEDITIF: [14, 13, 14, 14, 14, 14]\n\t\t\t\t,EMAILATIF: [13, 13, 14, 14, 14, 14]\n        ,SUBMIT: [2]\n        ,TEXTBOX: [2]\n        ,AUTOCOMPLETE: [2, 14]\n        ,SELECT: [2, 14, 1, 1]   // # SELECT(string, range [,size [,multiple]])\n        ,CHECKBOX: [3]\n        ,RADIOBUTTON: [2, 2]\n\t\t\t\t,COPYVALUE: [4, 12, 15]\n\t\t\t\t,COPYFORMULA: [4, 12, 12]\n        ,INSERT: [4, 8, -12, -15]  // change code to allow unlimited \n        ,DELETEIF: [4,7,8]\n        ,COMMAND: [4, 14]\n        ,COMMANDIF: [4, 13, 14]\n        ,PANEL:[15, -12] // # PANEL(indices_or_csv, panel1_range [, panel2_range , ...])  \n        ,SPLASH:[12]  // SPLASH(splash_panel_range)  // shows splash screen (range)\n        ,STYLE:[6] // # STYLE(css)  \n   };\n   \n   var i, parameter, offset, len, start, count;\n   var scf = SocialCalc.Formula;\n   var result = 0;\n   var resulttype = \"e#VALUE!\";\n\n   var numargs = foperand.length;\n   var argdef = argList[fname];\n   var operand_value = [];\n   var operand_type = [];\n\n   var repeatCount = -1;  // number of repeated parameters\n   var repeatIndex;  // index of begining of repeated parameters\n   var wantedType;\n   \n   for (i=1; i <= numargs; i++) { // go through each arg, get value and type, and check for errors\n      //   IF started repeat parameters section \n      if(repeatCount != -1) {\n        //     SET typeWanted = get type - adjust for repeted parameters\n        wantedType = Math.abs(argdef[ repeatIndex + (( (i-1) - repeatIndex) % repeatCount) ]);\n      } else {\n        \n        if (i > argdef.length) { // too many args\n          scf.FunctionArgsError(fname, operand);\n          return;\n          }\n        \n        //     typeWanted = type wanted list [ parameterIndex ]\n        wantedType = argdef[i-1];\n        \n        //     IF typeWanted < 0 && repeatCount == -1\n        if(wantedType < 0 ) {\n          //       SET repeatCount = wanted list length - parameterIndex\n          repeatCount = argdef.length - (i-1);\n          //       SET repeatIndex =  parameterIndex\n          repeatIndex = (i-1);\n          //       wantedType = Math.abs(wantedType )          \n          wantedType = Math.abs(wantedType );\n        }  //     END IF\n      \n      } //   END IF\n\n      if(wantedType == 1) { // 1 - number \n        parameter = scf.OperandAsNumber(sheet, foperand);\n        \n      } else if(wantedType == 2) { // 2 - text \n        parameter = scf.OperandAsText(sheet, foperand);\n      } else if(wantedType == 3) { // 3 - text | number \n        parameter = scf.OperandValueAndType(sheet, foperand);\n      } else { //  typeWanted > 3  && < 16  - else invalid        \n        //        SET parameterType = type\n        var parameterType = foperand[foperand.length -1].type; // param is end of stack\n        \n        //        SET validType = false  \n        var validParameterType = false;\n        \n        //        IF type = number && wanted type == number || type = text && wanted type == text THEN\n        //                  1 - number   2 - text \n        if( (parameterType.charAt(0) == \"n\" && (wantedType & 1) != 0) || (parameterType.charAt(0) == \"t\" && (wantedType & 2) != 0)) {\n          //           valid\n          validParameterType = true;\n          //           get number type and value \n          parameter = scf.OperandValueAndType(sheet, foperand);\n        }  //        END IF\n        \n        //        IF type = coord && wanted type == coord THEN\n        if( parameterType == \"coord\" && (wantedType & 4) != 0) {  //  4 - coord \n          //          valid\n          validParameterType = true;\n          parameter = scf.OperandAsCoord(sheet, foperand);\n          parameter.value = SocialCalc.Formula.PlainCoord(parameter.value); // remove absolute reference\n        } //        END IF\n        //        IF type = range && wanted type == range THEN\n        if( parameterType == \"range\" && (wantedType & 8) != 0) { // 8 - range \n          //           valid\n          validParameterType = true;\n          // get range\n          parameter = scf.OperandAsRange(sheet, foperand);          \n          parameter.value = SocialCalc.Formula.PlainCoord(parameter.value);  // remove absolute reference\n        } //        END IF\n        \n        //        IF invalid param type\n        if(validParameterType == false) {\n          scf.FunctionArgsError(fname, operand);\n          return;          \n        }  //        END IF\n        \n      }\n      \n      \n      // value or range, e.g. \"C9|C11\"\n      operand_value[i] = parameter.value;\n      // type e.g. \"t\", \"range\"\n      operand_type[i] = parameter.type;\n      if (parameter.type.charAt(0) == \"e\") {\n         scf.PushOperand(operand, parameter.type, result);\n         return;\n      }\n   }\n\n   \n   switch (fname) {\n     case \"STYLE\":  \n       var parameters = sheet.ioParameterList[coord];\n       if(parameters) {\n         var css = SocialCalc.Formula.getStandardizedList(sheet, {value: operand_value[1], type: operand_type[1]});\n         if(css.length > 0 ) {\n           parameters.css = css[0];\n           parameters.cssParameter = (operand_type[1] == \"t\") ? '\"'+operand_value[1]+'\"' : operand_value[1];\n         }\n         result = \"\"; // ensure return value does not get changed by style - will add this empty string to number or string\n         resulttype = \"ni\"; // important - allows widgets to keep type - use: TEXTBOX(\"\")+STYLE(css)  - must add style to widget \n       }\n       break;\n     case \"SELECT\":  // # SELECT(string, range [,size [,multiple]])\n         var parameters = sheet.ioParameterList[coord];\n         var optionSource = SocialCalc.Formula.getStandardizedList(sheet, parameters[1]);\n         \n         parameters.html = [];        \n         parameters.html[0] = (operand_value[4] == true) ? \"multiple\" : \"\"\n         parameters.html[1] = (operand_value[3]) ? \"\"+operand_value[3] : \"1\"\n         if(optionSource.length > 0 ) {\n           var options = \"<option>\" + optionSource.join(\"</option><option>\") + \"</option>\";\n           var optionRegExp = new RegExp(\"<option>\"+operand_value[1],'');\n           parameters.html[2] = options.replace(optionRegExp, \"<option selected>\"+operand_value[1] ); // select default, if any\n         }\n         result = operand_value[1];\n         resulttype = \"ti\"+fname;\n         break;\n     case \"SUBMIT\":\n       result = \"Submit\";\n     case \"BUTTON\":\n     case \"IMAGEBUTTON\":\n     case \"TEXTBOX\":\n     case \"AUTOCOMPLETE\":\n         if (numargs>0) result = operand_value[1];\n         resulttype = \"ti\"+fname; // (t)ext value with (i)nterface (BUTTON,IMAGEBUTTON,TEXTBOX,AUTOCOMPLETE, SELECT) \n         break;\n\n      case \"EMAIL\":\n      case \"EMAILIF\":\n          resulttype = \"ti\"+fname; // (t)ext value with (i)nterface (,) \n          result = \"Send\";\n          break;\n      case \"EMAILONEDIT\":\n      case \"EMAILONEDITIF\":\n//    \t  sheet.editEventCells === 'undefined') return;\t\n//    \t  if(typeof sheet.ioParameterList === 'undefined') return;\n\n    \t  \n      case \"EMAILAT\":\n      case \"EMAILATIF\":\n          resulttype = \"ti\"+fname; // (t)ext value with (i)nterface (,) \n          result = \"Send Now\";\n          break;\n\t\t \n      case \"CHECKBOX\":\n      case \"RADIOBUTTON\":\n\t     if(operand_type[1].charAt(0) == 't') {\n\t\t\tresult = (operand_value[1].toUpperCase() == 'TRUE') ? 1 : 0;\n\t\t\t} else {\n\t\t\tresult = (operand_value[1] == 0) ? 0 : 1;\n\t\t\t}\n\t\t//result = \"true\"; \n         resulttype = \"ni\"+fname; // (n)umber value with (i)nterface (CHECKBOX, RADIOBUTTON)\n\n         break;\n\t\t \n\t\t \n      case \"COPYVALUE\":\n      case \"COPYFORMULA\":\n      case \"INSERT\":\n      case \"DELETEIF\":\n      case \"COMMAND\":\n      case \"COMMANDIF\":\n         var cell = sheet.cells[operand_value[1]];\n         if(typeof cell === 'undefined') break; // invalid trigger cell, return error\n         result = cell.datavalue; // get trigger cell value\n         \n         result = String(result).split(\"/\");  // Clean up - if image button trigger then show only image name \n         result = result[result.length-1]; \n         resulttype = \"t\";\n         break;\n      case \"PANEL\":\n      case \"SPLASH\":\n        \n        //  - code to show/hide panel\n        //  --- get list of panels to show - \"showindex_or_csv\" \n        //  --- get param details \n        var showindices;\n        var firstPanelIndex = 2;\n        if(fname == \"SPLASH\") {\n          result = \"SPLASH:\"+ operand_value[1]; \n          resulttype = \"t\";\n          if (sheet.splashdone == true) break; // show splash scree onload, then skip\n          sheet.splashdone = true;\n          firstPanelIndex = 1;\n          showindices = [0]; // show panel at param 0 of splash formula\n          \n        } else {\n          // panel formula\n          showindices = SocialCalc.Formula.getStandardizedList(sheet, {value: operand_value[1], type: operand_type[1]});\n          result = fname+\":\"+ showindices; \n        }\n        //  --- SET list of showrows TO empty\n        //  --- SET list of showcols TO empty\n        resulttype = \"t\";\n        if(SocialCalc._app) { // panel only works in live app\n          var showrows = [], showcols = [];\n          //  --- FOR each panel to show\n          for (var parameterIndex = firstPanelIndex; parameterIndex < operand_value.length; ++parameterIndex) { \n            // show panel if its index is in the showindices list \n            var showPanelFound = false;\n            for(var showIndex in showindices ) { \n              if (showindices[showIndex] == parameterIndex-1) {\n                showPanelFound = true;\n                break;\n              }\n            }\n            if(showPanelFound === false) continue;\n            \n          \n            //  ----- get panel range rows & cols only\n            var panelCoordData = SocialCalc.Formula.getStandardizedCoords(sheet, {value: operand_value[parameterIndex], type: operand_type[parameterIndex]});\n            //  ----- FOR each row/col -- create function to do the loop\n            for (var i=0; i<panelCoordData.ncols; i++) {\n              //  ------- set showrows/col row/col to true\n              showcols[panelCoordData.col1num + i] = true;\n            }  //  ----- END FOR                        \n            for (var j=0; j<panelCoordData.nrows; j++) {\n              //  ------- set showrows/col row/col to true\n              showrows[panelCoordData.row1num + j] = true;\n            }\n          }   //  --- END FOR\n          \n          var spreadsheet =  window.spreadsheet;\n          if (spreadsheet == null) spreadsheet = window.ss\n\n          var forceRender = false;\n          var lastShowDimension = 0;\n          var showGridDimension =  function(sheet, lastIndex, sheetHideList, showList, getIndexOf) {\n            //  --- hide all rows/col    up to sheet.attribs.lastrow/col         \n            //  --- FOR each row/col -- create function to do the loop          \n            for(var arrayIndex = 1; arrayIndex <= lastIndex; arrayIndex ++ ) { // start at col/row 1\n              //  ----- IF row hide/show state need updating\n              var sheetHideIndex = getIndexOf(arrayIndex); // gets col name if col\n              if(typeof sheetHideList[sheetHideIndex] == 'undefined') { \n                // row/col is visible\n                if(showList[arrayIndex] !== true) { // if hide\n                  //  ------- SET the row state  \n                  sheetHideList[sheetHideIndex] =\"yes\";                \n                  //  ------- SET repaint flag\n                  forceRender = true;\n                } else {lastShowDimension = arrayIndex;}\n              } else {\n                // row/col is hidden \n                if(showList[arrayIndex] === true) { // if show \n                  //  ------- SET the row state  \n                  delete sheetHideList[sheetHideIndex];                \n                  //  ------- SET repaint flag\n                  forceRender = true;\n                  lastShowDimension = arrayIndex;\n                }\n              }              \n              \n            }            \n          };\n\n          \n          var getRowIndex = function(row) { return row };\n          showGridDimension(sheet,  sheet.attribs.lastrow,  sheet.rowattribs.hide, showrows, getRowIndex);\n          lastShowDimension = 0;\n          showGridDimension(sheet,  sheet.attribs.lastcol,  sheet.colattribs.hide, showcols, SocialCalc.rcColname );\n          // control width of html - for mobile app - as better to use native scroll rather than SocialCalc scroll bar - colpanes[length].last = usermaxcol - see FitToEditTable\n          sheet.attribs.usermaxcol = lastShowDimension;\n          \n          if(forceRender) {\n            sheet.renderneeded = true;\n            sheet.widgetsClean = false; //  force widgets to repaint - update cell reference in widget HTML    \n            spreadsheet.editor.context.rowpanes[0].first = 1; // reset scroll bar to first row  \n            spreadsheet.editor.context.CalculateColWidthData();\n            \n            spreadsheet.width = spreadsheet.editor.context.totalwidth;\n            spreadsheet.height = 2500;\n            spreadsheet.editor.ResizeTableEditor(spreadsheet.editor.context.totalwidth,2500);  // 2500 is page height constant - fix issue with mobile device - Used constant because could not see an easy way to pre-calculate height \n          }\n          \n        }\n         \n      }\n\n   scf.PushOperand(operand, resulttype, result);\n   return;\n\n   }\n\n//*********************\n//\n// Docs see - Function Handling - ~line 1560\n// \n//*********************\n\n\n\nSocialCalc.Formula.FunctionList[\"BUTTON\"] = [SocialCalc.Formula.IoFunctions, 1, \"label\", \"\", \"gui\", \"<button type='button' onclick=\\\"SocialCalc.TriggerIoAction.Button('<%=cell_reference%>');\\\"><%=formated_value%></button>\" , \"ParameterList\" ];\nSocialCalc.Formula.FunctionList[\"IMAGEBUTTON\"] = [SocialCalc.Formula.IoFunctions, 1, \"imageurl\", \"\", \"gui\", \"<input type='image' src='<%=display_value%>' alt='Submit' onclick=\\\"SocialCalc.TriggerIoAction.Button('<%=cell_reference%>');\\\">\", \"ParameterList\"  ];\nSocialCalc.Formula.FunctionList[\"EMAIL\"] = [SocialCalc.Formula.IoFunctions, -3, \"to_range subject_range, body_range\", \"\", \"action\", \"<button type='button' onclick=\\\"SocialCalc.TriggerIoAction.Email('<%=cell_reference%>');\\\"><%=formated_value%></button>\", \"ParameterList\" ];\nSocialCalc.Formula.FunctionList[\"EMAILIF\"] = [SocialCalc.Formula.IoFunctions, -4, \"condition_range, to_range subject_range, body_range\", \"\", \"action\", \"<button type='button' onclick=\\\"SocialCalc.TriggerIoAction.Email('<%=cell_reference%>');\\\"><%=formated_value%></button>\", \"ParameterList\" ];\nSocialCalc.Formula.FunctionList[\"EMAILONEDIT\"] = [SocialCalc.Formula.IoFunctions, -4, \"editRange, to_range subject_range, body_range\", \"\", \"action\", \"<button type='button' onclick=\\\"SocialCalc.TriggerIoAction.Email('<%=cell_reference%>');\\\"><%=formated_value%></button>\", \"EventTree\"];\nSocialCalc.Formula.FunctionList[\"EMAILAT\"] = [SocialCalc.Formula.IoFunctions, -4, \"datetime_value, to_range subject_range, body_range\", \"\", \"action\", \"<button type='button' onclick=\\\"SocialCalc.TriggerIoAction.Email('<%=cell_reference%>');\\\"><%=formated_value%></button>\", \"TimeTrigger\" ];\nSocialCalc.Formula.FunctionList[\"EMAILONEDITIF\"] = [SocialCalc.Formula.IoFunctions, -5, \"editRange, condition, to_range subject_range, body_range\", \"\", \"action\", \"<button type='button' onclick=\\\"SocialCalc.TriggerIoAction.Email('<%=cell_reference%>');\\\"><%=formated_value%></button>\", \"EventTree\" ];\nSocialCalc.Formula.FunctionList[\"EMAILATIF\"] = [SocialCalc.Formula.IoFunctions, -5, \"datetime_value, condition, to_range subject_range, body_range\", \"\", \"action\", \"<button type='button' onclick=\\\"SocialCalc.TriggerIoAction.Email('<%=cell_reference%>');\\\"><%=formated_value%></button>\", \"TimeTrigger\" ];\nSocialCalc.Formula.FunctionList[\"SUBMIT\"] = [SocialCalc.Formula.IoFunctions, 100, \"[label]\", \"\", \"action\", \"<button type='button' onclick=\\\"SocialCalc.TriggerIoAction.Submit('<%=cell_reference%>');\\\"><%=formated_value%></button>\", \"ParameterList\" ];\nSocialCalc.Formula.FunctionList[\"TEXTBOX\"] = [SocialCalc.Formula.IoFunctions, 1, \"value\", \"\", \"gui\", \"<input type='text' id='TEXTBOX_<%=cell_reference%>' onblur='SocialCalc.CmdGotFocus(null);' oninput=\\\"SocialCalc.TriggerIoAction.TextBox('<%=cell_reference%>')\\\" value='<%=display_value%>' >\", \"Input\" ];\nSocialCalc.Formula.FunctionList[\"AUTOCOMPLETE\"] = [SocialCalc.Formula.IoFunctions, 2, \"value, range or csv_text\", \"\", \"gui\", \"<input type='text' id='AUTOCOMPLETE_<%=cell_reference%>' onfocus=\\\"SocialCalc.TriggerIoAction.AddAutocomplete('<%=cell_reference%>');\\\" onblur='SocialCalc.CmdGotFocus(null);' value='<%=display_value%>' >\", \"Input\" ];\nSocialCalc.Formula.FunctionList[\"SELECT\"] = [SocialCalc.Formula.IoFunctions, -2, \"value, range or csv_text [,size]\", \"\", \"gui\", \"<select size='<%=html1_value%>' id='SELECT_<%=cell_reference%>' onchange=\\\"SocialCalc.TriggerIoAction.SelectList('<%=cell_reference%>')\\\" <%=html0_value%>><%=html2_value%></select>\", \"Input\" ];\nSocialCalc.Formula.FunctionList[\"CHECKBOX\"] = [SocialCalc.Formula.IoFunctions, 1, \"value\", \"\", \"gui\", \"<input type='checkbox' id='CHECKBOX_<%=cell_reference%>' <%=checked%> onblur='SocialCalc.CmdGotFocus(null);' onchange=\\\"SocialCalc.TriggerIoAction.CheckBox('<%=cell_reference%>')\\\" >\", \"Input\" ];\nSocialCalc.Formula.FunctionList[\"RADIOBUTTON\"] = [SocialCalc.Formula.IoFunctions, 2, \"value, groupname\", \"\", \"gui\", \"<input type='radio' value='<%=cell_reference%>' id='RADIOBUTTON_<%=cell_reference%>' <%=checked%> name='<%=parameter1_value%>' onblur=\\\"SocialCalc.CmdGotFocus(null);\\\" onclick=\\\"SocialCalc.TriggerIoAction.RadioButton('<%=parameter1_value%>');\\\" >\", \"Input\" ];\n\nSocialCalc.Formula.FunctionList[\"COPYVALUE\"] = [SocialCalc.Formula.IoFunctions, 3, \"trigger_cell, destinationCell, value_or_range\", \"\", \"action\", \"\", \"EventTree\"];\nSocialCalc.Formula.FunctionList[\"COPYFORMULA\"] = [SocialCalc.Formula.IoFunctions, 3, \"trigger_cell, destinationCell, formula_range\", \"\", \"action\", \"\", \"EventTree\"];\nSocialCalc.Formula.FunctionList[\"INSERT\"] = [SocialCalc.Formula.IoFunctions, -2, \"trigger_cell, destination_range [,formula_range,value_or_range,formula_range, ...]\", \"\", \"action\", \"\", \"EventTree\"];\nSocialCalc.Formula.FunctionList[\"DELETEIF\"] = [SocialCalc.Formula.IoFunctions, -1, \"trigger_cell, criteria , test_range\", \"\", \"action\", \"\", \"EventTree\"];\nSocialCalc.Formula.FunctionList[\"COMMAND\"] = [SocialCalc.Formula.IoFunctions, -1, \"trigger_cell, commands\", \"\", \"action\", \"\", \"EventTree\"];\nSocialCalc.Formula.FunctionList[\"COMMANDIF\"] = [SocialCalc.Formula.IoFunctions, -1, \"trigger_cell, conditions, commands\", \"\", \"action\", \"\", \"EventTree\"];\n\nSocialCalc.Formula.FunctionList[\"PANEL\"] = [SocialCalc.Formula.IoFunctions, -1, \"showindices_range_or_csv, panel1_range [, panel2_range , ...]\", \"\", \"gui\", \"\"];\nSocialCalc.Formula.FunctionList[\"SPLASH\"] = [SocialCalc.Formula.IoFunctions, -1, \"splash_panel_range\", \"\", \"gui\", \"\"];\n\nSocialCalc.Formula.FunctionList[\"STYLE\"] = [SocialCalc.Formula.IoFunctions, -1, \"css\", \"\", \"gui\", \"\"];\n\n// on enter input box refresh the auto complete list\nSocialCalc.TriggerIoAction.AddAutocomplete = function(triggerCellId) {\n  var spreadsheet =  window.spreadsheet;\n  if (spreadsheet == null) spreadsheet = window.ss\n  var sheet = spreadsheet.sheet;\n  var scf = SocialCalc.Formula; \n  \n  var parameters = sheet.ioParameterList[triggerCellId];\n  if(typeof parameters === 'undefined') return;\n  \n  var autocompleteSource = SocialCalc.Formula.getStandardizedList(sheet, parameters[1])\n\n  //Overrides the default autocomplete filter function to search only from the beginning of the string\n  $.ui.autocomplete.filter = function (array, term) {\n    // * RegEx Unit Test - https://regex101.com/r/kO6eC4/1\n    var matcher = new RegExp(\"\\\\b\" + $.ui.autocomplete.escapeRegex(term), \"i\");\n    return $.grep(array, function (value) {\n        return matcher.test(value.label || value.value || value);\n    });\n  };\n\n  \n  $(\"#AUTOCOMPLETE_\"+triggerCellId).autocomplete({\n    source: autocompleteSource,\n    minLength: 1,\n    autoFocus: true,\n    select: function(event, ui) {\n      $(this).val(ui.item.label);\n      SocialCalc.TriggerIoAction.AutoComplete(triggerCellId);\n    },\n    change: function (event, ui) {\n      if (ui.item === null) {\n          $(this).val('');\n      }\n      SocialCalc.TriggerIoAction.AutoComplete(triggerCellId);\n    }\n  });  \n}\n// Event triggered, e.g. button/imagebutton clicked. - call linked action formulas \n// eddy TriggerIoAction {\nSocialCalc.TriggerIoAction.Button = function(triggerCellId) {\n var spreadsheet =  window.spreadsheet;\n if (spreadsheet == null) spreadsheet = window.ss\n var sheet = spreadsheet.sheet;\n var scf = SocialCalc.Formula; \n //spreadsheet.editor.EditorScheduleSheetCommands('set A2 value n 10',  true, false);\n \n //spreadsheet.editor.EditorScheduleSheetCommands('sendemail to eddy.nihon',  false, false); \n \n if(typeof sheet.ioEventTree === 'undefined') return;\t\n if(typeof sheet.ioParameterList === 'undefined') return;\n if( sheet.ioEventTree[triggerCellId] === 'undefined' ) return;\n \n for(var actionCellId in sheet.ioEventTree[triggerCellId]) {\n \n\tvar parameters = sheet.ioParameterList[actionCellId];\n\tvar conditionsParameter = null;\n\t\n\tswitch(parameters.function_name) {\n\t  \n\t  case \"COPYVALUE\" :\t    \n\t    var parameterdata = SocialCalc.Formula.getStandardizedValues(sheet, parameters[2]);\n\n      // get row and col of dest cell\n   \t  var destcr = SocialCalc.coordToCr(parameters[1].value);\n   \t  \n   \t  var sheetCommandList = SocialCalc.TriggerIoAction.CopyValueToRange(parameterdata, destcr);\n   \t  spreadsheet.editor.EditorScheduleSheetCommands(sheetCommandList,  true, false);   \t  \n   \t \n\t    break;\n\t  case \"COPYFORMULA\" : \n      var parameterdata = SocialCalc.Formula.getStandardizedValues(sheet, parameters[2]);\n\n      // get row and col of dest cell\n      var destcr = SocialCalc.coordToCr(parameters[1].value);\n      \n      var sheetCommandList = SocialCalc.TriggerIoAction.CopyFormulaToRange(parameterdata, destcr);\n        \n      spreadsheet.editor.EditorScheduleSheetCommands(sheetCommandList,  true, false);\n      break;\n    case \"INSERT\" :  \n      //       # INSERT(trigger_cell, destination_range ,formula_range,value_range,formula_range, ...) // \n      //       insertrow A1      \n      //       insertcol A1\n      var parameterdata = SocialCalc.Formula.getStandardizedValues(sheet, parameters[1]); // destination_range\n      if(parameterdata.type != \"range\") break; // invalid insert, requires range\n      var insertCommand;\n      var colOffset, rowOffset;\n      if (parameterdata.ncols > 1) {  // insert column\n        colOffset = 1;\n        rowOffset = 0;\n        insertCommand = \"insertcol\";\n      }\n      if (parameterdata.nrows > 1) {  // insert row\n        colOffset = 0;\n        rowOffset = 1;\n        insertCommand = \"insertrow\";\n      }\n      var insertcellCoord = parameterdata.cellcoord[colOffset][rowOffset];\n      var sheetCommandList = insertCommand + \" \" + insertcellCoord;\n      var destcr = SocialCalc.coordToCr(insertcellCoord);\n      var sourceDataIndex = 2; \n      while(sourceDataIndex < parameters.length ) {\n        \n        if(parameters[sourceDataIndex].type == \"range\" || parameters[sourceDataIndex].type == \"coord\" || sourceDataIndex % 2 == 1) {\n          copyCellRange = SocialCalc.Formula.getStandardizedValues(sheet, parameters[sourceDataIndex]); // formulas to insert\n          \n          if (sourceDataIndex % 2 == 0) {\n            sheetCommandList = sheetCommandList + \"\\n\" + SocialCalc.TriggerIoAction.CopyFormulaToRange(copyCellRange, destcr);\n          } else {\n            sheetCommandList = sheetCommandList + \"\\n\" + SocialCalc.TriggerIoAction.CopyValueToRange(copyCellRange, destcr);            \n          }\n          if (parameterdata.nrows > 1) destcr.col += copyCellRange.ncols;\n          if (parameterdata.ncols > 1) destcr.row += copyCellRange.nrows;\n          \n        }        \n        sourceDataIndex ++;\n        \n      }\n      spreadsheet.editor.EditorScheduleSheetCommands(sheetCommandList,  true, false);        \n      \n   \t\t break;\n    case \"DELETEIF\" :  //     # DELETEIF(trigger_cell, criteria , test_range) // \n      var criteriaParameter = SocialCalc.Formula.getStandardizedValues(sheet, parameters[1]); // criteria \n      var testRangeParameter = SocialCalc.Formula.getStandardizedValues(sheet, parameters[2]); // test_range - ignore first and last, as it would produce ref error\n\n      // set command list to empty\n      var sheetCommandList = \"\";\n\n      var colOffset, rowOffset, deleteCommand;\n      if (testRangeParameter.ncols > 1 && testRangeParameter.nrows > 1) return; // error invalid range, only one cell wide/high\n      if (testRangeParameter.ncols > 1) {  // delete column\n        colOffset = 1;\n        rowOffset = 0;\n        deleteCommand = \"deletecol\";\n      }\n      if (testRangeParameter.nrows > 1) {  // delete row\n        colOffset = 0;\n        rowOffset = 1;\n        deleteCommand = \"deleterow\";\n      }\n      \n      var criteriaValue = criteriaParameter.celldata[0][0].datavalue;\n      // FOR each source cell\n      for (var i=(testRangeParameter.ncols - colOffset) - 1; i>=colOffset; i--) {  // ignore first and last cell, as it would produce ref error\n        for (var j=(testRangeParameter.nrows - rowOffset) -1 ; j>=rowOffset; j--) {\n          \n          // IF after first source cell THEN  add new line to command list\n      \n          var cell = testRangeParameter.celldata[i][j];\n          if(SocialCalc.Formula.TestCriteria(cell.datavalue, cell.valuetype, criteriaValue) == true) {\n            if (sheetCommandList != \"\" ) sheetCommandList = sheetCommandList + \"\\n\";\n            sheetCommandList = sheetCommandList + deleteCommand + \" \" + testRangeParameter.cellcoord[i][j]; // Note cell.coord becomes invalid when row/coll are inserted/deleted\n          }\n        }\n      }\n      \n      if (sheetCommandList != \"\" ) spreadsheet.editor.EditorScheduleSheetCommands(sheetCommandList,  true, false);        \n      \n      break;\n    case \"COMMANDIF\" :  //    # COMMANDIF(trigger_cell, condition, commands) \n      conditionsParameter = SocialCalc.Formula.getStandardizedValues(sheet, parameters[1]); // commands \n\n      \n    case \"COMMAND\" :  // COMMAND(trigger_cell, commands) \n      var commandsParameter;\n      // set command list to empty\n      var sheetCommandList = \"\";\n      if( conditionsParameter != null) {\n        var commandsParameter = SocialCalc.Formula.getStandardizedValues(sheet, parameters[2]); // commands \n        if (conditionsParameter.ncols != commandsParameter.ncols || conditionsParameter.nrows != commandsParameter.nrows) break;\n      } else {\n        commandsParameter = SocialCalc.Formula.getStandardizedValues(sheet, parameters[1]); // commands         \n      }\n      \n      for (var i=0; i<commandsParameter.ncols; i++) {\n        for (var j=0; j<commandsParameter.nrows; j++) {\n\n          if( conditionsParameter != null) {\n            var conditionCell = conditionsParameter.celldata[i][j];\n            if(conditionCell.datavalue == false) continue;\n          }\n          if (sheetCommandList != \"\" ) sheetCommandList = sheetCommandList + \"\\n\";\n          var cellCommand = commandsParameter.celldata[i][j];  \n          sheetCommandList = sheetCommandList + cellCommand.datavalue.toString().trim();\n          \n        }\n      }\n      if (sheetCommandList != \"\" ) spreadsheet.editor.EditorScheduleSheetCommands(sheetCommandList,  true, false);        \n\n      break;\n      \n  }\n\n } \n\n}\n\n\n/******************************\n * CopyFormulaToRange\n *   copy a range of cells to a destination. Copy the formulas, adjusting any cell references\n * \n * @destcr col and row - destcr = { col:n, row:n }\n * @sourceData  range data - datatype of param must match getStandardizedParameter() return type\n * @return commands to execute to do the copy.  - String of sheet commands, \\n between each command -  \n *   \n ******************************/\n\n/*\n * set B8 text t william              ... coord: \"B8\",  datavalue: \"william\",     datatype: \"t\", formula: \"\",          valuetype: \"t\"\n * set B10 constant nd 41307 2013/2/2 ... coord: \"B10\", datavalue: 41307,         datatype: \"c\", formula: \"2013/2/2\",  valuetype: \"nd\"\n * set B11 value n 1                  ... coord: \"B11\", datavalue: 1,             datatype: \"v\", formula: \"\",          valuetype: \"n\"\n *\n * set B7 formula \"test\"&B3   ... coord: \"B7\",  datavalue: \"testwilliam\", datatype: \"f\", formula: \"\"test\"&B3\", valuetype: \"t\"\n * set C8 formula B8       ... coord: \"C8\",  datavalue: \"william\",     datatype: \"f\", formula: \"B8\",        valuetype: \"t\"\n * set C10 formula B10     ... coord: \"C10\", datavalue: 41307,         datatype: \"f\", formula: \"B10\",       valuetype: \"nd\"\n * set C11 formula B11     ... coord: \"C11\", datavalue: 1,             datatype: \"f\", formula: \"B11\",       valuetype: \"n\"\n *  set B3  formula TEXTBOX(\"\")             ... coord: \"B3\", datavalue: \"william\", datatype: \"f\", formula: \"TEXTBOX(\"william\")\", valuetype: \"tiTEXTBOX\"\n */\n\nSocialCalc.TriggerIoAction.CopyFormulaToRange = function(formulaData, destcr) {\n\n  // set command list to empty\n  var sheetCommandList = \"\";\n  var sheetCommand;\n  \n  // FOR each source cell\n  for (var i=0; i<formulaData.ncols; i++) {\n    for (var j=0; j<formulaData.nrows; j++) {\n  \n      var cell = formulaData.celldata[i][j];\n      // destination cell coord\n      var destCellCoord = SocialCalc.crToCoord(destcr.col + i, destcr.row + j);\n  \n  \n      // IF after first source cell THEN  add new line to command list\n      if (i != 0 || j != 0 ) sheetCommandList = sheetCommandList + \"\\n\";\n  \n  \n      if (typeof cell !== 'undefined' && cell.valuetype != 'b') { // if not blank get cell data\n        var cellDataType = cell.datatype;\n        var cellValueType = cell.valuetype;     \n        var cellDataValue = cell.datavalue;   \n        var cellFormula = cell.formula;\n        \n        if(cellDataType == 'f') {\n          cellFormula = SocialCalc.OffsetFormulaCoords(cellFormula, destcr.col -  formulaData.col1num, destcr.row -  formulaData.row1num);\n          cellDataValue = \"\";\n          cellValueType = \"\";  \n        } else { \n          if(cellDataType != \"c\") cellFormula = \"\";  // clear text and number types   but not constant type like date/time      \n        }\n        \n        sheetCommand = 'set '+destCellCoord+ ' ' + SocialCalc.Constants.cellDataType[cellDataType] + ' ' +cellValueType + ' '+ SocialCalc.encodeForSave(cellDataValue) + ' ' + cellFormula;            \n      } else { \n        sheetCommand = 'set '+destCellCoord+ ' empty';        \n      }          \n      sheetCommandList += sheetCommand.trim();\n    }\n  }\n\n  return sheetCommandList;\n\n}\n\n/******************************\n * CopyValueToRange\n *   copy a range of cells to a destination. Copy only the values\n * \n * @destcr col and row - destcr = { col:n, row:n }\n * @sourceData  range data - datatype of param must match getStandardizedParameter() return type\n * @return commands to execute to do the copy.  - String of sheet commands, \\n between each command -  \n *   \n ******************************/\nSocialCalc.TriggerIoAction.CopyValueToRange = function(sourceData, destcr) {\n\n\n    //----------------------\n    // set command list to empty\n    var sheetCommandList = \"\";\n    var sheetCommand;\n    \n    // FOR each source cell\n    for (var i=0; i<sourceData.ncols; i++) {\n      for (var j=0; j<sourceData.nrows; j++) {\n    \n        var cell = sourceData.celldata[i][j];\n        // destination cell coord\n        var destCellCoord = SocialCalc.crToCoord(destcr.col + i, destcr.row + j);\n    \n    \n        // IF after first source cell THEN  add new line to command list\n        if (i != 0 || j != 0 ) sheetCommandList = sheetCommandList + \"\\n\";\n    \n    \n        // copyvalue to set command\n        // take the cell from copyvalue source and convert it to a set command to set the destination\n        // e.g. set D3 text t push me \n        // e.g. set D3 value v 10   \n        // e.g. set D5 constant n% 0.1 10%\n        // e.g. set D6 constant nd 41922 10/10/2014\n        if (typeof cell !== 'undefined' && cell.valuetype != 'b') { // if not blank get cell data\n          var cellDataType = cell.datatype;\n          var cellValueType = cell.valuetype;     \n          var cellDataValue = cell.datavalue;   \n          var cellFormula = cell.formula;\n          \n          if(cellDataType == 'f') {\n            cellFormula = \"\";\n            cellDataType = cellValueType;\n            if(cellValueType != \"n\" && cellValueType.charAt(0) != \"t\") {\n              cellDataType = \"c\"; // for Date type etc \n              cellFormula = cell.displaystring;\n            }\n            if(cellValueType.charAt(0) == \"t\") cellDataType = \"t\";          \n          } else {\n            if(cellDataType != \"c\") cellFormula = \"\";  // clear text and number types   but not constant type like date/time      \n          }\n          \n    \n          sheetCommand = 'set '+destCellCoord+ ' ' + SocialCalc.Constants.cellDataType[cellDataType] + ' ' +cellValueType + ' '+ SocialCalc.encodeForSave(cellDataValue) + ' ' + cellFormula;\n          \n      } else { \n        sheetCommand = 'set '+destCellCoord+ ' empty';        \n      }\n      sheetCommandList += sheetCommand.trim();\n    }\n  }\n  \n  return sheetCommandList;  \n\n}\n//----------------------\n\n\n// optionalTriggerCellId - edited cell - used by EMAILONEDIT and EMAILONEDITIF\n//onClick=EMAIL \nSocialCalc.TriggerIoAction.Email = function(emailFormulaCellId, optionalTriggerCellId) {\n     optionalTriggerCellId = typeof optionalTriggerCellId !== 'undefined' ? optionalTriggerCellId : null;\n\t var scf = SocialCalc.Formula;\t\n\t var spreadsheet =  window.spreadsheet;\n\t if (spreadsheet == null) spreadsheet = window.ss\n\n\t var sheet = spreadsheet.sheet;\n\t var cell = sheet.cells[emailFormulaCellId];\n\t \n\t if(typeof sheet.ioParameterList === 'undefined') return;\n\t \n\t var parameters = sheet.ioParameterList[emailFormulaCellId];\n   if(typeof parameters === 'undefined') return;\n   //var debugLog = \"debug TriggerIoAction.Email\\n\"; //eddy\n\n\t //spreadsheet.editor.EditorScheduleSheetCommands('sendemail to eddy.nihon',  false, false); \n\t // grab array for TO, SUBJECT and BODY \n\t var parameterValues = [];\n\t var parameterCellRefs = []; // OnEdit uses to workout what row/col was edited\n\t var maxRangeSize = 1;\n\t for(var index=0; index < parameters.length; index ++) {\n\t\t if(parameters[index].type.charAt(0) == 't') {\n\t\t\t parameterValues[index] = [String(parameters[index].value).replace(/ /g, \"%20\")];\n\t\t }\n\t\t if(parameters[index].type == 'coord') {\n\t\t\t parameterValues[index] = [String(sheet.GetAssuredCell(parameters[index].value).datavalue).replace(/ /g, \"%20\")];\n\n\t\t }\n\t\t if(parameters[index].type == 'range') {\n\t\t      var rangeinfo = scf.DecodeRangeParts(sheet, parameters[index].value);\n\t\t      parameterValues[index] = [];\n\t\t      parameterCellRefs[index] = [];\n\t\t      var rangeSizeCounter = 0;\n\t\t      for (var i=0; i<rangeinfo.ncols; i++) {\n\t\t         for (var j=0; j<rangeinfo.nrows; j++) {\n\n\t\t            var cellcr = SocialCalc.crToCoord(rangeinfo.col1num + i, rangeinfo.row1num + j);\n\t\t            var cell = rangeinfo.sheetdata.GetAssuredCell(cellcr);\n\t\t            parameterValues[index].push(cell.datavalue.toString().replace(/ /g, \"%20\"));\n\t\t            parameterCellRefs[index].push(cellcr);\n\t\t            rangeSizeCounter++;\n\t\t         }\n\t\t      }\n\t\t      if(rangeSizeCounter > maxRangeSize) maxRangeSize = rangeSizeCounter;\t\t\t \n\t\t }\n\t }\n\n\t \n    var conditionIndex = -1; // check if email formula is conditional, -1 = not conditional \n    var toAddressParamOffset = 0;\n    switch (parameters.function_name) {\n\n      case \"EMAILIF\":\n    \t  conditionIndex = 0;\n      case \"EMAILAT\":\n      case \"EMAILONEDIT\":\n    \t  toAddressParamOffset = 1;\n    \t  break;\n      case \"EMAILONEDITIF\":\n      case \"EMAILATIF\":\n       \t  conditionIndex = 1;\n    \t  toAddressParamOffset = 2;\n    \t  break;\n    \t  \n      case \"EMAIL\":\n    \t  break;\n    }\t \n\n    \n    switch (parameters.function_name) {\n        case \"EMAILONEDIT\":\n        case \"EMAILONEDITIF\":\n\t       if(optionalTriggerCellId && parameters[0].type == 'coord' && parameters[0].value == optionalTriggerCellId ) optionalTriggerCellId = null;\n\t       break;\n\t   default :\n\t\t   optionalTriggerCellId = null;\n    }\n\n     var setStatusBarMessage = false;\n\n   var emailContentsList = [];\n\n\t for(var rangeIndex = maxRangeSize -1; rangeIndex > -1; rangeIndex-- ) {\n\t\t \n\t\t // if email formula is conditional && condition is false then skip \n\t\t if(conditionIndex != -1) {\n\t\t\t var conditionRangeIndex = (rangeIndex >= parameterValues[conditionIndex].length) ? 0 : rangeIndex;\n\t\t\t if(parameterValues[conditionIndex][conditionRangeIndex] == false) continue;\t\t\t \n\t\t }\n\n\t\t if(optionalTriggerCellId && optionalTriggerCellId != parameterCellRefs[0][rangeIndex]) continue;\n\t\t // send: to, subject, body to server \t\t \n\t\t var toaddressRangeIndex = (rangeIndex >= parameterValues[toAddressParamOffset].length) ? 0 : rangeIndex;\n\t\t var subjectsRangeIndex = (rangeIndex >= parameterValues[toAddressParamOffset+1].length) ? 0 : rangeIndex;\n\t\t var bodyRangeIndex = (rangeIndex >= parameterValues[toAddressParamOffset+2].length) ? 0 : rangeIndex;\n\t\t \n\t\t var emailContents = parameterValues[toAddressParamOffset][toaddressRangeIndex]+' '+parameterValues[toAddressParamOffset+1][subjectsRangeIndex]+' '+parameterValues[toAddressParamOffset+2][bodyRangeIndex];\n\t\t setStatusBarMessage = true;\n\t\t sheet.ScheduleSheetCommands('sendemail '+emailContents,  false); \n\t\t // cron job email - ignores ScheduleSheetCommands so send via return value\n\t\t emailContentsList.push([parameterValues[toAddressParamOffset][toaddressRangeIndex], parameterValues[toAddressParamOffset+1][subjectsRangeIndex], parameterValues[toAddressParamOffset+2][bodyRangeIndex]]);\n\t\t //debugLog = debugLog + \"emailContents \"+emailContents+\"\\n\"; //eddy\n\t\t \n\t }\n\t //console.log( \"log formula1.js Email\");\n\t // update status bar to indicate email is being sent\n\t if(setStatusBarMessage) SocialCalc.EditorSheetStatusCallback(null, \"emailing\", null, spreadsheet.editor);\t \n   return emailContentsList; // cron job email\n\n}\n\n/*\n * creates command on form: submitform \\rtimestamp\\rB2value\\rC2value ...\n */\n\nSocialCalc.TriggerIoAction.Submit = function(triggerCellId) {\n  var formDataViewer = (SocialCalc.CurrentSpreadsheetControlObject != null) \n  ? SocialCalc.CurrentSpreadsheetControlObject.formDataViewer \n  : SocialCalc.CurrentSpreadsheetViewerObject.formDataViewer;\n\n  if(formDataViewer != null && formDataViewer.loaded == true) {\n\n    var spreadsheet =  window.spreadsheet;\n    if (spreadsheet == null) spreadsheet = window.ss\n    var sheet = spreadsheet.sheet;\n    \n    \n    var date = new Date();\n    var formDataValues = \"\"+date.getFullYear()  + \"-\" + (date.getMonth() +1 )    + \"-\" +  date.getDate() \n       + \" \" +  date.getHours()     + \":\" +  date.getMinutes()     + \":\" +  date.getSeconds();\n    \n    for(var colIndex = 2; colIndex <= formDataViewer.formFieldsLength +1 ; colIndex++) {\n      var valueCoord = SocialCalc.crToCoord(colIndex, 2);\n      formDataValues += \"\\r\" + formDataViewer.sheet.cells[valueCoord].datavalue;\n    }  \n    \n    sheet.ScheduleSheetCommands('submitform \\r'+formDataValues,  false);\n  }\n}\n\n//onChange=select tag (combobox) \nSocialCalc.TriggerIoAction.SelectList = function(selectListCellId) {\n  var getHTMLselectListCellValue = function( selectListWidget ) { return selectListWidget.value; };\n  var function_name = \"SELECT\";\n  SocialCalc.TriggerIoAction.updateInputWidgetFormula(function_name, selectListCellId, getHTMLselectListCellValue );\n}\n\n//onKeyUp=AutoComplete\nSocialCalc.TriggerIoAction.AutoComplete = function(autoCompleteCellId) {\n  var getHTMLAutoCompleteCellValue = function( autoCompleteWidget ) { return autoCompleteWidget.value; };\n  var function_name = \"AUTOCOMPLETE\";\n  SocialCalc.TriggerIoAction.updateInputWidgetFormula(function_name, autoCompleteCellId, getHTMLAutoCompleteCellValue );\n}\n\n// onKeyUp=TextBox \nSocialCalc.TriggerIoAction.TextBox = function(textBoxCellId) {\n  var getHTMLTextBoxCellValue = function( textBoxWidget ) { return textBoxWidget.value; };\n  var function_name = \"TEXTBOX\";\n  SocialCalc.TriggerIoAction.updateInputWidgetFormula(function_name, textBoxCellId, getHTMLTextBoxCellValue );\n}\n\n//onKeyUp=CheckBox \nSocialCalc.TriggerIoAction.CheckBox = function(checkBoxCellId) {\n  var getHTMLCheckBoxCellValue = function( checkBoxWidget ) { return (checkBoxWidget.checked ? \"TRUE\" : \"FALSE\") };\n  var function_name = \"CHECKBOX\"\n  SocialCalc.TriggerIoAction.updateInputWidgetFormula(function_name, checkBoxCellId, getHTMLCheckBoxCellValue );\n}\n\n//Radio Button state changed\n// onclick when selected\n// update true/false in formula param\nSocialCalc.TriggerIoAction.RadioButton = function(radioButtonGroupName) {\n  var getHTMLRadioButtonValue = function( radioButtonWidget ) { return (radioButtonWidget.checked ? \"TRUE\" : \"FALSE\") };\n  var function_name = \"RADIOBUTTON\"\n  // for each radio button in group\n  $('input[name=\"'+radioButtonGroupName+'\"]').each(function () {\n     SocialCalc.TriggerIoAction.updateInputWidgetFormula(function_name,  $(this).attr('id').replace(/RADIOBUTTON_/,''), getHTMLRadioButtonValue );\n  });\n}\n\n\nSocialCalc.TriggerIoAction.updateInputWidgetFormula = function(function_name, widgetCellId, getHTMLWidgetCellValue ) {\n\n var spreadsheet =  window.spreadsheet;\n if (spreadsheet == null) spreadsheet = window.ss\n var sheet = spreadsheet.sheet;\n var cell = sheet.cells[widgetCellId];\n var parameters = sheet.ioParameterList[widgetCellId];\n if(typeof parameters === 'undefined') return;\n \n var cell_widget=document.getElementById(function_name+'_'+widgetCellId);\n var inputValue = getHTMLWidgetCellValue(cell_widget);\n inputValue = SocialCalc.encodeForSave(inputValue);\n\n var sheetCommand = 'set '+widgetCellId+ ' formula '+ function_name+'(\"' +inputValue+'\"';\n for(var paramIndex = 1; paramIndex < parameters.length; paramIndex++) {\n   if(parameters[paramIndex].type.charAt(0) == 'n') {\n     sheetCommand += ',' + parameters[paramIndex].value;\n   }\n   if(parameters[paramIndex].type.charAt(0) == 't') {\n     sheetCommand += ',\"' + parameters[paramIndex].value + '\"';\n   }\n   if(parameters[paramIndex].type == 'range') {\n     // convert:     E5!TO0DB4GSXZJ3|E8|   -> TO0DB4GSXZJ3!E5:E8\n     // convert:     E5|E8|   -> E5:E8\n     \n     // * RegEx Unit Test **  https://regex101.com/r/zF1dA8/1\n     sheetCommand += ',' + parameters[paramIndex].value.toString().replace(/(\\$?[A-Z]+\\$?[0-9]+)([!]?)([^|]*)[|](\\$?[A-Z]+\\$?[0-9]+)[|]/i,\"$3$2$1:$4\"); ;\n   }\n   if(parameters[paramIndex].type == 'coord') {\n     sheetCommand += ',' + parameters[paramIndex].value;\n   }   \n }\n\n   // for(var parseIndex = 3; parseIndex < cell.parseinfo.length -1; parseIndex++) {\n//   if(cell.parseinfo[parseIndex].type == 6)   sheetCommand += '\"' + cell.parseinfo[parseIndex].text + '\"';\n//   else sheetCommand +=  cell.parseinfo[parseIndex].text ;\n// }\n sheetCommand += ')';\n // add style formula if css has been added\n if(parameters.cssParameter) {\n   sheetCommand += \"+style(\"+  parameters.cssParameter+ \")\"; \n }\n //SocialCalc.CmdGotFocus(cell_widget);\n\n spreadsheet.editor.EditorScheduleSheetCommands(sheetCommand,  true, false);\n \n SocialCalc.TriggerIoAction.UpdateFormDataSheet(function_name, widgetCellId, inputValue);\n}\n\n// On edit of Form Input widget - Update form data sheet \nSocialCalc.TriggerIoAction.UpdateFormDataSheet = function(function_name, formCellId, inputValue) {\n  var formDataViewer = (SocialCalc.CurrentSpreadsheetControlObject != null) \n       ? SocialCalc.CurrentSpreadsheetControlObject.formDataViewer \n       : SocialCalc.CurrentSpreadsheetViewerObject.formDataViewer; \n  if (formDataViewer == null) return;\n\n  var formFieldName = (function_name+formCellId).toLowerCase();\n  if(formDataViewer.formFields[formFieldName] != null) {       \n    var valueCoord = SocialCalc.crToCoord(formDataViewer.formFields[formFieldName], 2);\n    formDataViewer.sheet.ScheduleSheetCommands(\"set \"+valueCoord+\" text t \"+inputValue, false);    \n  }\n}\n\n\n\n//getStandardizedValues(parameterData)  \n// gets cell data of range/coord OR param value as cell data - also get coord data as cell.coord is invalid when rows deleted\n// CALL getProcessedParameter  with request for values \nSocialCalc.Formula.getStandardizedValues = function(sheet, parameterData) {\n  return SocialCalc.Formula.getStandardizedParameter(sheet, parameterData, true, true);\n}  \n\n\n// getStandardizedCoords(parameterData)  // gets coord(s) of range/coord\n// CALL getProcessedParameter  with request for coord info\nSocialCalc.Formula.getStandardizedCoords = function(sheet, parameterData) {\n  return SocialCalc.Formula.getStandardizedParameter(sheet, parameterData, true, false);\n}  \n\n/***************\n * getStandardizedList\n * @sheet spreadsheet sheet\n * @listParameter csv or array or single value - convert into single array\n * @return array of values - one dimension\n ****************/\nSocialCalc.Formula.getStandardizedList = function(sheet, listParameter) {\n  \n  var listValues = [];\n  var parameterdata = SocialCalc.Formula.getStandardizedValues(sheet, listParameter);\n  \n  if(parameterdata.ncols == 1 && parameterdata.nrows == 1) {\n    listValues = String(parameterdata.celldata[0][0].datavalue).split(',');\n  } else {\n    for (var i=0; i<parameterdata.ncols; i++) {\n      for (var j=0; j<parameterdata.nrows; j++) {\n         var cell = parameterdata.celldata[i][j];\n         listValues.push(cell.datavalue.toString());\n      }\n   }    \n  }\n  return listValues;\n}\n\n/**************************\n * getStandardizedParameter(parameterData, includeCellCoord, includeCellData)\n *\n * Convert formula parameter to standard data structure and return it.\n * \n * Formula parameters can be value/string/coord/range\n * value/string: convert to celldata:  [[coord:A1, datatype:t/c/v/f, valuetype:t/nd/n/b, datavalue:string/value , formula:\"test\"&B3]] \n * coord/range: get celldata from cell\n * \n *  return:\n ******  data structure returned\n  { \n     value:A1:B2/A1/string/value,\n     type:range/coord/t/n/b/eErrorType,\n     celldata: [][] = {coord:invalid, datatype:t/c/v/f, valuetype:t/nd/n/b, datavalue:string/value , formula:\"sum(A1)\"},  // coord is invalid after insert/delete row/col\n     cellcoord: [][] = A1,   // if requested\n     ncols:n,\n     nrows:n\n     col1num:n\n     row1num:n\n   }\n\n *\n * ------------------- type ----------------- \n * From docs for SocialCalc.Formula.EvaluatePolish  \n * type: can have these values (many are type and sub-type as two or more letters):\n *   \"tw\", \"th\", \"t\", \"n\", \"nt\", \"coord\", \"range\", \"eErrorType\", \"b\" (blank) - removed: \"start\"\n * valuetype: is set to type if the parameter is constant and not a cell reference\n * ------------------------------------------\n *\n *\n *******************************/\nSocialCalc.Formula.getStandardizedParameter = function(sheet, parameterData, includeCellCoord, includeCellData) {\n  \n  //SET result = {}\n  //SET store param values in result (.value .type)\n  var result = { type: parameterData.type, value:parameterData.value};\n  if(includeCellData) result.celldata = [];\n           \n  //IF parameter is not a cell reference i.e.  type is: \"tw\", \"th\", \"t\", \"n\", \"nt\"  THEN    \n  if(parameterData.type != 'coord' && parameterData.type != 'range') {\n    // Setup dummy cell reference information\n    // SET rows and cols to 1 cell   \n    result.ncols = 1;\n    result.nrows = 1;\n    result.col1num = 1;\n    result.row1num = 1;\n    \n    // IF requested: cell coord value THEN\n    if(includeCellCoord) {\n      // SET coord to default empty value - \n      result.cellcoord = null; \n    } // END IF\n    \n    // IF requested: cell data  THEN\n    if(includeCellData) {\n      // SET data values to dummy cell data using parameter \n      // result.celldata = [[ \n      //   coord to default null value - as illegal request\n      //   datatype  - t/v  - const can only have 2 value types\n      //   valuetype (n/b/e/t)  - set to same as parameterData.type - check date/time types don't cause issue\n      //   datavalue set to parameterData.type \n      //   formula set to empty -  because not range/coord\n      // ] ] \n      result.celldata[0] = [];\n      var constantDatatype = (parameterData.type==\"n\") ? \"v\" : ((parameterData.type==\"t\") ? parameterData.type : \"c\");\n      result.celldata[0][0] = {coord:null,datatype:constantDatatype,valuetype: parameterData.type,datavalue:parameterData.value };\n    } // END IF\n    \n  } else {\n    // param type is \"coord\" or \"range\" \n\n    var scf = SocialCalc.Formula; \n    \n    var sourcerangeinfo;\n    if(parameterData.type == 'coord') { \n      var sourceCoord = SocialCalc.Formula.PlainCoord(parameterData.value);\n      sourcerangeinfo = scf.DecodeRangeParts(sheet, sourceCoord + \"|\"+ sourceCoord +\"|\" );\n    }\n    \n    if(parameterData.type == 'range') {\n      sourcerangeinfo = scf.DecodeRangeParts(sheet, parameterData.value);\n    }\n    \n    // if coords requested,  init coord array\n    if(includeCellCoord) result.cellcoord = []; \n    \n    for (var i=0; i<sourcerangeinfo.ncols; i++) {\n        for (var j=0; j<sourcerangeinfo.nrows; j++) {\n          var cellcoord = SocialCalc.crToCoord(sourcerangeinfo.col1num + i, sourcerangeinfo.row1num + j);\n           // IF requested: cell coord value THEN\n          if(includeCellCoord) {           \n             // SET coord in array to coord of cell\n            if(typeof result.cellcoord[i] === 'undefined') result.cellcoord[i] = [];            \n            result.cellcoord[i][j] = cellcoord;            \n          } // END IF\n\n          // IF requested: cell data  THEN\n          if(includeCellData) {\n          \n            // SET get cell from sheet and store values \n            if(typeof result.celldata[i] === 'undefined') result.celldata[i] = [];                        \n            var cell = sourcerangeinfo.sheetdata.GetAssuredCell(cellcoord);\n            result.celldata[i][j] = cell; \n          } // END IF\n        }\n    }\n    // SET rows and cols to range - i.e. sourcerangeinfo -   ncols:n,       nrows:n       col1num:n      row1num:n\n    result.ncols = sourcerangeinfo.ncols;\n    result.nrows = sourcerangeinfo.nrows;\n    result.col1num = sourcerangeinfo.col1num;\n    result.row1num = sourcerangeinfo.row1num;\n    \n  }  //END IF\n    \n  //RETURN \n  return result;\n}\n\n\n\n\n\n\n// -----------------------------------------\n// }\n// -----------------------------------------\n\n\n\n\n//\n// SHEET CACHE\n//\n\nSocialCalc.Formula.SheetCache = {\n\n   // Sheet data: Attributes are each sheet in the cache with values of an object with:\n   //\n   //    sheet: sheet-obj (or null, meaning not found)\n   //    recalcstate: constants.asloaded = as loaded\n   //                 constants.recalcing = being recalced now\n   //                 constants.recalcdone = recalc done\n   //    name: name of sheet (in case just have object and don't know name)\n   //\n\n   sheets: {},\n\n   // Waiting for loading:\n   // If sheet is not in cache, this is set to the sheetname being loaded\n   // so it can be tested in the recalc loop to start load and then wait until restarted.\n   // Reset to null before restarting.\n\n   waitingForLoading: null,\n\n   // Constants to use for setting sheets[*].recalcstate:\n\n   constants: {asloaded: 0, recalcing: 1, recalcdone: 2},\n\n   loadsheet: null // (deprecated - use SocialCalc.RecalcInfo.LoadSheet)\n\n   };\n\n//\n// othersheet = SocialCalc.Formula.FindInSheetCache(sheetname)\n//\n// Returns a SocialCalc.Sheet object corresponding to string sheetname\n// or null if the sheet is not available or in error.\n//\n// Each sheet is loaded only once and then stored in a cache.\n// Loading is handled elsewhere, e.g., in the recalc loop.\n//\n\nSocialCalc.Formula.FindInSheetCache = function(sheetname) {\n\n   var str;\n   var sfsc = SocialCalc.Formula.SheetCache;\n\n   var nsheetname = SocialCalc.Formula.NormalizeSheetName(sheetname); // normalize different versions\n\n   if (sfsc.sheets[nsheetname]) { // a sheet by that name is in the cache already\n      return sfsc.sheets[nsheetname].sheet; // return it.\n      }\n\n   if (sfsc.waitingForLoading) { // waiting already - only queue up one\n      return null; // return not found\n      }\n\n   if (sfsc.loadsheet) { // Deprecated old format synchronous callback\nalert(\"Using SocialCalc.Formula.SheetCache.loadsheet - deprecated\");\n      return SocialCalc.Formula.AddSheetToCache(nsheetname, sfsc.loadsheet(nsheetname));\n      }\n\n   sfsc.waitingForLoading = nsheetname; // let recalc loop know that we have a sheet to load\n\n   return null; // return not found\n\n   }\n\n//\n// newsheet = SocialCalc.Formula.AddSheetToCache(sheetname, str, live)\n//\n// Adds a new sheet to the sheet cache.\n// Returns the sheet object filled out with the str (a saved sheet).\n//\n\nSocialCalc.Formula.AddSheetToCache = function(sheetname, str, live) {\n\n   var newsheet = null;\n   var sfsc = SocialCalc.Formula.SheetCache;\n   var sfscc = sfsc.constants;\n   var newsheetname = SocialCalc.Formula.NormalizeSheetName(sheetname);\n\n   if (str) {\n      newsheet = new SocialCalc.Sheet();\n      newsheet.ParseSheetSave(str);\n      }\n\n   sfsc.sheets[newsheetname] = {sheet: newsheet, recalcstate: sfscc.asloaded, name: newsheetname};\n\n   SocialCalc.Formula.FreshnessInfo.sheets[newsheetname] = (typeof(live) == \"undefined\" || live === false);\n\n   return newsheet;\n\n   }\n\n//\n// nsheet = SocialCalc.Formula.NormalizeSheetName(sheetname)\n//\n\nSocialCalc.Formula.NormalizeSheetName = function(sheetname) {\n\n   if (SocialCalc.Callbacks.NormalizeSheetName) {\n      return SocialCalc.Callbacks.NormalizeSheetName(sheetname);\n      }\n   else {\n      return sheetname.toLowerCase();\n      }\n   }\n\n//\n// REMOTE FUNCTION INFO\n//\n\nSocialCalc.Formula.RemoteFunctionInfo = {\n\n   // Waiting for server:\n   // If waiting for an XHR response from the server, this is set to some non-blank status text\n   // so it can be tested in the recalc loop to start load and then wait until restarted.\n   // Reset to null before restarting.\n\n   waitingForServer: null\n\n   };\n\n//\n// FRESHNESS INFO\n//\n// This information is generated during recalc.\n// It may be used to help determine when the recalc data in a spreadsheet\n// may be out of date.\n// For example, it may be used to display a message like:\n// \"Dependent on sheet 'FOO' which was updated more recently than this printout\"\n\nSocialCalc.Formula.FreshnessInfo = {\n\n   // For each external sheet referenced successfully an attribute of that name with value true to keep the sheet cached.\n   // Value false means the sheet is reloaded at each recalc.\n\n   sheets: {},\n\n   // For each volatile function that is called an attribute of that name with value true.\n\n   volatile: {},\n\n   // Set to false when started and true when recalc completes\n\n   recalc_completed: false\n\n   };\n\nSocialCalc.Formula.FreshnessInfoReset = function() {\n\n   var scffi = SocialCalc.Formula.FreshnessInfo;\n   var scfsc = SocialCalc.Formula.SheetCache;\n\n   // Loop through sheets freshness, deleting cached sheets that should be reloaded.\n\n   for (var sheet in scffi.sheets) {\n      if (scffi.sheets[sheet] === false) {\n         delete scfsc.sheets[sheet];\n         }\n      }\n   \n   // Reset freshness info.\n\n   scffi.sheets = {};\n   scffi.volatile = {};\n   scffi.recalc_completed = false;\n\n   }\n\n//\n// MISC ROUTINES\n//\n\n//\n// result = SocialCalc.Formula.PlainCoord(coord)\n//\n// Returns: coord without any $'s\n//\n\nSocialCalc.Formula.PlainCoord = function(coord) {\n\n   if (coord.indexOf(\"$\") == -1) return coord;\n\n   return coord.replace(/\\$/g, \"\"); // remove any $'s\n\n   }\n\n//\n// result = SocialCalc.Formula.OrderRangeParts(coord1, coord2)\n//\n// Returns: {c1: col, r1: row, c2: col, r2 = row} with c1/r1 upper left\n//\n\nSocialCalc.Formula.OrderRangeParts = function(coord1, coord2) {\n\n   var cr1, cr2;\n   var result = {};\n\n   cr1 = SocialCalc.coordToCr(coord1);\n   cr2 = SocialCalc.coordToCr(coord2);\n   if (cr1.col > cr2.col) { result.c1 = cr2.col; result.c2 = cr1.col; }\n   else { result.c1 = cr1.col; result.c2 = cr2.col; }\n   if (cr1.row > cr2.row) { result.r1 = cr2.row; result.r2 = cr1.row; }\n   else { result.r1 = cr1.row; result.r2 = cr2.row; }\n\n   return result;\n\n   }\n\n//\n// cond = SocialCalc.Formula.TestCriteria(value, type, criteria)\n//\n// Determines whether a value/type meets the criteria.\n// A criteria can be a numeric value, text beginning with <, <=, =, >=, >, <>, text by itself is start of text to match.\n// Used by a variety of functions, including the \"D\" functions (DSUM, etc.).\n//\n// Returns true or false\n//\n\nSocialCalc.Formula.TestCriteria = function(value, type, criteria) {\n\n   var comparitor, basestring, basevalue, cond, testvalue;\n\n   if (criteria == null) { // undefined (e.g., error value) is always false\n      return false;\n      }\n\n   criteria = criteria + \"\";\n   comparitor = criteria.charAt(0); // look for comparitor\n   if (comparitor == \"=\" || comparitor == \"<\" || comparitor == \">\") {\n      basestring = criteria.substring(1);\n      }\n   else {\n      // check for '*' or '?' in search string - wildcard\n      if (criteria.search(/([^~]\\*|^\\*)/) != -1 || criteria.search(/([^~]\\?|^\\?)/) != -1) {\n         comparitor = \"regex\";\n         if (criteria == \"*\") {\n            // \"*\" means cell contains 'anything'\n            basestring = \".+\";\n         } else {\n             // convert Excel syntax to regex syntax. * -> .*    ? -> .?    ~* -> \\*    ~? -> \\?\n             // there are no negative lookbehinds in Javascript. Reverse the string and do negative lookaheads on ~? and ~*\n             basestring = criteria.split(\"\").reverse().join(\"\");\n             basestring = basestring.replace(/\\?(?=[^~])|\\?$/g, \"?.\").replace(/\\?~/g, \"?\\\\\").replace(/\\*(?=[^~])|\\*$/g, \"*.\").replace(/\\*~/, \"*\\\\\");\n             basestring = basestring.split(\"\").reverse().join(\"\");\n         }\n         basestring = \"^\" + basestring + \"$\";\n      } else {\n          comparitor = criteria.substring(0,2);\n          if (comparitor == \"<=\" || comparitor == \"<>\" || comparitor == \">=\") {\n             basestring = criteria.substring(2);\n          } else {\n             comparitor = \"none\";\n             basestring = criteria;\n          }\n      }\n   }\n\n   basevalue = SocialCalc.DetermineValueType(basestring); // get type of value being compared\n   if (!basevalue.type) { // no criteria base value given\n      if (comparitor == \"none\") { // blank criteria matches nothing\n         return false;\n         }\n      if (type.charAt(0) == \"b\") { // comparing to empty cell\n         if (comparitor == \"=\") { // empty equals empty\n            return true;\n            }\n         }\n      else {\n         if (comparitor == \"<>\") { // \"something\" does not equal empty\n            return true;\n            }\n         }\n      return false; // otherwise false\n      }\n\n   cond = false;\n\n   if (basevalue.type.charAt(0) == \"n\" && type.charAt(0) == \"t\") { // criteria is number, but value is text\n      testvalue = SocialCalc.DetermineValueType(value);\n      if (testvalue.type.charAt(0) == \"n\") { // could be number - make it one\n         value = testvalue.value;\n         type = testvalue.type;\n         }\n      }\n\n   if (type.charAt(0) == \"n\" && basevalue.type.charAt(0) == \"n\") { // compare two numbers\n      value = value - 0; // make sure numbers\n      basevalue.value = basevalue.value - 0;\n      switch (comparitor) {\n         case \"<\":\n            cond = value < basevalue.value;\n            break;\n\n         case \"<=\":\n            cond = value <= basevalue.value;\n            break;\n\n         case \"=\":\n         case \"none\":\n            cond = value == basevalue.value;\n            break;\n\n         case \">=\":\n            cond = value >= basevalue.value;\n            break;\n\n         case \">\":\n            cond = value > basevalue.value;\n            break;\n\n         case \"<>\":\n            cond = value != basevalue.value;\n            break;\n         }\n      }\n\n   else if (type.charAt(0) == \"e\") { // error on left\n      cond = false;\n      }\n\n   else if (basevalue.type.charAt(0) == \"e\") { // error on right\n      cond = false;\n      }\n\n   else { // text, maybe mixed with number or blank\n      if (type.charAt(0) == \"n\") {\n         value = SocialCalc.format_number_for_display(value, \"n\", \"\");\n         }\n      if (basevalue.type.charAt(0) == \"n\") {\n         return false; // if number and didn't match already, isn't a match\n         }\n\n      value = value ? value.toLowerCase() : \"\";\n      basevalue.value = basevalue.value ? basevalue.value.toLowerCase() : \"\";\n\n      switch (comparitor) {\n         case \"<\":\n            cond = value < basevalue.value;\n            break;\n\n         case \"<=\":\n            cond = value <= basevalue.value;\n            break;\n\n         case \"=\":\n            cond = value == basevalue.value;\n            break;\n\n         case \"none\":\n            cond = value.substring(0, basevalue.value.length) == basevalue.value;\n            break;\n\n         case \">=\":\n            cond = value >= basevalue.value;\n            break;\n\n         case \">\":\n            cond = value > basevalue.value;\n            break;\n\n         case \"<>\":\n            cond = value != basevalue.value;\n            break;\n\n         case \"regex\":\n            try {\n              cond = value.search(new RegExp(basevalue.value)) != -1;\n            } catch(e) {\n              cond = false; // regex invalid (e.g., error value) is always false\n            }\n            break;\n         }\n      }\n\n   return cond;\n\n   }\n\n//\n/*\n// The module of the SocialCalc package for the optional popup menus in socialcalcspreadsheetcontrol.js\n//\n// (c) Copyright 2009 Socialtext, Inc.\n// All Rights Reserved.\n//\n// The contents of this file are subject to the Artistic License 2.0; you may not\n// use this file except in compliance with the License. You may obtain a copy of \n// the License at http://socialcalc.org/licenses/al-20/.\n//\n// Some of the other files in the SocialCalc package are licensed under\n// different licenses. Please note the licenses of the modules you use.\n//\n// Code History:\n//\n// Initially coded by Dan Bricklin of Software Garden, Inc., for Socialtext, Inc.\n//\n*/\n\n   var SocialCalc; // All values are stored in the master SocialCalc object\n   if (!SocialCalc) {\n      SocialCalc = {};\n      }\n\n   // The main Popup data -- there is only one set\n\n   SocialCalc.Popup = {};\n\n   // Routines and values for each type of control, indexed by type name\n   // The value for each is an object constructed as follows:\n   //\n   //    Create = function(type, id, attribs)\n   //    Initialize = function(type, id, data)\n   //    SetValue = function(type, id, value)\n   //    GetValue = function(type, id) returns value\n   //    SetDisabled = function(type, id, t/f)\n   //    Show = function(type, id)\n   //    Hide = function(type, id)\n   //    Cancel = function(type, id)\n   //    Reset = function(type)\n   //\n   //    data = object to hold type-specific data\n   //\n\n   SocialCalc.Popup.Types = {};\n\n   // Definitions for each individual control, indexed by id\n   // The value for each is an object constructed as follows:\n   //\n   //    type: type name of the control\n   //    value: current value of the control (usually a string, but can depend on type)\n   //    data: object with type-specific items\n   //\n\n   SocialCalc.Popup.Controls = {};\n\n   // System-wide values of currently active control\n   //\n   //    id: id of current control or null\n   //\n\n   SocialCalc.Popup.Current = {};\n\n   // Override this for localization\n\n   SocialCalc.Popup.LocalizeString = function(str) {return str;};\n\n\n// * * * * * * * * * * * * * * * *\n//\n// GENERAL ROUTINES\n//\n// * * * * * * * * * * * * * * * *\n\n//\n// SocialCalc.Popup.Create(type, id, attribs)\n//\n// Creates a control of type \"type\" as the children of document element \"id\" using \"attribs\"\n//\n\nSocialCalc.Popup.Create = function(type, id, attribs) {\n\n   var pt = SocialCalc.Popup.Types[type];\n   if (pt && pt.Create) {\n      pt.Create(type, id, attribs);\n      }\n\n   SocialCalc.Popup.imagePrefix = SocialCalc.Constants.defaultImagePrefix; // image prefix\n\n   }\n\n\n//\n// SocialCalc.Popup.SetValue(id, value)\n//\n// Sets the value of control.\n//\n\nSocialCalc.Popup.SetValue = function(id, value) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n\n   if (!spc[id]) {alert(\"Unknown control \"+id);return;}\n\n   var type = spc[id].type;\n   var pt = spt[type];\n   var spcdata = spc[id].data;\n\n   if (pt && pt.Create) {\n      pt.SetValue(type, id, value);\n      if (spcdata.attribs && spcdata.attribs.changedcallback) {\n         spcdata.attribs.changedcallback(spcdata.attribs, id, value);\n         }\n      }\n\n   }\n\n\n//\n// SocialCalc.Popup.SetDisabled(id, disabled)\n//\n// Sets whether the control is disabled (true) or not (false).\n//\n\nSocialCalc.Popup.SetDisabled = function(id, disabled) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n\n   if (!spc[id]) {alert(\"Unknown control \"+id);return;}\n\n   var type = spc[id].type;\n\n   var pt = spt[type];\n   if (pt && pt.Create) {\n      if (sp.Current.id && id == sp.Current.id) {\n         pt.Hide(type, sp.Current.id);\n         sp.Current.id = null;\n         }\n      pt.SetDisabled(type, id, disabled);\n      }\n\n   }\n\n\n//\n// SocialCalc.Popup.GetValue(id)\n//\n// Returns the value of control.\n//\n\nSocialCalc.Popup.GetValue = function(id) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n\n   if (!spc[id]) {alert(\"Unknown control \"+id);return;}\n\n   var type = spc[id].type;\n\n   var pt = spt[type];\n   if (pt && pt.Create) {\n      return pt.GetValue(type, id);\n      }\n\n   return null;\n\n   }\n\n\n//\n// SocialCalc.Popup.Initialize(id, data)\n//\n// Gives \"data\" to the appropriate initialization code.\n//\n\nSocialCalc.Popup.Initialize = function(id, data) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n\n   if (!spc[id]) {alert(\"Unknown control \"+id);return;}\n\n   var type = spc[id].type;\n\n   var pt = spt[type];\n   if (pt && pt.Initialize) {\n      pt.Initialize(type, id, data);\n      }\n\n   }\n\n\n//\n// SocialCalc.Popup.Reset(type)\n//\n// Resets Popup, such as when turning to page.\n//\n\nSocialCalc.Popup.Reset = function(type) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n\n   if (spt[type].Reset) spt[type].Reset(type);\n\n   }\n\n\n//\n// SocialCalc.Popup.CClick(id)\n//\n// Should be called when the user clicks on a control to do the popup\n//\n\nSocialCalc.Popup.CClick = function(id) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n\n   if (!spc[id]) {alert(\"Unknown control \"+id);return;}\n\n   if (spc[id].data && spc[id].data.disabled) return;\n\n   var type = spc[id].type;\n\n   var pt = spt[type];\n\n   if (sp.Current.id) {\n      spt[spc[sp.Current.id].type].Hide(type, sp.Current.id);\n      if (id == sp.Current.id) { // same one - done\n         sp.Current.id = null;\n         return;\n         }\n      }\n\n   if (pt && pt.Show) {\n      pt.Show(type, id);\n      }\n\n   sp.Current.id = id;\n\n   }\n\n\n//\n// SocialCalc.Popup.Close()\n//\n// Used to close any open popup.\n//\n\nSocialCalc.Popup.Close = function() {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n\n   if (!sp.Current.id) return;\n\n   sp.CClick(sp.Current.id);\n\n   }\n\n//\n// SocialCalc.Popup.Cancel()\n//\n// Closes Popup and restores old value\n//\n\nSocialCalc.Popup.Cancel = function() {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n\n   if (!sp.Current.id) return;\n\n   var type = spc[sp.Current.id].type;\n\n   var pt = spt[type];\n\n   pt.Cancel(type, sp.Current.id);\n\n   sp.Current.id = null;\n\n   }\n\n//\n// ele = SocialCalc.Popup.CreatePopupDiv(id, attribs)\n//\n// Utility function to create the main popup div of width attribs.width.\n// If attribs.title, create one with that text, and optionally attribs.moveable.\n//\n\nSocialCalc.Popup.CreatePopupDiv = function(id, attribs) {\n\n   var pos, ele;\n\n   var sp = SocialCalc.Popup;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   var main = document.createElement(\"div\");\n   main.style.position = \"absolute\";\n\n   pos = SocialCalc.GetElementPosition(spcdata.mainele);\n\n   main.style.top = (pos.top+spcdata.mainele.offsetHeight)+\"px\";\n   main.style.left = pos.left+\"px\";\n   main.style.zIndex = 100;\n   main.style.backgroundColor = \"#FFF\";\n   main.style.border = \"1px solid black\";\n\n   if (attribs.width) {\n      main.style.width = attribs.width;\n      }\n\n   spcdata.mainele.appendChild(main);\n\n   if (attribs.title) {\n      main.innerHTML = '<table cellspacing=\"0\" cellpadding=\"0\" style=\"border-bottom:1px solid black;\"><tr>'+\n         '<td style=\"font-size:10px;cursor:default;width:100%;background-color:#999;color:#FFF;\">'+attribs.title+'</td>'+\n         '<td style=\"font-size:10px;cursor:default;color:#666;\" onclick=\"SocialCalc.Popup.Cancel();\">&nbsp;X&nbsp;</td></tr></table>';\n\n      if (attribs.moveable) {\n         spcdata.dragregistered = main.firstChild.firstChild.firstChild.firstChild;\n         SocialCalc.DragRegister(spcdata.dragregistered, true, true, \n                    {MouseDown: SocialCalc.DragFunctionStart, \n                     MouseMove: SocialCalc.DragFunctionPosition,\n                     MouseUp: SocialCalc.DragFunctionPosition,\n                     Disabled: null, positionobj: main},\n                     spcdata.mainele);\n         }\n      }\n\n   return main;\n\n   }\n\n//\n// SocialCalc.Popup.EnsurePosition(id, container)\n//\n// Utility function to make sure popup is positioned completely within container (both element objects)\n// and appropriate with respect to the main element controlling the popup.\n//\n\nSocialCalc.Popup.EnsurePosition = function(id, container) {\n\n   var sp = SocialCalc.Popup;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   var main = spcdata.mainele.firstChild;\n   if (!main) {alert(\"No main popup element firstChild.\");return};\n   var popup = spcdata.popupele;\n\n   function GetLayoutValues(ele) {\n      var r = SocialCalc.GetElementPosition(ele);\n      r.height = ele.offsetHeight;\n      r.width = ele.offsetWidth;\n      r.bottom = r.top+r.height;\n      r.right = r.left+r.width;\n      return r;\n      }\n\n   var p = GetLayoutValues(popup);\n   var c = GetLayoutValues(container);\n   var m = GetLayoutValues(main);\n   var t = 0; // type of placement\n//addmsg(\"popup t/r/b/l/h/w= \"+p.top+\"/\"+p.right+\"/\"+p.bottom+\"/\"+p.left+\"/\"+p.height+\"/\"+p.width);\n//addmsg(\"container t/r/b/l/h/w= \"+c.top+\"/\"+c.right+\"/\"+c.bottom+\"/\"+c.left+\"/\"+c.height+\"/\"+c.width);\n//addmsg(\"main t/r/b/l/h/w= \"+m.top+\"/\"+m.right+\"/\"+m.bottom+\"/\"+m.left+\"/\"+m.height+\"/\"+m.width);\n\n   // Check various layout cases in priority order\n\n   if (m.bottom+p.height < c.bottom && m.left+p.width < c.right) { // normal case: room on bottom and right\n      popup.style.top = m.bottom + \"px\";\n      popup.style.left = m.left + \"px\";\n      t = 1;\n      }\n\n   else if (m.top-p.height > c.top && m.left+p.width < c.right) { // room on top and right\n      popup.style.top = (m.top-p.height) + \"px\";\n      popup.style.left = m.left + \"px\";\n      t = 2;\n      }\n\n   else if (m.bottom+p.height < c.bottom && m.right-p.width > c.left) { // room on bottom and left\n      popup.style.top = m.bottom + \"px\";\n      popup.style.left = (m.right-p.width) + \"px\";\n      t = 3;\n      }\n\n   else if (m.top-p.height > c.top && m.right-p.width > c.left) { // room on top and left\n      popup.style.top = (m.top-p.height) + \"px\";\n      popup.style.left = (m.right-p.width) + \"px\";\n      t = 4;\n      }\n\n   else if (m.bottom+p.height < c.bottom && p.width < c.width) { // room on bottom and middle\n      popup.style.top = m.bottom + \"px\";\n      popup.style.left = (c.left+Math.floor((c.width-p.width)/2)) + \"px\";\n      t = 5;\n      }\n\n   else if (m.top-p.height > c.top && p.width < c.width) { // room on top and middle\n      popup.style.top = (m.top-p.height) + \"px\";\n      popup.style.left = (c.left+Math.floor((c.width-p.width)/2)) + \"px\";\n      t = 6;\n      }\n\n   else if (p.height < c.height && m.right+p.width < c.right) { // room on middle and right\n      popup.style.top = (c.top+Math.floor((c.height-p.height)/2)) + \"px\";\n      popup.style.left = m.right + \"px\";\n      t = 7;\n      }\n\n   else if (p.height < c.height && m.left-p.width > c.left) { // room on middle and left\n      popup.style.top = (c.top+Math.floor((c.height-p.height)/2)) + \"px\";\n      popup.style.left = (m.left-p.width) + \"px\";\n      t = 8;\n      }\n\n   else { // nothing works, so leave as it is\n      }\n//addmsg(\"Popup layout \"+t);\n\n}\n\n//\n// ele = SocialCalc.Popup.DestroyPopupDiv(ele, dragregistered)\n//\n// Utility function to get rid of the main popup div.\n//\n\nSocialCalc.Popup.DestroyPopupDiv = function(ele, dragregistered) {\n\n   if (!ele) return;\n\n   ele.innerHTML = \"\";\n\n   SocialCalc.DragUnregister(dragregistered); // OK to do this even if not registered\n\n   if (ele.parentNode) {\n      ele.parentNode.removeChild(ele);\n      }\n\n   }\n\n//\n// Color Utility Functions\n//\n\nSocialCalc.Popup.RGBToHex = function(val) {\n\n   var sp = SocialCalc.Popup;\n\n   if (val==\"\") {\n      return \"000000\";\n      }\n   var rgbvals = val.match(/(\\d+)\\D+(\\d+)\\D+(\\d+)/);\n   if (rgbvals) {\n      return sp.ToHex(rgbvals[1])+sp.ToHex(rgbvals[2])+sp.ToHex(rgbvals[3]);\n      }\n   else {\n      return \"000000\";\n      }\n   }\n\nSocialCalc.Popup.HexDigits=\"0123456789ABCDEF\";\n\nSocialCalc.Popup.ToHex = function(num) {\n   var sp = SocialCalc.Popup;\n   var first=Math.floor(num / 16);\n   var second=num % 16;\n   return sp.HexDigits.charAt(first)+sp.HexDigits.charAt(second);\n   }\n\nSocialCalc.Popup.FromHex = function(str) {\n\n   var sp = SocialCalc.Popup;\n   var first = sp.HexDigits.indexOf(str.charAt(0).toUpperCase());\n   var second = sp.HexDigits.indexOf(str.charAt(1).toUpperCase());\n   return ((first>=0)?first:0)*16+((second>=0)?second:0);\n   }\n\nSocialCalc.Popup.HexToRGB = function(val) {\n\n   var sp = SocialCalc.Popup;\n\n   return \"rgb(\"+sp.FromHex(val.substring(1,3))+\",\"+sp.FromHex(val.substring(3,5))+\",\"+sp.FromHex(val.substring(5,7))+\")\";\n\n   }\n\nSocialCalc.Popup.makeRGB = function(r, g, b) {\n   return \"rgb(\"+(r>0?r:0)+\",\"+(g>0?g:0)+\",\"+(b>0?b:0)+\")\";\n   }\n\nSocialCalc.Popup.splitRGB = function(rgb) {\n   var parts = rgb.match(/(\\d+)\\D+(\\d+)\\D+(\\d+)\\D/);\n   if (!parts) {\n      return {r:0, g:0, b:0};\n      }\n   else {\n      return {r: parts[1]-0, g: parts[2]-0, b: parts[3]-0};\n      }\n   }\n\n// * * * * * * * * * * * * * * * *\n//\n// ROUTINES FOR EACH TYPE\n//\n// * * * * * * * * * * * * * * * *\n\n//\n// List\n//\n// type: List\n// value: value of control,\n// display: \"value to display\",\n// custom: true if custom value,\n// disabled: t/f,\n// attribs: {\n//    title: \"popup title string\",\n//    moveable: t/f,\n//    width: optional width, e.g., \"100px\",\n//    ensureWithin: optional element object to ensure popup fits within if possible\n//    changedcallback: optional function(attribs, id, newvalue),\n//    ...\n//    }\n// data: {\n//    ncols: calculated number of columns\n//    options: [\n//       {o: option-name, v: value-to-return,\n//        a: {option attribs} // optional: {skip: true, custom: true, cancel: true, newcol: true}\n//       },\n//       ...]\n//    }\n//\n// popupele: gets popup element object when created\n// contentele: gets element created with all the content\n// listdiv: gets div with list of items\n// customele: gets input element with custom value\n// dragregistered: gets element, if any, registered as draggable\n//\n\nSocialCalc.Popup.Types.List = {};\n\nSocialCalc.Popup.Types.List.Create = function(type, id, attribs) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n\n   var spcid = {type: type, value: \"\", display: \"\", data: {}};\n   //if (spc[id]) {alert(\"Already created \"+id); return;}\n   spc[id] = spcid;\n   var spcdata = spcid.data;\n\n   spcdata.attribs = attribs || {};\n\n   var ele = document.getElementById(id);\n   if (!ele) {alert(\"Missing element \"+id); return;}\n\n   spcdata.mainele = ele;\n\n   ele.innerHTML = '<input style=\"cursor:pointer;width:100px;font-size:smaller;\" onfocus=\"this.blur();\" onclick=\"SocialCalc.Popup.CClick(\\''+id+'\\');\" value=\"\">';\n\n   spcdata.options = []; // set to nothing - use Initialize to fill\n\n   }\n\nSocialCalc.Popup.Types.List.SetValue = function(type, id, value) {\n\n   var i;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   spcdata.value = value;\n   spcdata.custom = false;\n\n   for (i=0; i<spcdata.options.length; i++) {\n      o = spcdata.options[i];\n      if (o.a) {\n         if (o.a.skip || o.a.custom || o.a.cancel) {\n            continue;\n            }\n         }\n      if (o.v == spcdata.value) { // matches value\n         spcdata.display = o.o;\n         break;\n         }\n      }\n   if (i==spcdata.options.length) { // none found\n      spcdata.display = \"Custom\";\n      spcdata.custom = true;\n      }\n\n   if (spcdata.mainele && spcdata.mainele.firstChild) {\n      spcdata.mainele.firstChild.value = spcdata.display;\n      }\n\n   }\n\n\nSocialCalc.Popup.Types.List.SetDisabled = function(type, id, disabled) {\n\n   var i;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   spcdata.disabled = disabled;\n\n   if (spcdata.mainele && spcdata.mainele.firstChild) {\n      spcdata.mainele.firstChild.disabled = disabled;\n      }\n\n   }\n\n\nSocialCalc.Popup.Types.List.GetValue = function(type, id) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   return spcdata.value;\n\n   }\n\n\n// data is: {value: initial value, attribs: {attribs stuff}, options: [{o: option-name, v: value-to-return, a: optional-attribs}, ...]}\n\nSocialCalc.Popup.Types.List.Initialize = function(type, id, data) {\n\n   var a;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   for (a in data.attribs) {\n      spcdata.attribs[a] = data.attribs[a];\n      }\n\n   spcdata.options = data ? data.options : [];\n\n   if (data.value) { // if has a value, set to it\n      sp.SetValue(id, data.value);\n      }\n\n   }\n\n\nSocialCalc.Popup.Types.List.Reset = function(type) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n\n   if (sp.Current.id && spc[sp.Current.id].type == type) { // we have a popup\n      spt[type].Hide(type, sp.Current.id);\n      sp.Current.id = null;\n      }\n\n   }\n\n\nSocialCalc.Popup.Types.List.Show = function(type, id) {\n\n   var i, ele, o, bg;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data\n\n   var str = \"\";\n\n   spcdata.popupele = sp.CreatePopupDiv(id, spcdata.attribs);\n\n   if (spcdata.custom) {\n      str = SocialCalc.Popup.Types.List.MakeCustom(type, id);\n\n      ele = document.createElement(\"div\");\n      ele.innerHTML = '<div style=\"cursor:default;padding:4px;background-color:#CCC;\">'+str+'</div>';\n\n      spcdata.customele = ele.firstChild.firstChild.childNodes[1];\n      spcdata.listdiv = null;\n      spcdata.contentele = ele;\n      }\n   else {\n      str = SocialCalc.Popup.Types.List.MakeList(type, id);\n\n      ele = document.createElement(\"div\");\n      ele.innerHTML = '<div style=\"cursor:default;padding:4px;\">'+str+'</div>';\n\n      spcdata.customele = null;\n      spcdata.listdiv = ele.firstChild;\n      spcdata.contentele = ele;\n      }\n\n   if (spcdata.mainele && spcdata.mainele.firstChild) {\n      spcdata.mainele.firstChild.disabled = true;\n      }\n\n   spcdata.popupele.appendChild(ele);\n\n   if (spcdata.attribs.ensureWithin) {\n      SocialCalc.Popup.EnsurePosition(id, spcdata.attribs.ensureWithin);\n      }\n\n   }\n\n\nSocialCalc.Popup.Types.List.MakeList = function(type, id) {\n\n   var i, ele, o, bg;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data\n\n   var str = '<table cellspacing=\"0\" cellpadding=\"0\"><tr>';\n   var td = '<td style=\"vertical-align:top;\">';\n\n   str += td;\n\n   spcdata.ncols = 1;\n\n   for (i=0; i<spcdata.options.length; i++) {\n      o = spcdata.options[i];\n      if (o.a) {\n         if ( o.a.newcol) {\n            str += '</td>'+td+\"&nbsp;&nbsp;&nbsp;&nbsp;\"+'</td>'+td;\n            spcdata.ncols += 1;\n            continue;\n            }\n         if (o.a.skip) {\n            str += '<div style=\"font-size:x-small;white-space:nowrap;\">'+o.o+'</div>';\n            continue;\n            }\n         }\n      if (o.v == spcdata.value && !(o.a && (o.a.custom || o.a.cancel))) { // matches value\n         bg = \"background-color:#DDF;\";\n         }\n      else {\n         bg = \"\";\n         }\n      str += '<div style=\"font-size:x-small;white-space:nowrap;'+bg+'\" onclick=\"SocialCalc.Popup.Types.List.ItemClicked(\\''+id+'\\',\\''+i+'\\');\" onmousemove=\"SocialCalc.Popup.Types.List.MouseMove(\\''+id+'\\',this);\">'+o.o+'</div>';\n      }\n\n   str += \"</td></tr></table>\";\n\n   return str;\n\n   }\n\n\nSocialCalc.Popup.Types.List.MakeCustom = function(type, id) {\n\n   var SPLoc = SocialCalc.Popup.LocalizeString;\n\n   var i, ele, o, bg;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   var style = 'style=\"font-size:smaller;\"';\n\n   var str = \"\";\n\n   var val = spcdata.value;\n   val = SocialCalc.special_chars(val);\n\n   str = '<div style=\"white-space:nowrap;\"><br>'+\n         '<input id=\"customvalue\" value=\"'+val+'\"><br><br>'+\n         '<input '+style+' type=\"button\" value=\"'+SPLoc(\"OK\")+'\" onclick=\"SocialCalc.Popup.Types.List.CustomOK(\\''+id+'\\');return false;\">'+\n         '<input '+style+' type=\"button\" value=\"'+SPLoc(\"List\")+'\" onclick=\"SocialCalc.Popup.Types.List.CustomToList(\\''+id+'\\');\">'+\n         '<input '+style+' type=\"button\" value=\"'+SPLoc(\"Cancel\")+'\" onclick=\"SocialCalc.Popup.Close();\">'+\n         '<br></div>';\n\n   return str;\n\n   }\n\n\nSocialCalc.Popup.Types.List.ItemClicked = function(id, num) {\n\n   var oele, str, nele;\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   var a = spcdata.options[num].a;\n\n   if (a && a.custom) {\n      oele = spcdata.contentele;\n      str = SocialCalc.Popup.Types.List.MakeCustom(\"List\", id);\n      nele = document.createElement(\"div\");\n      nele.innerHTML = '<div style=\"cursor:default;padding:4px;background-color:#CCC;\">'+str+'</div>';\n      spcdata.customele = nele.firstChild.firstChild.childNodes[1];\n      spcdata.listdiv = null;\n      spcdata.contentele = nele;\n      spcdata.popupele.replaceChild(nele, oele);\n      if (spcdata.attribs.ensureWithin) {\n         SocialCalc.Popup.EnsurePosition(id, spcdata.attribs.ensureWithin);\n         }\n      return;\n      }\n\n   if (a && a.cancel) {\n      SocialCalc.Popup.Close();\n      return;\n      }\n\n   SocialCalc.Popup.SetValue(id, spcdata.options[num].v);\n\n   SocialCalc.Popup.Close();\n   \n   }\n\n\nSocialCalc.Popup.Types.List.CustomToList = function(id) {\n\n   var oele, str, nele;\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   oele = spcdata.contentele;\n   str = SocialCalc.Popup.Types.List.MakeList(\"List\", id);\n   nele = document.createElement(\"div\");\n   nele.innerHTML = '<div style=\"cursor:default;padding:4px;\">'+str+'</div>';\n   spcdata.customele = null;\n   spcdata.listdiv = nele.firstChild;\n   spcdata.contentele = nele;\n   spcdata.popupele.replaceChild(nele, oele);\n   \n   if (spcdata.attribs.ensureWithin) {\n      SocialCalc.Popup.EnsurePosition(id, spcdata.attribs.ensureWithin);\n      }\n   }\n\n\nSocialCalc.Popup.Types.List.CustomOK = function(id) {\n\n   var i, c;\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   SocialCalc.Popup.SetValue(id, spcdata.customele.value);\n\n   SocialCalc.Popup.Close();\n   \n   }\n\n\nSocialCalc.Popup.Types.List.MouseMove = function(id, ele) {\n\n   var col, i, c;\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   var list = spcdata.listdiv;\n\n   if (!list) return;\n\n   var rowele = list.firstChild.firstChild.firstChild; // div.table.tbody.tr\n\n   for (col=0; col<spcdata.ncols; col++) {\n      for (i=0; i<rowele.childNodes[col*2].childNodes.length; i++) {\n         rowele.childNodes[col*2].childNodes[i].style.backgroundColor = \"#FFF\";\n         }\n      }\n\n   ele.style.backgroundColor = \"#DDF\";\n   \n   }\n\nSocialCalc.Popup.Types.List.Hide = function(type, id) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   sp.DestroyPopupDiv(spcdata.popupele, spcdata.dragregistered);\n   spcdata.popupele = null;\n\n   if (spcdata.mainele && spcdata.mainele.firstChild) {\n      spcdata.mainele.firstChild.disabled = false;\n      }\n\n   }\n\nSocialCalc.Popup.Types.List.Cancel = function(type, id) {\n\n   SocialCalc.Popup.Types.List.Hide(type, id);\n\n   }\n\n\n//\n// ColorChooser\n//\n// type: ColorChooser\n// value: value of control as \"rgb(r,g,b)\" or \"\" if default,\n// oldvalue: starting value to reset to on close,\n// display: \"value to display\" as hex color value,\n// custom: true if custom value,\n// disabled: t/f,\n// attribs: {\n//    title: \"popup title string\",\n//    moveable: t/f,\n//    width: optional width, e.g., \"100px\", of popup chooser\n//    ensureWithin: optional element object to ensure popup fits within if possible\n//    sampleWidth: optional width, e.g., \"20px\",\n//    sampleHeight: optional height, e.g., \"20px\",\n//    backgroundImage: optional background image for sample (transparent where want to show current color), e.g., \"colorbg.gif\"\n//    backgroundImageDefault: optional background image for sample when default (transparent shows white)\n//    backgroundImageDisabled: optional background image for sample when disabled (transparent shows gray)\n//    changedcallback: optional function(attribs, id, newvalue),\n//    ...\n//    }\n// data: {\n//    }\n//\n// popupele: gets popup element object when created\n// contentele: gets element created with all the content\n// customele: gets input element with custom value\n//\n\nSocialCalc.Popup.Types.ColorChooser = {};\n\nSocialCalc.Popup.Types.ColorChooser.Create = function(type, id, attribs) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n\n   var spcid = {type: type, value: \"\", display: \"\", data: {}};\n   //if (spc[id]) {alert(\"Already created \"+id); return;}\n   spc[id] = spcid;\n   var spcdata = spcid.data;\n\n   spcdata.attribs = attribs || {};\n   var spca = spcdata.attribs;\n\n   spcdata.value = \"\";\n\n   var ele = document.getElementById(id);\n   if (!ele) {alert(\"Missing element \"+id); return;}\n\n   spcdata.mainele = ele;\n\n   ele.innerHTML = '<div style=\"cursor:pointer;border:1px solid black;vertical-align:top;width:'+\n                   (spca.sampleWidth || '15px')+';height:'+(spca.sampleHeight || '15px')+\n                   ';\" onclick=\"SocialCalc.Popup.Types.ColorChooser.ControlClicked(\\''+id+'\\');\">&nbsp;</div>';\n\n   }\n\nSocialCalc.Popup.Types.ColorChooser.SetValue = function(type, id, value) {\n\n   var i, img, pos;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n   var spca = spcdata.attribs;\n\n   spcdata.value = value;\n   spcdata.custom = false;\n\n   if (spcdata.mainele && spcdata.mainele.firstChild) {\n      if (spcdata.value) {\n         spcdata.mainele.firstChild.style.backgroundColor = spcdata.value;\n         if (spca.backgroundImage) {\n            img = \"url(\"+sp.imagePrefix+spca.backgroundImage+\")\";\n            }\n         else {\n            img = \"\";\n            }\n         pos = \"center center\";\n         }\n      else {\n         spcdata.mainele.firstChild.style.backgroundColor = \"#FFF\";\n         if (spca.backgroundImageDefault) {\n            img = \"url(\"+sp.imagePrefix+spca.backgroundImageDefault+\")\";\n            pos = \"center center\";\n            }\n         else {\n            img = \"url(\"+sp.imagePrefix+\"defaultcolor.gif)\";\n            pos = \"left top\";\n            }\n         }\n      spcdata.mainele.firstChild.style.backgroundPosition = pos;\n      spcdata.mainele.firstChild.style.backgroundImage = img;\n      }\n\n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.SetDisabled = function(type, id, disabled) {\n\n   var i;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n   var spca = spcdata.attribs;\n\n   spcdata.disabled = disabled;\n\n   if (spcdata.mainele && spcdata.mainele.firstChild) {\n      if (disabled) {\n         spcdata.mainele.firstChild.style.backgroundColor = \"#DDD\";\n         if (spca.backgroundImageDisabled) {\n            img = \"url(\"+sp.imagePrefix+spca.backgroundImageDisabled+\")\";\n            pos = \"center center\";\n            }\n         else {\n            img = \"url(\"+sp.imagePrefix+\"defaultcolor.gif)\";\n            pos = \"left top\";\n            }\n         spcdata.mainele.firstChild.style.backgroundPosition = pos;\n         spcdata.mainele.firstChild.style.backgroundImage = img;\n         }\n      else {\n         sp.SetValue(id, spcdata.value);\n         }\n      }\n\n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.GetValue = function(type, id) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   return spcdata.value;\n\n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.Initialize = function(type, id, data) {\n\n   var a;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   for (a in data.attribs) {\n      spcdata.attribs[a] = data.attribs[a];\n      }\n\n   if (data.value) { // if has a value, set to it\n      sp.SetValue(id, data.value);\n      }\n\n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.Reset = function(type) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n\n   if (sp.Current.id && spc[sp.Current.id].type == type) { // we have a popup\n      spt[type].Hide(type, sp.Current.id);\n      sp.Current.id = null;\n      }\n\n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.Show = function(type, id) {\n\n   var i, ele, mainele;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data\n\n   var str = \"\";\n\n   spcdata.oldvalue = spcdata.value; // remember starting value\n\n   spcdata.popupele = sp.CreatePopupDiv(id, spcdata.attribs);\n\n   if (spcdata.custom) {\n      str = SocialCalc.Popup.Types.ColorChooser.MakeCustom(type, id);\n\n      ele = document.createElement(\"div\");\n      ele.innerHTML = '<div style=\"cursor:default;padding:4px;background-color:#CCC;\">'+str+'</div>';\n\n      spcdata.customele = ele.firstChild.firstChild.childNodes[2];\n      spcdata.contentele = ele;\n      }\n   else {\n      mainele = SocialCalc.Popup.Types.ColorChooser.CreateGrid(type, id);\n\n      ele = document.createElement(\"div\");\n      ele.style.padding = \"3px\";\n      ele.style.backgroundColor = \"#CCC\";\n      ele.appendChild(mainele);\n\n      spcdata.customele = null;\n      spcdata.contentele = ele;\n      }\n\n   spcdata.popupele.appendChild(ele);\n\n   if (spcdata.attribs.ensureWithin) {\n      SocialCalc.Popup.EnsurePosition(id, spcdata.attribs.ensureWithin);\n      }\n\n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.MakeCustom = function(type, id) {\n\n   var i, ele, o, bg;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   var SPLoc = sp.LocalizeString;\n\n   var style = 'style=\"font-size:smaller;\"';\n\n   var str = \"\";\n\n   str = '<div style=\"white-space:nowrap;\"><br>'+\n         '#<input id=\"customvalue\" style=\"width:75px;\" value=\"'+spcdata.value+'\"><br><br>'+\n         '<input '+style+' type=\"button\" value=\"'+SPLoc(\"OK\")+'\" onclick=\"SocialCalc.Popup.Types.ColorChooser.CustomOK(\\''+id+'\\');return false;\">'+\n         '<input '+style+' type=\"button\" value=\"'+SPLoc(\"Grid\")+'\" onclick=\"SocialCalc.Popup.Types.ColorChooser.CustomToGrid(\\''+id+'\\');\">'+\n         '<br></div>';\n\n   return str;\n\n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.ItemClicked = function(id, num) {\n\n   var oele, str, nele;\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   SocialCalc.Popup.Close();\n   \n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.CustomToList = function(id) {\n\n   var oele, str, nele;\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.CustomOK = function(id) {\n\n   var i, c;\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   sp.SetValue(id, spcdata.customele.value);\n\n   sp.Close();\n   \n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.Hide = function(type, id) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   sp.DestroyPopupDiv(spcdata.popupele, spcdata.dragregistered);\n   spcdata.popupele = null;\n\n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.Cancel = function(type, id) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   sp.SetValue(id, spcdata.oldvalue); // reset to old value\n\n   SocialCalc.Popup.Types.ColorChooser.Hide(type, id);\n\n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.CreateGrid = function (type, id) {\n\n   var ele, pos, row, rowele, col, g;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var SPLoc = sp.LocalizeString;\n   var spcdata = spc[id].data;\n   spcdata.grid = {};\n   var grid = spcdata.grid;\n\n   var mainele = document.createElement(\"div\");\n\n   ele = document.createElement(\"table\");\n   ele.cellSpacing = 0;\n   ele.cellPadding = 0;\n   ele.style.width = \"100px\";\n   grid.table = ele;\n\n   ele = document.createElement(\"tbody\");\n   grid.table.appendChild(ele);\n   grid.tbody = ele;\n\n   for (row=0; row<16; row++) {\n      rowele = document.createElement(\"tr\");\n      for (col=0; col<5; col++) {\n         g = {};\n         grid[row+\",\"+col] = g;\n         ele = document.createElement(\"td\");\n         ele.style.fontSize = \"1px\";\n         ele.innerHTML = \"&nbsp;\";\n         ele.style.height = \"10px\";\n         if (col<=1) {\n            ele.style.width = \"17px\";\n            ele.style.borderRight = \"3px solid white\";\n            }\n         else {\n            ele.style.width = \"20px\";\n            ele.style.backgroundRepeat = \"no-repeat\";\n            }\n         rowele.appendChild(ele);\n         g.ele = ele;\n         }\n      grid.tbody.appendChild(rowele);\n      }\n   mainele.appendChild(grid.table);\n\n   ele = document.createElement(\"div\");\n   ele.style.marginTop = \"3px\";\n   ele.innerHTML = '<table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n      '<td style=\"width:17px;background-color:#FFF;background-image:url('+sp.imagePrefix+'defaultcolor.gif);height:16px;font-size:10px;cursor:pointer;\" title=\"'+SPLoc(\"Default\")+'\">&nbsp;</td>'+\n      '<td style=\"width:23px;height:16px;font-size:10px;text-align:center;cursor:pointer;\" title=\"'+SPLoc(\"Custom\")+'\">#</td>'+\n      '<td style=\"width:60px;height:16px;font-size:10px;text-align:center;cursor:pointer;\">'+SPLoc(\"OK\")+'</td>'+\n      '</tr></table>';\n   grid.defaultbox = ele.firstChild.firstChild.firstChild.childNodes[0];\n   grid.defaultbox.onclick = spt.ColorChooser.DefaultClicked;\n   grid.custom = ele.firstChild.firstChild.firstChild.childNodes[1];\n   grid.custom.onclick = spt.ColorChooser.CustomClicked;\n   grid.msg = ele.firstChild.firstChild.firstChild.childNodes[2];\n   grid.msg.onclick = spt.ColorChooser.CloseOK;\n   mainele.appendChild(ele);\n\n   grid.table.onmousedown = spt.ColorChooser.GridMouseDown;\n\n   spt.ColorChooser.DetermineColors(id);\n   spt.ColorChooser.SetColors(id);\n\n   return mainele;\n\n   }\n\nSocialCalc.Popup.Types.ColorChooser.gridToG = function(grid, row, col) {\n\n   return grid[row+\",\"+col];\n\n   }\n\nSocialCalc.Popup.Types.ColorChooser.DetermineColors = function(id) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var sptc = spt.ColorChooser;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n   var grid = spcdata.grid;\n\n   var col, row;\n   var rgb = sp.splitRGB(spcdata.value);\n   var color;\n\n   col = 2;\n   row = 16-Math.floor((rgb.r+16)/16);\n   grid[\"selectedrow\"+col] = row;\n   for (row=0; row<16; row++) {\n      sptc.gridToG(grid,row,col).rgb = sp.makeRGB(17*(15-row),0,0);\n      }\n\n   col = 3;\n   row = 16-Math.floor((rgb.g+16)/16);\n   grid[\"selectedrow\"+col] = row;\n   for (row=0; row<16; row++) {\n      sptc.gridToG(grid,row,col).rgb = sp.makeRGB(0,17*(15-row),0);\n      }\n\n   col = 4;\n   row = 16-Math.floor((rgb.b+16)/16);\n   grid[\"selectedrow\"+col] = row;\n   for (row=0; row<16; row++) {\n      sptc.gridToG(grid,row,col).rgb = sp.makeRGB(0,0,17*(15-row));\n      }\n\n   col = 1;\n   for (row=0; row<16; row++) {\n      sptc.gridToG(grid,row,col).rgb = sp.makeRGB(17*(15-row),17*(15-row),17*(15-row));\n      }\n\n   col = 0;\n   var steps = [0, 68, 153, 204, 255];\n   var commonrgb = [\"400\", \"310\", \"420\", \"440\", \"442\", \"340\", \"040\", \"042\", \"032\", \"044\", \"024\", \"004\", \"204\", \"314\", \"402\", \"414\"];\n   var x;\n   for (row=0; row<16; row++) {\n      x = commonrgb[row];\n      sptc.gridToG(grid,row,col).rgb = \"rgb(\"+steps[x.charAt(0)-0]+\",\"+steps[x.charAt(1)-0]+\",\"+steps[x.charAt(2)-0]+\")\";\n      }\n\n   }\n\nSocialCalc.Popup.Types.ColorChooser.SetColors = function(id) {\n\n   var row, col, g, ele, rgb;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var sptc = spt.ColorChooser;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n   var grid = spcdata.grid;\n\n   for (row=0; row<16; row++) {\n      for (col=0; col<5; col++) {\n         g = sptc.gridToG(grid,row, col);\n         g.ele.style.backgroundColor = g.rgb;\n         g.ele.title = sp.RGBToHex(g.rgb);\n         if (grid[\"selectedrow\"+col]==row) {\n            g.ele.style.backgroundImage = \"url(\"+sp.imagePrefix+\"chooserarrow.gif)\";\n            }\n         else {\n            g.ele.style.backgroundImage = \"\";\n            }\n         }\n      }\n\n   sp.SetValue(id, spcdata.value);\n\n   grid.msg.style.backgroundColor = spcdata.value;\n   rgb = sp.splitRGB(spcdata.value || \"rgb(255,255,255)\");\n   if (rgb.r+rgb.g+rgb.b < 220) {\n      grid.msg.style.color = \"#FFF\";\n      }\n   else {\n      grid.msg.style.color = \"#000\";\n      }\n   if (!spcdata.value) { // default\n      grid.msg.style.backgroundColor = \"#FFF\";\n      grid.msg.style.backgroundImage = \"url(\"+sp.imagePrefix+\"defaultcolor.gif)\";\n      grid.msg.title = \"Default\";\n      }\n   else {\n      grid.msg.style.backgroundImage = \"\";\n      grid.msg.title = sp.RGBToHex(spcdata.value);\n      }\n\n   }\n\nSocialCalc.Popup.Types.ColorChooser.GridMouseDown = function(e) {\n\n   var event = e || window.event;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var sptc = spt.ColorChooser;\n   var spc = sp.Controls;\n\n   var id = sp.Current.id;\n   if (!id) return;\n\n   var spcdata = spc[id].data;\n   var grid = spcdata.grid;\n\n   switch (event.type) {\n      case \"mousedown\":\n         grid.mousedown = true;\n         break;\n      case \"mouseup\":\n         grid.mousedown = false;\n         break;\n      case \"mousemove\":\n         if (!grid.mousedown) {\n            return;\n            }\n         break;\n      }\n\n   var pos = SocialCalc.GetElementPositionWithScroll(spcdata.mainele);\n   var clientX = event.clientX - pos.left;\n   var clientY = event.clientY - pos.top;\n   var gpos = SocialCalc.GetElementPositionWithScroll(grid.table);\n   gpos.left -= pos.left;\n   gpos.top -= pos.top\n   var row = Math.floor((clientY-gpos.top-2)/10); // -2 is to split the diff btw IE & FF\n   row = row < 0 ? 0 : row;\n   var col = Math.floor((clientX-gpos.left)/20);\n   row = row < 0 ? 0 : (row > 15 ? 15 : row);\n   col = col < 0 ? 0 : (col > 4 ? 4 : col);\n   var color = sptc.gridToG(grid,row,col).ele.style.backgroundColor;\n   var newrgb = sp.splitRGB(color);\n   var oldrgb = sp.splitRGB(spcdata.value);\n\n   switch (col) {\n      case 2:\n         spcdata.value = sp.makeRGB(newrgb.r, oldrgb.g, oldrgb.b);\n         break;\n      case 3:\n         spcdata.value = sp.makeRGB(oldrgb.r, newrgb.g, oldrgb.b);\n         break;\n      case 4:\n         spcdata.value = sp.makeRGB(oldrgb.r, oldrgb.g, newrgb.b);\n         break;\n      case 0:\n      case 1:\n         spcdata.value = color;\n      }\n\n   sptc.DetermineColors(id);\n   sptc.SetColors(id);\n\n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.ControlClicked = function(id) {\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var sptc = spt.ColorChooser;\n   var spc = sp.Controls;\n\n   var cid = sp.Current.id;\n   if (!cid || id != cid) {\n      sp.CClick(id);\n      return;\n      }\n\n   sptc.CloseOK();\n\n   }\n\nSocialCalc.Popup.Types.ColorChooser.DefaultClicked = function(e) {\n\n   var event = e || window.event;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var sptc = spt.ColorChooser;\n   var spc = sp.Controls;\n\n   var id = sp.Current.id;\n   if (!id) return;\n\n   var spcdata = spc[id].data;\n\n   spcdata.value = \"\";\n   SocialCalc.Popup.SetValue(id, spcdata.value);\n\n   SocialCalc.Popup.Close();\n\n   }\n\nSocialCalc.Popup.Types.ColorChooser.CustomClicked = function(e) {\n\n   var event = e || window.event;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var sptc = spt.ColorChooser;\n   var spc = sp.Controls;\n\n   var id = sp.Current.id;\n   if (!id) return;\n\n   var spcdata = spc[id].data;\n\n   var oele, str, nele;\n\n   oele = spcdata.contentele;\n   str = SocialCalc.Popup.Types.ColorChooser.MakeCustom(\"ColorChooser\", id);\n   nele = document.createElement(\"div\");\n   nele.innerHTML = '<div style=\"cursor:default;padding:4px;background-color:#CCC;\">'+str+'</div>';\n   spcdata.customele = nele.firstChild.firstChild.childNodes[2];\n   spcdata.contentele = nele;\n   spcdata.popupele.replaceChild(nele, oele);\n\n   spcdata.customele.value = sp.RGBToHex(spcdata.value);\n\n   if (spcdata.attribs.ensureWithin) {\n      SocialCalc.Popup.EnsurePosition(id, spcdata.attribs.ensureWithin);\n      }\n\n   }\n\n\n\nSocialCalc.Popup.Types.ColorChooser.CustomToGrid = function(id) {\n\n   var oele, str, nele;\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   SocialCalc.Popup.SetValue(id, sp.HexToRGB(\"#\"+spcdata.customele.value));\n\n   var oele, mainele, nele;\n\n   oele = spcdata.contentele;\n   mainele = SocialCalc.Popup.Types.ColorChooser.CreateGrid(\"ColorChooser\", id);\n   nele = document.createElement(\"div\");\n   nele.style.padding = \"3px\";\n   nele.style.backgroundColor = \"#CCC\";\n   nele.appendChild(mainele);\n   spcdata.customele = null;\n   spcdata.contentele = nele;\n   spcdata.popupele.replaceChild(nele, oele);\n   \n   if (spcdata.attribs.ensureWithin) {\n      SocialCalc.Popup.EnsurePosition(id, spcdata.attribs.ensureWithin);\n      }\n   }\n\n\nSocialCalc.Popup.Types.ColorChooser.CustomOK = function(id) {\n\n   var i, c;\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var spc = sp.Controls;\n   var spcdata = spc[id].data;\n\n   SocialCalc.Popup.SetValue(id, sp.HexToRGB(\"#\"+spcdata.customele.value));\n\n   SocialCalc.Popup.Close();\n   \n   }\n\nSocialCalc.Popup.Types.ColorChooser.CloseOK = function(e) {\n\n   var event = e || window.event;\n\n   var sp = SocialCalc.Popup;\n   var spt = sp.Types;\n   var sptc = spt.ColorChooser;\n   var spc = sp.Controls;\n\n   var id = sp.Current.id;\n   if (!id) return;\n\n   var spcdata = spc[id].data;\n\n   SocialCalc.Popup.SetValue(id, spcdata.value);\n\n   SocialCalc.Popup.Close();\n\n   }\n\n\n//\n// SocialCalcSpreadsheetControl\n//\n/*\n// The code module of the SocialCalc package that lets you embed a spreadsheet\n// control with toolbar, etc., into a web page.\n//\n// (c) Copyright 2008, 2009, 2010 Socialtext, Inc.\n// All Rights Reserved.\n//\n\n\n/*\n\nLEGAL NOTICES REQUIRED BY THE COMMON PUBLIC ATTRIBUTION LICENSE:\n\nEXHIBIT A. Common Public Attribution License Version 1.0.\n\nThe contents of this file are subject to the Common Public Attribution License Version 1.0 (the \n\"License\"); you may not use this file except in compliance with the License. You may obtain a copy \nof the License at http://socialcalc.org. The License is based on the Mozilla Public License Version 1.1 but \nSections 14 and 15 have been added to cover use of software over a computer network and provide for \nlimited attribution for the Original Developer. In addition, Exhibit A has been modified to be \nconsistent with Exhibit B.\n\nSoftware distributed under the License is distributed on an \"AS IS\" basis, WITHOUT WARRANTY OF ANY \nKIND, either express or implied. See the License for the specific language governing rights and \nlimitations under the License.\n\nThe Original Code is SocialCalc JavaScript SpreadsheetControl.\n\nThe Original Developer is the Initial Developer.\n\nThe Initial Developer of the Original Code is Socialtext, Inc. All portions of the code written by \nSocialtext, Inc., are Copyright (c) Socialtext, Inc. All Rights Reserved.\n\nContributor: Dan Bricklin.\n\n\nEXHIBIT B. Attribution Information\n\nWhen the SpreadsheetControl is producing and/or controlling the display the Graphic Image must be\ndisplayed on the screen visible to the user in a manner comparable to that in the \nOriginal Code. The Attribution Phrase must be displayed as a \"tooltip\" or \"hover-text\" for\nthat image. The image must be linked to the Attribution URL so as to access that page\nwhen clicked. If the user interface includes a prominent \"about\" display which includes\nfactual prominent attribution in a form similar to that in the \"about\" display included\nwith the Original Code, including Socialtext copyright notices and URLs, then the image\nneed not be linked to the Attribution URL but the \"tool-tip\" is still required.\n\nAttribution Copyright Notice:\n\n Copyright (C) 2010 Socialtext, Inc.\n All Rights Reserved.\n\nAttribution Phrase (not exceeding 10 words): SocialCalc\n\nAttribution URL: http://www.socialcalc.org/\n\nGraphic Image: The contents of the sc-logo.gif file in the Original Code or\na suitable replacement from http://www.socialcalc.org/licenses specified as\nbeing for SocialCalc.\n\nDisplay of Attribution Information is required in Larger Works which are defined \nin the CPAL as a work which combines Covered Code or portions thereof with code \nnot governed by the terms of the CPAL.\n\n*/\n\n//\n// Some of the other files in the SocialCalc package are licensed under\n// different licenses. Please note the licenses of the modules you use.\n//\n// Code History:\n//\n// Initially coded by Dan Bricklin of Software Garden, Inc., for Socialtext, Inc.\n// Unless otherwise specified, referring to \"SocialCalc\" in comments refers to this\n// JavaScript version of the code, not the SocialCalc Perl code.\n//\n\n/*\n\nSee the comments in the main SocialCalc code module file of the SocialCalc package.\n\n*/\n\n   var SocialCalc;\n   if (!SocialCalc) {\n      alert(\"Main SocialCalc code module needed\");\n      SocialCalc = {};\n      }\n   if (!SocialCalc.TableEditor) {\n      alert(\"SocialCalc TableEditor code module needed\");\n      }\n\n// *************************************\n//\n// SpreadsheetControl class:\n//\n// *************************************\n\n// Global constants:\n\n   SocialCalc.CurrentSpreadsheetControlObject = null; // right now there can only be one active at a time\n\n\n// Constructor:\n\nSocialCalc.SpreadsheetControl = function(idPrefix) {\n\n   var scc = SocialCalc.Constants;\n\n   // Properties:\n\n   this.parentNode = null;\n   this.spreadsheetDiv = null;\n   this.requestedHeight = 0;\n   this.requestedWidth = 0;\n   this.requestedSpaceBelow = 0;\n   this.height = 0;\n   this.width = 0;\n   this.viewheight = 0; // calculated amount for views below toolbar, etc.\n\n   // Tab definitions: An array where each tab is an object of the form:\n   //\n   //    name: \"name\",\n   //    text: \"text-on-tab\",\n   //    html: \"html-to-create div\",\n   //       replacements:\n   //         \"%s.\": \"SocialCalc\", \"%id.\": spreadsheet.idPrefix, \"%tbt.\": spreadsheet.toolbartext\n   //         Other replacements from spreadsheet.tabreplacements:\n   //            replacementname: {regex: regular-expression-to-match-with-g, replacement: string}\n   //    view: \"viewname\", // view to show when selected; \"sheet\" or missing/null is spreadsheet\n   //    oncreate: function(spreadsheet, tab-name), // called when first created to initialize\n   //    onclick: function(spreadsheet, tab-name), missing/null is sheet default\n   //    onclickFocus: text, // spreadsheet.idPrefix+text is given the focus if present instead of normal KeyboardFocus\n   //       or if text isn't a string, that value (e.g., true) is used for SocialCalc.CmdGotFocus\n   //    onunclick: function(spreadsheet, tab-name), missing/null is sheet default\n\n   this.tabs = [];\n   this.tabnums = {}; // when adding tabs, add tab-name: array-index to this object\n   this.tabreplacements = {}; // see use above\n   this.currentTab = -1; // currently selected tab index in this.tabs or -1 (maintained by SocialCalc.SetTab)\n\n   // View definitions: An object where each view is an object of the form:\n   //\n   //    name: \"name\", // localized when first set using SocialCalc.LocalizeString\n   //    element: node-in-the-dom, // filled in when initialized\n   //    replacements: {}, // see below\n   //    html: \"html-to-create div\",\n   //       replacements:\n   //         \"%s.\": \"SocialCalc\", \"%id.\": spreadsheet.idPrefix, \"%tbt.\": spreadsheet.toolbartext, \"%img.\": spreadsheet.imagePrefix,\n   //         SocialCalc.LocalizeSubstring replacements (\"%loc!string!\" and \"%ssc!constant-name!\")\n   //         Other replacements from viewobject.replacements:\n   //            replacementname: {regex: regular-expression-to-match-with-g, replacement: string}\n   //    divStyle: attributes for sheet div (SocialCalc.setStyles format)\n   //    oncreate: function(spreadsheet, viewobject), // called when first created to initialize\n   //    needsresize: true/false/null, // if true, do resize calc after displaying\n   //    onresize: function(spreadsheet, viewobject), // called if needs resize\n   //    values: {} // optional values to share with onclick handlers, etc.\n   //\n   // There is always a \"sheet\" view.\n\n   this.views = {}; // {viewname: view-object, ...}\n\n   // Dynamic properties:\n\n   this.sheet = null;\n   this.context = null;\n   this.editor = null;\n\n   this.spreadsheetDiv = null;\n   this.editorDiv = null;\n\n   this.sortrange = \"\"; // remembered range for sort tab\n\n   this.moverange = \"\"; // remembered range from movefrom used by movepaste/moveinsert\n\n   // Constants:\n\n   this.idPrefix = idPrefix || \"SocialCalc-\"; // prefix added to element ids used here, should end in \"-\"\n   this.multipartBoundary = \"SocialCalcSpreadsheetControlSave\"; // boundary used by SpreadsheetControlCreateSpreadsheetSave\n   this.imagePrefix = scc.defaultImagePrefix; // prefix added to img src\n\n   this.toolbarbackground = scc.SCToolbarbackground;\n   this.tabbackground = scc.SCTabbackground; // \"background-color:#CCC;\";\n   this.tabselectedCSS = scc.SCTabselectedCSS;\n   this.tabplainCSS = scc.SCTabplainCSS;\n   this.toolbartext = scc.SCToolbartext;\n\n   this.formulabarheight = scc.SCFormulabarheight; // in pixels, will contain a text input box\n\n   this.statuslineheight = scc.SCStatuslineheight; // in pixels\n   this.statuslineCSS = scc.SCStatuslineCSS;\n\n   // Callbacks:\n\n   this.ExportCallback = null; // a function called for Clipboard Export button: this.ExportCallback(spreadsheet_control_object)\n\n   // Initialization Code:\n\n   // eddy Initialization {\n   if(typeof SocialCalc.debug_log === 'undefined') SocialCalc.debug_log = [];   \n   // }   \n   \n   this.sheet = new SocialCalc.Sheet();\n   this.context = new SocialCalc.RenderContext(this.sheet);\n   this.context.showGrid=true;\n   this.context.showRCHeaders=true;\n   this.editor = new SocialCalc.TableEditor(this.context);\n   this.editor.StatusCallback.statusline =\n      {func: SocialCalc.SpreadsheetControlStatuslineCallback,\n       params: {statuslineid: this.idPrefix+\"statusline\",\n                recalcid1: this.idPrefix+\"divider_recalc\",\n                recalcid2: this.idPrefix+\"button_recalc\"}};\n\n   SocialCalc.CurrentSpreadsheetControlObject = this; // remember this for rendezvousing on events\n\n   this.editor.MoveECellCallback.movefrom = function(editor) {\n      var cr;\n      var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n      spreadsheet.context.cursorsuffix = \"\";\n      if (editor.range2.hasrange && !editor.cellhandles.noCursorSuffix) {\n         if (editor.ecell.row==editor.range2.top && (editor.ecell.col<editor.range2.left || editor.ecell.col>editor.range2.right+1)) {\n            spreadsheet.context.cursorsuffix = \"insertleft\";\n            }\n         if (editor.ecell.col==editor.range2.left && (editor.ecell.row<editor.range2.top || editor.ecell.row>editor.range2.bottom+1)) {\n            spreadsheet.context.cursorsuffix = \"insertup\";\n            }\n         }\n      };\n\n   // formula bar buttons\n\n   this.formulabuttons = {\n      formulafunctions: {image: \"insertformula.png\", tooltip: \"Functions\", // tooltips are localized when set below\n                         command: SocialCalc.SpreadsheetControl.DoFunctionList},\n      multilineinput: {image: \"listbox.png\", tooltip: \"Multi-line Input Box\",\n                         command: SocialCalc.SpreadsheetControl.DoMultiline},\n      link: {image: \"inserthyperlink.png\", tooltip: \"Link Input Box\",\n                         command: SocialCalc.SpreadsheetControl.DoLink},\n      sum: {image: \"autosum.png\", tooltip: \"Auto Sum\",\n                         command: SocialCalc.SpreadsheetControl.DoSum}\n      }\n   \n   // find buttons\n   this.findbuttons = {\n       last: {image: 'upsearch.png', tooltip: 'Find Previous',\n              command: SocialCalc.SpreadsheetControl.SearchUp},\n       next: {image: 'downsearch.png', tooltip: 'Find Next', \n              command: SocialCalc.SpreadsheetControl.SearchDown}\n   }\n\n   // Default tabs:\n\n   // Edit\n\n   this.tabnums.edit = this.tabs.length;\n   this.tabs.push({name: \"edit\", text: \"Edit\", html:\n     ' <div id=\"%id.edittools\" style=\"padding:10px 0px 0px 0px;\">'+\n'&nbsp;<img id=\"%id.button_undo\" src=\"%img.undo.png\" style=\"vertical-align:bottom;\">'+\n' <img id=\"%id.button_redo\" src=\"%img.redo.png\" style=\"vertical-align:bottom;\">'+\n' &nbsp;<img src=\"%img.divider1.png\" style=\"vertical-align:bottom;\">&nbsp; '+\n'<img id=\"%id.button_copy\" src=\"%img.copy.png\" style=\"vertical-align:bottom;\">'+\n' <img id=\"%id.button_cut\" src=\"%img.cut.png\" style=\"vertical-align:bottom;\">'+\n' <img id=\"%id.button_paste\" src=\"%img.paste.png\" style=\"vertical-align:bottom;\">'+\n' &nbsp;<img src=\"%img.divider1.png\" style=\"vertical-align:bottom;\">&nbsp; '+\n'<img id=\"%id.button_delete\" src=\"%img.delete.png\" style=\"vertical-align:bottom;\">'+\n' <img id=\"%id.button_pasteformats\" src=\"%img.formatpaintbrush.png\" style=\"vertical-align:bottom;\">'+\n' &nbsp;<img src=\"%img.divider1.png\" style=\"vertical-align:bottom;\">&nbsp; '+\n' <span id=\"%id.locktools\"><img id=\"%id.button_lock\" src=\"%img.lock.png\" style=\"vertical-align:bottom;\">'+\n' <img id=\"%id.button_unlock\" src=\"%img.unlock.png\" style=\"vertical-align:bottom;\">'+\n' &nbsp;<img src=\"%img.divider1.png\" style=\"vertical-align:bottom;\">&nbsp;</span> '+\n'<img id=\"%id.button_filldown\" src=\"%img.filldown.png\" style=\"vertical-align:bottom;\">'+\n' <img id=\"%id.button_fillright\" src=\"%img.fillright.png\" style=\"vertical-align:bottom;\">'+\n' &nbsp;<img src=\"%img.divider1.png\" style=\"vertical-align:bottom;\">&nbsp; '+\n'<img id=\"%id.button_movefrom\" src=\"%img.movefromoff.gif\" style=\"vertical-align:bottom;\">'+\n' <img id=\"%id.button_movepaste\" src=\"%img.movepasteoff.gif\" style=\"vertical-align:bottom;\">'+\n' <img id=\"%id.button_moveinsert\" src=\"%img.moveinsertoff.gif\" style=\"vertical-align:bottom;\">'+\n' &nbsp;<img src=\"%img.divider1.png\" style=\"vertical-align:bottom;\">&nbsp; '+\n'<img id=\"%id.button_alignleft\" src=\"%img.alignleft.png\" style=\"vertical-align:bottom;\">'+\n' <img id=\"%id.button_aligncenter\" src=\"%img.aligncenter.png\" style=\"vertical-align:bottom;\">'+\n' <img id=\"%id.button_alignright\" src=\"%img.alignright.png\" style=\"vertical-align:bottom;\">'+\n' &nbsp;<img src=\"%img.divider1.png\" style=\"vertical-align:bottom;\">&nbsp; '+\n'<img id=\"%id.button_borderon\" src=\"%img.borderson.png\" style=\"vertical-align:bottom;\"> '+\n' <img id=\"%id.button_borderoff\" src=\"%img.bordersoff.png\" style=\"vertical-align:bottom;\"> '+\n' <img id=\"%id.button_swapcolors\" src=\"%img.swapcolors.png\" style=\"vertical-align:bottom;\"> '+\n' &nbsp;<img src=\"%img.divider1.png\" style=\"vertical-align:bottom;\">&nbsp; '+\n'<img id=\"%id.button_merge\" src=\"%img.mergecells.png\" style=\"vertical-align:bottom;\"> '+\n' &nbsp;<img src=\"%img.divider1.png\" style=\"vertical-align:bottom;\">&nbsp; '+\n'<img id=\"%id.button_insertrow\" src=\"%img.insertrows.png\" style=\"vertical-align:bottom;\"> '+\n' <img id=\"%id.button_insertcol\" src=\"%img.insertcolumns.png\" style=\"vertical-align:bottom;\"> '+\n' <img id=\"%id.button_deleterow\" src=\"%img.deleterows.png\" style=\"vertical-align:bottom;\"> '+\n' <img id=\"%id.button_deletecol\" src=\"%img.deletecolumns.png\" style=\"vertical-align:bottom;\"> '+\n' <img id=\"%id.button_hiderow\" src=\"%img.hiderow.png\" style=\"vertical-align:bottom;\"> '+\n' <img id=\"%id.button_hidecol\" src=\"%img.hidecol.png\" style=\"vertical-align:bottom;\"> '+\n' &nbsp;<img id=\"%id.divider_recalc\" src=\"%img.divider1.png\" style=\"vertical-align:bottom;\">&nbsp; '+\n'<img id=\"%id.button_recalc\" src=\"%img.recalc.png\" style=\"vertical-align:bottom;\"> '+\n      ' </div>',\n      oncreate: null, //function(spreadsheet, viewobject) {SocialCalc.DoCmd(null, \"fill-rowcolstuff\");},\n      onclick: null});\n\n   // Settings (Format)\n\n   this.tabnums.settings = this.tabs.length;\n   this.tabs.push({name: \"settings\", text: \"Format\", html:\n      '<div id=\"%id.settingstools\" style=\"display:none;\">'+\n      ' <div id=\"%id.sheetsettingstoolbar\" style=\"display:none;\">'+\n      '  <table cellspacing=\"0\" cellpadding=\"0\"><tr><td>'+\n      '   <div style=\"%tbt.\">%loc!SHEET SETTINGS!:</div>'+\n      '   </td></tr><tr><td>'+\n      '   <input id=\"%id.settings-savesheet\" type=\"button\" value=\"%loc!Save!\" onclick=\"SocialCalc.SettingsControlSave(\\'sheet\\');\">'+\n      '   <input type=\"button\" value=\"%loc!Cancel!\" onclick=\"SocialCalc.SettingsControlSave(\\'cancel\\');\">'+\n      '   <input type=\"button\" value=\"%loc!Show Cell Settings!\" onclick=\"SocialCalc.SpreadsheetControlSettingsSwitch(\\'cell\\');return false;\">'+\n      '   </td></tr></table>'+\n      ' </div>'+\n      ' <div id=\"%id.cellsettingstoolbar\" style=\"display:none;\">'+\n      '  <table cellspacing=\"0\" cellpadding=\"0\"><tr><td>'+\n      '   <div style=\"%tbt.\">%loc!CELL SETTINGS!: <span id=\"%id.settingsecell\">&nbsp;</span></div>'+\n      '   </td></tr><tr><td>'+\n      '  <input id=\"%id.settings-savecell\" type=\"button\" value=\"%loc!Save!\" onclick=\"SocialCalc.SettingsControlSave(\\'cell\\');\">'+\n      '  <input type=\"button\" value=\"%loc!Cancel!\" onclick=\"SocialCalc.SettingsControlSave(\\'cancel\\');\">'+\n      '  <input type=\"button\" value=\"%loc!Show Sheet Settings!\" onclick=\"SocialCalc.SpreadsheetControlSettingsSwitch(\\'sheet\\');return false;\">'+\n      '  </td></tr></table>'+\n      ' </div>'+\n      '</div>',\n      view: \"settings\",\n      onclick: function(s, t) {\n         SocialCalc.SettingsControls.idPrefix = s.idPrefix; // used to get color chooser div\n         SocialCalc.SettingControlReset();\n         var sheetattribs = s.sheet.EncodeSheetAttributes();\n         var cellattribs = s.sheet.EncodeCellAttributes(s.editor.ecell.coord);\n         SocialCalc.SettingsControlLoadPanel(s.views.settings.values.sheetspanel, sheetattribs);\n         SocialCalc.SettingsControlLoadPanel(s.views.settings.values.cellspanel, cellattribs);\n         document.getElementById(s.idPrefix+\"settingsecell\").innerHTML = s.editor.ecell.coord;\n         SocialCalc.SpreadsheetControlSettingsSwitch(\"cell\");\n         s.views.settings.element.style.height = s.viewheight+\"px\";\n         s.views.settings.element.firstChild.style.height = s.viewheight+\"px\";\n\n         var range;  // set save message\n         if (s.editor.range.hasrange) {\n            range = SocialCalc.crToCoord(s.editor.range.left, s.editor.range.top) + \":\" +\n               SocialCalc.crToCoord(s.editor.range.right, s.editor.range.bottom);\n            }\n         else {\n            range = s.editor.ecell.coord;\n            }\n         document.getElementById(s.idPrefix+\"settings-savecell\").value = SocialCalc.LocalizeString(\"Save to\")+\": \"+range;\n         },\n      onclickFocus: true\n         });\n\n   this.views[\"settings\"] = {name: \"settings\", values: {},\n      oncreate: function(s, viewobj) {\n         var scc = SocialCalc.Constants;\n\n         viewobj.values.sheetspanel = {\n//            name: \"sheet\",\n            colorchooser: {id: s.idPrefix+\"scolorchooser\"},\n            formatnumber: {setting: \"numberformat\", type: \"PopupList\", id: s.idPrefix+\"formatnumber\",\n               initialdata: scc.SCFormatNumberFormats},\n            formattext: {setting: \"textformat\", type: \"PopupList\", id: s.idPrefix+\"formattext\",\n               initialdata: scc.SCFormatTextFormats},\n            fontfamily: {setting: \"fontfamily\", type: \"PopupList\", id: s.idPrefix+\"fontfamily\",\n               initialdata: scc.SCFormatFontfamilies},\n            fontlook: {setting: \"fontlook\", type: \"PopupList\", id: s.idPrefix+\"fontlook\",\n               initialdata: scc.SCFormatFontlook},\n            fontsize: {setting: \"fontsize\", type: \"PopupList\", id: s.idPrefix+\"fontsize\",\n               initialdata: scc.SCFormatFontsizes},\n            textalignhoriz: {setting: \"textalignhoriz\", type: \"PopupList\", id: s.idPrefix+\"textalignhoriz\",\n               initialdata: scc.SCFormatTextAlignhoriz},\n            numberalignhoriz: {setting: \"numberalignhoriz\", type: \"PopupList\", id: s.idPrefix+\"numberalignhoriz\",\n               initialdata: scc.SCFormatNumberAlignhoriz},\n            alignvert: {setting: \"alignvert\", type: \"PopupList\", id: s.idPrefix+\"alignvert\",\n               initialdata: scc.SCFormatAlignVertical},\n            textcolor: {setting: \"textcolor\", type: \"ColorChooser\", id: s.idPrefix+\"textcolor\"},\n            bgcolor: {setting: \"bgcolor\", type: \"ColorChooser\", id: s.idPrefix+\"bgcolor\"},\n            padtop: {setting: \"padtop\", type: \"PopupList\", id: s.idPrefix+\"padtop\",\n               initialdata: scc.SCFormatPadsizes},\n            padright: {setting: \"padright\", type: \"PopupList\", id: s.idPrefix+\"padright\",\n               initialdata: scc.SCFormatPadsizes},\n            padbottom: {setting: \"padbottom\", type: \"PopupList\", id: s.idPrefix+\"padbottom\",\n               initialdata: scc.SCFormatPadsizes},\n            padleft: {setting: \"padleft\", type: \"PopupList\", id: s.idPrefix+\"padleft\",\n               initialdata: scc.SCFormatPadsizes},\n            colwidth: {setting: \"colwidth\", type: \"PopupList\", id: s.idPrefix+\"colwidth\",\n               initialdata: scc.SCFormatColwidth},\n            recalc: {setting: \"recalc\", type: \"PopupList\", id: s.idPrefix+\"recalc\",\n               initialdata: scc.SCFormatRecalc},\n            usermaxcol: {setting: \"usermaxcol\", type: \"PopupList\", id: s.idPrefix+\"usermaxcol\",\n               initialdata: scc.SCFormatUserMaxCol},\n            usermaxrow: {setting: \"usermaxrow\", type: \"PopupList\", id: s.idPrefix+\"usermaxrow\",\n               initialdata: scc.SCFormatUserMaxRow}\n\n            };\n         viewobj.values.cellspanel = {\n            name: \"cell\",\n            colorchooser: {id: s.idPrefix+\"scolorchooser\"},\n            cformatnumber: {setting: \"numberformat\", type: \"PopupList\", id: s.idPrefix+\"cformatnumber\",\n               initialdata: scc.SCFormatNumberFormats},\n            cformattext: {setting: \"textformat\", type: \"PopupList\", id: s.idPrefix+\"cformattext\",\n               initialdata: scc.SCFormatTextFormats},\n            cfontfamily: {setting: \"fontfamily\", type: \"PopupList\", id: s.idPrefix+\"cfontfamily\",\n               initialdata: scc.SCFormatFontfamilies},\n            cfontlook: {setting: \"fontlook\", type: \"PopupList\", id: s.idPrefix+\"cfontlook\",\n               initialdata: scc.SCFormatFontlook},\n            cfontsize: {setting: \"fontsize\", type: \"PopupList\", id: s.idPrefix+\"cfontsize\",\n               initialdata: scc.SCFormatFontsizes},\n            calignhoriz: {setting: \"alignhoriz\", type: \"PopupList\", id: s.idPrefix+\"calignhoriz\",\n               initialdata: scc.SCFormatTextAlignhoriz},\n            calignvert: {setting: \"alignvert\", type: \"PopupList\", id: s.idPrefix+\"calignvert\",\n               initialdata: scc.SCFormatAlignVertical},\n            ctextcolor: {setting: \"textcolor\", type: \"ColorChooser\", id: s.idPrefix+\"ctextcolor\"},\n            cbgcolor: {setting: \"bgcolor\", type: \"ColorChooser\", id: s.idPrefix+\"cbgcolor\"},\n            cbt: {setting: \"bt\", type: \"BorderSide\", id: s.idPrefix+\"cbt\"},\n            cbr: {setting: \"br\", type: \"BorderSide\", id: s.idPrefix+\"cbr\"},\n            cbb: {setting: \"bb\", type: \"BorderSide\", id: s.idPrefix+\"cbb\"},\n            cbl: {setting: \"bl\", type: \"BorderSide\", id: s.idPrefix+\"cbl\"},\n            cpadtop: {setting: \"padtop\", type: \"PopupList\", id: s.idPrefix+\"cpadtop\",\n               initialdata: scc.SCFormatPadsizes},\n            cpadright: {setting: \"padright\", type: \"PopupList\", id: s.idPrefix+\"cpadright\",\n               initialdata: scc.SCFormatPadsizes},\n            cpadbottom: {setting: \"padbottom\", type: \"PopupList\", id: s.idPrefix+\"cpadbottom\",\n               initialdata: scc.SCFormatPadsizes},\n            cpadleft: {setting: \"padleft\", type: \"PopupList\", id: s.idPrefix+\"cpadleft\",\n               initialdata: scc.SCFormatPadsizes}\n            };\n\n         SocialCalc.SettingsControlInitializePanel(viewobj.values.sheetspanel);\n         SocialCalc.SettingsControlInitializePanel(viewobj.values.cellspanel);\n         },\n      replacements: {\n         itemtitle: {regex: /\\%itemtitle\\./g, replacement: 'style=\"padding:12px 10px 0px 10px;font-weight:bold;text-align:right;vertical-align:top;font-size:small;\"'},\n         sectiontitle: {regex: /\\%sectiontitle\\./g, replacement: 'style=\"padding:16px 10px 0px 0px;font-weight:bold;vertical-align:top;font-size:small;color:#C00;\"'},\n         parttitle: {regex: /\\%parttitle\\./g, replacement: 'style=\"font-weight:bold;font-size:x-small;padding:0px 0px 3px 0px;\"'},\n         itembody: {regex: /\\%itembody\\./g, replacement: 'style=\"padding:12px 0px 0px 0px;vertical-align:top;font-size:small;\"'},\n         bodypart: {regex: /\\%bodypart\\./g, replacement: 'style=\"padding:0px 10px 0px 0px;font-size:small;vertical-align:top;\"'}\n         },\n      divStyle: \"border:1px solid black;overflow:auto;\",\n      html:\n '<div id=\"%id.scolorchooser\" style=\"display:none;position:absolute;z-index:20;\"></div>'+\n'<table cellspacing=\"0\" cellpadding=\"0\">'+\n' <tr><td style=\"vertical-align:top;\">'+\n'<table id=\"%id.sheetsettingstable\" style=\"display:none;\" cellspacing=\"0\" cellpadding=\"0\">'+\n'<tr>'+\n' <td %itemtitle.><br>%loc!Default Format!:</td>'+\n' <td %itembody.>'+\n'   <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Number!</div>'+\n'     <span id=\"%id.formatnumber\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Text!</div>'+\n'     <span id=\"%id.formattext\"></span>'+\n'    </td>'+\n'   </tr></table>'+\n' </td>'+\n'</tr>'+\n'<tr>'+\n' <td %itemtitle.><br>%loc!Default Alignment!:</td>'+\n' <td %itembody.>'+\n'   <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Text Horizontal!</div>'+\n'     <span id=\"%id.textalignhoriz\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Number Horizontal!</div>'+\n'     <span id=\"%id.numberalignhoriz\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Vertical!</div>'+\n'     <span id=\"%id.alignvert\"></span>'+\n'    </td>'+\n'   </tr></table>'+\n' </td>'+\n'</tr>'+\n'<tr>'+\n' <td %itemtitle.><br>%loc!Default Font!:</td>'+\n' <td %itembody.>'+\n'   <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Family!</div>'+\n'     <span id=\"%id.fontfamily\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Bold &amp; Italics!</div>'+\n'     <span id=\"%id.fontlook\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Size!</div>'+\n'     <span id=\"%id.fontsize\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Color!</div>'+\n'     <div id=\"%id.textcolor\"></div>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Background!</div>'+\n'     <div id=\"%id.bgcolor\"></div>'+\n'    </td>'+\n'   </tr></table>'+\n' </td>'+\n'</tr>'+\n'<tr>'+\n' <td %itemtitle.><br>%loc!Default Padding!:</td>'+\n' <td %itembody.>'+\n'   <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Top!</div>'+\n'     <span id=\"%id.padtop\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Right!</div>'+\n'     <span id=\"%id.padright\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Bottom!</div>'+\n'     <span id=\"%id.padbottom\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Left!</div>'+\n'     <span id=\"%id.padleft\"></span>'+\n'    </td>'+\n'   </tr></table>'+\n' </td>'+\n'</tr>'+\n'<tr>'+\n' <td %itemtitle.><br>%loc!Default Column Width!:</td>'+\n' <td %itembody.>'+\n'   <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>&nbsp;</div>'+\n'     <span id=\"%id.colwidth\"></span>'+\n'    </td>'+\n'   </tr></table>'+\n' </td>'+\n'</tr>'+\n'<tr>'+\n' <td %itemtitle.><br>%loc!Recalculation!:</td>'+\n' <td %itembody.>'+\n'   <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>&nbsp;</div>'+\n'     <span id=\"%id.recalc\"></span>'+\n'    </td>'+\n'   </tr></table>'+\n' </td>'+\n'</tr>'+\n'<tr>'+\n' <td %itemtitle.><br>%loc!Dimensions!:</td>'+\n' <td %itembody.>'+\n'   <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Columns!</div>'+\n'     <span id=\"%id.usermaxcol\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Rows!</div>'+\n'     <span id=\"%id.usermaxrow\"></span>'+\n'    </td>'+\n'   </tr></table>'+\n' </td>'+\n'</tr>'+\n'</table>'+\n'<table id=\"%id.cellsettingstable\" cellspacing=\"0\" cellpadding=\"0\">'+\n'<tr>'+\n' <td %itemtitle.><br>%loc!Format!:</td>'+\n' <td %itembody.>'+\n'   <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Number!</div>'+\n'     <span id=\"%id.cformatnumber\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Text!</div>'+\n'     <span id=\"%id.cformattext\"></span>'+\n'    </td>'+\n'   </tr></table>'+\n' </td>'+\n'</tr>'+\n'<tr>'+\n' <td %itemtitle.><br>%loc!Alignment!:</td>'+\n' <td %itembody.>'+\n'   <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Horizontal!</div>'+\n'     <span id=\"%id.calignhoriz\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Vertical!</div>'+\n'     <span id=\"%id.calignvert\"></span>'+\n'    </td>'+\n'   </tr></table>'+\n' </td>'+\n'</tr>'+\n'<tr>'+\n' <td %itemtitle.><br>%loc!Font!:</td>'+\n' <td %itembody.>'+\n'   <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Family!</div>'+\n'     <span id=\"%id.cfontfamily\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Bold &amp; Italics!</div>'+\n'     <span id=\"%id.cfontlook\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Size!</div>'+\n'     <span id=\"%id.cfontsize\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Color!</div>'+\n'     <div id=\"%id.ctextcolor\"></div>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Background!</div>'+\n'     <div id=\"%id.cbgcolor\"></div>'+\n'    </td>'+\n'   </tr></table>'+\n' </td>'+\n'</tr>'+\n'<tr>'+\n' <td %itemtitle.><br>%loc!Borders!:</td>'+\n' <td %itembody.>'+\n'   <table cellspacing=\"0\" cellpadding=\"0\">'+\n'    <tr><td %bodypart. colspan=\"3\"><div %parttitle.>%loc!Top Border!</div></td>'+\n'     <td %bodypart. colspan=\"3\"><div %parttitle.>%loc!Right Border!</div></td>'+\n'     <td %bodypart. colspan=\"3\"><div %parttitle.>%loc!Bottom Border!</div></td>'+\n'     <td %bodypart. colspan=\"3\"><div %parttitle.>%loc!Left Border!</div></td>'+\n'    </tr><tr>'+\n'    <td %bodypart.>'+\n'     <input id=\"%id.cbt-onoff-bcb\" onclick=\"SocialCalc.SettingsControlOnchangeBorder(this);\" type=\"checkbox\">'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div id=\"%id.cbt-color\"></div>'+\n'    </td>'+\n'    <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>'+\n'    <td %bodypart.>'+\n'     <input id=\"%id.cbr-onoff-bcb\" onclick=\"SocialCalc.SettingsControlOnchangeBorder(this);\" type=\"checkbox\">'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div id=\"%id.cbr-color\"></div>'+\n'    </td>'+\n'    <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>'+\n'    <td %bodypart.>'+\n'     <input id=\"%id.cbb-onoff-bcb\" onclick=\"SocialCalc.SettingsControlOnchangeBorder(this);\" type=\"checkbox\">'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div id=\"%id.cbb-color\"></div>'+\n'    </td>'+\n'    <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>'+\n'    <td %bodypart.>'+\n'     <input id=\"%id.cbl-onoff-bcb\" onclick=\"SocialCalc.SettingsControlOnchangeBorder(this);\" type=\"checkbox\">'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div id=\"%id.cbl-color\"></div>'+\n'    </td>'+\n'    <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>'+\n'   </tr></table>'+\n' </td>'+\n'</tr>'+\n'<tr>'+\n' <td %itemtitle.><br>%loc!Padding!:</td>'+\n' <td %itembody.>'+\n'   <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Top!</div>'+\n'     <span id=\"%id.cpadtop\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Right!</div>'+\n'     <span id=\"%id.cpadright\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Bottom!</div>'+\n'     <span id=\"%id.cpadbottom\"></span>'+\n'    </td>'+\n'    <td %bodypart.>'+\n'     <div %parttitle.>%loc!Left!</div>'+\n'     <span id=\"%id.cpadleft\"></span>'+\n'    </td>'+\n'   </tr></table>'+\n' </td>'+\n'</tr>'+\n'</table>'+\n' </td><td style=\"vertical-align:top;padding:12px 0px 0px 12px;\">'+\n'  <div style=\"width:100px;height:100px;overflow:hidden;border:1px solid black;background-color:#EEE;padding:6px;\">'+\n'   <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n'    <td id=\"sample-text\" style=\"height:100px;width:100px;\"><div>%loc!This is a<br>sample!</div><div>-1234.5</div></td>'+\n'   </tr></table>'+\n'  </div>'+\n' </td></tr></table>'+\n'<br>'\n      };\n\n   // Sort\n\n   this.tabnums.sort = this.tabs.length;\n   this.tabs.push({name: \"sort\", text: \"Sort\", html:\n      ' <div id=\"%id.sorttools\" style=\"display:none;\">'+\n      '  <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n      '   <td style=\"vertical-align:top;padding-right:4px;width:160px;\">'+\n      '    <div style=\"%tbt.\">%loc!Set Cells To Sort!</div>'+\n      '    <select id=\"%id.sortlist\" size=\"1\" onfocus=\"%s.CmdGotFocus(this);\"><option selected>[select range]</option><option value=\"all\">Sort All</option></select>'+\n      '    <input type=\"button\" value=\"%loc!OK!\" onclick=\"%s.DoCmd(this, \\'ok-setsort\\');\" style=\"font-size:x-small;\">'+\n      '   </td>'+\n      '   <td style=\"vertical-align:middle;padding-right:16px;width:100px;text-align:right;\">'+\n      '    <div style=\"%tbt.\">&nbsp;</div>'+\n      '    <input type=\"button\" id=\"%id.sortbutton\" value=\"%loc!Sort Cells! A1:A1\" onclick=\"%s.DoCmd(this, \\'dosort\\');\" style=\"visibility:hidden;\">'+\n      '   </td>'+\n      '   <td style=\"vertical-align:top;padding-right:16px;\">'+\n      '    <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n      '     <td style=\"vertical-align:top;\">'+\n      '      <div style=\"%tbt.\">%loc!Major Sort!</div>'+\n      '      <select id=\"%id.majorsort\" size=\"1\" onfocus=\"%s.CmdGotFocus(this);\"></select>'+\n      '     </td><td>'+\n      '      <input type=\"radio\" name=\"majorsort\" id=\"%id.majorsortup\" value=\"up\" checked><span style=\"font-size:x-small;color:#555753;\">%loc!Up!</span><br>'+\n      '      <input type=\"radio\" name=\"majorsort\" id=\"%id.majorsortdown\" value=\"down\"><span style=\"font-size:x-small;color:#555753;\">%loc!Down!</span>'+\n      '     </td>'+\n      '    </tr></table>'+\n      '   </td>'+\n      '   <td style=\"vertical-align:top;padding-right:16px;\">'+\n      '    <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n      '     <td style=\"vertical-align:top;\">'+\n      '      <div style=\"%tbt.\">%loc!Minor Sort!</div>'+\n      '      <select id=\"%id.minorsort\" size=\"1\" onfocus=\"%s.CmdGotFocus(this);\"></select>'+\n      '     </td><td>'+\n      '      <input type=\"radio\" name=\"minorsort\" id=\"%id.minorsortup\" value=\"up\" checked><span style=\"font-size:x-small;color:#555753;\">%loc!Up!</span><br>'+\n      '      <input type=\"radio\" name=\"minorsort\" id=\"%id.minorsortdown\" value=\"down\"><span style=\"font-size:x-small;color:#555753;\">%loc!Down!</span>'+\n      '     </td>'+\n      '    </tr></table>'+\n      '   </td>'+\n      '   <td style=\"vertical-align:top;padding-right:16px;\">'+\n      '    <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n      '     <td style=\"vertical-align:top;\">'+\n      '      <div style=\"%tbt.\">%loc!Last Sort!</div>'+\n      '      <select id=\"%id.lastsort\" size=\"1\" onfocus=\"%s.CmdGotFocus(this);\"></select>'+\n      '     </td><td>'+\n      '      <input type=\"radio\" name=\"lastsort\" id=\"%id.lastsortup\" value=\"up\" checked><span style=\"font-size:x-small;color:#555753;\">%loc!Up!</span><br>'+\n      '      <input type=\"radio\" name=\"lastsort\" id=\"%id.lastsortdown\" value=\"down\"><span style=\"font-size:x-small;color:#555753;\">%loc!Down!</span>'+\n      '     </td>'+\n      '    </tr></table>'+\n      '   </td>'+\n      '  </tr></table>'+\n      ' </div>',\n      onclick: SocialCalc.SpreadsheetControlSortOnclick});\n   this.editor.SettingsCallbacks.sort = {save: SocialCalc.SpreadsheetControlSortSave, load: SocialCalc.SpreadsheetControlSortLoad};\n\n   // Audit\n\n   this.tabnums.audit = this.tabs.length;\n   this.tabs.push({name: \"audit\", text: \"Audit\", html:\n      '<div id=\"%id.audittools\" style=\"display:none;\">'+\n      ' <div style=\"%tbt.\">&nbsp;</div>'+\n      '</div>',\n      view: \"audit\",\n      onclick:\n         function(s, t) {\n            var SCLoc = SocialCalc.LocalizeString;\n            var i, j;\n            var str = '<table cellspacing=\"0\" cellpadding=\"0\" style=\"margin-bottom:10px;\"><tr><td style=\"font-size:small;padding:6px;\"><b>'+SCLoc(\"Audit Trail This Session\")+':</b><br><br>';\n            var stack = s.sheet.changes.stack;\n            var tos = s.sheet.changes.tos;\n            for (i=0; i<stack.length; i++) {\n               if (i==tos+1) str += '<br></td></tr><tr><td style=\"font-size:small;background-color:#EEE;padding:6px;\">'+SCLoc(\"UNDONE STEPS\")+':<br>';\n               for (j=0; j<stack[i].command.length; j++) {\n                  str += SocialCalc.special_chars(stack[i].command[j]) + \"<br>\";\n                  }\n               }\n\t\t\t// --------------------------------------------   \n \t\t    // eddy log {\n\n\t\t\t// --------------------------------------------   \n\t\t\tvar ObjToSource = function(o){\n\t\t\t\tif (typeof(o) == \"string\") return o;\n\t\t\t\tif (!o) return 'null';\n\t\t\t\tif (typeof(o) == \"object\") {\n\t\t\t\t\tif (!ObjToSource.check) ObjToSource.check = new Array();\n\t\t\t\t\tfor (var i=0, k=ObjToSource.check.length ; i<k ; ++i) {\n\t\t\t\t\t\tif (ObjToSource.check[i] == o) {return '{}';}\n\t\t\t\t\t}\n\t\t\t\t\tObjToSource.check.push(o);\n\t\t\t\t}\n\t\t\t\tvar k=\"\",na=typeof(o.length)==\"undefined\"?1:0,str=\"\";\n\t\t\t\tfor(var p in o){\n\t\t\t\t\tif (na) k = \"'\"+p+ \"':\";\n\t\t\t\t\tif (typeof o[p] == \"string\") str += k + \"'\" + o[p]+\"',\";\n\t\t\t\t\telse if (typeof o[p] == \"object\") str += k + ObjToSource(o[p])+\",\";\n\t\t\t\t\telse str += k + o[p] + \",\";\n\t\t\t\t}\n\t\t\t\tif (typeof(o) == \"object\") ObjToSource.check.pop();\n\t\t\t\tif (na) return \"{\"+str.slice(0,-1)+\"}\";\n\t\t\t\telse return \"[\"+str.slice(0,-1)+\"]\";\n\t\t\t}\n\t\t\t\n\t\t\t// --------------------------------------------   \n\t\t\t\n\t\t    if(typeof SocialCalc.debug_log != 'undefined') {\n\t\t\t\tfor(var index in SocialCalc.debug_log) { \n\t\t\t\t\tstr += ObjToSource(SocialCalc.debug_log[index]) + \"<br>\";\n\t\t\t\t}\n\t\t\t}\n\t\t    // }   \n\t\t\t// --------------------------------------------   \n\t\t\t   \n            s.views.audit.element.innerHTML = str+\"</td></tr></table>\";\n            SocialCalc.CmdGotFocus(true);\n            },\n      onclickFocus: true\n         });\n\n   this.views[\"audit\"] = {name: \"audit\",\n      divStyle: \"border:1px solid black;overflow:auto;\",\n      html: 'Audit Trail'\n      };\n\n   // Comment\n\n   this.tabnums.comment = this.tabs.length;\n   this.tabs.push({name: \"comment\", text: \"Comment\", html:\n      '<div id=\"%id.commenttools\" style=\"display:none;\">'+\n      '<table cellspacing=\"0\" cellpadding=\"0\"><tr><td>'+\n      '<textarea id=\"%id.commenttext\" style=\"font-size:small;height:32px;width:600px;overflow:auto;\" onfocus=\"%s.CmdGotFocus(this);\"></textarea>'+\n      '</td><td style=\"vertical-align:top;\">'+\n      '&nbsp;<input type=\"button\" value=\"%loc!Save!\" onclick=\"%s.SpreadsheetControlCommentSet();\" style=\"font-size:x-small;\">'+\n      '</td></tr></table>'+\n      '</div>',\n      view: \"sheet\",\n      onclick: SocialCalc.SpreadsheetControlCommentOnclick,\n      onunclick: SocialCalc.SpreadsheetControlCommentOnunclick\n      });\n\n   // Names\n\n   this.tabnums.names = this.tabs.length;\n   this.tabs.push({name: \"names\", text: \"Names\", html:\n      '<div id=\"%id.namestools\" style=\"display:none;\">'+\n      '  <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n      '   <td style=\"vertical-align:top;padding-right:24px;\">'+\n      '    <div style=\"%tbt.\">%loc!Existing Names!</div>'+\n      '    <select id=\"%id.nameslist\" size=\"1\" onchange=\"%s.SpreadsheetControlNamesChangedName();\" onfocus=\"%s.CmdGotFocus(this);\"><option selected>[New]</option></select>'+\n      '   </td>'+\n      '   <td style=\"vertical-align:top;padding-right:6px;\">'+\n      '    <div style=\"%tbt.\">%loc!Name!</div>'+\n      '    <input type=\"text\" id=\"%id.namesname\" style=\"font-size:x-small;width:75px;\" onfocus=\"%s.CmdGotFocus(this);\">'+\n      '   </td>'+\n      '   <td style=\"vertical-align:top;padding-right:6px;\">'+\n      '    <div style=\"%tbt.\">%loc!Description!</div>'+\n      '    <input type=\"text\" id=\"%id.namesdesc\" style=\"font-size:x-small;width:150px;\" onfocus=\"%s.CmdGotFocus(this);\">'+\n      '   </td>'+\n      '   <td style=\"vertical-align:top;padding-right:6px;\">'+\n      '    <div style=\"%tbt.\">%loc!Value!</div>'+\n      '    <input type=\"text\" id=\"%id.namesvalue\" width=\"16\" style=\"font-size:x-small;width:100px;\" onfocus=\"%s.CmdGotFocus(this);\">'+\n      '   </td>'+\n      '   <td style=\"vertical-align:top;padding-right:12px;width:100px;\">'+\n      '    <div style=\"%tbt.\">%loc!Set Value To!</div>'+\n      '    <input type=\"button\" id=\"%id.namesrangeproposal\" value=\"A1\" onclick=\"%s.SpreadsheetControlNamesSetValue();\" style=\"font-size:x-small;\">'+\n      '   </td>'+\n      '   <td style=\"vertical-align:top;padding-right:6px;\">'+\n      '    <div style=\"%tbt.\">&nbsp;</div>'+\n      '    <input type=\"button\" value=\"%loc!Save!\" onclick=\"%s.SpreadsheetControlNamesSave();\" style=\"font-size:x-small;\">'+\n      '    <input type=\"button\" value=\"%loc!Delete!\" onclick=\"%s.SpreadsheetControlNamesDelete()\" style=\"font-size:x-small;\">'+\n      '   </td>'+\n      '  </tr></table>'+\n      '</div>',\n      view: \"sheet\",\n      onclick: SocialCalc.SpreadsheetControlNamesOnclick,\n      onunclick: SocialCalc.SpreadsheetControlNamesOnunclick\n      });\n\n   // Clipboard\n\n   this.tabnums.clipboard = this.tabs.length;\n   this.tabs.push({name: \"clipboard\", text: \"Clipboard\", html:\n      '<div id=\"%id.clipboardtools\" style=\"display:none;\">'+\n      '  <table cellspacing=\"0\" cellpadding=\"0\"><tr>'+\n      '   <td style=\"vertical-align:top;padding-right:24px;\">'+\n      '    <div style=\"%tbt.\">'+\n      '     &nbsp;'+\n      '    </div>'+\n      '   </td>'+\n      '  </tr></table>'+\n      '</div>',\n      view: \"clipboard\",\n      onclick: SocialCalc.SpreadsheetControlClipboardOnclick,\n      onclickFocus: \"clipboardtext\"\n      });\n\n   this.views[\"clipboard\"] = {name: \"clipboard\", divStyle: \"overflow:auto;\", html:\n      ' <div style=\"font-size:x-small;padding:5px 0px 10px 0px;\">'+\n      '  <b>%loc!Display Clipboard in!:</b>'+\n      '  <input type=\"radio\" id=\"%id.clipboardformat-tab\" name=\"%id.clipboardformat\" checked onclick=\"%s.SpreadsheetControlClipboardFormat(\\'tab\\');\"> %loc!Tab-delimited format! &nbsp;'+\n      '  <input type=\"radio\" id=\"%id.clipboardformat-csv\" name=\"%id.clipboardformat\" onclick=\"%s.SpreadsheetControlClipboardFormat(\\'csv\\');\"> %loc!CSV format! &nbsp;'+\n      '  <input type=\"radio\" id=\"%id.clipboardformat-scsave\" name=\"%id.clipboardformat\" onclick=\"%s.SpreadsheetControlClipboardFormat(\\'scsave\\');\"> %loc!SocialCalc-save format!'+\n      ' </div>'+\n      ' <input type=\"button\" value=\"%loc!Load SocialCalc Clipboard With This!\" style=\"font-size:x-small;\" onclick=\"%s.SpreadsheetControlClipboardLoad();\">&nbsp; '+\n      ' <input type=\"button\" value=\"%loc!Clear SocialCalc Clipboard!\" style=\"font-size:x-small;\" onclick=\"%s.SpreadsheetControlClipboardClear();\">&nbsp; '+\n      ' <br>'+\n      ' <textarea id=\"%id.clipboardtext\" style=\"font-size:small;height:350px;width:800px;overflow:auto;\" onfocus=\"%s.CmdGotFocus(this);\"></textarea>'\n      };\n\n   return;\n\n   }\n\n   \n// Methods:\n\nSocialCalc.SpreadsheetControl.prototype.InitializeSpreadsheetControl =\n   function(node, height, width, spacebelow) {return SocialCalc.InitializeSpreadsheetControl(this, node, height, width, spacebelow);};\nSocialCalc.SpreadsheetControl.prototype.DoOnResize = function() {return SocialCalc.DoOnResize(this);};\nSocialCalc.SpreadsheetControl.prototype.SizeSSDiv = function() {return SocialCalc.SizeSSDiv(this);};\nSocialCalc.SpreadsheetControl.prototype.ExecuteCommand = \n   function(combostr, sstr) {return SocialCalc.SpreadsheetControlExecuteCommand(this, combostr, sstr);};\nSocialCalc.SpreadsheetControl.prototype.CreateSheetHTML = \n   function() {return SocialCalc.SpreadsheetControlCreateSheetHTML(this);};\nSocialCalc.SpreadsheetControl.prototype.CreateSpreadsheetSave = \n   function(otherparts) {return SocialCalc.SpreadsheetControlCreateSpreadsheetSave(this, otherparts);};\nSocialCalc.SpreadsheetControl.prototype.DecodeSpreadsheetSave = \n   function(str) {return SocialCalc.SpreadsheetControlDecodeSpreadsheetSave(this, str);};\nSocialCalc.SpreadsheetControl.prototype.CreateCellHTML = \n   function(coord) {return SocialCalc.SpreadsheetControlCreateCellHTML(this, coord);};\nSocialCalc.SpreadsheetControl.prototype.CreateCellHTMLSave = \n   function(range) {return SocialCalc.SpreadsheetControlCreateCellHTMLSave(this, range);};\n\n\n// Sheet Methods to make things a little easier:\n\nSocialCalc.SpreadsheetControl.prototype.ParseSheetSave = function(str) {return this.sheet.ParseSheetSave(str);};\nSocialCalc.SpreadsheetControl.prototype.CreateSheetSave = function() {return this.sheet.CreateSheetSave();};\n\n\n// Functions:\n\n//\n// InitializeSpreadsheetControl(spreadsheet, node, height, width, spacebelow)\n//\n// Creates the control elements and makes them the child of node (string or element).\n// If present, height and width specify size.\n// If either is 0 or null (missing), the maximum that fits on the screen\n// (taking spacebelow into account) is used.\n//\n// Displays the tabs and creates the views (other than \"sheet\").\n// The first tab is set as selected, but onclick is not invoked.\n//\n// You should do a redisplay or recalc (which redisplays) after running this.\n//\n\nSocialCalc.InitializeSpreadsheetControl = function(spreadsheet, node, height, width, spacebelow) {\n\n   var scc = SocialCalc.Constants;\n   var SCLoc = SocialCalc.LocalizeString;\n   var SCLocSS = SocialCalc.LocalizeSubstrings;\n\n   var html, child, i, vname, v, style, button, bele;\n   var tabs = spreadsheet.tabs;\n   var views = spreadsheet.views;\n\n   spreadsheet.requestedHeight = height;\n   spreadsheet.requestedWidth = width;\n   spreadsheet.requestedSpaceBelow = spacebelow;\n\n   if (typeof node == \"string\") node = document.getElementById(node);\n\n   if (node == null) {\n      alert(\"SocialCalc.SpreadsheetControl not given parent node.\");\n      }\n\n   spreadsheet.parentNode = node;\n\n   // create node to hold spreadsheet control\n\n   spreadsheet.spreadsheetDiv = document.createElement(\"div\");\n\n   spreadsheet.SizeSSDiv(); // calculate and fill in the size values\n\n   for (child=node.firstChild; child!=null; child=node.firstChild) {\n      node.removeChild(child);\n      }\n\n   // create the tabbed UI at the top\n\n   html = '<div>'\n   html += '<div style=\"'+spreadsheet.tabbackground+'\">'+\n      '<table cellpadding=\"0\" cellspacing=\"0\"><tr>';\n\n   for (i=0; i<tabs.length; i++) {\n      html += '  <td id=\"%id.' + tabs[i].name + 'tab\" style=\"' +\n         (i==0 ? spreadsheet.tabselectedCSS : spreadsheet.tabplainCSS) +\n         '\" onclick=\"%s.SetTab(this);\">' + SCLoc(tabs[i].text) + '</td>';\n      }\n\n   html += ' </tr></table></div>'\n   html += '<div style=\"'+spreadsheet.toolbarbackground+'padding:12px 10px 10px 4px;\">';\n\n   for (i=0; i<tabs.length; i++) {\n      html += tabs[i].html;\n      }\n\n   html += '</div>'\n   html += '</div>';\n\n   spreadsheet.currentTab = 0; // this is where we started\n\n   for (style in spreadsheet.tabreplacements) {\n      html = html.replace(spreadsheet.tabreplacements[style].regex, spreadsheet.tabreplacements[style].replacement);\n      }\n   html = html.replace(/\\%s\\./g, \"SocialCalc.\");\n   html = html.replace(/\\%id\\./g, spreadsheet.idPrefix);\n   html = html.replace(/\\%tbt\\./g, spreadsheet.toolbartext);\n   html = html.replace(/\\%img\\./g, spreadsheet.imagePrefix);\n\n   html = SCLocSS(html); // localize with %loc!string! and %scc!constant!\n\n   spreadsheet.spreadsheetDiv.innerHTML = html;\n\n   node.appendChild(spreadsheet.spreadsheetDiv);\n\n   // Initialize SocialCalc buttons\n\nspreadsheet.Buttons = {\n   button_undo: {tooltip: \"Undo\", command: \"undo\"},\n   button_redo: {tooltip: \"Redo\", command: \"redo\"},\n   button_copy: {tooltip: \"Copy\", command: \"copy\"},\n   button_cut: {tooltip: \"Cut\", command: \"cut\"},\n   button_paste: {tooltip: \"Paste\", command: \"paste\"},\n   button_pasteformats: {tooltip: \"Paste Formats\", command: \"pasteformats\"},\n   button_lock: {tooltip: \"Lock Cell\", command: \"lock\"},\n   button_unlock: {tooltip: \"Unlock Cell\", command: \"unlock\"},\n   button_delete: {tooltip: \"Delete Cell Contents\", command: \"delete\"},\n   button_filldown: {tooltip: \"Fill Down\", command: \"filldown\"},\n   button_fillright: {tooltip: \"Fill Right\", command: \"fillright\"},\n   button_movefrom: {tooltip: \"Set/Clear Move From\", command: \"movefrom\"},\n   button_movepaste: {tooltip: \"Move Paste\", command: \"movepaste\"},\n   button_moveinsert: {tooltip: \"Move Insert\", command: \"moveinsert\"},\n   button_alignleft: {tooltip: \"Align Left\", command: \"align-left\"},\n   button_aligncenter: {tooltip: \"Align Center\", command: \"align-center\"},\n   button_alignright: {tooltip: \"Align Right\", command: \"align-right\"},\n   button_borderon: {tooltip: \"Borders On\", command: \"borderon\"},\n   button_borderoff: {tooltip: \"Borders Off\", command: \"borderoff\"},\n   button_swapcolors: {tooltip: \"Swap Colors\", command: \"swapcolors\"},\n   button_merge: {tooltip: \"Merge/Unmerge Cells\", command: \"merge\"},\n   button_insertrow: {tooltip: \"Insert Row Before\", command: \"insertrow\"},\n   button_insertcol: {tooltip: \"Insert Column Before\", command: \"insertcol\"},\n   button_deleterow: {tooltip: \"Delete Row\", command: \"deleterow\"},\n   button_deletecol: {tooltip: \"Delete Column\", command: \"deletecol\"},\n   button_hiderow: {tooltip: \"Hide Row\", command: \"hiderow\"},\n   button_hidecol: {tooltip: \"Hide Column\", command: \"hidecol\"},\n   button_recalc: {tooltip: \"Recalculate\", command: \"recalc\"}\n   }\n\n   for (button in spreadsheet.Buttons) {\n      bele = document.getElementById(spreadsheet.idPrefix+button);\n      if (!bele) {alert(\"Button \"+(spreadsheet.idPrefix+button)+\" missing\"); continue;}\n      bele.style.border = \"1px solid \"+scc.ISCButtonBorderNormal;\n      bele.title = SCLoc(spreadsheet.Buttons[button].tooltip);\n      SocialCalc.ButtonRegister(spreadsheet.editor, bele,\n         {normalstyle: \"border:1px solid \"+scc.ISCButtonBorderNormal+\";background-color:\"+scc.ISCButtonNormalBackground+\";\",\n          hoverstyle: \"border:1px solid \"+scc.ISCButtonBorderHover+\";background-color:\"+scc.ISCButtonHoverBackground+\";\",\n          downstyle: \"border:1px solid \"+scc.ISCButtonBorderDown+\";background-color:\"+scc.ISCButtonDownBackground+\";\"}, \n         {MouseDown: SocialCalc.DoButtonCmd, command: spreadsheet.Buttons[button].command});\n      }\n\n   // create formula bar\n\n   spreadsheet.formulabarDiv = document.createElement(\"div\");\n   //spreadsheet.formulabarDiv.style.height = spreadsheet.formulabarheight + \"px\"; // Allow line wrapping\n   spreadsheet.formulabarDiv.innerHTML = '<input type=\"text\" size=\"60\" value=\"\">&nbsp;'; //'<textarea rows=\"4\" cols=\"60\" style=\"z-index:5;background-color:white;position:relative;\"></textarea>&nbsp;';\n   spreadsheet.spreadsheetDiv.appendChild(spreadsheet.formulabarDiv);\n   var inputbox = new SocialCalc.InputBox(spreadsheet.formulabarDiv.firstChild, spreadsheet.editor);\n   \n   for (button in spreadsheet.formulabuttons) {\n      bele = document.createElement(\"img\");\n      bele.id = spreadsheet.idPrefix+button;\n      bele.src = (spreadsheet.formulabuttons[button].skipImagePrefix ? \"\" : spreadsheet.imagePrefix)+spreadsheet.formulabuttons[button].image;\n      bele.style.verticalAlign = \"middle\";\n      bele.style.border = \"1px solid #FFF\";\n      bele.style.marginLeft = \"4px\";\n      bele.title = SCLoc(spreadsheet.formulabuttons[button].tooltip);\n      SocialCalc.ButtonRegister(spreadsheet.editor, bele,\n         {normalstyle: \"border:1px solid #FFF;backgroundColor:#FFF;\",\n          hoverstyle: \"border:1px solid #CCC;backgroundColor:#FFF;\",\n          downstyle: \"border:1px solid #000;backgroundColor:#FFF;\"}, \n         {MouseDown: spreadsheet.formulabuttons[button].command, Disabled: function() {return spreadsheet.editor.ECellReadonly();}});\n   spreadsheet.formulabarDiv.appendChild(bele);\n   }\n\n   var input = $(\"<input id='searchbarinput' value='' placeholder='Search sheet…'>\");\n   var searchBar = $(\"<span id='searchbar'></span>\");\n   searchBar.append(\"<div id='searchstatus'></div>\");\n   searchBar.append(input);\n\n   // find buttons (right of formula bar)\n   for (button in spreadsheet.findbuttons) {\n      bele = document.createElement(\"img\");\n      bele.id = spreadsheet.idPrefix+button;\n      bele.src = (spreadsheet.imagePrefix)+spreadsheet.findbuttons[button].image;\n      bele.style.verticalAlign = \"middle\";\n      bele.style.border = \"1px solid #FFF\";\n      bele.title = SCLoc(spreadsheet.findbuttons[button].tooltip);\n      SocialCalc.ButtonRegister(spreadsheet.editor, bele,\n         {normalstyle: \"border:1px solid #FFF;backgroundColor:#FFF;\",\n          hoverstyle: \"border:1px solid #CCC;backgroundColor:#FFF;\",\n          downstyle: \"border:1px solid #000;backgroundColor:#FFF;\"}, \n         {MouseDown: spreadsheet.findbuttons[button].command, Disabled: function() {return false;}});\n      searchBar[0].appendChild(bele);\n   } \n   input.on('input', SocialCalc.SpreadsheetControl.FindInSheet);\n   input.on('focus', function() {\n        SocialCalc.Keyboard.passThru = true;\n   });\n   input.on('blur', function() {\n        SocialCalc.Keyboard.passThru = false;\n   });\n   input.keyup(function (e) {\n        if (e.keyCode == 13) {\n           // search down when enter is pressed\n           if (e.shiftKey) {\n               SocialCalc.SpreadsheetControl.SearchUp();\n           } else {\n               SocialCalc.SpreadsheetControl.SearchDown();\n           }\n        }\n   });\n   spreadsheet.formulabarDiv.appendChild(searchBar[0]);\n   \n   // initialize tabs that need it\n\n   for (i=0; i<tabs.length; i++) { // execute any tab-specific initialization code\n      if (tabs[i].oncreate) {\n         tabs[i].oncreate(spreadsheet, tabs[i].name);\n         }\n      }\n\n   // create sheet view and others\n\n   // InitializeSpreadsheetControl eddy {\n   SocialCalc.CalculateSheetNonViewHeight(spreadsheet);\n   // } InitializeSpreadsheetControl\n   spreadsheet.viewheight = spreadsheet.height-spreadsheet.nonviewheight;\n   spreadsheet.editorDiv=spreadsheet.editor.CreateTableEditor(spreadsheet.width, spreadsheet.viewheight);\n\n// eddy test add input \n   var appViewDiv = document.createElement(\"div\");\n   appViewDiv.id = \"te_appView\";\n   \n   appViewDiv.appendChild(spreadsheet.editorDiv)\n   spreadsheet.editorDiv = appViewDiv;\n\n   var formDataDiv = document.createElement(\"div\");\n   formDataDiv.id = \"te_formData\";\n   //formDataDiv.style.visibility = \"hidden\";\n   formDataDiv.style.display = \"none\";\n   //formDataDiv.style.display = \"inline\";\n   \n  // spreadsheet.spreadsheetDiv.appendChild(formDataDiv);   \n   spreadsheet.editorDiv.appendChild(formDataDiv);\n       \n// }\n      \n   spreadsheet.spreadsheetDiv.appendChild(spreadsheet.editorDiv);\n\n// form data sheet - all input formulas set values in this sheet as well as the loaded sheet\n   spreadsheet.formDataViewer = new SocialCalc.SpreadsheetViewer(\"te_FormData-\"); // should end with -\n   spreadsheet.formDataViewer.InitializeSpreadsheetViewer(formDataDiv.id, 180, 0, 200);\n   spreadsheet.formDataViewer.editor.ignoreRender = true; // formDataViewer is used for ExecuteSheetCommand only - no need to render\n// end\n   \n   for (vname in views) {\n      html = views[vname].html;\n      for (style in views[vname].replacements) {\n         html = html.replace(views[vname].replacements[style].regex, views[vname].replacements[style].replacement);\n         }\n      html = html.replace(/\\%s\\./g, \"SocialCalc.\");\n      html = html.replace(/\\%id\\./g, spreadsheet.idPrefix);\n      html = html.replace(/\\%tbt\\./g, spreadsheet.toolbartext);\n      html = html.replace(/\\%img\\./g, spreadsheet.imagePrefix);\n      v = document.createElement(\"div\");\n      SocialCalc.setStyles(v, views[vname].divStyle);\n      v.style.display = \"none\";\n      v.style.width = spreadsheet.width + \"px\";\n      v.style.height = spreadsheet.viewheight + \"px\";\n      v.id = spreadsheet.idPrefix + views[vname].name + \"view\";\n\n      html = SCLocSS(html); // localize with %loc!string!, etc.\n\n      v.innerHTML = html;\n      spreadsheet.spreadsheetDiv.appendChild(v);\n      views[vname].element = v;\n      if (views[vname].oncreate) {\n         views[vname].oncreate(spreadsheet, views[vname]);\n         }\n      }\n\n   views.sheet = {name: \"sheet\", element: spreadsheet.editorDiv};\n\n   // create statusline\n\n   spreadsheet.statuslineDiv = document.createElement(\"div\");\n   spreadsheet.statuslineDiv.style.cssText = spreadsheet.statuslineCSS;\n   spreadsheet.statuslineDiv.style.height = spreadsheet.statuslineheight -\n      (spreadsheet.statuslineDiv.style.paddingTop.slice(0,-2)-0) -\n      (spreadsheet.statuslineDiv.style.paddingBottom.slice(0,-2)-0) + \"px\";\n   spreadsheet.statuslineDiv.id = spreadsheet.idPrefix+\"statusline\";\n   spreadsheet.spreadsheetDiv.appendChild(spreadsheet.statuslineDiv);\n\n   // set current control object based on mouseover\n\n   if (spreadsheet.spreadsheetDiv.addEventListener) { // DOM Level 2 -- Firefox, et al\n      spreadsheet.spreadsheetDiv.addEventListener(\"mousedown\", function() { SocialCalc.SetSpreadsheetControlObject(spreadsheet); }, false);\n      spreadsheet.spreadsheetDiv.addEventListener(\"mouseover\", function() { SocialCalc.SetSpreadsheetControlObject(spreadsheet); }, false);\n      }\n   else if (spreadsheet.spreadsheetDiv.attachEvent) { // IE 5+\n      spreadsheet.spreadsheetDiv.attachEvent(\"onmousedown\", function() { SocialCalc.SetSpreadsheetControlObject(spreadsheet); });\n      spreadsheet.spreadsheetDiv.attachEvent(\"onmouseover\", function() { SocialCalc.SetSpreadsheetControlObject(spreadsheet); });\n      }\n   else { // don't handle this\n      throw SocialCalc.Constants.s_BrowserNotSupported;\n      }\n\n   // done - refresh screen needed\n\n   return;\n\n   }\n\n\n// eddy CalculateSheetNonViewHeight {\nSocialCalc.CalculateSheetNonViewHeight = function(spreadsheet) {\n  spreadsheet.nonviewheight = spreadsheet.statuslineheight;\n  for(var nodeIndex = 0;  nodeIndex < spreadsheet.spreadsheetDiv.childNodes.length;  nodeIndex++ ) {\n    if(spreadsheet.spreadsheetDiv.childNodes[nodeIndex].id == \"SocialCalc-statusline\") continue;\n    spreadsheet.nonviewheight += spreadsheet.spreadsheetDiv.childNodes[nodeIndex].offsetHeight;\n  }\n  \n}\n\n// }\n\n\n//\n// outstr = SocialCalc.LocalizeString(str)\n//\n// SocialCalc function to make localization easier.\n// If str is \"Text to localize\", it returns\n// SocialCalc.Constants.s_loc_text_to_localize if\n// it exists, or else with just \"Text to localize\".\n// Note that spaces are replaced with \"_\" and other special\n// chars with \"X\" in the name of the constant (e.g., \"A & B\"\n// would look for SocialCalc.Constants.s_loc_a_X_b.\n//\n\nSocialCalc.LocalizeString = function(str) {\n   var cstr = SocialCalc.LocalizeStringList[str]; // found already this session?\n   if (!cstr) { // no - look up\n      cstr = SocialCalc.Constants[\"s_loc_\"+str.toLowerCase().replace(/\\s/g, \"_\").replace(/\\W/g, \"X\")] || str;\n      SocialCalc.LocalizeStringList[str] = cstr;\n      }\n   return cstr;\n   }\n\n\n\nSocialCalc.LocalizeStringList = {}; // a list of strings to localize accumulated by the routine\n\n//\n// outstr = SocialCalc.LocalizeSubstrings(str)\n//\n// SocialCalc function to make localization easier using %loc and %scc.\n//\n// Replaces sections of str with:\n//    %loc!Text to localize!\n// with SocialCalc.Constants.s_loc_text_to_localize if\n// it exists, or else with just \"Text to localize\".\n// Note that spaces are replaced with \"_\" and other special\n// chars with \"X\" in the name of the constant (e.g., %loc!A & B!\n// would look for SocialCalc.Constants.s_loc_a_X_b.\n// Uses SocialCalc.LocalizeString for this.\n//\n// Replaces sections of str with:\n//    %ssc!constant-name!\n// with SocialCalc.Constants.constant-name.\n// If the constant doesn't exist, throws and alert.\n//\n\nSocialCalc.LocalizeSubstrings = function(str) {\n\n   var SCLoc = SocialCalc.LocalizeString;\n\n   return str.replace(/%(loc|ssc)!(.*?)!/g, function(a, t, c) {\n      if (t==\"ssc\") {\n         return SocialCalc.Constants[c] || alert(\"Missing constant: \"+c);\n         }\n      else {\n         return SCLoc(c);\n         }\n      });\n\n   }\n\n//\n// obj = GetSpreadsheetControlObject()\n//\n// Returns the current spreadsheet control object\n//\n\nSocialCalc.GetSpreadsheetControlObject = function() {\n\n  // if in viewer mode return CurrentSpreadsheetViewerObject because CurrentSpreadsheetControlObject is null (bug fix) \n   var csco = (SocialCalc.CurrentSpreadsheetControlObject != null) \n   ? SocialCalc.CurrentSpreadsheetControlObject : SocialCalc.CurrentSpreadsheetViewerObject;\n   if (csco) return csco;\n\n//   throw (\"No current SpreadsheetControl object.\");\n\n   }\n\n//\n// SetSpreadsheetControlObject(spreadsheet)\n//\n\nSocialCalc.SetSpreadsheetControlObject = function(spreadsheet) {\n\n   SocialCalc.CurrentSpreadsheetControlObject = spreadsheet;\n\n   if (SocialCalc.Keyboard.focusTable && spreadsheet) {\n      SocialCalc.Keyboard.focusTable = spreadsheet.editor;\n      }\n\n   }\n\n\n//\n// SocialCalc.DoOnResize(spreadsheet)\n//\n// Processes an onResize event, setting the different views.\n//\n\nSocialCalc.DoOnResize = function(spreadsheet) {\n\n   var v;\n   var views = spreadsheet.views;\n\n   var needresize = spreadsheet.SizeSSDiv();\n   if (!needresize) return;\n\n   for (vname in views) {\n      v = views[vname].element;\n      v.style.width = spreadsheet.width + \"px\";\n      v.style.height = (spreadsheet.height-spreadsheet.nonviewheight) + \"px\";\n      }\n\n   spreadsheet.editor.ResizeTableEditor(spreadsheet.width, spreadsheet.height-spreadsheet.nonviewheight);\n\n   }\n\n\n//\n// resized = SocialCalc.SizeSSDiv(spreadsheet)\n//\n// Figures out a reasonable size for the spreadsheet, given any requested values and viewport.\n// Sets ssdiv to that.\n// Return true if different than existing values.\n//\n\nSocialCalc.SizeSSDiv = function(spreadsheet) {\n\n   var sizes, pos, resized, nodestyle, newval;\n   var fudgefactorX = 10; // for IE\n   var fudgefactorY = 10;\n\n   resized = false;\n\n   sizes = SocialCalc.GetViewportInfo();\n   pos = SocialCalc.GetElementPosition(spreadsheet.parentNode);\n   pos.bottom = 0;\n   pos.right = 0;\n\n   nodestyle = spreadsheet.parentNode.style;\n\n   if (nodestyle.marginTop) {\n      pos.top += nodestyle.marginTop.slice(0,-2)-0;\n      }\n   if (nodestyle.marginBottom) {\n      pos.bottom += nodestyle.marginBottom.slice(0,-2)-0;\n      }\n   if (nodestyle.marginLeft) {\n      pos.left += nodestyle.marginLeft.slice(0,-2)-0;\n      }\n   if (nodestyle.marginRight) {\n      pos.right += nodestyle.marginRight.slice(0,-2)-0;\n      }\n\n   newval = spreadsheet.requestedHeight ||\n            sizes.height - (pos.top + pos.bottom + fudgefactorY) -\n               (spreadsheet.requestedSpaceBelow || 0);\n   if (spreadsheet.height != newval) {\n      spreadsheet.height = newval;\n      spreadsheet.spreadsheetDiv.style.height = newval + \"px\";\n      resized = true;\n      }\n   newval = spreadsheet.requestedWidth ||\n            sizes.width - (pos.left + pos.right + fudgefactorX) || 700;\n   if (spreadsheet.width != newval) {\n      spreadsheet.width = newval;\n      spreadsheet.spreadsheetDiv.style.width = newval + \"px\";\n      resized = true;\n      }\n\n   spreadsheet.spreadsheetDiv.style.position = \"relative\";\n\n   return resized;\n\n   }\n\n\n//\n// SocialCalc.SetTab(obj)\n//\n// The obj argument is either a string with the tab name or a DOM element with an ID\n//\n\nSocialCalc.SetTab = function(obj) {\n\n   var newtab, tname, newtabnum, newview, i, vname, ele;\n   var menutabs = {};\n   var tools = {};\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var tabs = spreadsheet.tabs;\n   var views = spreadsheet.views;\n\n   if (typeof obj == \"string\") {\n      newtab = obj;\n      }\n   else {\n      newtab = obj.id.slice(spreadsheet.idPrefix.length,-3);\n      }\n\n   if (spreadsheet.editor.busy && // if busy and switching from \"sheet\", ignore\n         (!tabs[spreadsheet.currentTab].view || tabs[spreadsheet.currentTab].view==\"sheet\")) {\n      for (i=0; i<tabs.length; i++) {\n         if(tabs[i].name==newtab && (tabs[i].view && tabs[i].view!=\"sheet\")) {\n            return;\n            }\n         }\n      }\n\n   if (spreadsheet.tabs[spreadsheet.currentTab].onunclick) {\n      spreadsheet.tabs[spreadsheet.currentTab].onunclick(spreadsheet, spreadsheet.tabs[spreadsheet.currentTab].name);\n      }\n\n   for (i=0; i<tabs.length; i++) {\n      tname = tabs[i].name;\n      menutabs[tname] = document.getElementById(spreadsheet.idPrefix+tname+\"tab\");\n      tools[tname] = document.getElementById(spreadsheet.idPrefix+tname+\"tools\");\n      if (tname==newtab) {\n         newtabnum = i;\n         tools[tname].style.display = \"block\";\n         menutabs[tname].style.cssText = spreadsheet.tabselectedCSS;\n         }\n      else {\n         tools[tname].style.display = \"none\";\n         menutabs[tname].style.cssText = spreadsheet.tabplainCSS;\n         }\n      }\n\n   spreadsheet.currentTab = newtabnum;\n\n   if (tabs[newtabnum].onclick) {\n      tabs[newtabnum].onclick(spreadsheet, newtab);\n      }\n\n   for (vname in views) {\n      if ((!tabs[newtabnum].view && vname == \"sheet\") || tabs[newtabnum].view == vname) {\n         views[vname].element.style.display = \"block\";\n         newview = vname;\n         }\n      else {\n         views[vname].element.style.display = \"none\";\n         }\n      }\n\n   if (tabs[newtabnum].onclickFocus) {\n      ele = tabs[newtabnum].onclickFocus;\n      if (typeof ele == \"string\") {\n         ele = document.getElementById(spreadsheet.idPrefix+ele);\n         ele.focus();\n         }\n      SocialCalc.CmdGotFocus(ele);\n      }\n   else {\n      SocialCalc.KeyboardFocus();\n      }\n\n   if (views[newview].needsresize && views[newview].onresize) {\n      views[newview].needsresize = false;\n      views[newview].onresize(spreadsheet, views[newview]);\n      }\n\n   if (newview == \"sheet\") {\n      spreadsheet.statuslineDiv.style.display = \"block\";\n      spreadsheet.editor.ScheduleRender();\n      }\n   else {\n      spreadsheet.statuslineDiv.style.display = \"none\";\n      }\n\n   return;\n\n   }\n\n//\n// SocialCalc.SpreadsheetControlStatuslineCallback\n//\n\nSocialCalc.SpreadsheetControlStatuslineCallback = function(editor, status, arg, params) {\n\n   var rele1, rele2;\n\n   var ele = document.getElementById(params.statuslineid);\n\n   if (ele) {\n      ele.innerHTML = editor.GetStatuslineString(status, arg, params);\n      }\n\n   switch (status) {\n      case \"cmdendnorender\":\n      case \"calcfinished\":\n      case \"doneposcalc\":\n         rele1 = document.getElementById(params.recalcid1);\n         rele2 = document.getElementById(params.recalcid2);\n         if (!rele1 || !rele2) break;\n         if (editor.context.sheetobj.attribs.needsrecalc==\"yes\") {\n            rele1.style.display = \"inline\";\n            rele2.style.display = \"inline\";\n            }\n         else {\n            rele1.style.display = \"none\";\n            rele2.style.display = \"none\";\n            }\n         break;\n\n      default:\n         break;\n      }\n\n   }\n\n\n//\n// SocialCalc.UpdateSortRangeProposal(editor)\n//\n// Updates sort range proposed in the UI in element idPrefix+sortlist\n//\n\nSocialCalc.UpdateSortRangeProposal = function(editor) {\n\n   var ele = document.getElementById(SocialCalc.GetSpreadsheetControlObject().idPrefix+\"sortlist\");\n   if (editor.range.hasrange) {\n      ele.options[0].text = SocialCalc.crToCoord(editor.range.left, editor.range.top) + \":\" +\n                            SocialCalc.crToCoord(editor.range.right, editor.range.bottom);\n      }\n   else {\n      ele.options[0].text = SocialCalc.LocalizeString(\"[select range]\");\n      }\n\n   }\n\n//\n// SocialCalc.LoadColumnChoosers(spreadsheet)\n//\n// Updates list of columns for choosing which to sort for Major, Minor, and Last sort\n//\n\nSocialCalc.LoadColumnChoosers = function(spreadsheet) {\n\n   var SCLoc = SocialCalc.LocalizeString;\n\n   var sortrange, nrange, rparts, col, colname, sele, oldindex;\n\n   if (spreadsheet.sortrange && spreadsheet.sortrange.indexOf(\":\")==-1) { // sortrange is a named range\n      nrange = SocialCalc.Formula.LookupName(spreadsheet.sheet, spreadsheet.sortrange || \"\");\n      if (nrange.type == \"range\") {\n         rparts = nrange.value.match(/^(.*)\\|(.*)\\|$/);\n         sortrange = rparts[1] + \":\" + rparts[2];\n         }\n      else {\n         sortrange = \"A1:A1\";\n         }\n      }\n   else {\n      sortrange = spreadsheet.sortrange;\n      }\n   var range = SocialCalc.ParseRange(sortrange);\n   sele = document.getElementById(spreadsheet.idPrefix+\"majorsort\");\n   oldindex = sele.selectedIndex;\n   sele.options.length = 0;\n   sele.options[sele.options.length] = new Option(SCLoc(\"[None]\"), \"\");\n   for (var col=range.cr1.col; col<=range.cr2.col; col++) {\n      colname = SocialCalc.rcColname(col);\n      sele.options[sele.options.length] = new Option(SCLoc(\"Column \")+colname, colname);\n      }\n   sele.selectedIndex = oldindex > 1 && oldindex <= (range.cr2.col-range.cr1.col+1) ? oldindex : 1; // restore what was there if reasonable\n   sele = document.getElementById(spreadsheet.idPrefix+\"minorsort\");\n   oldindex = sele.selectedIndex;\n   sele.options.length = 0;\n   sele.options[sele.options.length] = new Option(SCLoc(\"[None]\"), \"\");\n   for (var col=range.cr1.col; col<=range.cr2.col; col++) {\n      colname = SocialCalc.rcColname(col);\n      sele.options[sele.options.length] = new Option(colname, colname);\n      }\n   sele.selectedIndex = oldindex > 0 && oldindex <= (range.cr2.col-range.cr1.col+1) ? oldindex : 0; // default to [none]\n   sele = document.getElementById(spreadsheet.idPrefix+\"lastsort\");\n   oldindex = sele.selectedIndex;\n   sele.options.length = 0;\n   sele.options[sele.options.length] = new Option(SCLoc(\"[None]\"), \"\");\n   for (var col=range.cr1.col; col<=range.cr2.col; col++) {\n      colname = SocialCalc.rcColname(col);\n      sele.options[sele.options.length] = new Option(colname, colname);\n      }\n   sele.selectedIndex = oldindex > 0 && oldindex <= (range.cr2.col-range.cr1.col+1) ? oldindex : 0; // default to [none]\n\n   }\n\n//\n// SocialCalc.CmdGotFocus(obj)\n//\n// Sets SocialCalc.Keyboard.passThru: obj should be element with focus or \"true\"\n//\n\nSocialCalc.CmdGotFocus = function(obj) {\n\n   SocialCalc.Keyboard.passThru = obj;\n\n   }\n\n\n//\n// SocialCalc.DoButtonCmd(e, buttoninfo, bobj)\n//\n\nSocialCalc.DoButtonCmd = function(e, buttoninfo, bobj) {\n\n   SocialCalc.DoCmd(bobj.element, bobj.functionobj.command);\n\n   }\n\n//\n// SocialCalc.DoCmd(obj, which)\n//\n// xxx\n//\n\nSocialCalc.DoCmd = function(obj, which) {\n\n   var combostr, sstr, cl, i, clele, slist, slistele, str, sele, rele, lele, ele, sortrange, nrange, rparts;\n   var sheet, cell, color, bgcolor, defaultcolor, defaultbgcolor;\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var editor = spreadsheet.editor;\n\n   switch (which) {\n      case \"undo\":\n         spreadsheet.ExecuteCommand(\"undo\", \"\");\n         break;\n\n      case \"redo\":\n         spreadsheet.ExecuteCommand(\"redo\", \"\");\n         break;\n\n      case \"fill-rowcolstuff\":\n      case \"fill-text\":\n         cl = which.substring(5);\n         clele = document.getElementById(spreadsheet.idPrefix+cl+\"list\");\n         clele.length = 0;\n         for (i=0; i<SocialCalc.SpreadsheetCmdTable[cl].length; i++) {\n            clele.options[i] = new Option(SocialCalc.SpreadsheetCmdTable[cl][i].t);\n            }\n         which = \"changed-\"+cl; // fall through to changed code\n\n      case \"changed-rowcolstuff\":\n      case \"changed-text\":\n         cl = which.substring(8);\n         clele = document.getElementById(spreadsheet.idPrefix+cl+\"list\");\n         slist = SocialCalc.SpreadsheetCmdTable.slists[SocialCalc.SpreadsheetCmdTable[cl][clele.selectedIndex].s]; // get sList for this command\n         slistele = document.getElementById(spreadsheet.idPrefix+cl+\"slist\");\n         slistele.length = 0; // reset\n         for (i=0; i<(slist.length||0); i++) {\n            slistele.options[i] = new Option(slist[i].t, slist[i].s);\n            }\n         return; // nothing else to do\n\n      case \"ok-rowcolstuff\":\n      case \"ok-text\":\n         cl = which.substring(3);\n         clele = document.getElementById(spreadsheet.idPrefix+cl+\"list\");\n         slistele = document.getElementById(spreadsheet.idPrefix+cl+\"slist\");\n         combostr = SocialCalc.SpreadsheetCmdTable[cl][clele.selectedIndex].c;\n         sstr = slistele[slistele.selectedIndex].value;\n         SocialCalc.SpreadsheetControlExecuteCommand(obj, combostr, sstr);\n         break;\n\n      case \"ok-setsort\":\n         lele = document.getElementById(spreadsheet.idPrefix+\"sortlist\");\n         if (lele.selectedIndex==0) {\n            if (editor.range.hasrange) {\n               spreadsheet.sortrange = SocialCalc.crToCoord(editor.range.left, editor.range.top) + \":\" +\n                          SocialCalc.crToCoord(editor.range.right, editor.range.bottom);\n               }\n            else {\n               spreadsheet.sortrange = editor.ecell.coord+\":\"+editor.ecell.coord;\n               }\n            }\n         else {\n            var val = lele.options[lele.selectedIndex].value;\n            if (val == 'all') {\n                var cells = spreadsheet.sheet.cells; \n                var min_col = -1, max_col = -1, min_row = -1, max_row = -1;\n                for (var cell_id in cells) {\n                    var cr = SocialCalc.coordToCr(cell_id);\n                    if (min_row == -1 || cr.row < min_row) {\n                        min_row = cr.row;\n                    }\n                    if (min_col == -1 || cr.col < min_col) {\n                        min_col = cr.col;\n                    }\n                    if (max_row == -1 || cr.row > max_row) {\n                        max_row = cr.row;\n                    }\n                    if (max_col == -1 || cr.col > max_col) {\n                        max_col = cr.col;\n                    }\n                } \n                spreadsheet.sortrange = SocialCalc.crToCoord(min_col, min_row) + \":\" + SocialCalc.crToCoord(max_col, max_row); \n                lele.options[lele.selectedIndex].text += \" (\" + spreadsheet.sortrange + \")\";\n            } else { \n                spreadsheet.sortrange = lele.options[lele.selectedIndex].value;\n            }\n         }\n         ele = document.getElementById(spreadsheet.idPrefix+\"sortbutton\");\n         ele.value = SocialCalc.LocalizeString(\"Sort \")+spreadsheet.sortrange;\n         ele.style.visibility = \"visible\";\n         SocialCalc.LoadColumnChoosers(spreadsheet);\n         if (obj && obj.blur) obj.blur();\n         SocialCalc.KeyboardFocus();   \n         return;\n\n      case \"dosort\":\n         if (spreadsheet.sortrange && spreadsheet.sortrange.indexOf(\":\")==-1) { // sortrange is a named range\n            nrange = SocialCalc.Formula.LookupName(spreadsheet.sheet, spreadsheet.sortrange || \"\");\n            if (nrange.type != \"range\") return;\n            rparts = nrange.value.match(/^(.*)\\|(.*)\\|$/);\n            sortrange = rparts[1] + \":\" + rparts[2];\n            }\n         else {\n            sortrange = spreadsheet.sortrange;\n            }\n         if (sortrange == \"A1:A1\") return;\n         str = \"sort \"+sortrange+\" \";\n         sele = document.getElementById(spreadsheet.idPrefix+\"majorsort\");\n         rele = document.getElementById(spreadsheet.idPrefix+\"majorsortup\");\n         str += sele.options[sele.selectedIndex].value + (rele.checked ? \" up\" : \" down\");\n         sele = document.getElementById(spreadsheet.idPrefix+\"minorsort\");\n         if (sele.selectedIndex>0) {\n           rele = document.getElementById(spreadsheet.idPrefix+\"minorsortup\");\n           str += \" \"+sele.options[sele.selectedIndex].value + (rele.checked ? \" up\" : \" down\");\n           }\n         sele = document.getElementById(spreadsheet.idPrefix+\"lastsort\");\n         if (sele.selectedIndex>0) {\n           rele = document.getElementById(spreadsheet.idPrefix+\"lastsortup\");\n           str += \" \"+sele.options[sele.selectedIndex].value + (rele.checked ? \" up\" : \" down\");\n           }\n         spreadsheet.ExecuteCommand(str, \"\");\n         break;\n\n      case \"merge\":\n         combostr = SocialCalc.SpreadsheetCmdLookup[which] || \"\";\n         sstr = SocialCalc.SpreadsheetCmdSLookup[which] || \"\";\n         spreadsheet.ExecuteCommand(combostr, sstr);\n         if (editor.range.hasrange) { // set ecell to upper left\n            editor.MoveECell(SocialCalc.crToCoord(editor.range.left, editor.range.top));\n            editor.RangeRemove();\n            }\n         break;\n\n      case \"movefrom\":\n         if (editor.range2.hasrange) { // toggle if already there\n            spreadsheet.context.cursorsuffix = \"\";\n            editor.Range2Remove();\n            spreadsheet.ExecuteCommand(\"redisplay\", \"\");\n            }\n         else if (editor.range.hasrange) { // set range2 to range or one cell\n            editor.range2.top = editor.range.top;\n            editor.range2.right = editor.range.right;\n            editor.range2.bottom = editor.range.bottom;\n            editor.range2.left = editor.range.left;\n            editor.range2.hasrange = true;\n            editor.MoveECell(SocialCalc.crToCoord(editor.range.left, editor.range.top));\n            }\n         else {\n            editor.range2.top = editor.ecell.row;\n            editor.range2.right = editor.ecell.col;\n            editor.range2.bottom = editor.ecell.row;\n            editor.range2.left = editor.ecell.col;\n            editor.range2.hasrange = true;\n            }\n         str = editor.range2.hasrange ? \"\" : \"off\";\n         ele = document.getElementById(spreadsheet.idPrefix+\"button_movefrom\");\n         ele.src=spreadsheet.imagePrefix+\"movefrom\"+str+\".gif\";\n         ele = document.getElementById(spreadsheet.idPrefix+\"button_movepaste\");\n         ele.src=spreadsheet.imagePrefix+\"movepaste\"+str+\".gif\";\n         ele = document.getElementById(spreadsheet.idPrefix+\"button_moveinsert\");\n         ele.src=spreadsheet.imagePrefix+\"moveinsert\"+str+\".gif\";\n         if (editor.range2.hasrange) editor.RangeRemove();\n         break;\n\n      case \"movepaste\":\n      case \"moveinsert\":\n         if (editor.range2.hasrange) {\n            spreadsheet.context.cursorsuffix = \"\";\n            combostr = which+\" \"+\n               SocialCalc.crToCoord(editor.range2.left, editor.range2.top) + \":\" +\n               SocialCalc.crToCoord(editor.range2.right, editor.range2.bottom)\n               +\" \"+editor.ecell.coord;\n            spreadsheet.ExecuteCommand(combostr, \"\");\n            editor.Range2Remove();\n            ele = document.getElementById(spreadsheet.idPrefix+\"button_movefrom\");\n            ele.src=spreadsheet.imagePrefix+\"movefromoff.gif\";\n            ele = document.getElementById(spreadsheet.idPrefix+\"button_movepaste\");\n            ele.src=spreadsheet.imagePrefix+\"movepasteoff.gif\";\n            ele = document.getElementById(spreadsheet.idPrefix+\"button_moveinsert\");\n            ele.src=spreadsheet.imagePrefix+\"moveinsertoff.gif\";\n            }\n         break;\n\n      case \"swapcolors\":\n         sheet = spreadsheet.sheet;\n         cell = sheet.GetAssuredCell(editor.ecell.coord);\n         defaultcolor = sheet.attribs.defaultcolor ? sheet.colors[sheet.attribs.defaultcolor] : \"rgb(0,0,0)\";\n         defaultbgcolor = sheet.attribs.defaultbgcolor ? sheet.colors[sheet.attribs.defaultbgcolor] : \"rgb(255,255,255)\";\n         color = cell.color ? sheet.colors[cell.color] : defaultcolor; // get color\n         if (color == defaultbgcolor) color = \"\"; // going to swap, so if same as background default, use default\n         bgcolor = cell.bgcolor ? sheet.colors[cell.bgcolor] : defaultbgcolor;\n         if (bgcolor == defaultcolor) bgcolor = \"\"; // going to swap, so if same as foreground default, use default\n         spreadsheet.ExecuteCommand(\"set %C color \"+bgcolor+\"%Nset %C bgcolor \"+color, \"\");\n         break;\n\n      default:\n         combostr = SocialCalc.SpreadsheetCmdLookup[which] || \"\";\n         sstr = SocialCalc.SpreadsheetCmdSLookup[which] || \"\";\n         spreadsheet.ExecuteCommand(combostr, sstr);\n         break;\n      }\n\n   if (obj && obj.blur) obj.blur();\n   SocialCalc.KeyboardFocus();   \n\n   }\n\nSocialCalc.SpreadsheetCmdLookup = {\n 'copy': 'copy %C all',\n 'cut': 'cut %C all',\n 'paste': 'paste %C all',\n 'pasteformats': 'paste %C formats',\n 'lock': 'set %C readonly yes',\n 'unlock': 'set %C readonly no',\n 'delete': 'erase %C formulas',\n 'filldown': 'filldown %C all',\n 'fillright': 'fillright %C all',\n 'erase': 'erase %C all',\n 'borderon': 'set %C bt %S%Nset %C br %S%Nset %C bb %S%Nset %C bl %S',\n 'borderoff': 'set %C bt %S%Nset %C br %S%Nset %C bb %S%Nset %C bl %S',\n 'merge': 'merge %C',\n 'unmerge': 'unmerge %C',\n 'align-left': 'set %C cellformat left',\n 'align-center': 'set %C cellformat center',\n 'align-right': 'set %C cellformat right',\n 'align-default': 'set %C cellformat',\n 'insertrow': 'insertrow %C',\n 'insertcol': 'insertcol %C',\n 'deleterow': 'deleterow %C',\n 'deletecol': 'deletecol %C',\n 'hiderow': 'set %H hide yes',\n 'hidecol': 'set %W hide yes',\n 'undo': 'undo',\n 'redo': 'redo',\n 'recalc': 'recalc'\n }\n\nSocialCalc.SpreadsheetCmdSLookup = {\n 'borderon': '1px solid rgb(0,0,0)',\n 'borderoff': ''\n }\n\n/******* NO LONGER USED\n\nSocialCalc.SpreadsheetCmdTable = {\n cmd: [\n  {t:\"Fill Right\", s:\"ffal\", c:\"fillright %C %S\"},\n  {t:\"Fill Down\", s:\"ffal\", c:\"filldown %C %S\"},\n  {t:\"Copy\", s:\"all\", c:\"copy %C %S\"},\n  {t:\"Cut\", s:\"all\", c:\"cut %C %S\"},\n  {t:\"Paste\", s:\"ffal\", c:\"paste %C %S\"},\n  {t:\"Erase\", s:\"ffal\", c:\"erase %C %S\"},\n  {t:\"Insert\", s:\"rowcol\", c:\"insert%S %C\"},\n  {t:\"Delete\", s:\"rowcol\", c:\"delete%S %C\"},\n  {t:\"Merge Cells\", s:\"none\", c:\"merge %C\"},\n  {t:\"Unmerge\", s:\"none\", c:\"unmerge %C\"},\n  {t:\"Sort\", s:\"sortcol\", c:\"sort %R %S\"},\n  {t:\"Cell Color\", s:\"colors\", c:\"set %C color %S\"},\n  {t:\"Cell Background\", s:\"colors\", c:\"set %C bgcolor %S\"},\n  {t:\"Cell Number Format\", s:\"ntvf\", c:\"set %C nontextvalueformat %S\"},\n  {t:\"Cell Font\", s:\"fonts\", c:\"set %C font %S\"},\n  {t:\"Cell Align\", s:\"cellformat\", c:\"set %C cellformat %S\"},\n  {t:\"Cell Borders\", s:\"borderOnOff\", c:\"set %C bt %S%Nset %C br %S%Nset %C bb %S%Nset %C bl %S\"},\n  {t:\"Column Width\", s:\"colWidths\", c:\"set %W width %S\"},\n  {t:\"Default Color\", s:\"colors\", c:\"set sheet defaultcolor %S\"},\n  {t:\"Default Background\", s:\"colors\", c:\"set sheet defaultbgcolor %S\"},\n  {t:\"Default Number Format\", s:\"ntvf\", c:\"set sheet defaultnontextvalueformat %S\"},\n  {t:\"Default Font\", s:\"fonts\", c:\"set sheet defaultfont %S\"},\n  {t:\"Default Text Align\", s:\"cellformat\", c:\"set sheet defaulttextformat %S\"},\n  {t:\"Default Number Align\", s:\"cellformat\", c:\"set sheet defaultnontextformat %S\"},\n  {t:\"Default Column Width\", s:\"colWidths\", c:\"set sheet defaultcolwidth %S\"}\n  ],\n rowcolstuff: [\n  {t:\"Insert\", s:\"rowcol\", c:\"insert%S %C\"},\n  {t:\"Delete\", s:\"rowcol\", c:\"delete%S %C\"},\n  {t:\"Paste\", s:\"ffal\", c:\"paste %C %S\"},\n  {t:\"Erase\", s:\"ffal\", c:\"erase %C %S\"},\n  {t:\"Fill Right\", s:\"ffal\", c:\"fillright %C %S\"},\n  {t:\"Fill Down\", s:\"ffal\", c:\"filldown %C %S\"}\n  ],\n text: [\n  {t:\"Cell Color\", s:\"colors\", c:\"set %C color %S\"},\n  {t:\"Cell Background\", s:\"colors\", c:\"set %C bgcolor %S\"},\n  {t:\"Cell Number Format\", s:\"ntvf\", c:\"set %C nontextvalueformat %S\"},\n  {t:\"Cell Text Format\", s:\"tvf\", c:\"set %C textvalueformat %S\"},\n  {t:\"Cell Font\", s:\"fonts\", c:\"set %C font %S\"},\n  {t:\"Cell Align\", s:\"cellformat\", c:\"set %C cellformat %S\"},\n  {t:\"Default Color\", s:\"colors\", c:\"set sheet defaultcolor %S\"},\n  {t:\"Default Background\", s:\"colors\", c:\"set sheet defaultbgcolor %S\"},\n  {t:\"Default Number Format\", s:\"ntvf\", c:\"set sheet defaultnontextvalueformat %S\"},\n  {t:\"Default Text Format\", s:\"tvf\", c:\"set sheet defaulttextvalueformat %S\"},\n  {t:\"Default Font\", s:\"fonts\", c:\"set sheet defaultfont %S\"},\n  {t:\"Default Text Align\", s:\"cellformat\", c:\"set sheet defaulttextformat %S\"},\n  {t:\"Default Number Align\", s:\"cellformat\", c:\"set sheet defaultnontextformat %S\"}\n  ],\n slists: {\n  \"colors\": [\n   {t:\"Default\", s:\"\"},\n   {t:\"Black\", s:\"rgb(0,0,0)\"},\n   {t:\"Dark Gray\", s:\"rgb(102,102,102)\"}, // #666\n   {t:\"Gray\", s:\"rgb(204,204,204)\"}, // #CCC\n   {t:\"White\", s:\"rgb(255,255,255)\"},\n   {t:\"Red\", s:\"rgb(255,0,0)\"},\n   {t:\"Dark Red\", s:\"rgb(153,0,0)\"},\n   {t:\"Orange\", s:\"rgb(255,153,0)\"},\n   {t:\"Yellow\", s:\"rgb(255,255,0)\"},\n   {t:\"Light Yellow\", s:\"rgb(255,255,204)\"},\n   {t:\"Green\", s:\"rgb(0,255,0)\"},\n   {t:\"Dark Green\", s:\"rgb(0,153,0)\"},\n   {t:\"Blue\", s:\"rgb(0,0,255)\"},\n   {t:\"Dark Blue\", s:\"rgb(0,0,153)\"},\n   {t:\"Light Blue\", s:\"rgb(204,204,255)\"}\n   ],\n  \"fonts\": [ // style weight size family\n   {t:\"Default\", s:\"\"},\n   {t:\"Bold\", s:\"normal bold * *\"},\n   {t:\"Italic\", s:\"italic normal * *\"},\n   {t:\"Small\", s:\"* small *\"},\n   {t:\"Medium\", s:\"* medium *\"},\n   {t:\"Large\", s:\"* large *\"},\n   {t:\"Bold Small\", s:\"normal bold small *\"},\n   {t:\"Bold Medium\", s:\"normal bold medium *\"},\n   {t:\"Bold Large\", s:\"normal bold large *\"}\n   ],\n  \"cellformat\": [\n   {t:\"Default\", s:\"\"},\n   {t:\"Left\", s:\"left\"},\n   {t:\"Right\", s:\"right\"},\n   {t:\"Center\", s:\"center\"}\n   ],\n  \"borderOnOff\": [\n   {t:\"On\", s:\"1px solid rgb(0,0,0)\"},\n   {t:\"Off\", s:\"\"}\n   ],\n  \"colWidths\": [\n   {t:\"Default\", s:\"\"},\n   {t:\"20\", s:\"20\"},\n   {t:\"40\", s:\"40\"},\n   {t:\"60\", s:\"60\"},\n   {t:\"80\", s:\"80\"},\n   {t:\"100\", s:\"100\"},\n   {t:\"120\", s:\"120\"},\n   {t:\"140\", s:\"140\"},\n   {t:\"160\", s:\"160\"},\n   {t:\"180\", s:\"180\"},\n   {t:\"200\", s:\"200\"},\n   {t:\"220\", s:\"220\"},\n   {t:\"240\", s:\"240\"},\n   {t:\"260\", s:\"260\"},\n   {t:\"280\", s:\"280\"},\n   {t:\"300\", s:\"300\"}\n   ],\n  \"ntvf\": [\n   {t:\"Default\", s:\"\"},\n   {t:\"1234\", s:\"0\"},\n   {t:\"1,234\", s:\"#,##0\"},\n   {t:\"1,234.5\", s:\"#,##0.0\"},\n   {t:\"1,234.56\", s:\"#,##0.00\"},\n   {t:\"1,234.567\", s:\"#,##0.000\"},\n   {t:\"1,234%\", s:\"#,##0%\"},\n   {t:\"1,234.5%\", s:\"#,##0.0%\"},\n   {t:\"(1,234)\", s:\"#,##0_);(#,##0)\"},\n   {t:\"(1,234.5)\", s:\"#,##0.0_);(#,##0.0)\"},\n   {t:\"(1,234.56)\", s:\"#,##0.00_);(#,##0.00)\"},\n   {t:\"00\", s:\"00\"},\n   {t:\"000\", s:\"000\"},\n   {t:\"0000\", s:\"0000\"},\n   {t:\"$1,234.56\", s:\"$#,##0.00\"},\n   {t:\"2006-01-04\", s:\"yyyy-mm-dd\"},\n   {t:\"01:23:45\", s:\"hh:mm:ss\"},\n   {t:\"2006-01-04 01:23:45\", s:\"yyyy-mm-dd hh:mm:ss\"},\n   {t:\"Hidden\", s:\"hidden\"}\n   ],\n  \"tvf\": [\n   {t:\"Default\", s:\"\"},\n   {t:\"Automatic\", s:\"general\"},\n   {t:\"Plain Text\", s:\"text-plain\"},\n   {t:\"HTML\", s:\"text-html\"},\n   {t:\"Wiki\", s:\"text-wiki\"},\n   {t:\"Hidden\", s:\"hidden\"}\n   ],\n  \"ffal\": [ // Formulas, Formats, All\n   {t:\"All\", s:\"all\"},\n   {t:\"Contents\", s:\"formulas\"},\n   {t:\"Formats\", s:\"formats\"}\n   ],\n  \"all\": [ // All\n   {t:\"All\", s:\"all\"}\n   ],\n  \"rowcol\": [\n   {t:\"Row\", s:\"row\"},\n   {t:\"Column\", s:\"col\"}\n   ],\n  \"sortcol\": [\n   {t:\"A up\", s:\"A up\"},\n   {t:\"B up\", s:\"B up\"},\n   {t:\"C up\", s:\"C up\"},\n   {t:\"A down\", s:\"A down\"},\n   {t:\"B down\", s:\"B down\"},\n   {t:\"C down\", s:\"C down\"},\n   {t:\"A, B, C up\", s:\"A up B up C up\"}\n   ],\n  \"none\": [ // nothing\n   {t:\" \", s:\" \"}\n   ]\n  }\n }\n*********/\n\n//\n// SocialCalc.SpreadsheetControlExecuteCommand(obj, combostr, sstr)\n//\n// xxx\n//\n\nSocialCalc.SpreadsheetControlExecuteCommand = function(obj, combostr, sstr) {\n\n   var i, commands;\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var eobj = spreadsheet.editor;\n\n   var str = {};\n   str.P = \"%\";\n   str.N = \"\\n\"\n   if (eobj.range.hasrange) {\n      str.R = SocialCalc.crToCoord(eobj.range.left, eobj.range.top)+\n             \":\"+SocialCalc.crToCoord(eobj.range.right, eobj.range.bottom);\n      str.C = str.R;\n      str.W = SocialCalc.rcColname(eobj.range.left) + \":\" + SocialCalc.rcColname(eobj.range.right);\n      str.H = eobj.range.top + \":\" + eobj.range.bottom;\n      }\n   else if (eobj.ecell) {\n      str.C = eobj.ecell.coord;\n      str.R = eobj.ecell.coord+\":\"+eobj.ecell.coord;\n      str.W = SocialCalc.rcColname(SocialCalc.coordToCr(eobj.ecell.coord).col);\n      str.H = SocialCalc.coordToCr(eobj.ecell.coord).row;\n      }\n   else {\n      str.C = 'A1'\n      str.R = 'A1:A1'\n      str.W = SocialCalc.rcColname(SocialCalc.coordToCr('A1').col);\n      str.H = SocialCalc.coordToCr('A1').row;\n      }\n   str.S = sstr;\n   combostr = combostr.replace(/%C/g, str.C);\n   combostr = combostr.replace(/%R/g, str.R);\n   combostr = combostr.replace(/%N/g, str.N);\n   combostr = combostr.replace(/%S/g, str.S);\n   combostr = combostr.replace(/%W/g, str.W);\n   combostr = combostr.replace(/%H/g, str.H);\n   combostr = combostr.replace(/%P/g, str.P);\n\n   eobj.EditorScheduleSheetCommands(combostr, true, false);\n\n   }\n\n//\n// result = SocialCalc.SpreadsheetControlCreateSheetHTML(spreadsheet)\n//\n// Returns the HTML representation of the whole spreadsheet\n//\n\nSocialCalc.SpreadsheetControlCreateSheetHTML = function(spreadsheet) {\n\n   var context, div, ele;\n\n   var result = \"\";\n\n   context = new SocialCalc.RenderContext(spreadsheet.sheet);\n   div = document.createElement(\"div\");\n   ele = context.RenderSheet(null, {type: \"html\"});\n   div.appendChild(ele);\n   delete context;\n   result = div.innerHTML;\n   delete ele;\n   delete div;\n   return result;\n\n   }\n\n//\n// result = SocialCalc.SpreadsheetControlCreateCellHTML(spreadsheet, coord, linkstyle)\n//\n// Returns the HTML representation of a cell. Blank is \"\", not \"&nbsp;\".\n//\n\nSocialCalc.SpreadsheetControlCreateCellHTML = function(spreadsheet, coord, linkstyle) {\n\n   var result = \"\";\n   var cell = spreadsheet.sheet.cells[coord];\n\n   if (!cell) return \"\";\n\n   if (cell.displaystring == undefined) {\n      result = SocialCalc.FormatValueForDisplay(spreadsheet.sheet, cell.datavalue, coord, (linkstyle || spreadsheet.context.defaultHTMLlinkstyle));\n      }\n   else {\n      result = cell.displaystring;\n      }\n\n   if (result == \"&nbsp;\") result = \"\";\n\n   return result;\n\n   }\n\n//\n// result = SocialCalc.SpreadsheetControlCreateCellHTMLSave(spreadsheet, range, linkstyle)\n//\n// Returns the HTML representation of a range of cells, or the whole sheet if range is null.\n// The form is:\n//    version:1.0\n//    coord:cell-HTML\n//    coord:cell-HTML\n//    ...\n//\n// Empty cells are skipped. The cell-HTML is encoded with \":\"=>\"\\c\", newline=>\"\\n\", and \"\\\"=>\"\\b\".\n//\n\nSocialCalc.SpreadsheetControlCreateCellHTMLSave = function(spreadsheet, range, linkstyle) {\n\n   var cr1, cr2, row, col, coord, cell, cellHTML;\n   var result = [];\n   var prange;\n\n   if (range) {\n      prange = SocialCalc.ParseRange(range);\n      }\n   else {\n      prange = {cr1: {row: 1, col:1},\n                cr2: {row: spreadsheet.sheet.attribs.lastrow, col: spreadsheet.sheet.attribs.lastcol}};\n      }\n   cr1 = prange.cr1;\n   cr2 = prange.cr2;\n\n   result.push(\"version:1.0\");\n\n   for (row=cr1.row; row <= cr2.row; row++) {\n      for (col=cr1.col; col <= cr2.col; col++) {\n         coord = SocialCalc.crToCoord(col, row);\n         cell=spreadsheet.sheet.cells[coord];\n         if (!cell) continue;\n         if (cell.displaystring == undefined) {\n            cellHTML = SocialCalc.FormatValueForDisplay(spreadsheet.sheet, cell.datavalue, coord, (linkstyle || spreadsheet.context.defaultHTMLlinkstyle));\n            }\n         else {\n            cellHTML = cell.displaystring;\n            }\n         if (cellHTML == \"&nbsp;\") continue;\n         result.push(coord+\":\"+SocialCalc.encodeForSave(cellHTML));\n         }\n      }\n\n   result.push(\"\"); // one extra to get extra \\n\n   return result.join(\"\\n\");\n   }\n\n//\n// Formula Bar Button Routines\n//\n\nSocialCalc.SpreadsheetControl.DoFunctionList = function() {\n\n   var i, cname, str, f, ele;\n\n   var scf = SocialCalc.Formula;\n   var scc = SocialCalc.Constants;\n   var fcl = scc.function_classlist;\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var idp = spreadsheet.idPrefix+\"function\";\n\n   ele = document.getElementById(idp+\"dialog\");\n   if (ele) return; // already have one\n\n   scf.FillFunctionInfo();\n\n   str = '<table><tr><td><span style=\"font-size:x-small;font-weight:bold\">%loc!Category!</span><br>'+\n      '<select id=\"'+idp+'class\" size=\"'+fcl.length+'\" style=\"width:120px;\" onchange=\"SocialCalc.SpreadsheetControl.FunctionClassChosen(this.options[this.selectedIndex].value);\">';\n   for (i=0; i<fcl.length; i++) {\n      str += '<option value=\"'+fcl[i]+'\"'+(i==0?' selected>':'>')+SocialCalc.special_chars(scf.FunctionClasses[fcl[i]].name)+'</option>';\n      }\n   str += '</select></td><td>&nbsp;&nbsp;</td><td id=\"'+idp+'list\"><span style=\"font-size:x-small;font-weight:bold\">%loc!Functions!</span><br>'+\n      '<select id=\"'+idp+'name\" size=\"'+fcl.length+'\" style=\"width:240px;\" '+\n      'onchange=\"SocialCalc.SpreadsheetControl.FunctionChosen(this.options[this.selectedIndex].value);\" ondblclick=\"SocialCalc.SpreadsheetControl.DoFunctionPaste();\">';\n   str += SocialCalc.SpreadsheetControl.GetFunctionNamesStr(\"all\");\n   str += '</td></tr><tr><td colspan=\"3\">'+\n          '<div id=\"'+idp+'desc\" style=\"width:380px;height:80px;overflow:auto;font-size:x-small;\">'+SocialCalc.SpreadsheetControl.GetFunctionInfoStr(scf.FunctionClasses[fcl[0]].items[0])+'</div>'+\n          '<div style=\"width:380px;text-align:right;padding-top:6px;font-size:small;\">'+\n          '<input type=\"button\" value=\"%loc!Paste!\" style=\"font-size:smaller;\" onclick=\"SocialCalc.SpreadsheetControl.DoFunctionPaste();\">&nbsp;'+\n          '<input type=\"button\" value=\"%loc!Cancel!\" style=\"font-size:smaller;\" onclick=\"SocialCalc.SpreadsheetControl.HideFunctions();\"></div>'+\n          '</td></tr></table>';\n\n   var main = document.createElement(\"div\");\n   main.id = idp+\"dialog\";\n\n   main.style.position = \"absolute\";\n\n   var vp = SocialCalc.GetViewportInfo();\n   var pos = SocialCalc.GetElementPositionWithScroll(spreadsheet.spreadsheetDiv);\n\n   main.style.top = ((vp.height/3)-pos.top)+\"px\";\n   main.style.left = ((vp.width/3)-pos.left)+\"px\";\n   main.style.zIndex = 100;\n   main.style.backgroundColor = \"#FFF\";\n   main.style.border = \"1px solid black\";\n\n   main.style.width = \"400px\";\n\n   str = '<table cellspacing=\"0\" cellpadding=\"0\" style=\"border-bottom:1px solid black;\"><tr>'+\n      '<td style=\"font-size:10px;cursor:default;width:100%;background-color:#999;color:#FFF;\">'+\"&nbsp;%loc!Function List!\"+'</td>'+\n      '<td style=\"font-size:10px;cursor:default;color:#666;\" onclick=\"SocialCalc.SpreadsheetControl.HideFunctions();\">&nbsp;X&nbsp;</td></tr></table>'+\n      '<div style=\"background-color:#DDD;\">'+str+'</div>';\n\n   str = SocialCalc.LocalizeSubstrings(str);\n\n   main.innerHTML = str;\n\n   SocialCalc.DragRegister(main.firstChild.firstChild.firstChild.firstChild, true, true,\n                 {MouseDown: SocialCalc.DragFunctionStart, \n                  MouseMove: SocialCalc.DragFunctionPosition,\n                  MouseUp: SocialCalc.DragFunctionPosition,\n                  Disabled: null, positionobj: main},\n                  spreadsheet.spreadsheetDiv);\n\n   spreadsheet.spreadsheetDiv.appendChild(main);\n\n   ele = document.getElementById(idp+\"name\");\n   ele.focus();\n   SocialCalc.CmdGotFocus(ele);\n//!!! need to do keyboard handling: if esc, hide; if All, letter scrolls to there\n\n   }\n\nSocialCalc.SpreadsheetControl.GetFunctionNamesStr = function(cname) {\n\n   var i, f;\n   var scf = SocialCalc.Formula;\n   var str = \"\";\n\n   f = scf.FunctionClasses[cname];\n   for (i=0; i<f.items.length; i++) {\n      str += '<option value=\"'+f.items[i]+'\"'+(i==0?' selected>':'>')+f.items[i]+'</option>';\n      }\n\n   return str;\n\n   }\n\nSocialCalc.SpreadsheetControl.FillFunctionNames = function(cname, ele) {\n\n   var i, f;\n   var scf = SocialCalc.Formula;\n\n   ele.length = 0;\n   f = scf.FunctionClasses[cname];\n   for (i=0; i<f.items.length; i++) {\n      ele.options[i] = new Option(f.items[i], f.items[i]);\n      if (i==0) {\n         ele.options[i].selected = true;\n         }\n      }\n   }\n\nSocialCalc.SpreadsheetControl.GetFunctionInfoStr = function(fname) {\n   \n   var scf = SocialCalc.Formula;\n   var f = scf.FunctionList[fname];\n   var scsc = SocialCalc.special_chars;\n\n   var str = \"<b>\"+fname+\"(\"+scsc(scf.FunctionArgString(fname))+\")</b><br>\";\n   str += scsc(f[3]);\n\n   return str;\n\n   }\n\nSocialCalc.SpreadsheetControl.FunctionClassChosen = function(cname) {\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var idp = spreadsheet.idPrefix+\"function\";\n   var scf = SocialCalc.Formula;\n\n   SocialCalc.SpreadsheetControl.FillFunctionNames(cname, document.getElementById(idp+\"name\"));\n\n   SocialCalc.SpreadsheetControl.FunctionChosen(scf.FunctionClasses[cname].items[0]);\n\n   }\n\nSocialCalc.SpreadsheetControl.FunctionChosen = function(fname) {\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var idp = spreadsheet.idPrefix+\"function\";\n\n   document.getElementById(idp+\"desc\").innerHTML = SocialCalc.SpreadsheetControl.GetFunctionInfoStr(fname);\n\n   }\n\nSocialCalc.SpreadsheetControl.HideFunctions = function() {\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n\n   var ele = document.getElementById(spreadsheet.idPrefix+\"functiondialog\");\n   ele.innerHTML = \"\";\n\n   SocialCalc.DragUnregister(ele);\n\n   SocialCalc.KeyboardFocus();\n\n   if (ele.parentNode) {\n      ele.parentNode.removeChild(ele);\n      }\n\n   }\n\nSocialCalc.SpreadsheetControl.DoFunctionPaste = function() {\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var editor = spreadsheet.editor;\n   var ele = document.getElementById(spreadsheet.idPrefix+\"functionname\");\n   var mele = document.getElementById(spreadsheet.idPrefix+\"multilinetextarea\");\n\n   var text = ele.value+\"(\";\n\n   SocialCalc.SpreadsheetControl.HideFunctions();\n\n   if (mele) { // multi-line editing is in progress\n      mele.value += text;\n      mele.focus();\n      SocialCalc.CmdGotFocus(mele);\n      }\n   else {\n      editor.EditorAddToInput(text, \"=\");\n      }\n\n   }\n\n\nSocialCalc.SpreadsheetControl.DoMultiline = function() {\n\n   var SCLocSS = SocialCalc.LocalizeSubstrings;\n\n   var str, ele, text;\n\n   var scc = SocialCalc.Constants;\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var editor = spreadsheet.editor;\n   var wval = editor.workingvalues;\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var idp = spreadsheet.idPrefix+\"multiline\";\n\n   ele = document.getElementById(idp+\"dialog\");\n   if (ele) return; // already have one\n\n   switch (editor.state) {\n      case \"start\":\n         wval.ecoord = editor.ecell.coord;\n         wval.erow = editor.ecell.row;\n         wval.ecol = editor.ecell.col;\n         editor.RangeRemove();\n         text = SocialCalc.GetCellContents(editor.context.sheetobj, wval.ecoord);\n         break;\n\n      case \"input\":\n      case \"inputboxdirect\":\n         text = editor.inputBox.GetText();\n         break;\n      }\n\n   editor.inputBox.element.disabled = true;\n\n   text = SocialCalc.special_chars(text);\n\n   str = '<textarea id=\"'+idp+'textarea\" style=\"width:380px;height:120px;margin:10px 0px 0px 6px;\">'+text+'</textarea>'+\n         '<div style=\"width:380px;text-align:right;padding:6px 0px 4px 6px;font-size:small;\">'+\n         SCLocSS('<input type=\"button\" value=\"%loc!Set Cell Contents!\" style=\"font-size:smaller;\" onclick=\"SocialCalc.SpreadsheetControl.DoMultilinePaste();\">&nbsp;'+\n         '<input type=\"button\" value=\"%loc!Clear!\" style=\"font-size:smaller;\" onclick=\"SocialCalc.SpreadsheetControl.DoMultilineClear();\">&nbsp;'+\n         '<input type=\"button\" value=\"%loc!Cancel!\" style=\"font-size:smaller;\" onclick=\"SocialCalc.SpreadsheetControl.HideMultiline();\"></div>'+\n         '</div>');\n\n   var main = document.createElement(\"div\");\n   main.id = idp+\"dialog\";\n\n   main.style.position = \"absolute\";\n\n   var vp = SocialCalc.GetViewportInfo();\n   var pos = SocialCalc.GetElementPositionWithScroll(spreadsheet.spreadsheetDiv);\n\n   main.style.top = ((vp.height/3)-pos.top)+\"px\";\n   main.style.left = ((vp.width/3)-pos.left)+\"px\";\n   main.style.zIndex = 100;\n   main.style.backgroundColor = \"#FFF\";\n   main.style.border = \"1px solid black\";\n\n   main.style.width = \"400px\";\n\n   main.innerHTML = '<table cellspacing=\"0\" cellpadding=\"0\" style=\"border-bottom:1px solid black;\"><tr>'+\n      '<td style=\"font-size:10px;cursor:default;width:100%;background-color:#999;color:#FFF;\">'+\n      SCLocSS(\"&nbsp;%loc!Multi-line Input Box!\")+'</td>'+\n      '<td style=\"font-size:10px;cursor:default;color:#666;\" onclick=\"SocialCalc.SpreadsheetControl.HideMultiline();\">&nbsp;X&nbsp;</td></tr></table>'+\n      '<div style=\"background-color:#DDD;\">'+str+'</div>';\n\n   SocialCalc.DragRegister(main.firstChild.firstChild.firstChild.firstChild, true, true, \n                 {MouseDown: SocialCalc.DragFunctionStart, \n                  MouseMove: SocialCalc.DragFunctionPosition,\n                  MouseUp: SocialCalc.DragFunctionPosition,\n                  Disabled: null, positionobj: main},\n                  spreadsheet.spreadsheetDiv);\n\n   spreadsheet.spreadsheetDiv.appendChild(main);\n\n   ele = document.getElementById(idp+\"textarea\");\n   ele.focus();\n   SocialCalc.CmdGotFocus(ele);\n//!!! need to do keyboard handling: if esc, hide?\n\n   }\n\n\nSocialCalc.SpreadsheetControl.HideMultiline = function() {\n\n   var scc = SocialCalc.Constants;\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var editor = spreadsheet.editor;\n\n   var ele = document.getElementById(spreadsheet.idPrefix+\"multilinedialog\");\n   ele.innerHTML = \"\";\n\n   SocialCalc.DragUnregister(ele);\n\n   SocialCalc.KeyboardFocus();\n\n   if (ele.parentNode) {\n      ele.parentNode.removeChild(ele);\n      }\n\n   switch (editor.state) {\n      case \"start\":\n         editor.inputBox.DisplayCellContents(null);\n         break;\n\n      case \"input\":\n      case \"inputboxdirect\":\n         editor.inputBox.element.disabled = false;\n         editor.inputBox.Focus();\n         break;\n      }\n\n   }\n\nSocialCalc.SpreadsheetControl.DoMultilineClear = function() {\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n\n   var ele = document.getElementById(spreadsheet.idPrefix+\"multilinetextarea\");\n\n   ele.value = \"\";\n   ele.focus();\n\n   }\n\n\nSocialCalc.SpreadsheetControl.DoMultilinePaste = function() {\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var editor = spreadsheet.editor;\n   var wval = editor.workingvalues;\n\n   var ele = document.getElementById(spreadsheet.idPrefix+\"multilinetextarea\");\n\n   var text = ele.value;\n\n   SocialCalc.SpreadsheetControl.HideMultiline();\n\n   switch (editor.state) {\n      case \"start\":\n         wval.partialexpr = \"\";\n         wval.ecoord = editor.ecell.coord;\n         wval.erow = editor.ecell.row;\n         wval.ecol = editor.ecell.col;\n         break;\n      case \"input\":\n      case \"inputboxdirect\":\n         editor.inputBox.Blur();\n         editor.inputBox.ShowInputBox(false);\n         editor.state = \"start\";\n         break;\n      }\n\n   editor.EditorSaveEdit(text);\n\n   }\n\n\nSocialCalc.SpreadsheetControl.DoLink = function() {\n\n   var SCLoc = SocialCalc.LocalizeString;\n\n   var str, ele, text, cell, setformat, popup;\n\n   var scc = SocialCalc.Constants;\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var editor = spreadsheet.editor;\n   var wval = editor.workingvalues;\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var idp = spreadsheet.idPrefix+\"link\";\n\n   ele = document.getElementById(idp+\"dialog\");\n   if (ele) return; // already have one\n\n   switch (editor.state) {\n      case \"start\":\n         wval.ecoord = editor.ecell.coord;\n         wval.erow = editor.ecell.row;\n         wval.ecol = editor.ecell.col;\n         editor.RangeRemove();\n         text = SocialCalc.GetCellContents(editor.context.sheetobj, wval.ecoord);\n         break;\n\n      case \"input\":\n      case \"inputboxdirect\":\n         text = editor.inputBox.GetText();\n         break;\n      }\n\n   editor.inputBox.element.disabled = true;\n\n   if (text.charAt(0)==\"'\") {\n      text = text.slice(1);\n      }\n\n   var parts = SocialCalc.ParseCellLinkText(text);\n\n   text = SocialCalc.special_chars(text);\n\n   cell = spreadsheet.sheet.cells[editor.ecell.coord];\n   if (!cell || !cell.textvalueformat) { // set to link format, but don't override\n      setformat = \" checked\";\n      }\n   else {\n      setformat = \"\";\n      }\n\n   popup = parts.newwin ? \" checked\" : \"\";\n\n   str = '<div style=\"padding:6px 0px 4px 6px;\">'+\n         '<span style=\"font-size:smaller;\">'+SCLoc(\"Description\")+'</span><br>'+\n         '<input type=\"text\" id=\"'+idp+'desc\" style=\"width:380px;\" value=\"'+SocialCalc.special_chars(parts.desc)+'\"><br>'+\n         '<span style=\"font-size:smaller;\">'+SCLoc(\"URL\")+'</span><br>'+\n         '<input type=\"text\" id=\"'+idp+'url\" style=\"width:380px;\" value=\"'+SocialCalc.special_chars(parts.url)+'\"><br>';\n   if (SocialCalc.Callbacks.MakePageLink) { // only show if handling pagenames here\n      str += '<span style=\"font-size:smaller;\">'+SCLoc(\"Page Name\")+'</span><br>'+\n             '<input type=\"text\" id=\"'+idp+'pagename\" style=\"width:380px;\" value=\"'+SocialCalc.special_chars(parts.pagename)+'\"><br>'+\n             '<span style=\"font-size:smaller;\">'+SCLoc(\"Workspace\")+'</span><br>'+\n             '<input type=\"text\" id=\"'+idp+'workspace\" style=\"width:380px;\" value=\"'+SocialCalc.special_chars(parts.workspace)+'\"><br>';\n      }\n   str += SocialCalc.LocalizeSubstrings('<input type=\"checkbox\" id=\"'+idp+'format\"'+setformat+'>&nbsp;'+\n         '<span style=\"font-size:smaller;\">%loc!Set to Link format!</span><br>'+\n         '<input type=\"checkbox\" id=\"'+idp+'popup\"'+popup+'>&nbsp;'+\n         '<span style=\"font-size:smaller;\">%loc!Show in new browser window!</span>'+\n         '</div>'+\n         '<div style=\"width:380px;text-align:right;padding:6px 0px 4px 6px;font-size:small;\">'+\n         '<input type=\"button\" value=\"%loc!Set Cell Contents!\" style=\"font-size:smaller;\" onclick=\"SocialCalc.SpreadsheetControl.DoLinkPaste();\">&nbsp;'+\n         '<input type=\"button\" value=\"%loc!Clear!\" style=\"font-size:smaller;\" onclick=\"SocialCalc.SpreadsheetControl.DoLinkClear();\">&nbsp;'+\n         '<input type=\"button\" value=\"%loc!Cancel!\" style=\"font-size:smaller;\" onclick=\"SocialCalc.SpreadsheetControl.HideLink();\"></div>'+\n         '</div>');\n\n   var main = document.createElement(\"div\");\n   main.id = idp+\"dialog\";\n\n   main.style.position = \"absolute\";\n\n   var vp = SocialCalc.GetViewportInfo();\n   var pos = SocialCalc.GetElementPositionWithScroll(spreadsheet.spreadsheetDiv);\n\n   main.style.top = ((vp.height/3)-pos.top)+\"px\";\n   main.style.left = ((vp.width/3)-pos.left)+\"px\";\n   main.style.zIndex = 100;\n   main.style.backgroundColor = \"#FFF\";\n   main.style.border = \"1px solid black\";\n\n   main.style.width = \"400px\";\n\n   main.innerHTML = '<table cellspacing=\"0\" cellpadding=\"0\" style=\"border-bottom:1px solid black;\"><tr>'+\n      '<td style=\"font-size:10px;cursor:default;width:100%;background-color:#999;color:#FFF;\">'+\"&nbsp;\"+SCLoc(\"Link Input Box\")+'</td>'+\n      '<td style=\"font-size:10px;cursor:default;color:#666;\" onclick=\"SocialCalc.SpreadsheetControl.HideLink();\">&nbsp;X&nbsp;</td></tr></table>'+\n      '<div style=\"background-color:#DDD;\">'+str+'</div>';\n\n   SocialCalc.DragRegister(main.firstChild.firstChild.firstChild.firstChild, true, true, \n                 {MouseDown: SocialCalc.DragFunctionStart, \n                  MouseMove: SocialCalc.DragFunctionPosition,\n                  MouseUp: SocialCalc.DragFunctionPosition,\n                  Disabled: null, positionobj: main},\n                  spreadsheet.spreadsheetDiv);\n\n   spreadsheet.spreadsheetDiv.appendChild(main);\n\n   ele = document.getElementById(idp+\"url\");\n   ele.focus();\n   SocialCalc.CmdGotFocus(ele);\n//!!! need to do keyboard handling: if esc, hide?\n\n   }\n\n\nSocialCalc.SpreadsheetControl.HideLink = function() {\n\n   var scc = SocialCalc.Constants;\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var editor = spreadsheet.editor;\n\n   var ele = document.getElementById(spreadsheet.idPrefix+\"linkdialog\");\n   ele.innerHTML = \"\";\n\n   SocialCalc.DragUnregister(ele);\n\n   SocialCalc.KeyboardFocus();\n\n   if (ele.parentNode) {\n      ele.parentNode.removeChild(ele);\n      }\n\n   switch (editor.state) {\n      case \"start\":\n         editor.inputBox.DisplayCellContents(null);\n         break;\n\n      case \"input\":\n      case \"inputboxdirect\":\n         editor.inputBox.element.disabled = false;\n         editor.inputBox.Focus();\n         break;\n      }\n\n   }\n\nSocialCalc.SpreadsheetControl.DoLinkClear = function() {\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n\n   document.getElementById(spreadsheet.idPrefix+\"linkdesc\").value = \"\";\n   document.getElementById(spreadsheet.idPrefix+\"linkpagename\").value = \"\";\n   document.getElementById(spreadsheet.idPrefix+\"linkworkspace\").value = \"\";\n\n   var ele = document.getElementById(spreadsheet.idPrefix+\"linkurl\");\n   ele.value = \"\";\n   ele.focus();\n\n   }\n\n\nSocialCalc.SpreadsheetControl.DoLinkPaste = function() {\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var editor = spreadsheet.editor;\n   var wval = editor.workingvalues;\n\n   var descele = document.getElementById(spreadsheet.idPrefix+\"linkdesc\");\n   var urlele = document.getElementById(spreadsheet.idPrefix+\"linkurl\");\n   var pagenameele = document.getElementById(spreadsheet.idPrefix+\"linkpagename\");\n   var workspaceele = document.getElementById(spreadsheet.idPrefix+\"linkworkspace\");\n   var formatele = document.getElementById(spreadsheet.idPrefix+\"linkformat\");\n   var popupele = document.getElementById(spreadsheet.idPrefix+\"linkpopup\");\n\n   var text = \"\";\n\n   var ltsym, gtsym, obsym, cbsym;\n\n   if (popupele.checked) {\n      ltsym = \"<<\"; gtsym = \">>\"; obsym = \"[[\"; cbsym = \"]]\";\n      }\n   else {\n      ltsym = \"<\"; gtsym = \">\"; obsym = \"[\"; cbsym = \"]\";\n      }\n\n   if (pagenameele && pagenameele.value) {\n      if (workspaceele.value) {\n         text = descele.value+\"{\"+workspaceele.value+obsym+pagenameele.value+cbsym+\"}\";\n         }\n      else {\n         text = descele.value+obsym+pagenameele.value+cbsym;\n         }\n      }\n   else {\n      text = descele.value+ltsym+urlele.value+gtsym;\n      }\n\n   SocialCalc.SpreadsheetControl.HideLink();\n\n   switch (editor.state) {\n      case \"start\":\n         wval.partialexpr = \"\";\n         wval.ecoord = editor.ecell.coord;\n         wval.erow = editor.ecell.row;\n         wval.ecol = editor.ecell.col;\n         break;\n      case \"input\":\n      case \"inputboxdirect\":\n         editor.inputBox.Blur();\n         editor.inputBox.ShowInputBox(false);\n         editor.state = \"start\";\n         break;\n      }\n\n   if (formatele.checked) {\n      SocialCalc.SpreadsheetControlExecuteCommand(null, \"set %C textvalueformat text-link\", \"\");\n      }\n\n   editor.EditorSaveEdit(text);\n\n   }\n\nSocialCalc.SpreadsheetControl.DoSum = function() {\n\n   var cmd, cell, row, col, sel, cr, foundvalue;\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var editor = spreadsheet.editor;\n   var sheet = editor.context.sheetobj;\n\n   if (editor.range.hasrange) {\n      sel = SocialCalc.crToCoord(editor.range.left, editor.range.top)+\n         \":\"+SocialCalc.crToCoord(editor.range.right, editor.range.bottom);\n      cmd = \"set \"+SocialCalc.crToCoord(editor.range.right, editor.range.bottom+1)+\n         \" formula sum(\"+sel+\")\";\n      }\n   else {\n      row = editor.ecell.row - 1;\n      col = editor.ecell.col;\n      if (row<=1) {\n         cmd = \"set \"+editor.ecell.coord+\" constant e#REF! 0 #REF!\";\n         }\n      else {\n         foundvalue = false;\n         while (row>0) {\n            cr = SocialCalc.crToCoord(col, row);\n            cell = sheet.GetAssuredCell(cr);\n            if (!cell.datatype || cell.datatype==\"t\") {\n               if (foundvalue) {\n                  row++;\n                  break;\n                  }\n               }\n            else {\n               foundvalue = true;\n               }\n            row--;\n            }\n         cmd = \"set \"+editor.ecell.coord+\" formula sum(\"+\n            SocialCalc.crToCoord(col,row)+\":\"+SocialCalc.crToCoord(col, editor.ecell.row-1)+\")\";\n         }\n      }\n\n   editor.EditorScheduleSheetCommands(cmd, true, false);\n\n   }\n\nSocialCalc.SpreadsheetControl.FindInSheet = function() {\n    var searchstatus = $(\"#searchstatus\");\n    var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n    if (!this.value.length) {\n        searchstatus.text(\"\");\n        spreadsheet.sheet.search_cells = [];\n        spreadsheet.sheet.selected_search_cell = undefined;\n        return;\n    }\n    var cells = spreadsheet.sheet.cells;\n    var regex = new RegExp(this.value, 'im');\n    var cell, cellvalue;\n    var search_cells = [];\n    for (var cell_id in cells) {\n        cell = cells[cell_id];\n        var cr = SocialCalc.coordToCr(cell_id);\n        if (spreadsheet.sheet.rowattribs.hide[cr.row] === 'yes' || spreadsheet.sheet.colattribs.hide[SocialCalc.rcColname(cr.col)] === 'yes') {\n            continue;\n        }\n        if (cell.datatype === 'c') {\n            cellvalue = cell.displaystring;\n        } else {\n            cellvalue = String(cell.datavalue);\n        }\n        if (cellvalue !== undefined && cellvalue.match(regex)) {\n           search_cells.push(cell_id);\n        } \n    }\n    spreadsheet.sheet.search_cells = search_cells;\n    if (search_cells.length) {\n        spreadsheet.sheet.selected_search_cell = 0;\n        spreadsheet.editor.MoveECell(search_cells[0]);\n        searchstatus.text(\"1 of \" + search_cells.length); \n    } else {\n        spreadsheet.sheet.selected_search_cell = undefined;\n        searchstatus.text(\"No Matches\");\n    }\n        \n}\n\nSocialCalc.SpreadsheetControl.SearchSheet = function(direction) {\n    var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n    var sheet = spreadsheet.sheet;\n    var cells = sheet.search_cells;\n    if (!cells.length) {\n        return;\n    }\n    var selected_cell = sheet.selected_search_cell;\n    if (selected_cell === (direction === 0 ? 0 : cells.length-1)) {\n        selected_cell = (direction === 0 ? cells.length-1 : 0);\n    } else {\n        selected_cell += (direction === 0 ? -1 : 1);\n    }\n    var new_cell = cells[selected_cell];\n    sheet.selected_search_cell = selected_cell; \n    spreadsheet.editor.MoveECell(new_cell);\n    document.getElementById(\"searchstatus\").textContent = String(selected_cell+1) + \" of \" + cells.length;\n}\n \nSocialCalc.SpreadsheetControl.SearchUp = function() {\n    SocialCalc.SpreadsheetControl.SearchSheet(0);    \n}\n\nSocialCalc.SpreadsheetControl.SearchDown = function() {\n    SocialCalc.SpreadsheetControl.SearchSheet(1);\n}\n\n//\n// TAB Routines\n//\n\n// Sort\n\nSocialCalc.SpreadsheetControlSortOnclick = function(s, t) {\n\n   var name, i;\n   var namelist = [];\n   var nl = document.getElementById(s.idPrefix+\"sortlist\");\n   SocialCalc.LoadColumnChoosers(s);\n   s.editor.RangeChangeCallback.sort = SocialCalc.UpdateSortRangeProposal;\n\n   for (name in s.sheet.names) {\n      namelist.push(name);\n      }\n   namelist.sort();\n   nl.length = 0;\n   nl.options[0] = new Option(SocialCalc.LocalizeString(\"[select range]\"));\n   nl.options[1] = new Option(SocialCalc.LocalizeString(\"Sort All\"), \"all\");\n   n_options = nl.options.length;\n\n   for (i=0; i<namelist.length; i++) {\n      name = namelist[i];\n      nl.options[i+n_options] = new Option(name, name);\n      if (name == s.sortrange) {\n         nl.options[i+n_options].selected = true;\n         }\n      }\n   if (s.sortrange == \"\") {\n      nl.options[0].selected = true;\n      }\n\n   SocialCalc.UpdateSortRangeProposal(s.editor);\n   SocialCalc.KeyboardFocus();\n   return;\n\n   }\n\nSocialCalc.SpreadsheetControlSortSave = function(editor, setting) {\n   // Format is:\n   //    sort:sortrange:major:up/down:minor:up/down:last:up/down\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n   var str, sele, rele;\n\n   str = \"sort:\"+SocialCalc.encodeForSave(spreadsheet.sortrange)+\":\";\n   sele = document.getElementById(spreadsheet.idPrefix+\"majorsort\");\n   rele = document.getElementById(spreadsheet.idPrefix+\"majorsortup\");\n   str += sele.selectedIndex + (rele.checked ? \":up\" : \":down\");\n   sele = document.getElementById(spreadsheet.idPrefix+\"minorsort\");\n   if (sele.selectedIndex>0) {\n      rele = document.getElementById(spreadsheet.idPrefix+\"minorsortup\");\n      str += \":\"+sele.selectedIndex + (rele.checked ? \":up\" : \":down\");\n      }\n   else {\n      str += \"::\";\n      }\n   sele = document.getElementById(spreadsheet.idPrefix+\"lastsort\");\n   if (sele.selectedIndex>0) {\n      rele = document.getElementById(spreadsheet.idPrefix+\"lastsortup\");\n      str += \":\"+sele.selectedIndex + (rele.checked ? \":up\" : \":down\");\n      }\n    else {\n      str += \"::\";\n      }\n   return str+\"\\n\";\n   }\n\nSocialCalc.SpreadsheetControlSortLoad = function(editor, setting, line, flags) {\n   var parts, ele;\n\n   var spreadsheet = SocialCalc.GetSpreadsheetControlObject();\n\n   parts = line.split(\":\");\n   spreadsheet.sortrange = SocialCalc.decodeFromSave(parts[1]);\n   ele = document.getElementById(spreadsheet.idPrefix+\"sortbutton\");\n   if (spreadsheet.sortrange) {\n      ele.value = SocialCalc.LocalizeString(\"Sort \")+spreadsheet.sortrange;\n      ele.style.visibility = \"visible\";\n      }\n   else {\n      ele.style.visibility = \"hidden\";\n      }\n   SocialCalc.LoadColumnChoosers(spreadsheet);\n\n   sele = document.getElementById(spreadsheet.idPrefix+\"majorsort\");\n   sele.selectedIndex = parts[2]-0;\n   document.getElementById(spreadsheet.idPrefix+\"majorsort\"+parts[3]).checked = true;\n   sele = document.getElementById(spreadsheet.idPrefix+\"minorsort\");\n   if (parts[4]) {\n      sele.selectedIndex = parts[4]-0;\n      document.getElementById(spreadsheet.idPrefix+\"minorsort\"+parts[5]).checked = true;\n      }\n   else {\n      sele.selectedIndex = 0;\n      document.getElementById(spreadsheet.idPrefix+\"minorsortup\").checked = true;\n      }\n   sele = document.getElementById(spreadsheet.idPrefix+\"lastsort\");\n   if (parts[6]) {\n      sele.selectedIndex = parts[6]-0;\n      document.getElementById(spreadsheet.idPrefix+\"lastsort\"+parts[7]).checked = true;\n      }\n    else {\n      sele.selectedIndex = 0;\n      document.getElementById(spreadsheet.idPrefix+\"lastsortup\").checked = true;\n      }\n\n   return true;\n   }\n\n// Comment\n\nSocialCalc.SpreadsheetControlCommentOnclick = function(s, t) {\n   s.editor.MoveECellCallback.comment = SocialCalc.SpreadsheetControlCommentMoveECell;\n   SocialCalc.SpreadsheetControlCommentDisplay(s, t);\n   SocialCalc.KeyboardFocus();\n   return;\n   }\n\nSocialCalc.SpreadsheetControlCommentDisplay = function(s, t) {\n   var c = \"\";\n   if (s.editor.ecell && s.editor.ecell.coord && s.sheet.cells[s.editor.ecell.coord]) {\n      c = s.sheet.cells[s.editor.ecell.coord].comment || \"\";\n      }\n   document.getElementById(s.idPrefix+\"commenttext\").value = c;\n   }\n\nSocialCalc.SpreadsheetControlCommentMoveECell = function(editor) {\n   SocialCalc.SpreadsheetControlCommentDisplay(SocialCalc.GetSpreadsheetControlObject(), \"comment\");\n   }\n\nSocialCalc.SpreadsheetControlCommentSet = function() {\n   var s=SocialCalc.GetSpreadsheetControlObject();\n   s.ExecuteCommand(\"set %C comment \"+SocialCalc.encodeForSave(document.getElementById(s.idPrefix+\"commenttext\").value));\n   var cell=SocialCalc.GetEditorCellElement(s.editor, s.editor.ecell.row, s.editor.ecell.col);\n   if (!s.editor.ECellReadonly()) {\n      cell.element.title = document.getElementById(s.idPrefix+\"commenttext\").value;\n      s.editor.UpdateCellCSS(cell, s.editor.ecell.row, s.editor.ecell.col);\n      }\n   SocialCalc.KeyboardFocus();\n   }\n\nSocialCalc.SpreadsheetControlCommentOnunclick = function(s, t) {\n   delete s.editor.MoveECellCallback.comment;\n   }\n\n// Names\n\nSocialCalc.SpreadsheetControlNamesOnclick = function(s, t) {\n   document.getElementById(s.idPrefix+\"namesname\").value = \"\";\n   document.getElementById(s.idPrefix+\"namesdesc\").value = \"\";\n   document.getElementById(s.idPrefix+\"namesvalue\").value = \"\";\n   s.editor.RangeChangeCallback.names = SocialCalc.SpreadsheetControlNamesRangeChange;\n   s.editor.MoveECellCallback.names = SocialCalc.SpreadsheetControlNamesRangeChange;\n   SocialCalc.SpreadsheetControlNamesRangeChange(s.editor);\n   SocialCalc.SpreadsheetControlNamesFillNameList();\n   SocialCalc.SpreadsheetControlNamesChangedName();\n   }\n\nSocialCalc.SpreadsheetControlNamesFillNameList = function() {\n   var SCLoc = SocialCalc.LocalizeString;\n   var name, i;\n   var namelist = [];\n   var s=SocialCalc.GetSpreadsheetControlObject();\n   var nl = document.getElementById(s.idPrefix+\"nameslist\");\n   var currentname = document.getElementById(s.idPrefix+\"namesname\").value.toUpperCase().replace(/[^A-Z0-9_\\.]/g, \"\");\n   for (name in s.sheet.names) {\n      namelist.push(name);\n      }\n   namelist.sort();\n   nl.length = 0;\n   if (namelist.length > 0) {\n      nl.options[0] = new Option(SCLoc(\"[New]\"));\n      }\n   else {\n      nl.options[0] = new Option(SCLoc(\"[None]\"));\n      }\n   for (i=0; i<namelist.length; i++) {\n      name = namelist[i];\n      nl.options[i+1] = new Option(name, name);\n      if (name == currentname) {\n         nl.options[i+1].selected = true;\n         }\n      }\n   if (currentname == \"\") {\n      nl.options[0].selected = true;\n      }\n   }\n\nSocialCalc.SpreadsheetControlNamesChangedName = function() {\n   var s=SocialCalc.GetSpreadsheetControlObject();\n   var nl = document.getElementById(s.idPrefix+\"nameslist\");\n   var name = nl.options[nl.selectedIndex].value;\n   if (s.sheet.names[name]) {\n      document.getElementById(s.idPrefix+\"namesname\").value = name;\n      document.getElementById(s.idPrefix+\"namesdesc\").value = s.sheet.names[name].desc || \"\";\n      document.getElementById(s.idPrefix+\"namesvalue\").value = s.sheet.names[name].definition || \"\";\n      }\n   else {\n      document.getElementById(s.idPrefix+\"namesname\").value = \"\";\n      document.getElementById(s.idPrefix+\"namesdesc\").value = \"\";\n      document.getElementById(s.idPrefix+\"namesvalue\").value = \"\";\n      }\n   }\n\nSocialCalc.SpreadsheetControlNamesRangeChange = function(editor) {\n   var s = SocialCalc.GetSpreadsheetControlObject();\n   var ele = document.getElementById(s.idPrefix+\"namesrangeproposal\");\n   if (editor.range.hasrange) {\n      ele.value = SocialCalc.crToCoord(editor.range.left, editor.range.top) + \":\" +\n                            SocialCalc.crToCoord(editor.range.right, editor.range.bottom);\n      }\n   else {\n      ele.value = editor.ecell.coord;\n      }\n   }\n\nSocialCalc.SpreadsheetControlNamesOnunclick = function(s, t) {\n   delete s.editor.RangeChangeCallback.names;\n   delete s.editor.MoveECellCallback.names;\n   }\n\nSocialCalc.SpreadsheetControlNamesSetValue = function() {\n   var s = SocialCalc.GetSpreadsheetControlObject();\n   document.getElementById(s.idPrefix+\"namesvalue\").value = document.getElementById(s.idPrefix+\"namesrangeproposal\").value;\n   SocialCalc.KeyboardFocus();\n   }\n\nSocialCalc.SpreadsheetControlNamesSave = function() {\n   var s = SocialCalc.GetSpreadsheetControlObject();\n   var name = document.getElementById(s.idPrefix+\"namesname\").value;\n   SocialCalc.SetTab(s.tabs[0].name); // return to first tab\n   SocialCalc.KeyboardFocus();\n   if (name != \"\") {\n      s.ExecuteCommand(\"name define \"+name+\" \"+document.getElementById(s.idPrefix+\"namesvalue\").value+\"\\n\"+\n         \"name desc \"+name+\" \"+document.getElementById(s.idPrefix+\"namesdesc\").value);\n      }\n   }\n\nSocialCalc.SpreadsheetControlNamesDelete = function() {\n   var s = SocialCalc.GetSpreadsheetControlObject();\n   var name = document.getElementById(s.idPrefix+\"namesname\").value;\n   SocialCalc.SetTab(s.tabs[0].name); // return to first tab\n   SocialCalc.KeyboardFocus();\n   if (name != \"\") {\n      s.ExecuteCommand(\"name delete \"+name);\n//      document.getElementById(s.idPrefix+\"namesname\").value = \"\";\n//      document.getElementById(s.idPrefix+\"namesvalue\").value = \"\";\n//      document.getElementById(s.idPrefix+\"namesdesc\").value = \"\";\n//      SocialCalc.SpreadsheetControlNamesFillNameList();\n      }\n   SocialCalc.KeyboardFocus();\n   }\n\n// Clipboard\n\nSocialCalc.SpreadsheetControlClipboardOnclick = function(s, t) {\n   var s = SocialCalc.GetSpreadsheetControlObject();\n   clipele = document.getElementById(s.idPrefix+\"clipboardtext\");\n   document.getElementById(s.idPrefix+\"clipboardformat-tab\").checked = true;\n\n   try {\n      clipele.value = SocialCalc.ConvertSaveToOtherFormat(SocialCalc.Clipboard.clipboard, \"tab\");\n   } catch (err) {\n      console.error(err);\n   }\n\n   return;\n   }\n\nSocialCalc.SpreadsheetControlClipboardFormat = function(which) {\n   var s = SocialCalc.GetSpreadsheetControlObject();\n   clipele = document.getElementById(s.idPrefix+\"clipboardtext\");\n   clipele.value = SocialCalc.ConvertSaveToOtherFormat(SocialCalc.Clipboard.clipboard, which);\n   }\n\nSocialCalc.SpreadsheetControlClipboardLoad = function() {\n   var s = SocialCalc.GetSpreadsheetControlObject();\n   var savetype = \"tab\";\n   SocialCalc.SetTab(s.tabs[0].name); // return to first tab\n   SocialCalc.KeyboardFocus();\n   if (document.getElementById(s.idPrefix+\"clipboardformat-csv\").checked) {\n      savetype = \"csv\";\n      }\n   else if (document.getElementById(s.idPrefix+\"clipboardformat-scsave\").checked) {\n      savetype = \"scsave\";\n      }\n   // control+v ignores ignore windows clipboard - see ctrlkeyFunction(editor, charname)\n   s.editor.pastescclipboard = true;\n   s.editor.EditorScheduleSheetCommands(\"loadclipboard \"+\n      SocialCalc.encodeForSave(\n         SocialCalc.ConvertOtherFormatToSave(document.getElementById(s.idPrefix+\"clipboardtext\").value, savetype)), true, false);\n   }\n\nSocialCalc.SpreadsheetControlClipboardClear = function() {\n   var s = SocialCalc.GetSpreadsheetControlObject();\n   var clipele = document.getElementById(s.idPrefix+\"clipboardtext\");\n   clipele.value = \"\";\n   s.editor.EditorScheduleSheetCommands(\"clearclipboard\", true, false);\n   clipele.focus();\n   }\n\nSocialCalc.SpreadsheetControlClipboardExport = function() {\n   var s = SocialCalc.GetSpreadsheetControlObject();\n   if (s.ExportCallback) {\n      s.ExportCallback(s);\n      }\n   SocialCalc.SetTab(s.tabs[0].name); // return to first tab\n   SocialCalc.KeyboardFocus();\n   }\n\n// Settings\n\nSocialCalc.SpreadsheetControlSettingsSwitch = function(target) {\n   SocialCalc.SettingControlReset();\n   var s = SocialCalc.GetSpreadsheetControlObject();\n   var sheettable = document.getElementById(s.idPrefix+\"sheetsettingstable\");\n   var celltable = document.getElementById(s.idPrefix+\"cellsettingstable\");\n   var sheettoolbar = document.getElementById(s.idPrefix+\"sheetsettingstoolbar\");\n   var celltoolbar = document.getElementById(s.idPrefix+\"cellsettingstoolbar\");\n   if (target==\"sheet\") {\n      sheettable.style.display = \"block\";\n      celltable.style.display = \"none\";\n      sheettoolbar.style.display = \"block\";\n      celltoolbar.style.display = \"none\";\n      SocialCalc.SettingsControlSetCurrentPanel(s.views.settings.values.sheetspanel);\n      }\n   else {\n      sheettable.style.display = \"none\";\n      celltable.style.display = \"block\";\n      sheettoolbar.style.display = \"none\";\n      celltoolbar.style.display = \"block\";\n      SocialCalc.SettingsControlSetCurrentPanel(s.views.settings.values.cellspanel);\n      }\n   }\n\nSocialCalc.SettingsControlSave = function(target) {\n   var range, cmdstr;\n   var s = SocialCalc.GetSpreadsheetControlObject();\n   var sc = SocialCalc.SettingsControls;\n   var panelobj = sc.CurrentPanel;\n   var attribs = SocialCalc.SettingsControlUnloadPanel(panelobj);\n\n   SocialCalc.SetTab(s.tabs[0].name); // return to first tab\n   SocialCalc.KeyboardFocus();\n\n   if (target==\"sheet\") {\n      cmdstr = s.sheet.DecodeSheetAttributes(attribs);\n      }\n   else if (target==\"cell\") {\n      if (s.editor.range.hasrange) {\n         range = SocialCalc.crToCoord(s.editor.range.left, s.editor.range.top) + \":\" +\n            SocialCalc.crToCoord(s.editor.range.right, s.editor.range.bottom);\n         }\n      cmdstr = s.sheet.DecodeCellAttributes(s.editor.ecell.coord, attribs, range);\n      }\n   else { // Cancel\n      }\n   if (cmdstr) {\n      s.editor.EditorScheduleSheetCommands(cmdstr, true, false);\n      }\n   }\n\n///////////////////////\n//\n// SAVE / LOAD ROUTINES\n//\n///////////////////////\n\n//\n// result = SocialCalc.SpreadsheetControlCreateSpreadsheetSave(spreadsheet, otherparts)\n//\n// Saves the spreadsheet's sheet data, editor settings, and audit trail (redo stack).\n// The serialized data strings are concatenated together in multi-part MIME format.\n// The first part lists the types of the subsequent parts (e.g., \"sheet\", \"editor\", and \"audit\")\n// in this format:\n//   # comments\n//   version:1.0\n//   part:type1\n//   part:type2\n//   ...\n//\n// If otherparts is non-null, it is an object with:\n//   partname1: \"part contents - should end with \\n\",\n//   partname2: \"part contents - should end with \\n\"\n//\n\n\nSocialCalc.SpreadsheetControlCreateSpreadsheetSave = function(spreadsheet, otherparts) {\n\n   var result;\n\n   var otherpartsstr = \"\";\n   var otherpartsnames = \"\";\n   var partname, extranl;\n\n   if (otherparts) {\n      for (partname in otherparts) {\n         if (otherparts[partname].charAt(otherparts[partname]-1) != \"\\n\") {\n            extranl = \"\\n\";\n            }\n         else {\n            extranl = \"\";\n            }\n         otherpartsstr += \"--\" + spreadsheet.multipartBoundary + \"\\nContent-type: text/plain; charset=UTF-8\\n\\n\" +\n            otherparts[partname] + extranl;\n         otherpartsnames += \"part:\"+partname + \"\\n\";\n         }\n      }\n\n   result = \"socialcalc:version:1.0\\n\" +\n      \"MIME-Version: 1.0\\nContent-Type: multipart/mixed; boundary=\"+\n      spreadsheet.multipartBoundary + \"\\n\" +\n      \"--\" + spreadsheet.multipartBoundary + \"\\nContent-type: text/plain; charset=UTF-8\\n\\n\" +\n      \"# SocialCalc Spreadsheet Control Save\\nversion:1.0\\npart:sheet\\npart:edit\\npart:audit\\n\" + otherpartsnames +\n      \"--\" + spreadsheet.multipartBoundary + \"\\nContent-type: text/plain; charset=UTF-8\\n\\n\" +\n      spreadsheet.CreateSheetSave() +\n      \"--\" + spreadsheet.multipartBoundary + \"\\nContent-type: text/plain; charset=UTF-8\\n\\n\" +\n      spreadsheet.editor.SaveEditorSettings() +\n      \"--\" + spreadsheet.multipartBoundary + \"\\nContent-type: text/plain; charset=UTF-8\\n\\n\" +\n      spreadsheet.sheet.CreateAuditString() +\n      otherpartsstr +\n      \"--\" + spreadsheet.multipartBoundary + \"--\\n\";\n\n   return result;\n\n   }\n\n\n//\n// parts = SocialCalc.SpreadsheetControlDecodeSpreadsheetSave(spreadsheet, str)\n//\n// Separates the parts from a spreadsheet save string, returning an object with the sub-strings.\n//\n//    {type1: {start: startpos, end: endpos}, type2:...}\n//\n\nSocialCalc.SpreadsheetControlDecodeSpreadsheetSave = function(spreadsheet, str) {\n\n   var pos1, mpregex, searchinfo, boundary, boundaryregex, blanklineregex, start, ending, lines, i, lines, p, pnun;\n   var parts = {};\n   var partlist = [];\n\n   pos1 = str.search(/^MIME-Version:\\s1\\.0/mi);\n   if (pos1 < 0) return parts;\n\n   mpregex = /^Content-Type:\\s*multipart\\/mixed;\\s*boundary=(\\S+)/mig;\n   mpregex.lastIndex = pos1;\n\n   searchinfo = mpregex.exec(str);\n   if (mpregex.lastIndex <= 0) return parts;\n   boundary = searchinfo[1];\n\n   boundaryregex = new RegExp(\"^--\"+boundary+\"(?:\\r\\n|\\n)\", \"mg\");\n   boundaryregex.lastIndex = mpregex.lastIndex;\n\n   searchinfo = boundaryregex.exec(str); // find header top boundary\n   blanklineregex = /(?:\\r\\n|\\n)(?:\\r\\n|\\n)/gm;\n   blanklineregex.lastIndex = boundaryregex.lastIndex;\n   searchinfo = blanklineregex.exec(str); // skip to after blank line\n   if (!searchinfo) return parts;\n   start = blanklineregex.lastIndex;\n   boundaryregex.lastIndex = start;\n   searchinfo = boundaryregex.exec(str); // find end of header\n   if (!searchinfo) return parts;\n   ending = searchinfo.index;\n\n   lines = str.substring(start, ending).split(/\\r\\n|\\n/); // get header as lines\n   for (i=0;i<lines.length;i++) {\n      line=lines[i];\n      p = line.split(\":\");\n      switch (p[0]) {\n         case \"version\":\n            break;\n         case \"part\":\n            partlist.push(p[1]);\n            break;\n         }\n      }\n\n   for (pnum=0; pnum<partlist.length; pnum++) { // get each part\n      blanklineregex.lastIndex = ending;\n      searchinfo = blanklineregex.exec(str); // find blank line ending mime-part header\n      if (!searchinfo) return parts;\n      start = blanklineregex.lastIndex;\n      if (pnum==partlist.length-1) { // last one has different boundary\n         boundaryregex = new RegExp(\"^--\"+boundary+\"--$\", \"mg\");\n         }\n      boundaryregex.lastIndex = start;\n      searchinfo = boundaryregex.exec(str); // find ending boundary\n      if (!searchinfo) return parts;\n      ending = searchinfo.index;\n      parts[partlist[pnum]] = {start: start, end: ending}; // return position within full string\n      }\n\n   return parts;\n\n   }\n\n\n/*\n* SettingsControls\n*\n* Each settings panel has an object in the following form:\n*\n*    {ctrl-name1: {setting: setting-nameA, type: ctrl-type, id: id-component},\n*     ctrl-name2: {setting: setting-nameB, type: ctrl-type, id: id-component, initialdata: optional-initialdata-override},\n*     ...}\n*\n* The ctrl-types are names that correspond to:\n*\n*    SocialCalc.SettingsControls.Controls = {\n*       ctrl-type1: {\n*          SetValue: function(panel-obj, ctrl-name, {def: true/false, val: value}) {...;},\n*          ColorValues: if true, Onchanged converts between hex and RGB\n*          GetValue: function(panel-obj, ctrl-name) {...return {def: true/false, val: value};},\n*          Initialize: function(panel-obj, ctrl-name) {...;}, // used to fill dropdowns, etc.\n*          InitialData: control-dependent, // used by Initialize (if no panel ctrlname.initialdata)\n*          OnReset: function(ctrl-name) {...;}, // called to put down popups, etc.\n*          ChangedCallback: function(ctrl-name) {...;} // if not null, called by control when user changes value\n*       }\n*\n*/\n\nSocialCalc.SettingsControls = {\n   Controls: {},\n   CurrentPanel: null // panel object to search on events\n   };\n\n//\n// SocialCalc.SettingsControlSetCurrentPanel(panel-object)\n//\n\nSocialCalc.SettingsControlSetCurrentPanel = function(panelobj) {\n\n   SocialCalc.SettingsControls.CurrentPanel = panelobj;\n\n   SocialCalc.SettingsControls.PopupChangeCallback({panelobj: panelobj}, \"\", null);\n\n   }\n\n\n//\n// SocialCalc.SettingsControlInitializePanel(panel-object)\n//\n\nSocialCalc.SettingsControlInitializePanel = function(panelobj) {\n\n   var ctrlname;\n   var sc = SocialCalc.SettingsControls;\n\n   for (ctrlname in panelobj) {\n      if (ctrlname==\"name\") continue;\n      ctrl = sc.Controls[panelobj[ctrlname].type];\n      if (ctrl && ctrl.Initialize) ctrl.Initialize(panelobj, ctrlname);\n      }\n\n   }\n\n\n//\n// SocialCalc.SettingsControlLoadPanel(panel-object, attribs)\n//\n\nSocialCalc.SettingsControlLoadPanel = function(panelobj, attribs) {\n\n   var ctrlname;\n   var sc = SocialCalc.SettingsControls;\n\n   for (ctrlname in panelobj) {\n      if (ctrlname==\"name\") continue;\n      ctrl = sc.Controls[panelobj[ctrlname].type];\n      if (ctrl && ctrl.SetValue) ctrl.SetValue(panelobj, ctrlname, attribs[panelobj[ctrlname].setting]);\n      }\n\n   }\n\n//\n// attribs = SocialCalc.SettingsControlUnloadPanel(panel-object)\n//\n\nSocialCalc.SettingsControlUnloadPanel = function(panelobj) {\n\n   var ctrlname;\n   var sc = SocialCalc.SettingsControls;\n   var attribs = {};\n\n   for (ctrlname in panelobj) {\n      if (ctrlname==\"name\") continue;\n      ctrl = sc.Controls[panelobj[ctrlname].type];\n      if (ctrl && ctrl.GetValue) attribs[panelobj[ctrlname].setting] = ctrl.GetValue(panelobj, ctrlname);\n      }\n\n   return attribs;\n\n   }\n\n//\n// SocialCalc.SettingsControls.PopupChangeCallback\n//\n\nSocialCalc.SettingsControls.PopupChangeCallback = function(attribs, id, value) {\n\n   var sc = SocialCalc.Constants;\n\n   var ele = document.getElementById(\"sample-text\");\n\n   if (!ele || !attribs || !attribs.panelobj) return;\n\n   var idPrefix = SocialCalc.CurrentSpreadsheetControlObject.idPrefix;\n\n   var c = attribs.panelobj.name == \"cell\" ? \"c\" : \"\";\n\n   var v, a, parts, str1, str2, i;\n\n   parts = sc.defaultCellLayout.match(/^padding.(\\S+) (\\S+) (\\S+) (\\S+).vertical.align.(\\S+);$/) || [];\n\n   var cv = {color: [\"textcolor\"], backgroundColor: [\"bgcolor\", \"#FFF\"],\n             fontSize: [\"fontsize\", sc.defaultCellFontSize], fontFamily: [\"fontfamily\"],\n             paddingTop: [\"padtop\", parts[1]], paddingRight: [\"padright\", parts[2]],\n             paddingBottom: [\"padbottom\", parts[3]], paddingLeft: [\"padleft\", parts[4]],\n             verticalAlign: [\"alignvert\", parts[5]]};\n\n   for (a in cv) {\n      v = SocialCalc.Popup.GetValue(idPrefix+c+cv[a][0]) || cv[a][1] || \"\";\n      ele.style[a] = v;\n      }\n\n   if (c==\"c\") {\n      cv = {borderTop: \"cbt\", borderRight: \"cbr\", borderBottom: \"cbb\", borderLeft: \"cbl\"};\n      for (a in cv) {\n         v = SocialCalc.SettingsControls.BorderSideGetValue(attribs.panelobj, cv[a]);\n         ele.style[a] = v ? (v.val || \"\") : \"\";\n         }\n      v = SocialCalc.Popup.GetValue(idPrefix+\"calignhoriz\");\n      ele.style.textAlign = v || \"left\";\n      ele.childNodes[1].style.textAlign = v || \"right\";\n      }\n   else {\n      ele.style.border = \"\";\n      v = SocialCalc.Popup.GetValue(idPrefix+\"textalignhoriz\");\n      ele.style.textAlign = v || \"left\";\n      v = SocialCalc.Popup.GetValue(idPrefix+\"numberalignhoriz\");\n      ele.childNodes[1].style.textAlign = v || \"right\";\n      }\n\n   v = SocialCalc.Popup.GetValue(idPrefix+c+\"fontlook\");\n   parts = v ? (v.match(/^(\\S+) (\\S+)$/) || []) : [];\n   ele.style.fontStyle = parts[1] || \"\";\n   ele.style.fontWeight = parts[2] || \"\";\n\n   v = SocialCalc.Popup.GetValue(idPrefix+c+\"formatnumber\") || \"General\";\n   str1 = SocialCalc.FormatNumber.formatNumberWithFormat(9.8765, v, \"\");\n   str2 = SocialCalc.FormatNumber.formatNumberWithFormat(-1234.5, v, \"\");\n   if (str2 != \"??-???-??&nbsp;??:??:??\") { // not bad date from negative number\n      str1 += \"<br>\"+str2;\n      }\n      \n   ele.childNodes[1].innerHTML = str1;\n\n   }\n\n//\n// PopupList Control\n//\n\nSocialCalc.SettingsControls.PopupListSetValue = function(panelobj, ctrlname, value) {\n\n   if (!value) {alert(ctrlname+\" no value\"); return;}\n\n   var sp = SocialCalc.Popup;\n\n   if (!value.def) {\n      sp.SetValue(panelobj[ctrlname].id, value.val);\n      }\n   else {\n      sp.SetValue(panelobj[ctrlname].id, \"\");\n      }\n\n   }\n\n//\n// SocialCalc.SettingsControls.PopupListGetValue\n//\n\nSocialCalc.SettingsControls.PopupListGetValue = function(panelobj, ctrlname) {\n\n   var ctl = panelobj[ctrlname];\n   if (!ctl) return null;\n\n   var value = SocialCalc.Popup.GetValue(ctl.id);\n   if (value) {\n      return {def: false, val: value};\n      }\n   else {\n      return {def: true, val: 0};\n      }\n\n   }\n\n//\n// SocialCalc.SettingsControls.PopupListInitialize\n//\n\nSocialCalc.SettingsControls.PopupListInitialize = function(panelobj, ctrlname) {\n\n   var i, val, pos, otext;\n   var sc = SocialCalc.SettingsControls;\n   var initialdata = panelobj[ctrlname].initialdata || sc.Controls[panelobj[ctrlname].type].InitialData || \"\";\n   initialdata = SocialCalc.LocalizeSubstrings(initialdata);\n   var optionvals = initialdata.split(/\\|/);\n\n   var options = [];\n\n   for (i=0; i<(optionvals.length||0); i++) {\n      val = optionvals[i];\n      pos = val.indexOf(\":\");\n      otext = val.substring(0, pos);\n      if (otext.indexOf(\"\\\\\")!=-1) { // escape any colons\n         otext = otext.replace(/\\\\c/g,\":\");\n         otext = otext.replace(/\\\\b/g,\"\\\\\");\n\n         }\n      otext = SocialCalc.special_chars(otext);\n      if (otext == \"[custom]\") {\n         options[i] = {o: SocialCalc.Constants.s_PopupListCustom, v: val.substring(pos+1), a:{custom: true}};\n         }\n      else if (otext == \"[cancel]\") {\n         options[i] = {o: SocialCalc.Constants.s_PopupListCancel, v: \"\", a:{cancel: true}};\n         }\n      else if (otext == \"[break]\") {\n         options[i] = {o: \"-----\", v: \"\", a:{skip: true}};\n         }\n      else if (otext == \"[newcol]\") {\n         options[i] = {o: \"\", v: \"\", a:{newcol: true}};\n         }\n      else {\n         options[i] = {o: otext, v: val.substring(pos+1)};\n         }\n      }\n\n   SocialCalc.Popup.Create(\"List\", panelobj[ctrlname].id, {});\n   SocialCalc.Popup.Initialize(panelobj[ctrlname].id, \n      {options: options, \n       attribs:{changedcallback: SocialCalc.SettingsControls.PopupChangeCallback, panelobj: panelobj}});\n\n   }\n\n\n//\n// SocialCalc.SettingsControls.PopupListReset\n//\n\nSocialCalc.SettingsControls.PopupListReset = function(ctrlname) {\n\n   SocialCalc.Popup.Reset(\"List\");\n\n   }\n\nSocialCalc.SettingsControls.Controls.PopupList = {\n   SetValue: SocialCalc.SettingsControls.PopupListSetValue,\n   GetValue: SocialCalc.SettingsControls.PopupListGetValue,\n   Initialize: SocialCalc.SettingsControls.PopupListInitialize,\n   OnReset: SocialCalc.SettingsControls.PopupListReset,\n   ChangedCallback: null\n   }\n\n//\n// ColorChooser Control\n//\n\nSocialCalc.SettingsControls.ColorChooserSetValue = function(panelobj, ctrlname, value) {\n\n   if (!value) {alert(ctrlname+\" no value\"); return;}\n\n   var sp = SocialCalc.Popup;\n\n   if (!value.def) {\n      sp.SetValue(panelobj[ctrlname].id, value.val);\n      }\n   else {\n      sp.SetValue(panelobj[ctrlname].id, \"\");\n      }\n\n   }\n\n//\n// SocialCalc.SettingsControls.ColorChooserGetValue\n//\n\nSocialCalc.SettingsControls.ColorChooserGetValue = function(panelobj, ctrlname) {\n\n   var value = SocialCalc.Popup.GetValue(panelobj[ctrlname].id);\n   if (value) {\n      return {def: false, val: value};\n      }\n   else {\n      return {def: true, val: 0};\n      }\n\n   }\n\n//\n// SocialCalc.SettingsControls.ColorChooserInitialize\n//\n\nSocialCalc.SettingsControls.ColorChooserInitialize = function(panelobj, ctrlname) {\n\n   var i, val, pos, otext;\n   var sc = SocialCalc.SettingsControls;\n\n   SocialCalc.Popup.Create(\"ColorChooser\", panelobj[ctrlname].id, {});\n   SocialCalc.Popup.Initialize(panelobj[ctrlname].id,\n      {attribs:{title: \"&nbsp;\", moveable: true, width: \"106px\",\n                changedcallback: SocialCalc.SettingsControls.PopupChangeCallback, panelobj: panelobj}});\n\n   }\n\n\n//\n// SocialCalc.SettingsControls.ColorChooserReset\n//\n\nSocialCalc.SettingsControls.ColorChooserReset = function(ctrlname) {\n\n   SocialCalc.Popup.Reset(\"ColorChooser\");\n\n   }\n\nSocialCalc.SettingsControls.Controls.ColorChooser = {\n   SetValue: SocialCalc.SettingsControls.ColorChooserSetValue,\n   GetValue: SocialCalc.SettingsControls.ColorChooserGetValue,\n   Initialize: SocialCalc.SettingsControls.ColorChooserInitialize,\n   OnReset: SocialCalc.SettingsControls.ColorChooserReset,\n   ChangedCallback: null\n   }\n\n\n//\n// SocialCalc.SettingsControls.BorderSideSetValue\n//\n\nSocialCalc.SettingsControls.BorderSideSetValue = function(panelobj, ctrlname, value) {\n\n   var sc = SocialCalc.SettingsControls;\n   var ele, found, idname, parts;\n   var idstart = panelobj[ctrlname].id;\n\n   if (!value) {alert(ctrlname+\" no value\"); return;}\n\n   ele = document.getElementById(idstart+\"-onoff-bcb\"); // border checkbox\n   if (!ele) return;\n\n   if (value.val) { // border does not use default: it looks only to the value currently\n      ele.checked = true;\n      ele.value = value.val;\n      parts = value.val.match(/(\\S+)\\s+(\\S+)\\s+(\\S.+)/);\n      idname = idstart+\"-color\";\n      SocialCalc.Popup.SetValue(idname, parts[3]);\n      SocialCalc.Popup.SetDisabled(idname, false);\n      }\n   else {\n      ele.checked = false;\n      ele.value = value.val;\n      idname = idstart+\"-color\";\n      SocialCalc.Popup.SetValue(idname, \"\");\n      SocialCalc.Popup.SetDisabled(idname, true);\n      }\n\n   }\n\n//\n// SocialCalc.SettingsControls.BorderSideGetValue\n//\n\nSocialCalc.SettingsControls.BorderSideGetValue = function(panelobj, ctrlname) {\n\n   var sc = SocialCalc.SettingsControls;\n   var ele, value;\n   var idstart = panelobj[ctrlname].id;\n\n   ele = document.getElementById(idstart+\"-onoff-bcb\"); // border checkbox\n   if (!ele) return;\n\n\n   if (ele.checked) { // on\n      value = SocialCalc.Popup.GetValue(idstart+\"-color\");\n      value = \"1px solid \" + (value || \"rgb(0,0,0)\");\n      return {def: false, val: value};\n      }\n   else { // off\n      return {def: false, val: \"\"};\n      }\n\n   }\n\n//\n// SocialCalc.SettingsControls.BorderSideInitialize\n//\n\nSocialCalc.SettingsControls.BorderSideInitialize = function(panelobj, ctrlname) {\n\n   var sc = SocialCalc.SettingsControls;\n   var idstart = panelobj[ctrlname].id;\n\n   SocialCalc.Popup.Create(\"ColorChooser\", idstart+\"-color\", {});\n   SocialCalc.Popup.Initialize(idstart+\"-color\",\n      {attribs:{title: \"&nbsp;\", width: \"106px\", moveable: true,\n                changedcallback: SocialCalc.SettingsControls.PopupChangeCallback, panelobj: panelobj}});\n\n   }\n\n\n//\n// SocialCalc.SettingsControlOnchangeBorder = function(ele)\n//\n\nSocialCalc.SettingsControlOnchangeBorder = function(ele) {\n\n   var idname, value, found, ele2;\n   var sc = SocialCalc.SettingsControls;\n   var panelobj = sc.CurrentPanel;\n\n   var nameparts = ele.id.match(/(^.*\\-)(\\w+)\\-(\\w+)\\-(\\w+)$/);\n   if (!nameparts) return;\n   var prefix = nameparts[1];\n   var ctrlname = nameparts[2];\n   var ctrlsubid = nameparts[3]\n   var ctrlidsuffix = nameparts[4];\n   var ctrltype = panelobj[ctrlname].type;\n\n   switch (ctrlidsuffix) {\n      case \"bcb\": // border checkbox\n         if (ele.checked) {\n            sc.Controls[ctrltype].SetValue(sc.CurrentPanel, ctrlname, {def: false, val: ele.value || \"1px solid rgb(0,0,0)\"});\n            }\n         else {\n            sc.Controls[ctrltype].SetValue(sc.CurrentPanel, ctrlname, {def: false, val: \"\"});\n            }\n         break;\n      }\n\n   }\n\n\nSocialCalc.SettingsControls.Controls.BorderSide = {\n   SetValue: SocialCalc.SettingsControls.BorderSideSetValue,\n   GetValue: SocialCalc.SettingsControls.BorderSideGetValue,\n   OnClick: SocialCalc.SettingsControls.ColorComboOnClick,\n   Initialize: SocialCalc.SettingsControls.BorderSideInitialize,\n   InitialData: {thickness: \"1 pixel:1px\", style: \"Solid:solid\"},\n   ChangedCallback: null\n   }\n\n\nSocialCalc.SettingControlReset = function() {\n\n   var sc = SocialCalc.SettingsControls;\n   var ctrlname;\n\n   for (ctrlname in sc.Controls) {\n      if (sc.Controls[ctrlname].OnReset) sc.Controls[ctrlname].OnReset(ctrlname);\n      }\n   }\n\n\n/**********************\n*\n* CtrlSEditor implementation for editing SocialCalc.OtherSaveParts\n*\n*/\n\nSocialCalc.OtherSaveParts = {}; // holds other parts to save - must be set when loaded if you want to keep\n\nSocialCalc.CtrlSEditor = function(whichpart) {\n\n   var strtoedit, partname;\n   if (whichpart.length > 0) {\n      strtoedit = SocialCalc.special_chars(SocialCalc.OtherSaveParts[whichpart] || \"\");\n      }\n   else {\n      strtoedit = \"Listing of Parts\\n\";\n      for (partname in SocialCalc.OtherSaveParts) {\n         strtoedit += SocialCalc.special_chars(\"\\nPart: \"+partname+\"\\n=====\\n\"+SocialCalc.OtherSaveParts[partname]+\"\\n\");\n         }\n      }\n   var editbox = document.createElement(\"div\");\n   editbox.style.cssText = \"position:absolute;z-index:500;width:300px;height:300px;left:100px;top:200px;border:1px solid black;background-color:#EEE;text-align:center;\";\n   editbox.id = \"socialcalc-editbox\";\n   editbox.innerHTML = whichpart+'<br><br><textarea id=\"socialcalc-editbox-textarea\" style=\"width:250px;height:200px;\">'+\n      strtoedit + '</textarea><br><br><input type=button ' +\n      'onclick=\"SocialCalc.CtrlSEditorDone (\\'socialcalc-editbox\\', \\''+whichpart+'\\');\" value=\"OK\">';\n   document.body.appendChild(editbox);\n\n   var ebta = document.getElementById(\"socialcalc-editbox-textarea\");\n   ebta.focus();\n   SocialCalc.CmdGotFocus(ebta);\n\n   }\n\nSocialCalc.CtrlSEditorDone = function(idprefix, whichpart) {\n\n   var edittextarea = document.getElementById(idprefix+\"-textarea\");\n   var text = edittextarea.value;\n   if (whichpart.length > 0) {\n      if (text.length > 0) {\n         SocialCalc.OtherSaveParts[whichpart] = text;\n         }\n      else {\n         delete SocialCalc.OtherSaveParts[whichpart];\n         }\n      }\n\n   var editbox = document.getElementById(idprefix);\n   SocialCalc.KeyboardFocus();\n   editbox.parentNode.removeChild(editbox);\n\n   }\n\n\n//\n// SocialCalcViewer\n//\n/*\n// The code module of the SocialCalc package that lets you embed a spreadsheet viewer\n// with an optional simple toolbar into a web page.\n//\n// (c) Copyright 2008, 2009, 2010 Socialtext, Inc.\n// All Rights Reserved.\n//\n*/\n\n/*\n\nLEGAL NOTICES REQUIRED BY THE COMMON PUBLIC ATTRIBUTION LICENSE:\n\nEXHIBIT A. Common Public Attribution License Version 1.0.\n\nThe contents of this file are subject to the Common Public Attribution License Version 1.0 (the \n\"License\"); you may not use this file except in compliance with the License. You may obtain a copy \nof the License at http://socialcalc.org. The License is based on the Mozilla Public License Version 1.1 but \nSections 14 and 15 have been added to cover use of software over a computer network and provide for \nlimited attribution for the Original Developer. In addition, Exhibit A has been modified to be \nconsistent with Exhibit B.\n\nSoftware distributed under the License is distributed on an \"AS IS\" basis, WITHOUT WARRANTY OF ANY \nKIND, either express or implied. See the License for the specific language governing rights and \nlimitations under the License.\n\nThe Original Code is SocialCalc JavaScript SpreadsheetViewer.\n\nThe Original Developer is the Initial Developer.\n\nThe Initial Developer of the Original Code is Socialtext, Inc. All portions of the code written by \nSocialtext, Inc., are Copyright (c) Socialtext, Inc. All Rights Reserved.\n\nContributor: Dan Bricklin.\n\n\nEXHIBIT B. Attribution Information\n\nWhen the SpreadsheetViewer is producing and/or controlling the display the Graphic Image must be\ndisplayed on the screen visible to the user in a manner comparable to that in the \nOriginal Code. The Attribution Phrase must be displayed as a \"tooltip\" or \"hover-text\" for\nthat image. The image must be linked to the Attribution URL so as to access that page\nwhen clicked. If the user interface includes a prominent \"about\" display which includes\nfactual prominent attribution in a form similar to that in the \"about\" display included\nwith the Original Code, including Socialtext copyright notices and URLs, then the image\nneed not be linked to the Attribution URL but the \"tool-tip\" is still required.\n\nAttribution Copyright Notice:\n\n Copyright (C) 2010 Socialtext, Inc.\n All Rights Reserved.\n\nAttribution Phrase (not exceeding 10 words): SocialCalc\n\nAttribution URL: http://www.socialcalc.org/\n\nGraphic Image: The contents of the sc-logo.gif file in the Original Code or\na suitable replacement from http://www.socialcalc.org/licenses specified as\nbeing for SocialCalc.\n\nDisplay of Attribution Information is required in Larger Works which are defined \nin the CPAL as a work which combines Covered Code or portions thereof with code \nnot governed by the terms of the CPAL.\n\n*/\n\n//\n// Some of the other files in the SocialCalc package are licensed under\n// different licenses. Please note the licenses of the modules you use.\n//\n// Code History:\n//\n// Initially coded by Dan Bricklin of Software Garden, Inc., for Socialtext, Inc.\n// Unless otherwise specified, referring to \"SocialCalc\" in comments refers to this\n// JavaScript version of the code, not the SocialCalc Perl code.\n//\n\n/*\n\nSee the comments in the main SocialCalc code module file of the SocialCalc package.\n\n*/\n\n   var SocialCalc;\n   if (!SocialCalc) {\n      alert(\"Main SocialCalc code module needed\");\n      SocialCalc = {};\n      }\n   if (!SocialCalc.TableEditor) {\n      alert(\"SocialCalc TableEditor code module needed\");\n      }\n\n// *************************************\n//\n// SpreadsheetViewer class:\n//\n// *************************************\n\n// Global constants:\n\n   SocialCalc.CurrentSpreadsheetViewerObject = null; // right now there can only be one active at a time\n\n\n// Constructor:\n\nSocialCalc.SpreadsheetViewer = function(idPrefix) {\n\n   var scc = SocialCalc.Constants;\n\n   // Properties:\n\n   this.parentNode = null;\n   this.spreadsheetDiv = null;\n   this.requestedHeight = 0;\n   this.requestedWidth = 0;\n   this.requestedSpaceBelow = 0;\n   this.height = 0;\n   this.width = 0;\n   this.viewheight = 0; // calculated amount for views below toolbar, etc.\n\n   // Dynamic properties:\n\n   this.sheet = null;\n   this.context = null;\n   this.editor = null;\n\n   this.spreadsheetDiv = null;\n   this.editorDiv = null;\n\n   this.sortrange = \"\"; // remembered range for sort tab\n\n   // Constants:\n\n   this.idPrefix = idPrefix || \"SocialCalc-\"; // prefix added to element ids used here, should end in \"-\"\n   this.imagePrefix = scc.defaultImagePrefix; // prefix added to img src\n\n   this.statuslineheight = scc.SVStatuslineheight; // in pixels\n   this.statuslineCSS = scc.SVStatuslineCSS;\n\n   // Callbacks:\n\n   // Initialization Code:\n\n   this.sheet = new SocialCalc.Sheet();\n   this.context = new SocialCalc.RenderContext(this.sheet);\n   // eddy SpreadsheetViewer {\n   if(SocialCalc._app == true || SocialCalc._view == true) scc.defaultImagePrefix = this.imagePrefix = \"../\"+ this.imagePrefix;\n   if(SocialCalc._app == true) {\n     this.context.showGrid= false; \n     this.context.showRCHeaders= false;\n     this.context.highlightTypes.range.style = \"\"; // no cell highlighting in app mode\n     \n     // Loading Message - add to cell A1 - shows when app is loading a large sheet or from a slow server\n     this.context.sheetobj.cells[\"A1\"] = new SocialCalc.Cell(\"A1\");\n     this.context.sheetobj.cells[\"A1\"].displaystring = \"Loading ... \"; // will display until recalc issues a render request - auto reset by recalc on load\n     \n   } else {\n     this.context.showGrid= true; \n     this.context.showRCHeaders= true;     \n   }\n   // } SpreadsheetViewer\n   this.editor = new SocialCalc.TableEditor(this.context);\n   this.editor.noEdit = true;\n   this.editor.StatusCallback.statusline =\n      {func: SocialCalc.SpreadsheetViewerStatuslineCallback,\n       params: {}};\n   this.hasStatusLine = true; // default\n//   this.statuslineHTML = '<table cellspacing=\"0\" cellpadding=\"0\"><tr><td width=\"100%\" style=\"overflow:hidden;\">{status}</td><td><a href=\"\">Will&nbsp;be&nbsp;link</a></td></tr></table>';\n   this.statuslineHTML = '<table cellspacing=\"0\" cellpadding=\"0\"><tr><td width=\"100%\" style=\"overflow:hidden;\">{status}</td><td>&nbsp;</td></tr></table>';\n   this.statuslineFull = true;\n   this.noRecalc = true; // don't do a recalc when loaded, so no need for external sheet routines\n\n   // Repeating macro info\n\n   this.repeatingMacroTimer = null;\n   this.repeatingMacroInterval = 60; // default to 60 seconds\n   this.repeatingMacroCommands = \"\"; // what to execute\n\n\n   SocialCalc.CurrentSpreadsheetViewerObject = this; // remember this for rendezvousing on events\n\n   return;\n\n   }\n\n// Methods:\n\nSocialCalc.SpreadsheetViewer.prototype.InitializeSpreadsheetViewer =\n   function(node, height, width, spacebelow) {return SocialCalc.InitializeSpreadsheetViewer(this, node, height, width, spacebelow);};\nSocialCalc.SpreadsheetViewer.prototype.LoadSave = function(str) {return SocialCalc.SpreadsheetViewerLoadSave(this, str);};\nSocialCalc.SpreadsheetViewer.prototype.DoOnResize = function() {return SocialCalc.DoOnResize(this);};\nSocialCalc.SpreadsheetViewer.prototype.SizeSSDiv = function() {return SocialCalc.SizeSSDiv(this);};\nSocialCalc.SpreadsheetViewer.prototype.DecodeSpreadsheetSave = \n   function(str) {return SocialCalc.SpreadsheetViewerDecodeSpreadsheetSave(this, str);};\n\n// Sheet Methods to make things a little easier:\n\nSocialCalc.SpreadsheetViewer.prototype.ParseSheetSave = function(str) {return this.sheet.ParseSheetSave(str);};\n\n\n// Functions:\n\n//\n// InitializeSpreadsheetViewer(spreadsheet, node, height, width, spacebelow)\n//\n// Creates the control elements and makes them the child of node (string or element).\n// If present, height and width specify size.\n// If either is 0 or null (missing), the maximum that fits on the screen\n// (taking spacebelow into account) is used.\n//\n// You should do a redisplay or recalc (which redisplays) after running this.\n//\n\nSocialCalc.InitializeSpreadsheetViewer = function(spreadsheet, node, height, width, spacebelow) {\n\n   var scc = SocialCalc.Constants;\n   var SCLoc = SocialCalc.LocalizeString;\n   var SCLocSS = SocialCalc.LocalizeSubstrings;\n\n   var html, child, i, vname, v, style, button, bele;\n   var tabs = spreadsheet.tabs;\n   var views = spreadsheet.views;\n\n   spreadsheet.requestedHeight = height;\n   spreadsheet.requestedWidth = width;\n   spreadsheet.requestedSpaceBelow = spacebelow;\n\n   if (typeof node == \"string\") node = document.getElementById(node);\n\n   if (node == null) {\n      alert(\"SocialCalc.SpreadsheetControl not given parent node.\");\n      }\n\n   spreadsheet.parentNode = node;\n\n   // create node to hold spreadsheet view\n\n   spreadsheet.spreadsheetDiv = document.createElement(\"div\");\n\n   spreadsheet.SizeSSDiv(); // calculate and fill in the size values\n\n   for (child=node.firstChild; child!=null; child=node.firstChild) {\n      node.removeChild(child);\n      }\n\n   node.appendChild(spreadsheet.spreadsheetDiv);\n\n   // create sheet div\n\n   spreadsheet.nonviewheight = spreadsheet.hasStatusLine ? spreadsheet.statuslineheight : 0;\n   spreadsheet.viewheight = spreadsheet.height-spreadsheet.nonviewheight;\n   spreadsheet.editorDiv=spreadsheet.editor.CreateTableEditor(spreadsheet.width, spreadsheet.viewheight);\n\n   spreadsheet.spreadsheetDiv.appendChild(spreadsheet.editorDiv);\n\n   // create statusline\n\n   if (spreadsheet.hasStatusLine) {\n      spreadsheet.statuslineDiv = document.createElement(\"div\");\n      spreadsheet.statuslineDiv.style.cssText = spreadsheet.statuslineCSS;\n      spreadsheet.statuslineDiv.style.height = spreadsheet.statuslineheight -\n         (spreadsheet.statuslineDiv.style.paddingTop.slice(0,-2)-0) -\n         (spreadsheet.statuslineDiv.style.paddingBottom.slice(0,-2)-0) + \"px\";\n      spreadsheet.statuslineDiv.id = spreadsheet.idPrefix+\"statusline\";\n      spreadsheet.spreadsheetDiv.appendChild(spreadsheet.statuslineDiv);\n      spreadsheet.editor.StatusCallback.statusline =\n         {func: SocialCalc.SpreadsheetViewerStatuslineCallback,\n          params: {spreadsheetobj:spreadsheet}};\n      }\n\n   // eddy InitializeSpreadsheetViewer {\n   if(SocialCalc._app == true) {\n     spreadsheet.formDataViewer = new SocialCalc.SpreadsheetViewer(\"te_FormData-\");\n     // remove callback to stop drawing of table.\n     spreadsheet.formDataViewer.sheet.statuscallback = null;\n     // setup app viewer object\n     SocialCalc.CurrentSpreadsheetViewerObject = spreadsheet;\n   }\n   \n   // done - refresh screen needed\n\n   return;\n\n   }\n\nSocialCalc.SpreadsheetViewerLoadSave = function(spreadsheet, savestr) {\n\n   var rmstr, pos, t, t2;\n\n   var parts = spreadsheet.DecodeSpreadsheetSave(savestr);\n   if (parts) {\n      if (parts.sheet) {\n         spreadsheet.sheet.ResetSheet();\n         spreadsheet.sheet.ParseSheetSave(savestr.substring(parts.sheet.start, parts.sheet.end));\n         }\n      if (parts.edit) {\n         spreadsheet.editor.LoadEditorSettings(savestr.substring(parts.edit.start, parts.edit.end));\n         }\n      if (parts.startupmacro) { // executed now\n         spreadsheet.editor.EditorScheduleSheetCommands(savestr.substring(parts.startupmacro.start, parts.startupmacro.end), false, true);\n         }\n      if (parts.repeatingmacro) { // first line tells how many seconds before first execution. Last cmd must be \"cmdextension repeatmacro delay\" to continue repeating.\n         rmstr = savestr.substring(parts.repeatingmacro.start, parts.repeatingmacro.end);\n         rmstr = rmstr.replace(\"\\r\", \"\"); // make sure no CR, only LF\n         pos = rmstr.indexOf(\"\\n\");\n         if (pos > 0) {\n            t = rmstr.substring(0, pos)-0; // get number\n            t2 = t;\n//            if (!(t > 0)) t = 60; // handles NAN, too\n            spreadsheet.repeatingMacroInterval = t;\n            spreadsheet.repeatingMacroCommands = rmstr.substring(pos+1);\n            if (t2 > 0) { // zero means don't start yet\n               spreadsheet.repeatingMacroTimer = window.setTimeout(SocialCalc.SpreadsheetViewerDoRepeatingMacro, spreadsheet.repeatingMacroInterval * 1000);\n               }\t\n            }\n         }\n      }\n   if (spreadsheet.editor.context.sheetobj.attribs.recalc==\"off\" || spreadsheet.noRecalc) {\n      spreadsheet.editor.ScheduleRender();\n      }\n   else {\n      spreadsheet.editor.EditorScheduleSheetCommands(\"recalc\");\n      }\n   }\n\n//\n// SocialCalc.SpreadsheetViewerDoRepeatingMacro\n//\n// Called by a timer. Executes repeatingMacroCommands once.\n// Use the \"startcmdextension repeatmacro delay\" command last to schedule this again.\n//\n\nSocialCalc.SpreadsheetViewerDoRepeatingMacro = function() {\n\n   var spreadsheet = SocialCalc.GetSpreadsheetViewerObject();\n   var editor = spreadsheet.editor;\n\n   spreadsheet.repeatingMacroTimer = null;\n\n   SocialCalc.SheetCommandInfo.CmdExtensionCallbacks.repeatmacro = {func:SocialCalc.SpreadsheetViewerRepeatMacroCommand, data:null};\n\n   editor.EditorScheduleSheetCommands(spreadsheet.repeatingMacroCommands);\n\n}\n\nSocialCalc.SpreadsheetViewerRepeatMacroCommand = function(name, data, sheet, cmd, saveundo) {\n\n   var spreadsheet = SocialCalc.GetSpreadsheetViewerObject();\n\n   var rest = cmd.RestOfString();\n   var t = rest-0; // get number\n   if (!(t > 0)) t = spreadsheet.repeatingMacroInterval; // handles NAN, too, using last value\n   spreadsheet.repeatingMacroInterval = t;\n\n   spreadsheet.repeatingMacroTimer = window.setTimeout(SocialCalc.SpreadsheetViewerDoRepeatingMacro, spreadsheet.repeatingMacroInterval * 1000);\n\n}\n\nSocialCalc.SpreadsheetViewerStopRepeatingMacro = function() {\n\n   var spreadsheet = SocialCalc.GetSpreadsheetViewerObject();\n\n   if (spreadsheet.repeatingMacroTimer) {\n      window.clearTimeout(spreadsheet.repeatingMacroTimer);\n      spreadsheet.repeatingMacroTimer = null;\n      }\n}\n\n//\n// SocialCalc.SpreadsheetViewerDoButtonCmd(e, buttoninfo, bobj)\n//\n// xxx\n//\n\nSocialCalc.SpreadsheetViewerDoButtonCmd = function(e, buttoninfo, bobj) {\n\n   var obj = bobj.element;\n   var which = bobj.functionobj.command;\n\n   var spreadsheet = SocialCalc.GetSpreadsheetViewerObject();\n   var editor = spreadsheet.editor;\n\n   switch (which) {\n      case \"recalc\":\n         editor.EditorScheduleSheetCommands(\"recalc\");\n         break;\n\n      default:\n         break;\n      }\n\n   if (obj && obj.blur) obj.blur();\n   SocialCalc.KeyboardFocus();   \n\n   }\n\n\n//\n// outstr = SocialCalc.LocalizeString(str)\n//\n// SocialCalc function to make localization easier.\n// If str is \"Text to localize\", it returns\n// SocialCalc.Constants.s_loc_text_to_localize if\n// it exists, or else with just \"Text to localize\".\n// Note that spaces are replaced with \"_\" and other special\n// chars with \"X\" in the name of the constant (e.g., \"A & B\"\n// would look for SocialCalc.Constants.s_loc_a_X_b.\n//\n\nSocialCalc.LocalizeString = function(str) {\n   var cstr = SocialCalc.LocalizeStringList[str]; // found already this session?\n   if (!cstr) { // no - look up\n      cstr = SocialCalc.Constants[\"s_loc_\"+str.toLowerCase().replace(/\\s/g, \"_\").replace(/\\W/g, \"X\")] || str;\n      SocialCalc.LocalizeStringList[str] = cstr;\n      }\n   return cstr;\n   }\n\nSocialCalc.LocalizeStringList = {}; // a list of strings to localize accumulated by the routine\n\n//\n// outstr = SocialCalc.LocalizeSubstrings(str)\n//\n// SocialCalc function to make localization easier using %loc and %scc.\n//\n// Replaces sections of str with:\n//    %loc!Text to localize!\n// with SocialCalc.Constants.s_loc_text_to_localize if\n// it exists, or else with just \"Text to localize\".\n// Note that spaces are replaced with \"_\" and other special\n// chars with \"X\" in the name of the constant (e.g., %loc!A & B!\n// would look for SocialCalc.Constants.s_loc_a_X_b.\n// Uses SocialCalc.LocalizeString for this.\n//\n// Replaces sections of str with:\n//    %ssc!constant-name!\n// with SocialCalc.Constants.constant-name.\n// If the constant doesn't exist, throws and alert.\n//\n\nSocialCalc.LocalizeSubstrings = function(str) {\n\n   var SCLoc = SocialCalc.LocalizeString;\n\n   return str.replace(/%(loc|ssc)!(.*?)!/g, function(a, t, c) {\n      if (t==\"ssc\") {\n         return SocialCalc.Constants[c] || alert(\"Missing constant: \"+c);\n         }\n      else {\n         return SCLoc(c);\n         }\n      });\n\n   }\n\n//\n// obj = GetSpreadsheetViewerObject()\n//\n// Returns the current spreadsheet view object\n//\n\nSocialCalc.GetSpreadsheetViewerObject = function() {\n\n   var csvo = SocialCalc.CurrentSpreadsheetViewerObject;\n   if (csvo) return csvo;\n\n   throw (\"No current SpreadsheetViewer object.\");\n\n   }\n\n\n//\n// SocialCalc.DoOnResize(spreadsheet)\n//\n// Processes an onResize event, setting the different views.\n//\n\nSocialCalc.DoOnResize = function(spreadsheet) {\n\n   var v;\n   var views = spreadsheet.views;\n\n   var needresize = spreadsheet.SizeSSDiv();\n   if (!needresize) return;\n\n   for (vname in views) {\n      v = views[vname].element;\n      v.style.width = spreadsheet.width + \"px\";\n      v.style.height = (spreadsheet.height-spreadsheet.nonviewheight) + \"px\";\n      }\n\n   if(SocialCalc._app) return; // app has no scroll bars and keep normal HTML style page scroll - for mobile\n   spreadsheet.editor.ResizeTableEditor(spreadsheet.width, spreadsheet.height-spreadsheet.nonviewheight);\n\n   }\n\n\n//\n// resized = SocialCalc.SizeSSDiv(spreadsheet)\n//\n// Figures out a reasonable size for the spreadsheet, given any requested values and viewport.\n// Sets ssdiv to that.\n// Return true if different than existing values.\n//\n\nSocialCalc.SizeSSDiv = function(spreadsheet) {\n\n   var sizes, pos, resized, nodestyle, newval;\n   var fudgefactorX = 10; // for IE\n   var fudgefactorY = 10;\n\n   resized = false;\n\n   sizes = SocialCalc.GetViewportInfo();\n   pos = SocialCalc.GetElementPosition(spreadsheet.parentNode);\n   pos.bottom = 0;\n   pos.right = 0;\n\n   nodestyle = spreadsheet.parentNode.style;\n\n   if (nodestyle.marginTop) {\n      pos.top += nodestyle.marginTop.slice(0,-2)-0;\n      }\n   if (nodestyle.marginBottom) {\n      pos.bottom += nodestyle.marginBottom.slice(0,-2)-0;\n      }\n   if (nodestyle.marginLeft) {\n      pos.left += nodestyle.marginLeft.slice(0,-2)-0;\n      }\n   if (nodestyle.marginRight) {\n      pos.right += nodestyle.marginRight.slice(0,-2)-0;\n      }\n\n   newval = spreadsheet.requestedHeight ||\n            sizes.height - (pos.top + pos.bottom + fudgefactorY) -\n               (spreadsheet.requestedSpaceBelow || 0);\n   if (spreadsheet.height != newval) {\n      spreadsheet.height = newval;\n      spreadsheet.spreadsheetDiv.style.height = newval + \"px\";\n      resized = true;\n      }\n   newval = spreadsheet.requestedWidth ||\n            sizes.width - (pos.left + pos.right + fudgefactorX) || 700;\n   if (spreadsheet.width != newval) {\n      spreadsheet.width = newval;\n      spreadsheet.spreadsheetDiv.style.width = newval + \"px\";\n      resized = true;\n      }\n\n   spreadsheet.spreadsheetDiv.style.position = \"relative\";\n\n   return resized;\n\n   }\n\n\n//\n// SocialCalc.SpreadsheetViewerStatuslineCallback\n//\n\nSocialCalc.SpreadsheetViewerStatuslineCallback = function(editor, status, arg, params) {\n\n   var spreadsheet = params.spreadsheetobj;\n   var slstr = \"\";\n\n   if (spreadsheet && spreadsheet.statuslineDiv) {\n      if (spreadsheet.statuslineFull) {\n         slstr = editor.GetStatuslineString(status, arg, params);\n         }\n      else {\n         slstr = editor.ecell.coord;\n         }\n      slstr = spreadsheet.statuslineHTML.replace(/\\{status\\}/, slstr);\n      spreadsheet.statuslineDiv.innerHTML = slstr;\n      }\n\n   switch (status) {\n      case \"cmdendnorender\":\n      case \"calcfinished\":\n      case \"doneposcalc\":\n         break; // not updating Recalc button since no toolbar\n\n      default:\n         break;\n      }\n\n   }\n\n\n//\n// SocialCalc.CmdGotFocus(obj)\n//\n// Sets SocialCalc.Keyboard.passThru: obj should be element with focus or \"true\"\n//\n\nSocialCalc.CmdGotFocus = function(obj) {\n\n   SocialCalc.Keyboard.passThru = obj;\n\n   }\n\n\n//\n// result = SocialCalc.SpreadsheetViewerCreateSheetHTML(spreadsheet)\n//\n// Returns the HTML representation of the whole spreadsheet\n//\n\nSocialCalc.SpreadsheetViewerCreateSheetHTML = function(spreadsheet) {\n\n   var context, div, ele;\n\n   var result = \"\";\n\n   context = new SocialCalc.RenderContext(spreadsheet.sheet);\n   div = document.createElement(\"div\");\n   ele = context.RenderSheet(null, {type: \"html\"});\n   div.appendChild(ele);\n   delete context;\n   result = div.innerHTML;\n   delete ele;\n   delete div;\n   return result;\n\n   }\n\n\n///////////////////////\n//\n// LOAD ROUTINE\n//\n///////////////////////\n\n//\n// parts = SocialCalc.SpreadsheetViewerDecodeSpreadsheetSave(spreadsheet, str)\n//\n// Separates the parts from a spreadsheet save string, returning an object with the sub-strings.\n//\n//    {type1: {start: startpos, end: endpos}, type2:...}\n//\n\nSocialCalc.SpreadsheetViewerDecodeSpreadsheetSave = function(spreadsheet, str) {\n\n   var pos1, mpregex, searchinfo, boundary, boundaryregex, blanklineregex, start, ending, lines, i, lines, p, pnun;\n   var parts = {};\n   var partlist = [];\n\nvar hasreturnonly = /[^\\n]\\r[^\\n]/;\nif (hasreturnonly.test(str)) {\nstr = str.replace(/([^\\n])\\r([^\\n])/g, \"$1\\r\\n$2\");\n}\n   pos1 = str.search(/^MIME-Version:\\s1\\.0/mi);\n   if (pos1 < 0) return parts;\n\n   mpregex = /^Content-Type:\\s*multipart\\/mixed;\\s*boundary=(\\S+)/mig;\n   mpregex.lastIndex = pos1;\n\n   searchinfo = mpregex.exec(str);\n   if (mpregex.lastIndex <= 0) return parts;\n   boundary = searchinfo[1];\n\n   boundaryregex = new RegExp(\"^--\"+boundary+\"(?:\\r\\n|\\n)\", \"mg\");\n   boundaryregex.lastIndex = mpregex.lastIndex;\n\n   searchinfo = boundaryregex.exec(str); // find header top boundary\n   blanklineregex = /(?:\\r\\n|\\n)(?:\\r\\n|\\n)/gm;\n   blanklineregex.lastIndex = boundaryregex.lastIndex;\n   searchinfo = blanklineregex.exec(str); // skip to after blank line\n   if (!searchinfo) return parts;\n   start = blanklineregex.lastIndex;\n   boundaryregex.lastIndex = start;\n   searchinfo = boundaryregex.exec(str); // find end of header\n   if (!searchinfo) return parts;\n   ending = searchinfo.index;\n\n   lines = str.substring(start, ending).split(/\\r\\n|\\n/); // get header as lines\n   for (i=0;i<lines.length;i++) {\n      line=lines[i];\n      p = line.split(\":\");\n      switch (p[0]) {\n         case \"version\":\n            break;\n         case \"part\":\n            partlist.push(p[1]);\n            break;\n         }\n      }\n\n   for (pnum=0; pnum<partlist.length; pnum++) { // get each part\n      blanklineregex.lastIndex = ending;\n      searchinfo = blanklineregex.exec(str); // find blank line ending mime-part header\n      if (!searchinfo) return parts;\n      start = blanklineregex.lastIndex;\n      if (pnum==partlist.length-1) { // last one has different boundary\n         boundaryregex = new RegExp(\"^--\"+boundary+\"--$\", \"mg\");\n         }\n      boundaryregex.lastIndex = start;\n      searchinfo = boundaryregex.exec(str); // find ending boundary\n      if (!searchinfo) return parts;\n      ending = searchinfo.index;\n      parts[partlist[pnum]] = {start: start, end: ending}; // return position within full string\n      }\n\n   return parts;\n\n   }\n\n\n// END OF FILE\n\n\nif('undefined' === typeof document) {\n    // We don't really need a DOM-based presentation layer on the server\n    SocialCalc.GetEditorCellElement = function () {};\n    SocialCalc.ReplaceCell = function () {};\n    SocialCalc.EditorRenderSheet = function () {};\n    SocialCalc.SpreadsheetControlSortSave = function () { return \"\"; };\n    SocialCalc.SpreadsheetControlStatuslineCallback = function () {};\n    SocialCalc.DoPositionCalculations = function (editor) {\n        SocialCalc.EditorSheetStatusCallback(\n            null, \"doneposcalc\", null, editor\n        );\n    };\n}\n\n// Compatibility with webworker-threads\nif (typeof self !== 'undefined' && self.thread) {\n    window.setTimeout = function (cb, ms) {\n        if (ms <= 1) { self.thread.nextTick(cb); }\n    };\n    window.clearTimeout = function () {};\n}\n\n    // Just return a value to define the module export.\n    return SocialCalc;\n}));\n","(function() {\n\nClass = function(classDefinition, classWrapper) {\n    if (!classDefinition) throw(\"Class requires a class definition string as its first argument\");\n    if (!classWrapper) throw(\"Class requires a class wrapper function as its second argument\");\n\n    if (! classDefinition.match(/^([\\w\\.]+)(?:\\(\\s*([\\w\\.]+)\\s*\\))?(?:\\s+(.*?)\\s*)?$/))\n        throw(\"Can't parse Class Definition: '\" + classDefinition + \"'\");\n    var className = RegExp.$1;\n    var baseClassName = RegExp.$2 || '';\n    var options = [];\n    if (RegExp.$3) {\n        options = RegExp.$3.split(/\\s+/);\n    }\n    var incValues = [];\n    var strict = true;\n    for (var i = 0, l = options.length; i < l; i++) {\n        var option = options[i];\n        if (option == '-nostrict') {\n            strict = false;\n        }\n        if (option.match(/^-inc=(.+)$/)) {\n            incValues = RegExp.$1.split(',');\n        }\n    }\n\n    var parts = className.split('.');\n    var klass = Class.global;\n    for (var i = 0; i < parts.length; i++) {\n        if (! klass[parts[i]]) {\n            klass[parts[i]] = function() {\n                try { this.init() } catch(e) {}\n            };\n        }\n        klass = klass[parts[i]];\n    }\n    klass.className = className;\n\n    klass.isa = function(baseName) {\n        klass.baseClassName = baseName;\n        if (baseName) {\n            klass.prototype = eval('new ' + baseName + '()');\n            klass.prototype.superFunc = function(name) {\n                return eval(baseName).prototype[name];\n            }\n        }\n    };\n    klass.isa(baseClassName);\n\n    klass.global = Class.global;\n\n    klass.addGlobal = function() {\n        this.newGlobals++;\n        return Class.global;\n    }\n\n    klass.extend = function(pairs) {\n        if (typeof pairs != 'object') {\n            throw(\"extend requires an object of name:value pairs\");\n        }\n        for (var name in pairs) {\n            klass.prototype[name] = pairs[name];\n        }\n    }\n\n    for (var ii = 0, ll = incValues.length; ii < ll; ii++) {\n        var value = incValues[ii];\n        if (value == 'proto') {\n            incValues[ii] = klass.prototype;\n        }\n        else if (value == 'this') {\n            incValues[ii] = klass;\n        }\n        else {\n            incValues[ii] = Class.global[value];\n        }\n    }\n\n    if (strict) {\n        Class.eval_strict(classWrapper, klass, incValues);\n    }\n    else {\n        classWrapper.apply(klass, incValues);\n    }\n\n    return klass;\n};\n\n})();\n\nClass.global = this;\n\nClass.eval_strict = function(classWrapper, klass, incValues) {\n    var globals = 0;\n    var last_key;\n\n    for (var k in Class.global) {\n        globals++;\n        last_key = k;\n    }\n\n    klass.newGlobals = 0;\n\n    classWrapper.apply(klass, incValues);\n\n    var globals_after = 0;\n    for (var k in Class.global) {\n        globals_after++;\n    }\n\n    if (globals + klass.newGlobals != globals_after) {\n        throw(\"Class '\" + klass.className + \"' defines \" + (globals_after - globals) + \" new global JavaScript variables without using this.addGlobal()\");\n    }\n\n    delete klass.newGlobals;\n};\n\n","Class('Document.Emitter', function() {\n\nvar proto = this.prototype;\nproto.className = 'Document.Emitter';\n\nproto.instantiate = function() {\n    return eval('new ' + this.className + '()');\n}\n\nproto.init = function() {\n    this.output = '';\n}\n\nproto.content = function() {\n    return this.output;\n}\n\nproto.insert = function(receiver) {\n    this.output += receiver.output;\n}\n\n});\n","Class('Document.Emitter.HTML(Document.Emitter)', function() {\n\nvar proto = this.prototype;\nproto.className = 'Document.Emitter.HTML';\n\nproto.begin_node = function(node) {\n    var tag = node.type;\n    switch (tag) {\n        case 'asis': case 'line': return;\n        case 'br': case 'hr': {\n            this.output += '<'+tag+' />';\n            return;\n        }\n        case 'html': {\n            this.output += '<span class=\"wafl\">Raw HTML section. Edit in Wiki Text mode.</span>';\n            return;\n        }\n        case 'waflparagraph': case 'waflphrase': case 'im': {\n            if (node._wafl.match(/^image:\\s*(\\S+)(?:\\s+size=(\\w+))?/)) {\n                var onload = \"if (typeof(ss) != 'undefined' && ss.editor) { var recalc = function () { try { ss.editor.DoPositionCalculations() } catch (e) { setTimeout(recalc, 500) } }; recalc() } if (!window.image_dimension_cache) window.image_dimension_cache = {};window.image_dimension_cache['/data/wafl/\"+node._label.replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/'/g, \"\\\\'\").replace(/\\\\/g, \"\\\\\\\\\")+\"'] = [ this.offsetWidth, this.offsetHeight ]; this.style.width = this.offsetWidth + 'px'; this.style.height = this.offsetHeight + 'px'\";\n\n                var imageName = RegExp.$1;\n                var width = RegExp.$2;\n                switch (width) {\n                    case 'small':  { width = '100'; break; }\n                    case 'medium': { width = '300'; break; }\n                    case 'large':  { width = '600'; break; }\n                }\n                if (width) {\n                    width = ' width=\"'+width+'\"';\n                }\n                this.output += '<img src=\"'+imageName.replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\")+'\" onload=\"'+onload+'\"'+width+' />';\n                return;\n            }\n            this.output += '<span class=\"wafl\">'+node._label.replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/'/g, \"\\\\'\").replace(/\\\\/g, \"\\\\\\\\\")+'</span>';\n\n            return;\n        }\n        case 'a': case 'wikilink': {\n            this.output += '<a href=\"'+encodeURI(node._href)+'\">';\n            return;\n        }\n        case 'file': {\n            this.output += '<a title=\"(network resource)\" href=\"'+encodeURI(node._href)+'\">';\n            return;\n        }\n        case 'ul': case 'ol': case 'table': case 'tr': {\n            this.output += '<'+tag+\">\\n\";\n            return;\n        }\n        default: {\n            this.output += '<'+tag+'>';\n            return;\n        }\n    }\n}\n\nproto.end_node = function(node) {\n    var tag = node.type;\n    switch (tag) {\n        case 'asis': case 'br': case 'hr': case 'html': case 'waflparagraph': case 'waflphrase': case 'im': return;\n        case 'line': {\n            this.output += '<br />';\n            return;\n        }\n        case 'file': case 'wikilink': {\n            this.output += '</a>';\n            return;\n        }\n        default: {\n            if (tag.search(/^(?:p|ul|ol|li|h\\d|table|tr|td)$/) == 0) {\n                this.output += '</'+tag+\">\\n\";\n            }\n            else {\n                this.output += '</'+tag+'>';\n            }\n            return;\n        }\n    }\n    return;\n}\n\nproto.text_node = function(text) {\n    this.output += text\n        .replace(/&/g, '&amp;')\n        .replace(/>/g, '&gt;')\n        .replace(/</g, '&lt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&apos;');\n}\n\n});\n","Class('Document.Parser', function() {\n\nvar proto = this.prototype;\n\nproto.className = 'Document.Parser';\n\nproto.init = function() {}\n\nproto.parse = function(input, receiver) {\n    this.input = (input.search(/\\n$/) == -1) ? input+\"\\n\" : input;\n    if (receiver) this.receiver = receiver;\n    this.receiver.init();\n    this.grammar = this.create_grammar();\n    this.parse_blocks('top');\n    return this.receiver.content();\n}\n\nproto.create_grammar = function() {\n    throw \"Please define create_grammar in a derived class of Document.Parser.\";\n};\n\n//------------------------------------------------------------------------------\n// Parse input into a series of blocks. With each iteration the parser must\n// match a block at position 0 of the text, and remove that block from the\n// input reparse it further. This continues until there is no input left.\n//------------------------------------------------------------------------------\nproto.parse_blocks = function(container_type) {\n    var types = this.grammar[container_type].blocks; // Document.contains[container_type];\n    if (!types) return;\n    while (this.input.length) {\n        var length = this.input.length;\n        for (var i = 0; i < types.length; i++) {\n            var type = types[i];\n            var matched = this.find_match('matched_block', type);\n            if (matched) {\n                this.input = this.input.substr(matched.end);\n                this.handle_match(type, matched);\n                break;\n            }\n        }\n        if (this.input.length >= length)\n            throw this.classname + ': Reduction error for:\\n' + this.input +\n            '\\n' + JSON.stringify(this);\n    }\n    return;\n}\n\nproto.handle_match = function(type, match) {\n    var grammar = this.grammar[type];\n    var parse = grammar.blocks ? 'parse_blocks' : 'parse_phrases';\n    // console.log(\"Subparsing \" + parse + '(' + type + '): ');\n    // console.log(match);\n    this.subparse(parse, match, type, grammar.filter);\n}\n\nproto.find_match = function(matched_func, type) {\n    var re = this.grammar[type].match;\n    if (!re) throw 'no regexp for type: ' + type;\n    var capture = this.input.match(re);\n    if (capture) {\n        // console.log(\"Found match \" + type + \" - \" + matched_func);\n        var match = this[matched_func].call(this, capture, this.grammar[type].lookbehind);\n        match.type = this.grammar[type].type || type;\n        // console.log(match);\n        return match;\n    }\n    return;\n};\n\n//------------------------------------------------------------------------------\n// This code parses a chunk into interleaved pieces of plain text and\n// phrases. It repeatedly tries to match every possible phrase and\n// then takes the match closest to the start. Everything before a\n// match is written as text. Matched phrases are subparsed according\n// to their rules. This continues until the input is all eaten.\n//------------------------------------------------------------------------------\nproto.parse_phrases = function(container_type) {\n    var types = this.grammar[container_type].phrases;\n    if (!types) { this.receiver.text_node(this.input || ''); return }\n    // console.log(\"INPUT: \" + this.input);\n    while (this.input.length) {\n        var match = null;\n        for (var i = 0; i < types.length; i++) {\n            var type = types[i];\n            var matched = this.find_match('matched_phrase', type);\n            if (! matched) continue;\n\n            if (!match || (matched.begin < match.begin)) {\n                match = matched;\n                if (match.begin == 0) break;\n            }\n        }\n        if (!match) {\n            // console.log(\"NO MATCH: \" + this.input);\n            this.receiver.text_node(this.input || '');\n            break;\n        }\n        if (match.begin != 0) {\n            // console.log(\"MATCH OFFSET:\" + this.input + \" (\" + match.type + \")\" + match.begin);\n            this.receiver.text_node(this.input.substr(0, match.begin) || '');\n            }\n        this.input = this.input.substr(match.end);\n        this.handle_match(match.type, match);\n    }\n    return;\n}\n\nproto.subparse = function(func, match, type, filter) {\n    /* The call could cause side effects to the match object. */\n    match.type = this.grammar[type].type;\n    if (match.type == null) match.type = type;\n\n    var filtered_text = filter ? filter(match) : null;\n\n    if (match.type) this.receiver.begin_node(match);\n\n    var parser = eval('new ' + this.className + '()');\n\n    parser.input = (filtered_text == null) ? match.text : filtered_text;\n    parser.grammar = this.grammar;\n    parser.receiver = this.receiver.instantiate();\n    // console.log(\"SEEDED: (\" + type + \")\" + parser.input);\n    parser[func].call(parser, type);\n    this.receiver.insert(parser.receiver);\n\n    if (match.type) this.receiver.end_node(match);\n}\n\n//------------------------------------------------------------------------------\n// Helper functions\n//\n// These are the odds and ends called by the code above.\n//------------------------------------------------------------------------------\n\n/* Blocks has no lookbehinds, so:\n * All match begins at 0. The first capture is text; the next ones are various parts.\n */\nproto.matched_block = function(capture) {\n    return {\n        begin: capture.index,\n        text: capture[1],\n        end: capture[0].length,\n        1: capture[2],\n        2: capture[3],\n        3: capture[4]\n    };\n}\n\n/* The first capture in a Phrases is the lookbehind. So:\n */\nproto.matched_phrase = function(capture, lookbehind) {\n    if (lookbehind) {\n        var text = capture[2];\n        var begin = this.input.indexOf(capture[1]);\n        return {\n            text: text,\n            begin: begin,\n            end: (begin + capture[1].length),\n            1: RegExp.$2,\n            2: RegExp.$3,\n            3: RegExp.$4\n        };\n    }\n\n    return {\n        begin: capture.index,\n        text: capture[1],\n        end: capture.index + capture[0].length,\n        1: capture[2],\n        2: capture[3],\n        3: capture[4]\n    };\n}\n\n});\n","Class('Document.Parser.Wikitext(Document.Parser)', function() {\n\nvar proto = this.prototype;\nproto.className = 'Document.Parser.Wikitext';\n\nproto.init = function() {}\n\nproto.create_grammar = function() {\n    var all_blocks = ['pre', 'html', 'hr', 'hx', 'waflparagraph', 'ul', 'ol', 'blockquote', 'p', 'empty', 'else'];\n\n    // Phrase TODO: im\n    var all_phrases = ['waflphrase', 'asis', 'wikilink', 'wikilink2', 'a', 'im', 'mail', 'file', 'tt', 'b', 'i', 'del', 'a'];\n\n    var re_huggy = function(brace1, brace2) {\n        brace2 = '\\\\' + (brace2 || brace1);\n        brace1 = '\\\\' + brace1;\n        return {\n            match: new RegExp('(?:^|[^'+brace1+'\\\\w])('+brace1+'(?=\\\\S)(?!'+brace2+')(.*?)'+brace2+'(?=[^'+brace2+'\\\\w]|$))'),\n            phrases: (brace1 == '\\\\`') ? null : all_phrases,\n            lookbehind: true\n        };\n    };\n\n    var im_types = {\n        yahoo: 'yahoo',\n        ymsgr: 'yahoo',\n        callto: 'callto',\n        callme: 'callto',\n        skype: 'callto',\n        aim: 'aim'\n    };\n\n    var im_label = {\n        aim: \"AIM: %1\",\n        yahoo: \"Yahoo: %1\",\n        callto: \"Skype: %1\"\n    };\n\n    var im_re = '(\\\\b(';\n    for (var key in im_types) {\n        im_re += key + '|';\n    }\n    im_re = im_re.replace(/\\|$/, ')\\\\:([^\\\\s\\\\>\\\\)]+))');\n\n    var re_list = function(bullet, filter_out) {\n        var exclusion = new RegExp('(^|\\n)' + filter_out + '\\ *', 'g');\n        return {\n            match: new RegExp(\n                \"^(\" + bullet + \"+\\ .*\\n\" +\n                \"(?:[\\*\\-\\+\\#]+\\ .*\\n)*\" +\n                \")(?:\\s*\\n)?\"\n            ),\n            blocks: ['ul', 'ol', 'subl', 'li'],\n            filter: function(node) {\n                return node.text.replace(exclusion, '$1');\n            }\n        };\n    };\n\n    return {\n        _all_blocks: all_blocks,\n        _all_phrases: all_phrases,\n        top: { blocks: all_blocks },\n        ol: re_list('#', '[*#]'),\n        ul: re_list('[-+*]', '[-+*#]'),\n        blockquote: {\n            match: /^((?:>[^\\n]*\\n)+)(?:\\s*\\n)?/,\n            blocks: ['blockquote', 'line'],\n            filter: function(node) { return node.text.replace(/(^|\\n)>\\ ?/g, '$1') }\n        },\n        line: {\n            match: /([^\\n]*)\\n/,\n            phrases: all_phrases\n        },\n        subl: {\n            type: 'li',\n            match: /^(([^\\n]*)\\n[*#]+\\ [^\\n]*\\n(?:[*#]+\\ [^\\n]*\\n)*)(?:\\s*\\n)?/,\n            blocks: ['ul', 'ol', 'li2']\n        },\n        li: {\n            match: /([^\\n]*)\\n/,\n            phrases: all_phrases\n        },\n        li2: {\n            type: '', // Do not emit begin/end node; just reparse\n            match: /([^\\n]*)\\n/,\n            phrases: all_phrases\n        },\n        html: {\n            match: /^(\\.html\\ *\\n(?:[^\\n]*\\n)*?\\.html)\\ *\\n(?:\\s*\\n)?/,\n            filter: function(node) {\n                node._html = node.text;\n                return '';\n            }\n        },\n        pre: { match: /^\\.pre\\ *\\n((?:[^\\n]*\\n)*?)\\.pre\\ *\\n(?:\\s*\\n)?/ },\n        hr: { match: /^--+(?:\\s*\\n)?/ },\n        hx: {\n            match: /^((\\^+) *([^\\n]*?)(\\s+=+)?\\s*?\\n+)/,\n            phrases: all_phrases,\n            filter: function(node) {\n                node.type = 'h' + node['1'].length;\n                return node[2];\n            }\n        },\n        p: {\n            match: /^((?:(?!(?:(?:\\^+|\\#+|\\*+|\\-+) |\\>|\\.\\w+\\s*\\n|\\{[^\\}]+\\}\\s*\\n))[^\\n]*\\S[^\\n]*\\n)+(?:(?=^|\\n)\\s*\\n)*)/,\n            phrases: all_phrases,\n            filter: function(node) { return node.text.replace(/\\n$/, '') }\n        },\n        empty: {\n            match: /^(\\s*\\n)/,\n            filter: function(node) { node.type = '' }\n        },\n        'else': {\n            match: /^(([^\\n]*)\\n)/,\n            phrases: [],\n            filter: function(node) {\n                node.type = 'p';\n            }\n        },\n        waflparagraph: {\n            match: /^\\{(.*)\\}[\\ \\t]*\\n(?:\\s*\\n)?/,\n            filter: function(node) {\n                node._wafl = node._label = node.text;\n                // node._function = node._wafl.replace(/[: ].*/, '');;\n                // node._options = node._wafl.replace(/^[^: ]*[: ]?/, '');\n                return '';\n            }\n        },\n        waflphrase: {\n            match: /(?:^|[\\s\\-])((?:\"([^\\n]+?)\")?\\{([\\w-]+(?=[\\:\\ \\}])(?:\\s*:)?\\s*[^\\n]*?\\s*)\\}(?=[\\W_]|$))/,\n            filter: function(node) {\n                node._wafl = node[2];\n                node._label = node[1] || node._wafl;\n                // node._function = node._wafl.replace(/[: ].*/, '');;\n                // node._options = node._wafl.replace(/^[^: ]*[: ]?/, '');\n                return '';\n            },\n            lookbehind: true\n        },\n        asis: {\n            match: /(\\{\\{([^\\n]*?)\\}\\}(\\}*))/,\n            filter: function(node) {\n                node.type = '';\n                return(node[1] + node[2]);\n            }\n        },\n        wikilink: {\n            match: /(?:^|[_\\W])(\\[()(?=[^\\s\\[\\]])(.*?)\\](?=[_\\W]|$))/,\n            filter: function(node) {\n                node._href = '?' + node[2];\n                return(node.text || node[2]);\n            },\n            lookbehind: true\n        },\n        wikilink2: {\n            type: 'wikilink',\n            match: /(?:\"([^\"]*)\"\\s*)(\\[(?=[^\\s\\[\\]])(.*?)\\](?=[_\\W]|$))/,\n            filter: function(node) {\n                node._href = '?' + node[2];\n                return(node[1] || node[2]);\n            }\n        },\n        a: {\n            match: /((?:\"([^\"]*)\"\\s*)?<?((?:http|https|ftp|irc|file):(?:\\/\\/)?[\\;\\/\\?\\:\\@\\&\\=\\+\\$\\,\\[\\]\\#A-Za-z0-9\\-\\_\\.\\!\\~\\*\\'\\(\\)]+[A-Za-z0-9\\/#])>?)/,\n            filter: function(node) {\n                node._href = node[2];\n                return(node[1] || node[2]);\n            }\n        },\n        file: {\n            match: /((?:\"([^\"]*)\")?<(\\\\\\\\[^\\s\\>\\)]+)>)/,\n            filter: function(node) {\n                var href = node[2].replace(/^\\\\\\\\/, '');\n                node._href = \"file://\" + href.replace(/\\\\/g, '/');\n                return(node['1'] || href);\n            }\n        },\n        im: {\n            match: (new RegExp(im_re)),\n            filter: function(node) {\n                node._wafl = node[1] + ': ' + node[2];\n                node._label = (im_label[im_types[node[1]]] || '%1').replace(/%1/g, node[2]);\n                return '';\n            }\n        },\n        mail: {\n            match: /([\\w+%\\-\\.]+@(?:[\\w\\-]+\\.)+[\\w\\-]+)/,\n            filter: function(node) {\n                node.type = 'a';\n                node._href = \"mailto:\" + node.text.replace(/%/g, '%25');\n            }\n        },\n        tt: re_huggy('`'), // Special-cased in re_huggy above to disallow subphrases\n        b: re_huggy('*'),\n        i: re_huggy('_'),\n        del: re_huggy('-')\n    };\n};\n\n});\n","/*! jQuery v1.11.0 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */\n!function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k=\"\".trim,l={},m=\"1.11.0\",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:\"\",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:\"jQuery\"+(m+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===n.type(a)},isArray:Array.isArray||function(a){return\"array\"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||\"object\"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,\"constructor\")&&!j.call(a.constructor.prototype,\"isPrototypeOf\"))return!1}catch(c){return!1}if(l.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?h[i.call(a)]||\"object\":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,\"ms-\").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:k&&!k.call(\"\\ufeff\\xa0\")?function(a){return null==a?\"\":k.call(a)}:function(a){return null==a?\"\":(a+\"\").replace(o,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,\"string\"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return\"string\"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||n.guid++,e):void 0},now:function(){return+new Date},support:l}),n.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(a,b){h[\"[object \"+b+\"]\"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return\"function\"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=\"sizzle\"+-new Date,t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=!0),0},A=\"undefined\",B=1<<31,C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},J=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",K=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",L=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",M=L.replace(\"w\",\"w#\"),N=\"\\\\[\"+K+\"*(\"+L+\")\"+K+\"*(?:([*^$|!~]?=)\"+K+\"*(?:(['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|(\"+M+\")|)|)\"+K+\"*\\\\]\",O=\":(\"+L+\")(?:\\\\(((['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+N.replace(3,8)+\")*)|.*)\\\\)|)\",P=new RegExp(\"^\"+K+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+K+\"+$\",\"g\"),Q=new RegExp(\"^\"+K+\"*,\"+K+\"*\"),R=new RegExp(\"^\"+K+\"*([>+~]|\"+K+\")\"+K+\"*\"),S=new RegExp(\"=\"+K+\"*([^\\\\]'\\\"]*?)\"+K+\"*\\\\]\",\"g\"),T=new RegExp(O),U=new RegExp(\"^\"+M+\"$\"),V={ID:new RegExp(\"^#(\"+L+\")\"),CLASS:new RegExp(\"^\\\\.(\"+L+\")\"),TAG:new RegExp(\"^(\"+L.replace(\"w\",\"w*\")+\")\"),ATTR:new RegExp(\"^\"+N),PSEUDO:new RegExp(\"^\"+O),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+K+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+K+\"*(?:([+-]|)\"+K+\"*(\\\\d+)|))\"+K+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+J+\")$\",\"i\"),needsContext:new RegExp(\"^\"+K+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+K+\"*((?:-\\\\d)?\\\\d*)\"+K+\"*\\\\)|)(?=[^-]|$)\",\"i\")},W=/^(?:input|select|textarea|button)$/i,X=/^h\\d$/i,Y=/^[^{]+\\{\\s*\\[native \\w/,Z=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,$=/[+~]/,_=/'|\\\\/g,ab=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+K+\"?|(\"+K+\")|.)\",\"ig\"),bb=function(a,b,c){var d=\"0x\"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(cb){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function db(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;if((b?b.ownerDocument||b:t)!==l&&k(b),b=b||l,d=d||[],!a||\"string\"!=typeof a)return d;if(1!==(i=b.nodeType)&&9!==i)return[];if(n&&!e){if(f=Z.exec(a))if(h=f[1]){if(9===i){if(g=b.getElementById(h),!g||!g.parentNode)return d;if(g.id===h)return d.push(g),d}else if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h)return d.push(g),d}else{if(f[2])return G.apply(d,b.getElementsByTagName(a)),d;if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(h)),d}if(c.qsa&&(!o||!o.test(a))){if(q=p=s,u=b,v=9===i&&a,1===i&&\"object\"!==b.nodeName.toLowerCase()){m=ob(a),(p=b.getAttribute(\"id\"))?q=p.replace(_,\"\\\\$&\"):b.setAttribute(\"id\",q),q=\"[id='\"+q+\"'] \",j=m.length;while(j--)m[j]=q+pb(m[j]);u=$.test(a)&&mb(b.parentNode)||b,v=m.join(\",\")}if(v)try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute(\"id\")}}}return xb(a.replace(P,\"$1\"),b,d,e)}function eb(){var a=[];function b(c,e){return a.push(c+\" \")>d.cacheLength&&delete b[a.shift()],b[c+\" \"]=e}return b}function fb(a){return a[s]=!0,a}function gb(a){var b=l.createElement(\"div\");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function hb(a,b){var c=a.split(\"|\"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function ib(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||B)-(~a.sourceIndex||B);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function jb(a){return function(b){var c=b.nodeName.toLowerCase();return\"input\"===c&&b.type===a}}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return(\"input\"===c||\"button\"===c)&&b.type===a}}function lb(a){return fb(function(b){return b=+b,fb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function mb(a){return a&&typeof a.getElementsByTagName!==A&&a}c=db.support={},f=db.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?\"HTML\"!==b.nodeName:!1},k=db.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;return e!==l&&9===e.nodeType&&e.documentElement?(l=e,m=e.documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener(\"unload\",function(){k()},!1):g.attachEvent&&g.attachEvent(\"onunload\",function(){k()})),c.attributes=gb(function(a){return a.className=\"i\",!a.getAttribute(\"className\")}),c.getElementsByTagName=gb(function(a){return a.appendChild(e.createComment(\"\")),!a.getElementsByTagName(\"*\").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&gb(function(a){return a.innerHTML=\"<div class='a'></div><div class='a i'></div>\",a.firstChild.className=\"i\",2===a.getElementsByClassName(\"i\").length}),c.getById=gb(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){return a.getAttribute(\"id\")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode(\"id\");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==A?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(\"*\"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==A&&n?b.getElementsByClassName(a):void 0},p=[],o=[],(c.qsa=Y.test(e.querySelectorAll))&&(gb(function(a){a.innerHTML=\"<select t=''><option selected=''></option></select>\",a.querySelectorAll(\"[t^='']\").length&&o.push(\"[*^$]=\"+K+\"*(?:''|\\\"\\\")\"),a.querySelectorAll(\"[selected]\").length||o.push(\"\\\\[\"+K+\"*(?:value|\"+J+\")\"),a.querySelectorAll(\":checked\").length||o.push(\":checked\")}),gb(function(a){var b=e.createElement(\"input\");b.setAttribute(\"type\",\"hidden\"),a.appendChild(b).setAttribute(\"name\",\"D\"),a.querySelectorAll(\"[name=d]\").length&&o.push(\"name\"+K+\"*[*^$|!~]?=\"),a.querySelectorAll(\":enabled\").length||o.push(\":enabled\",\":disabled\"),a.querySelectorAll(\"*,:x\"),o.push(\",.*:\")})),(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&gb(function(a){c.disconnectedMatch=q.call(a,\"div\"),q.call(a,\"[s!='']:x\"),p.push(\"!=\",O)}),o=o.length&&new RegExp(o.join(\"|\")),p=p.length&&new RegExp(p.join(\"|\")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},z=b?function(a,b){if(a===b)return j=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:4&d?-1:1)}:function(a,b){if(a===b)return j=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0;if(f===g)return ib(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)k.unshift(c);while(h[d]===k[d])d++;return d?ib(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e):l},db.matches=function(a,b){return db(a,null,null,b)},db.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(S,\"='$1']\"),!(!c.matchesSelector||!n||p&&p.test(b)||o&&o.test(b)))try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return db(b,l,null,[a]).length>0},db.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},db.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):void 0;return void 0!==f?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},db.error=function(a){throw new Error(\"Syntax error, unrecognized expression: \"+a)},db.uniqueSort=function(a){var b,d=[],e=0,f=0;if(j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z),j){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return i=null,a},e=db.getText=function(a){var b,c=\"\",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(\"string\"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=db.selectors={cacheLength:50,createPseudo:fb,match:V,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ab,bb),a[3]=(a[4]||a[5]||\"\").replace(ab,bb),\"~=\"===a[2]&&(a[3]=\" \"+a[3]+\" \"),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),\"nth\"===a[1].slice(0,3)?(a[3]||db.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(\"even\"===a[3]||\"odd\"===a[3])),a[5]=+(a[7]+a[8]||\"odd\"===a[3])):a[3]&&db.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&T.test(c)&&(b=ob(c,!0))&&(b=c.indexOf(\")\",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ab,bb).toLowerCase();return\"*\"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+\" \"];return b||(b=new RegExp(\"(^|\"+K+\")\"+a+\"(\"+K+\"|$)\"))&&w(a,function(a){return b.test(\"string\"==typeof a.className&&a.className||typeof a.getAttribute!==A&&a.getAttribute(\"class\")||\"\")})},ATTR:function(a,b,c){return function(d){var e=db.attr(d,a);return null==e?\"!=\"===b:b?(e+=\"\",\"=\"===b?e===c:\"!=\"===b?e!==c:\"^=\"===b?c&&0===e.indexOf(c):\"*=\"===b?c&&e.indexOf(c)>-1:\"$=\"===b?c&&e.slice(-c.length)===c:\"~=\"===b?(\" \"+e+\" \").indexOf(c)>-1:\"|=\"===b?e===c||e.slice(0,c.length+1)===c+\"-\":!1):!0}},CHILD:function(a,b,c,d,e){var f=\"nth\"!==a.slice(0,3),g=\"last\"!==a.slice(-4),h=\"of-type\"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?\"nextSibling\":\"previousSibling\",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p=\"only\"===a&&!o&&\"nextSibling\"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&t){k=q[s]||(q[s]={}),j=k[a]||[],n=j[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[u,n,m];break}}else if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(t&&((l[s]||(l[s]={}))[a]=[u,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||db.error(\"unsupported pseudo: \"+a);return e[s]?e(b):e.length>1?(c=[a,a,\"\",b],d.setFilters.hasOwnProperty(a.toLowerCase())?fb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:fb(function(a){var b=[],c=[],d=g(a.replace(P,\"$1\"));return d[s]?fb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:fb(function(a){return function(b){return db(a,b).length>0}}),contains:fb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:fb(function(a){return U.test(a||\"\")||db.error(\"unsupported lang: \"+a),a=a.replace(ab,bb).toLowerCase(),function(b){var c;do if(c=n?b.lang:b.getAttribute(\"xml:lang\")||b.getAttribute(\"lang\"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+\"-\");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&!!a.checked||\"option\"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&\"button\"===a.type||\"button\"===b},text:function(a){var b;return\"input\"===a.nodeName.toLowerCase()&&\"text\"===a.type&&(null==(b=a.getAttribute(\"type\"))||\"text\"===b.toLowerCase())},first:lb(function(){return[0]}),last:lb(function(a,b){return[b-1]}),eq:lb(function(a,b,c){return[0>c?c+b:c]}),even:lb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:lb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:lb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:lb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=jb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=kb(b);function nb(){}nb.prototype=d.filters=d.pseudos,d.setFilters=new nb;function ob(a,b){var c,e,f,g,h,i,j,k=x[a+\" \"];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=Q.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P,\" \")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?db.error(a):x(a,i).slice(0)}function pb(a){for(var b=0,c=a.length,d=\"\";c>b;b++)d+=a[b].value;return d}function qb(a,b,c){var d=b.dir,e=c&&\"parentNode\"===d,f=v++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[u,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[s]||(b[s]={}),(h=i[d])&&h[0]===u&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function rb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function sb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function tb(a,b,c,d,e,f){return d&&!d[s]&&(d=tb(d)),e&&!e[s]&&(e=tb(e,f)),fb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||wb(b||\"*\",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:sb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=sb(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=sb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ub(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[\" \"],j=g?1:0,k=qb(function(a){return a===b},i,!0),l=qb(function(a){return I.call(b,a)>-1},i,!0),m=[function(a,c,d){return!g&&(d||c!==h)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++)if(c=d.relative[a[j].type])m=[qb(rb(m),c)];else{if(c=d.filter[a[j].type].apply(null,a[j].matches),c[s]){for(e=++j;f>e;e++)if(d.relative[a[e].type])break;return tb(j>1&&rb(m),j>1&&pb(a.slice(0,j-1).concat({value:\" \"===a[j-2].type?\"*\":\"\"})).replace(P,\"$1\"),c,e>j&&ub(a.slice(j,e)),f>e&&ub(a=a.slice(e)),f>e&&pb(a))}m.push(c)}return rb(m)}function vb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,i,j,k){var m,n,o,p=0,q=\"0\",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG(\"*\",k),w=u+=null==t?1:Math.random()||.1,x=v.length;for(k&&(h=g!==l&&g);q!==x&&null!=(m=v[q]);q++){if(e&&m){n=0;while(o=a[n++])if(o(m,g,i)){j.push(m);break}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}if(p+=q,c&&q!==p){n=0;while(o=b[n++])o(r,s,g,i);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=E.call(j));s=sb(s)}G.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&db.uniqueSort(j)}return k&&(u=w,h=t),r};return c?fb(f):f}g=db.compile=function(a,b){var c,d=[],e=[],f=y[a+\" \"];if(!f){b||(b=ob(a)),c=b.length;while(c--)f=ub(b[c]),f[s]?d.push(f):e.push(f);f=y(a,vb(e,d))}return f};function wb(a,b,c){for(var d=0,e=b.length;e>d;d++)db(a,b[d],c);return c}function xb(a,b,e,f){var h,i,j,k,l,m=ob(a);if(!f&&1===m.length){if(i=m[0]=m[0].slice(0),i.length>2&&\"ID\"===(j=i[0]).type&&c.getById&&9===b.nodeType&&n&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(ab,bb),b)||[])[0],!b)return e;a=a.slice(i.shift().value.length)}h=V.needsContext.test(a)?0:i.length;while(h--){if(j=i[h],d.relative[k=j.type])break;if((l=d.find[k])&&(f=l(j.matches[0].replace(ab,bb),$.test(i[0].type)&&mb(b.parentNode)||b))){if(i.splice(h,1),a=f.length&&pb(i),!a)return G.apply(e,f),e;break}}}return g(a,m)(f,b,!n,e,$.test(a)&&mb(b.parentNode)||b),e}return c.sortStable=s.split(\"\").sort(z).join(\"\")===s,c.detectDuplicates=!!j,k(),c.sortDetached=gb(function(a){return 1&a.compareDocumentPosition(l.createElement(\"div\"))}),gb(function(a){return a.innerHTML=\"<a href='#'></a>\",\"#\"===a.firstChild.getAttribute(\"href\")})||hb(\"type|href|height|width\",function(a,b,c){return c?void 0:a.getAttribute(b,\"type\"===b.toLowerCase()?1:2)}),c.attributes&&gb(function(a){return a.innerHTML=\"<input/>\",a.firstChild.setAttribute(\"value\",\"\"),\"\"===a.firstChild.getAttribute(\"value\")})||hb(\"value\",function(a,b,c){return c||\"input\"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),gb(function(a){return null==a.getAttribute(\"disabled\")})||hb(J,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),db}(a);n.find=t,n.expr=t.selectors,n.expr[\":\"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,w=/^.[^:#\\[\\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if(\"string\"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=\":not(\"+a+\")\"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if(\"string\"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++)if(n.contains(d[b],this))return!0}));for(b=0;e>b;b++)n.find(a,d[b],c);return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+\" \"+a:a,c},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,\"string\"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=a.document,A=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,B=n.fn.init=function(a,b){var c,d;if(!a)return this;if(\"string\"==typeof a){if(c=\"<\"===a.charAt(0)&&\">\"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:A.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:z,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=z.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return y.find(a);this.length=1,this[0]=d}return this.context=z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?\"undefined\"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};B.prototype=n.fn,y=n(z);var C=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!n(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||\"string\"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?\"string\"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function E(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,\"parentNode\")},parentsUntil:function(a,b,c){return n.dir(a,\"parentNode\",c)},next:function(a){return E(a,\"nextSibling\")},prev:function(a){return E(a,\"previousSibling\")},nextAll:function(a){return n.dir(a,\"nextSibling\")},prevAll:function(a){return n.dir(a,\"previousSibling\")},nextUntil:function(a,b,c){return n.dir(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return n.dir(a,\"previousSibling\",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return n.nodeName(a,\"iframe\")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return\"Until\"!==a.slice(-5)&&(d=c),d&&\"string\"==typeof d&&(e=n.filter(d,e)),this.length>1&&(D[a]||(e=n.unique(e)),C.test(a)&&(e=e.reverse())),this.pushStack(e)}});var F=/\\S+/g,G={};function H(a){var b=G[a]={};return n.each(a.match(F)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a=\"string\"==typeof a?G[a]||H(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){n.each(b,function(b,c){var d=n.type(c);\"function\"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&\"string\"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&n.each(arguments,function(a,c){var d;while((d=n.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},n.extend({Deferred:function(a){var b=[[\"resolve\",\"done\",n.Callbacks(\"once memory\"),\"resolved\"],[\"reject\",\"fail\",n.Callbacks(\"once memory\"),\"rejected\"],[\"notify\",\"progress\",n.Callbacks(\"memory\")]],c=\"pending\",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+\"With\"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+\"With\"](this===e?d:this,arguments),this},e[f[0]+\"With\"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){if(a===!0?!--n.readyWait:!n.isReady){if(!z.body)return setTimeout(n.ready);n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(z,[n]),n.fn.trigger&&n(z).trigger(\"ready\").off(\"ready\"))}}});function J(){z.addEventListener?(z.removeEventListener(\"DOMContentLoaded\",K,!1),a.removeEventListener(\"load\",K,!1)):(z.detachEvent(\"onreadystatechange\",K),a.detachEvent(\"onload\",K))}function K(){(z.addEventListener||\"load\"===event.type||\"complete\"===z.readyState)&&(J(),n.ready())}n.ready.promise=function(b){if(!I)if(I=n.Deferred(),\"complete\"===z.readyState)setTimeout(n.ready);else if(z.addEventListener)z.addEventListener(\"DOMContentLoaded\",K,!1),a.addEventListener(\"load\",K,!1);else{z.attachEvent(\"onreadystatechange\",K),a.attachEvent(\"onload\",K);var c=!1;try{c=null==a.frameElement&&z.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!n.isReady){try{c.doScroll(\"left\")}catch(a){return setTimeout(e,50)}J(),n.ready()}}()}return I.promise(b)};var L=\"undefined\",M;for(M in n(l))break;l.ownLast=\"0\"!==M,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c=z.getElementsByTagName(\"body\")[0];c&&(a=z.createElement(\"div\"),a.style.cssText=\"border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px\",b=z.createElement(\"div\"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==L&&(b.style.cssText=\"border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1\",(l.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)}),function(){var a=z.createElement(\"div\");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}}a=null}(),n.acceptData=function(a){var b=n.noData[(a.nodeName+\" \").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute(\"classid\")===b};var N=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&&1===a.nodeType){var d=\"data-\"+b.replace(O,\"-$1\").toLowerCase();if(c=a.getAttribute(d),\"string\"==typeof c){try{c=\"true\"===c?!0:\"false\"===c?!1:\"null\"===c?null:+c+\"\"===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else c=void 0}return c}function Q(a){var b;for(b in a)if((\"data\"!==b||!n.isEmptyObject(a[b]))&&\"toJSON\"!==b)return!1;return!0}function R(a,b,d,e){if(n.acceptData(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||\"string\"!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),(\"object\"==typeof b||\"function\"==typeof b)&&(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),\"string\"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f\n}}function S(a,b,c){if(n.acceptData(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(\" \")),e=b.length;while(e--)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}n.extend({cache:{},noData:{\"applet \":!0,\"embed \":!0,\"object \":\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,\"parsedAttrs\"))){c=g.length;while(c--)d=g[c].name,0===d.indexOf(\"data-\")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d]));n._data(f,\"parsedAttrs\",!0)}return e}return\"object\"==typeof a?this.each(function(){n.data(this,a)}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||\"fx\")+\"queue\",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||\"fx\";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};\"inprogress\"===e&&(e=c.shift(),d--),e&&(\"fx\"===b&&c.unshift(\"inprogress\"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+\"queueHooks\";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks(\"once memory\").add(function(){n._removeData(a,b+\"queue\"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return\"string\"!=typeof a&&(b=a,a=\"fx\",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),\"fx\"===a&&\"inprogress\"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||\"fx\",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};\"string\"!=typeof a&&(b=a,a=void 0),a=a||\"fx\";while(g--)c=n._data(f[g],a+\"queueHooks\"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var T=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,U=[\"Top\",\"Right\",\"Bottom\",\"Left\"],V=function(a,b){return a=b||a,\"none\"===n.css(a,\"display\")||!n.contains(a.ownerDocument,a)},W=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(\"object\"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},X=/^(?:checkbox|radio)$/i;!function(){var a=z.createDocumentFragment(),b=z.createElement(\"div\"),c=z.createElement(\"input\");if(b.setAttribute(\"className\",\"t\"),b.innerHTML=\"  <link/><table></table><a href='/a'>a</a>\",l.leadingWhitespace=3===b.firstChild.nodeType,l.tbody=!b.getElementsByTagName(\"tbody\").length,l.htmlSerialize=!!b.getElementsByTagName(\"link\").length,l.html5Clone=\"<:nav></:nav>\"!==z.createElement(\"nav\").cloneNode(!0).outerHTML,c.type=\"checkbox\",c.checked=!0,a.appendChild(c),l.appendChecked=c.checked,b.innerHTML=\"<textarea>x</textarea>\",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML=\"<input type='radio' checked='checked' name='t'/>\",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,b.attachEvent&&(b.attachEvent(\"onclick\",function(){l.noCloneEvent=!1}),b.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete b.test}catch(d){l.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=z.createElement(\"div\");for(b in{submit:!0,change:!0,focusin:!0})c=\"on\"+b,(l[b+\"Bubbles\"]=c in a)||(d.setAttribute(c,\"t\"),l[b+\"Bubbles\"]=d.attributes[c].expando===!1);d=null}();var Y=/^(?:input|select|textarea)$/i,Z=/^key/,$=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,ab=/^([^.]*)(?:\\.(.+)|)$/;function bb(){return!0}function cb(){return!1}function db(){try{return z.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof n===L||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||\"\").match(F)||[\"\"],h=b.length;while(h--)f=ab.exec(b[h])||[],o=q=f[1],p=(f[2]||\"\").split(\".\").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(\".\")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent(\"on\"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){b=(b||\"\").match(F)||[\"\"],j=b.length;while(j--)if(h=ab.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),i=f=m.length;while(f--)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&(\"**\"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,\"events\"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,m,o=[d||z],p=j.call(b,\"type\")?b.type:b,q=j.call(b,\"namespace\")?b.namespace.split(\".\"):[];if(h=l=d=d||z,3!==d.nodeType&&8!==d.nodeType&&!_.test(p+n.event.triggered)&&(p.indexOf(\".\")>=0&&(q=p.split(\".\"),p=q.shift(),q.sort()),g=p.indexOf(\":\")<0&&\"on\"+p,b=b[n.expando]?b:new n.Event(p,\"object\"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join(\".\"),b.namespace_re=b.namespace?new RegExp(\"(^|\\\\.)\"+q.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),k=n.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!n.isWindow(d)){for(i=k.delegateType||p,_.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||z)&&o.push(l.defaultView||l.parentWindow||a)}m=0;while((h=o[m++])&&!b.isPropagationStopped())b.type=m>1?i:k.bindType||p,f=(n._data(h,\"events\")||{})[b.type]&&n._data(h,\"handle\"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&n.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&n.acceptData(d)&&g&&d[p]&&!n.isWindow(d)){l=d[g],l&&(d[g]=null),n.event.triggered=p;try{d[p]()}catch(r){}n.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(n._data(this,\"events\")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((n.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||\"click\"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||\"click\"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+\" \",void 0===e[c]&&(e[c]=d.needsContext?n(c,this).index(i)>=0:n.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=$.test(e)?this.mouseHooks:Z.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||z),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:\"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:\"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||z,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==db()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:\"focusin\"},blur:{trigger:function(){return this===db()&&this.blur?(this.blur(),!1):void 0},delegateType:\"focusout\"},click:{trigger:function(){return n.nodeName(this,\"input\")&&\"checkbox\"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,\"a\")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d=\"on\"+b;a.detachEvent&&(typeof a[d]===L&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault())?bb:cb):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:cb,isPropagationStopped:cb,isImmediatePropagationStopped:cb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=bb,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=bb,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()}},n.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submitBubbles||(n.event.special.submit={setup:function(){return n.nodeName(this,\"form\")?!1:void n.event.add(this,\"click._submit keypress._submit\",function(a){var b=a.target,c=n.nodeName(b,\"input\")||n.nodeName(b,\"button\")?b.form:void 0;c&&!n._data(c,\"submitBubbles\")&&(n.event.add(c,\"submit._submit\",function(a){a._submit_bubble=!0}),n._data(c,\"submitBubbles\",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&n.event.simulate(\"submit\",this.parentNode,a,!0))},teardown:function(){return n.nodeName(this,\"form\")?!1:void n.event.remove(this,\"._submit\")}}),l.changeBubbles||(n.event.special.change={setup:function(){return Y.test(this.nodeName)?((\"checkbox\"===this.type||\"radio\"===this.type)&&(n.event.add(this,\"propertychange._change\",function(a){\"checked\"===a.originalEvent.propertyName&&(this._just_changed=!0)}),n.event.add(this,\"click._change\",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),n.event.simulate(\"change\",this,a,!0)})),!1):void n.event.add(this,\"beforeactivate._change\",function(a){var b=a.target;Y.test(b.nodeName)&&!n._data(b,\"changeBubbles\")&&(n.event.add(b,\"change._change\",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate(\"change\",this.parentNode,a,!0)}),n._data(b,\"changeBubbles\",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||\"radio\"!==b.type&&\"checkbox\"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,\"._change\"),!Y.test(this.nodeName)}}),l.focusinBubbles||n.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if(\"object\"==typeof a){\"string\"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&(\"string\"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=cb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return n().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+\".\"+d.namespace:d.origType,d.selector,d.handler),this;if(\"object\"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||\"function\"==typeof b)&&(c=b,b=void 0),c===!1&&(c=cb),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});function eb(a){var b=fb.split(\"|\"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var fb=\"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",gb=/ jQuery\\d+=\"(?:null|\\d+)\"/g,hb=new RegExp(\"<(?:\"+fb+\")[\\\\s/>]\",\"i\"),ib=/^\\s+/,jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,kb=/<([\\w:]+)/,lb=/<tbody/i,mb=/<|&#?\\w+;/,nb=/<(?:script|style|link)/i,ob=/checked\\s*(?:[^=]|=\\s*.checked.)/i,pb=/^$|\\/(?:java|ecma)script/i,qb=/^true\\/(.*)/,rb=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,sb={option:[1,\"<select multiple='multiple'>\",\"</select>\"],legend:[1,\"<fieldset>\",\"</fieldset>\"],area:[1,\"<map>\",\"</map>\"],param:[1,\"<object>\",\"</object>\"],thead:[1,\"<table>\",\"</table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],col:[2,\"<table><tbody></tbody><colgroup>\",\"</colgroup></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:l.htmlSerialize?[0,\"\",\"\"]:[1,\"X<div>\",\"</div>\"]},tb=eb(z),ub=tb.appendChild(z.createElement(\"div\"));sb.optgroup=sb.option,sb.tbody=sb.tfoot=sb.colgroup=sb.caption=sb.thead,sb.th=sb.td;function vb(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==L?a.getElementsByTagName(b||\"*\"):typeof a.querySelectorAll!==L?a.querySelectorAll(b||\"*\"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,vb(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function wb(a){X.test(a.type)&&(a.defaultChecked=a.checked)}function xb(a,b){return n.nodeName(a,\"table\")&&n.nodeName(11!==b.nodeType?b:b.firstChild,\"tr\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function yb(a){return a.type=(null!==n.find.attr(a,\"type\"))+\"/\"+a.type,a}function zb(a){var b=qb.exec(a.type);return b?a.type=b[1]:a.removeAttribute(\"type\"),a}function Ab(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,\"globalEval\",!b||n._data(b[d],\"globalEval\"))}function Bb(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)n.event.add(b,c,h[c][d])}g.data&&(g.data=n.extend({},g.data))}}function Cb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);b.removeAttribute(n.expando)}\"script\"===c&&b.text!==a.text?(yb(b).text=a.text,zb(b)):\"object\"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):\"input\"===c&&X.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):\"option\"===c?b.defaultSelected=b.selected=a.defaultSelected:(\"input\"===c||\"textarea\"===c)&&(b.defaultValue=a.defaultValue)}}n.extend({clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!hb.test(\"<\"+a.nodeName+\">\")?f=a.cloneNode(!0):(ub.innerHTML=a.outerHTML,ub.removeChild(f=ub.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=vb(f),h=vb(a),g=0;null!=(e=h[g]);++g)d[g]&&Cb(e,d[g]);if(b)if(c)for(h=h||vb(a),d=d||vb(f),g=0;null!=(e=h[g]);g++)Bb(e,d[g]);else Bb(a,f);return d=vb(f,\"script\"),d.length>0&&Ab(d,!i&&vb(a,\"script\")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,m=a.length,o=eb(b),p=[],q=0;m>q;q++)if(f=a[q],f||0===f)if(\"object\"===n.type(f))n.merge(p,f.nodeType?[f]:f);else if(mb.test(f)){h=h||o.appendChild(b.createElement(\"div\")),i=(kb.exec(f)||[\"\",\"\"])[1].toLowerCase(),k=sb[i]||sb._default,h.innerHTML=k[1]+f.replace(jb,\"<$1></$2>\")+k[2],e=k[0];while(e--)h=h.lastChild;if(!l.leadingWhitespace&&ib.test(f)&&p.push(b.createTextNode(ib.exec(f)[0])),!l.tbody){f=\"table\"!==i||lb.test(f)?\"<table>\"!==k[1]||lb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)n.nodeName(j=f.childNodes[e],\"tbody\")&&!j.childNodes.length&&f.removeChild(j)}n.merge(p,h.childNodes),h.textContent=\"\";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),l.appendChecked||n.grep(vb(p,\"input\"),wb),q=0;while(f=p[q++])if((!d||-1===n.inArray(f,d))&&(g=n.contains(f.ownerDocument,f),h=vb(o.appendChild(f),\"script\"),g&&Ab(h),c)){e=0;while(f=h[e++])pb.test(f.type||\"\")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.deleteExpando,m=n.event.special;null!=(d=a[h]);h++)if((b||n.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);j[f]&&(delete j[f],k?delete d[i]:typeof d.removeAttribute!==L?d.removeAttribute(i):d[i]=null,c.push(f))}}}),n.fn.extend({text:function(a){return W(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(vb(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&Ab(vb(c,\"script\")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&n.cleanData(vb(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&n.nodeName(a,\"select\")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return W(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(gb,\"\"):void 0;if(!(\"string\"!=typeof a||nb.test(a)||!l.htmlSerialize&&hb.test(a)||!l.leadingWhitespace&&ib.test(a)||sb[(kb.exec(a)||[\"\",\"\"])[1].toLowerCase()])){a=a.replace(jb,\"<$1></$2>\");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(vb(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(vb(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,o=k-1,p=a[0],q=n.isFunction(p);if(q||k>1&&\"string\"==typeof p&&!l.checkClone&&ob.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(k&&(i=n.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=n.map(vb(i,\"script\"),yb),f=g.length;k>j;j++)d=i,j!==o&&(d=n.clone(d,!0,!0),f&&n.merge(g,vb(d,\"script\"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,n.map(g,zb),j=0;f>j;j++)d=g[j],pb.test(d.type||\"\")&&!n._data(d,\"globalEval\")&&n.contains(h,d)&&(d.src?n._evalUrl&&n._evalUrl(d.src):n.globalEval((d.text||d.textContent||d.innerHTML||\"\").replace(rb,\"\")));i=c=null}return this}}),n.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],g=n(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),n(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Db,Eb={};function Fb(b,c){var d=n(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:n.css(d[0],\"display\");return d.detach(),e}function Gb(a){var b=z,c=Eb[a];return c||(c=Fb(a,b),\"none\"!==c&&c||(Db=(Db||n(\"<iframe frameborder='0' width='0' height='0'/>\")).appendTo(b.documentElement),b=(Db[0].contentWindow||Db[0].contentDocument).document,b.write(),b.close(),c=Fb(a,b),Db.detach()),Eb[a]=c),c}!function(){var a,b,c=z.createElement(\"div\"),d=\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0\";c.innerHTML=\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\",a=c.getElementsByTagName(\"a\")[0],a.style.cssText=\"float:left;opacity:.5\",l.opacity=/^0.5/.test(a.style.opacity),l.cssFloat=!!a.style.cssFloat,c.style.backgroundClip=\"content-box\",c.cloneNode(!0).style.backgroundClip=\"\",l.clearCloneStyle=\"content-box\"===c.style.backgroundClip,a=c=null,l.shrinkWrapBlocks=function(){var a,c,e,f;if(null==b){if(a=z.getElementsByTagName(\"body\")[0],!a)return;f=\"border:0;width:0;height:0;position:absolute;top:0;left:-9999px\",c=z.createElement(\"div\"),e=z.createElement(\"div\"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==L&&(e.style.cssText=d+\";width:1px;padding:1px;zoom:1\",e.innerHTML=\"<div></div>\",e.firstChild.style.width=\"5px\",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var Hb=/^margin/,Ib=new RegExp(\"^(\"+T+\")(?!px)[a-z%]+$\",\"i\"),Jb,Kb,Lb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Jb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(\"\"!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),Ib.test(g)&&Hb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+\"\"}):z.documentElement.currentStyle&&(Jb=function(a){return a.currentStyle},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ib.test(g)&&!Lb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left=\"fontSize\"===b?\"1em\":g,g=h.pixelLeft+\"px\",h.left=d,f&&(e.left=f)),void 0===g?g:g+\"\"||\"auto\"});function Mb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h=z.createElement(\"div\"),i=\"border:0;width:0;height:0;position:absolute;top:0;left:-9999px\",j=\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0\";h.innerHTML=\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\",b=h.getElementsByTagName(\"a\")[0],b.style.cssText=\"float:left;opacity:.5\",l.opacity=/^0.5/.test(b.style.opacity),l.cssFloat=!!b.style.cssFloat,h.style.backgroundClip=\"content-box\",h.cloneNode(!0).style.backgroundClip=\"\",l.clearCloneStyle=\"content-box\"===h.style.backgroundClip,b=h=null,n.extend(l,{reliableHiddenOffsets:function(){if(null!=c)return c;var a,b,d,e=z.createElement(\"div\"),f=z.getElementsByTagName(\"body\")[0];if(f)return e.setAttribute(\"className\",\"t\"),e.innerHTML=\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\",a=z.createElement(\"div\"),a.style.cssText=i,f.appendChild(a).appendChild(e),e.innerHTML=\"<table><tr><td></td><td>t</td></tr></table>\",b=e.getElementsByTagName(\"td\"),b[0].style.cssText=\"padding:0;margin:0;border:0;display:none\",d=0===b[0].offsetHeight,b[0].style.display=\"\",b[1].style.display=\"none\",c=d&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,c},boxSizing:function(){return null==d&&k(),d},boxSizingReliable:function(){return null==e&&k(),e},pixelPosition:function(){return null==f&&k(),f},reliableMarginRight:function(){var b,c,d,e;if(null==g&&a.getComputedStyle){if(b=z.getElementsByTagName(\"body\")[0],!b)return;c=z.createElement(\"div\"),d=z.createElement(\"div\"),c.style.cssText=i,b.appendChild(c).appendChild(d),e=d.appendChild(z.createElement(\"div\")),e.style.cssText=d.style.cssText=j,e.style.marginRight=e.style.width=\"0\",d.style.width=\"1px\",g=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)}return g}});function k(){var b,c,h=z.getElementsByTagName(\"body\")[0];h&&(b=z.createElement(\"div\"),c=z.createElement(\"div\"),b.style.cssText=i,h.appendChild(b).appendChild(c),c.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%\",n.swap(h,null!=h.style.zoom?{zoom:1}:{},function(){d=4===c.offsetWidth}),e=!0,f=!1,g=!0,a.getComputedStyle&&(f=\"1%\"!==(a.getComputedStyle(c,null)||{}).top,e=\"4px\"===(a.getComputedStyle(c,null)||{width:\"4px\"}).width),h.removeChild(b),c=h=null)}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Nb=/alpha\\([^)]*\\)/i,Ob=/opacity\\s*=\\s*([^)]*)/,Pb=/^(none|table(?!-c[ea]).+)/,Qb=new RegExp(\"^(\"+T+\")(.*)$\",\"i\"),Rb=new RegExp(\"^([+-])=(\"+T+\")\",\"i\"),Sb={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Tb={letterSpacing:0,fontWeight:400},Ub=[\"Webkit\",\"O\",\"Moz\",\"ms\"];function Vb(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ub.length;while(e--)if(b=Ub[e]+c,b in a)return b;return d}function Wb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=n._data(d,\"olddisplay\"),c=d.style.display,b?(f[g]||\"none\"!==c||(d.style.display=\"\"),\"\"===d.style.display&&V(d)&&(f[g]=n._data(d,\"olddisplay\",Gb(d.nodeName)))):f[g]||(e=V(d),(c&&\"none\"!==c||!e)&&n._data(d,\"olddisplay\",e?c:n.css(d,\"display\"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&\"none\"!==d.style.display&&\"\"!==d.style.display||(d.style.display=b?f[g]||\"\":\"none\"));return a}function Xb(a,b,c){var d=Qb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||\"px\"):b}function Yb(a,b,c,d,e){for(var f=c===(d?\"border\":\"content\")?4:\"width\"===b?1:0,g=0;4>f;f+=2)\"margin\"===c&&(g+=n.css(a,c+U[f],!0,e)),d?(\"content\"===c&&(g-=n.css(a,\"padding\"+U[f],!0,e)),\"margin\"!==c&&(g-=n.css(a,\"border\"+U[f]+\"Width\",!0,e))):(g+=n.css(a,\"padding\"+U[f],!0,e),\"padding\"!==c&&(g+=n.css(a,\"border\"+U[f]+\"Width\",!0,e)));return g}function Zb(a,b,c){var d=!0,e=\"width\"===b?a.offsetWidth:a.offsetHeight,f=Jb(a),g=l.boxSizing()&&\"border-box\"===n.css(a,\"boxSizing\",!1,f);if(0>=e||null==e){if(e=Kb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ib.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Yb(a,b,c||(g?\"border\":\"content\"),d,f)+\"px\"}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Kb(a,\"opacity\");return\"\"===c?\"1\":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":l.cssFloat?\"cssFloat\":\"styleFloat\"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=Vb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&\"get\"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,\"string\"===f&&(e=Rb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f=\"number\"),null!=c&&c===c&&(\"number\"!==f||n.cssNumber[h]||(c+=\"px\"),l.clearCloneStyle||\"\"!==c||0!==b.indexOf(\"background\")||(i[b]=\"inherit\"),!(g&&\"set\"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=\"\",i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Vb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&\"get\"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Kb(a,b,d)),\"normal\"===f&&b in Tb&&(f=Tb[b]),\"\"===c||c?(e=parseFloat(f),c===!0||n.isNumeric(e)?e||0:f):f}}),n.each([\"height\",\"width\"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&Pb.test(n.css(a,\"display\"))?n.swap(a,Sb,function(){return Zb(a,b,d)}):Zb(a,b,d):void 0},set:function(a,c,d){var e=d&&Jb(a);return Xb(a,c,d?Yb(a,b,d,l.boxSizing()&&\"border-box\"===n.css(a,\"boxSizing\",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||\"\")?.01*parseFloat(RegExp.$1)+\"\":b?\"1\":\"\"},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?\"alpha(opacity=\"+100*b+\")\":\"\",f=d&&d.filter||c.filter||\"\";c.zoom=1,(b>=1||\"\"===b)&&\"\"===n.trim(f.replace(Nb,\"\"))&&c.removeAttribute&&(c.removeAttribute(\"filter\"),\"\"===b||d&&!d.filter)||(c.filter=Nb.test(f)?f.replace(Nb,e):f+\" \"+e)}}),n.cssHooks.marginRight=Mb(l.reliableMarginRight,function(a,b){return b?n.swap(a,{display:\"inline-block\"},Kb,[a,\"marginRight\"]):void 0}),n.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=\"string\"==typeof c?c.split(\" \"):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Hb.test(a)||(n.cssHooks[a+b].set=Xb)}),n.fn.extend({css:function(a,b){return W(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Jb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)\n},a,b,arguments.length>1)},show:function(){return Wb(this,!0)},hide:function(){return Wb(this)},toggle:function(a){return\"boolean\"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function $b(a,b,c,d,e){return new $b.prototype.init(a,b,c,d,e)}n.Tween=$b,$b.prototype={constructor:$b,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||\"swing\",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?\"\":\"px\")},cur:function(){var a=$b.propHooks[this.prop];return a&&a.get?a.get(this):$b.propHooks._default.get(this)},run:function(a){var b,c=$b.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):$b.propHooks._default.set(this),this}},$b.prototype.init.prototype=$b.prototype,$b.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,\"\"),b&&\"auto\"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},$b.propHooks.scrollTop=$b.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=$b.prototype.init,n.fx.step={};var _b,ac,bc=/^(?:toggle|show|hide)$/,cc=new RegExp(\"^(?:([+-])=|)(\"+T+\")([a-z%]*)$\",\"i\"),dc=/queueHooks$/,ec=[jc],fc={\"*\":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cc.exec(b),f=e&&e[3]||(n.cssNumber[a]?\"\":\"px\"),g=(n.cssNumber[a]||\"px\"!==f&&+d)&&cc.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||\".5\",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function gc(){return setTimeout(function(){_b=void 0}),_b=n.now()}function hc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=U[e],d[\"margin\"+c]=d[\"padding\"+c]=a;return b&&(d.opacity=d.width=a),d}function ic(a,b,c){for(var d,e=(fc[b]||[]).concat(fc[\"*\"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function jc(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&V(a),r=n._data(a,\"fxshow\");c.queue||(h=n._queueHooks(a,\"fx\"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,\"fx\").length||h.empty.fire()})})),1===a.nodeType&&(\"height\"in b||\"width\"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,\"display\"),k=Gb(a.nodeName),\"none\"===j&&(j=k),\"inline\"===j&&\"none\"===n.css(a,\"float\")&&(l.inlineBlockNeedsLayout&&\"inline\"!==k?p.zoom=1:p.display=\"inline-block\")),c.overflow&&(p.overflow=\"hidden\",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],bc.exec(e)){if(delete b[d],f=f||\"toggle\"===e,e===(q?\"hide\":\"show\")){if(\"show\"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||n.style(a,d)}if(!n.isEmptyObject(o)){r?\"hidden\"in r&&(q=r.hidden):r=n._data(a,\"fxshow\",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,\"fxshow\");for(b in o)n.style(a,b,o[b])});for(d in o)g=ic(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start=\"width\"===d||\"height\"===d?1:0))}}function kc(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&\"expand\"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function lc(a,b,c){var d,e,f=0,g=ec.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=_b||gc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:_b||gc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(kc(k,j.opts.specialEasing);g>f;f++)if(d=ec[f].call(j,a,k,j.opts))return d;return n.map(k,ic,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(lc,{tweener:function(a,b){n.isFunction(a)?(b=a,a=[\"*\"]):a=a.split(\" \");for(var c,d=0,e=a.length;e>d;d++)c=a[d],fc[c]=fc[c]||[],fc[c].unshift(b)},prefilter:function(a,b){b?ec.unshift(a):ec.push(a)}}),n.speed=function(a,b,c){var d=a&&\"object\"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:\"number\"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue=\"fx\"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=lc(this,n.extend({},a),f);(e||n._data(this,\"finish\"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return\"string\"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||\"fx\",[]),this.each(function(){var b=!0,e=null!=a&&a+\"queueHooks\",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&dc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||\"fx\"),this.each(function(){var b,c=n._data(this),d=c[a+\"queue\"],e=c[a+\"queueHooks\"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each([\"toggle\",\"show\",\"hide\"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||\"boolean\"==typeof a?c.apply(this,arguments):this.animate(hc(b,!0),a,d,e)}}),n.each({slideDown:hc(\"show\"),slideUp:hc(\"hide\"),slideToggle:hc(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(_b=n.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),_b=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ac||(ac=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(ac),ac=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||\"fx\",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=z.createElement(\"div\");e.setAttribute(\"className\",\"t\"),e.innerHTML=\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\",a=e.getElementsByTagName(\"a\")[0],c=z.createElement(\"select\"),d=c.appendChild(z.createElement(\"option\")),b=e.getElementsByTagName(\"input\")[0],a.style.cssText=\"top:1px\",l.getSetAttribute=\"t\"!==e.className,l.style=/top/.test(a.getAttribute(\"style\")),l.hrefNormalized=\"/a\"===a.getAttribute(\"href\"),l.checkOn=!!b.value,l.optSelected=d.selected,l.enctype=!!z.createElement(\"form\").enctype,c.disabled=!0,l.optDisabled=!d.disabled,b=z.createElement(\"input\"),b.setAttribute(\"value\",\"\"),l.input=\"\"===b.getAttribute(\"value\"),b.value=\"t\",b.setAttribute(\"type\",\"radio\"),l.radioValue=\"t\"===b.value,a=b=c=d=e=null}();var mc=/\\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e=\"\":\"number\"==typeof e?e+=\"\":n.isArray(e)&&(e=n.map(e,function(a){return null==a?\"\":a+\"\"})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&\"set\"in b&&void 0!==b.set(this,e,\"value\")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&\"get\"in b&&void 0!==(c=b.get(e,\"value\"))?c:(c=e.value,\"string\"==typeof c?c.replace(mc,\"\"):null==c?\"\":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,\"value\");return null!=b?b:n.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=\"select-one\"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute(\"disabled\"))||c.parentNode.disabled&&n.nodeName(c.parentNode,\"optgroup\"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each([\"radio\",\"checkbox\"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute(\"value\")?\"on\":a.value})});var nc,oc,pc=n.expr.attrHandle,qc=/^(?:checked|selected)$/i,rc=l.getSetAttribute,sc=l.input;n.fn.extend({attr:function(a,b){return W(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===L?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?oc:nc)),void 0===c?d&&\"get\"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&\"set\"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+\"\"),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(F);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)?sc&&rc||!qc.test(c)?a[d]=!1:a[n.camelCase(\"default-\"+c)]=a[d]=!1:n.attr(a,c,\"\"),a.removeAttribute(rc?c:d)},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&\"radio\"===b&&n.nodeName(a,\"input\")){var c=a.value;return a.setAttribute(\"type\",b),c&&(a.value=c),b}}}}}),oc={set:function(a,b,c){return b===!1?n.removeAttr(a,c):sc&&rc||!qc.test(c)?a.setAttribute(!rc&&n.propFix[c]||c,c):a[n.camelCase(\"default-\"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=pc[b]||n.find.attr;pc[b]=sc&&rc||!qc.test(b)?function(a,b,d){var e,f;return d||(f=pc[b],pc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,pc[b]=f),e}:function(a,b,c){return c?void 0:a[n.camelCase(\"default-\"+b)]?b.toLowerCase():null}}),sc&&rc||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,\"input\")?void(a.defaultValue=b):nc&&nc.set(a,b,c)}}),rc||(nc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+=\"\",\"value\"===c||b===a.getAttribute(c)?b:void 0}},pc.id=pc.name=pc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&\"\"!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:nc.set},n.attrHooks.contenteditable={set:function(a,b,c){nc.set(a,\"\"===b?!1:b,c)}},n.each([\"width\",\"height\"],function(a,b){n.attrHooks[b]={set:function(a,c){return\"\"===c?(a.setAttribute(b,\"auto\"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+\"\"}});var tc=/^(?:input|select|textarea|button|object)$/i,uc=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return W(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({propFix:{\"for\":\"htmlFor\",\"class\":\"className\"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&\"get\"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,\"tabindex\");return b?parseInt(b,10):tc.test(a.nodeName)||uc.test(a.nodeName)&&a.href?0:-1}}}}),l.hrefNormalized||n.each([\"href\",\"src\"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),n.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype=\"encoding\");var vc=/[\\t\\r\\n\\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=\"string\"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||\"\").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(\" \"+c.className+\" \").replace(vc,\" \"):\" \")){f=0;while(e=b[f++])d.indexOf(\" \"+e+\" \")<0&&(d+=e+\" \");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||\"string\"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||\"\").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(\" \"+c.className+\" \").replace(vc,\" \"):\"\")){f=0;while(e=b[f++])while(d.indexOf(\" \"+e+\" \")>=0)d=d.replace(\" \"+e+\" \",\" \");g=a?n.trim(d):\"\",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return\"boolean\"==typeof b&&\"string\"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if(\"string\"===c){var b,d=0,e=n(this),f=a.match(F)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===L||\"boolean\"===c)&&(this.className&&n._data(this,\"__className__\",this.className),this.className=this.className||a===!1?\"\":n._data(this,\"__className__\")||\"\")})},hasClass:function(a){for(var b=\" \"+a+\" \",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(\" \"+this[c].className+\" \").replace(vc,\" \").indexOf(b)>=0)return!0;return!1}}),n.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,\"**\"):this.off(b,a||\"**\",c)}});var wc=n.now(),xc=/\\?/,yc=/(,)|(\\[|{)|(}|])|\"(?:[^\"\\\\\\r\\n]|\\\\[\"\\\\\\/bfnrt]|\\\\u[\\da-fA-F]{4})*\"\\s*:?|true|false|null|-?(?!0\\d)\\d+(?:\\.\\d+|)(?:[eE][+-]?\\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+\"\");var c,d=null,e=n.trim(b+\"\");return e&&!n.trim(e.replace(yc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,\"\")}))?Function(\"return \"+e)():n.error(\"Invalid JSON: \"+b)},n.parseXML=function(b){var c,d;if(!b||\"string\"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,\"text/xml\")):(c=new ActiveXObject(\"Microsoft.XMLDOM\"),c.async=\"false\",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName(\"parsererror\").length||n.error(\"Invalid XML: \"+b),c};var zc,Ac,Bc=/#.*$/,Cc=/([?&])_=[^&]*/,Dc=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/gm,Ec=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fc=/^(?:GET|HEAD)$/,Gc=/^\\/\\//,Hc=/^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,Ic={},Jc={},Kc=\"*/\".concat(\"*\");try{Ac=location.href}catch(Lc){Ac=z.createElement(\"a\"),Ac.href=\"\",Ac=Ac.href}zc=Hc.exec(Ac.toLowerCase())||[];function Mc(a){return function(b,c){\"string\"!=typeof b&&(c=b,b=\"*\");var d,e=0,f=b.toLowerCase().match(F)||[];if(n.isFunction(c))while(d=f[e++])\"+\"===d.charAt(0)?(d=d.slice(1)||\"*\",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nc(a,b,c,d){var e={},f=a===Jc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return\"string\"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[\"*\"]&&g(\"*\")}function Oc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&n.extend(!0,a,c),a}function Pc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(\"*\"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader(\"Content-Type\"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+\" \"+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Qc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(\"*\"===f)f=i;else if(\"*\"!==i&&i!==f){if(g=j[i+\" \"+f]||j[\"* \"+f],!g)for(e in j)if(h=e.split(\" \"),h[1]===f&&(g=j[i+\" \"+h[0]]||j[\"* \"+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a[\"throws\"])b=g(b);else try{b=g(b)}catch(l){return{state:\"parsererror\",error:g?l:\"No conversion from \"+i+\" to \"+f}}}return{state:\"success\",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ac,type:\"GET\",isLocal:Ec.test(zc[1]),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":Kc,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":n.parseJSON,\"text xml\":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Oc(Oc(a,n.ajaxSettings),b):Oc(n.ajaxSettings,a)},ajaxPrefilter:Mc(Ic),ajaxTransport:Mc(Jc),ajax:function(a,b){\"object\"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks(\"once memory\"),q=k.statusCode||{},r={},s={},t=0,u=\"canceled\",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Dc.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||Ac)+\"\").replace(Bc,\"\").replace(Gc,zc[1]+\"//\"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||\"*\").toLowerCase().match(F)||[\"\"],null==k.crossDomain&&(c=Hc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===zc[1]&&c[2]===zc[2]&&(c[3]||(\"http:\"===c[1]?\"80\":\"443\"))===(zc[3]||(\"http:\"===zc[1]?\"80\":\"443\")))),k.data&&k.processData&&\"string\"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),Nc(Ic,k,b,v),2===t)return v;h=k.global,h&&0===n.active++&&n.event.trigger(\"ajaxStart\"),k.type=k.type.toUpperCase(),k.hasContent=!Fc.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(xc.test(e)?\"&\":\"?\")+k.data,delete k.data),k.cache===!1&&(k.url=Cc.test(e)?e.replace(Cc,\"$1_=\"+wc++):e+(xc.test(e)?\"&\":\"?\")+\"_=\"+wc++)),k.ifModified&&(n.lastModified[e]&&v.setRequestHeader(\"If-Modified-Since\",n.lastModified[e]),n.etag[e]&&v.setRequestHeader(\"If-None-Match\",n.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader(\"Content-Type\",k.contentType),v.setRequestHeader(\"Accept\",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(\"*\"!==k.dataTypes[0]?\", \"+Kc+\"; q=0.01\":\"\"):k.accepts[\"*\"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u=\"abort\";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Nc(Jc,k,b,v)){v.readyState=1,h&&m.trigger(\"ajaxSend\",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort(\"timeout\")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,\"No Transport\");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||\"\",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Pc(k,v,c)),u=Qc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader(\"Last-Modified\"),w&&(n.lastModified[e]=w),w=v.getResponseHeader(\"etag\"),w&&(n.etag[e]=w)),204===a||\"HEAD\"===k.type?x=\"nocontent\":304===a?x=\"notmodified\":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x=\"error\",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+\"\",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&m.trigger(j?\"ajaxSuccess\":\"ajaxError\",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(m.trigger(\"ajaxComplete\",[v,k]),--n.active||n.event.trigger(\"ajaxStop\")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,\"json\")},getScript:function(a,b){return n.get(a,void 0,b,\"script\")}}),n.each([\"get\",\"post\"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:\"GET\",dataType:\"script\",async:!1,global:!1,\"throws\":!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,\"body\")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!l.reliableHiddenOffsets()&&\"none\"===(a.style&&a.style.display||n.css(a,\"display\"))},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var Rc=/%20/g,Sc=/\\[\\]$/,Tc=/\\r?\\n/g,Uc=/^(?:submit|button|image|reset|file)$/i,Vc=/^(?:input|select|textarea|keygen)/i;function Wc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Sc.test(a)?d(a,e):Wc(a+\"[\"+(\"object\"==typeof e?b:\"\")+\"]\",e,c,d)});else if(c||\"object\"!==n.type(b))d(a,b);else for(e in b)Wc(a+\"[\"+e+\"]\",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?\"\":b,d[d.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Wc(c,a[c],b,e);return d.join(\"&\").replace(Rc,\"+\")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,\"elements\");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(\":disabled\")&&Vc.test(this.nodeName)&&!Uc.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Tc,\"\\r\\n\")}}):{name:b.name,value:c.replace(Tc,\"\\r\\n\")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$c()||_c()}:$c;var Xc=0,Yc={},Zc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on(\"unload\",function(){for(var a in Yc)Yc[a](void 0,!0)}),l.cors=!!Zc&&\"withCredentials\"in Zc,Zc=l.ajax=!!Zc,Zc&&n.ajaxTransport(function(a){if(!a.crossDomain||l.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Xc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c[\"X-Requested-With\"]||(c[\"X-Requested-With\"]=\"XMLHttpRequest\");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+\"\");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Yc[g],b=void 0,f.onreadystatechange=n.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,\"string\"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=\"\"}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Yc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function $c(){try{return new a.XMLHttpRequest}catch(b){}}function _c(){try{return new a.ActiveXObject(\"Microsoft.XMLHTTP\")}catch(b){}}n.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/(?:java|ecma)script/},converters:{\"text script\":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter(\"script\",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\",a.global=!1)}),n.ajaxTransport(\"script\",function(a){if(a.crossDomain){var b,c=z.head||n(\"head\")[0]||z.documentElement;return{send:function(d,e){b=z.createElement(\"script\"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,\"success\"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ad=[],bd=/(=)\\?(?=&|$)|\\?\\?/;n.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var a=ad.pop()||n.expando+\"_\"+wc++;return this[a]=!0,a}}),n.ajaxPrefilter(\"json jsonp\",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bd.test(b.url)?\"url\":\"string\"==typeof b.data&&!(b.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&bd.test(b.data)&&\"data\");return h||\"jsonp\"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bd,\"$1\"+e):b.jsonp!==!1&&(b.url+=(xc.test(b.url)?\"&\":\"?\")+b.jsonp+\"=\"+e),b.converters[\"script json\"]=function(){return g||n.error(e+\" was not called\"),g[0]},b.dataTypes[0]=\"json\",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ad.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),\"script\"):void 0}),n.parseHTML=function(a,b,c){if(!a||\"string\"!=typeof a)return null;\"boolean\"==typeof b&&(c=b,b=!1),b=b||z;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var cd=n.fn.load;n.fn.load=function(a,b,c){if(\"string\"!=typeof a&&cd)return cd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(\" \");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&\"object\"==typeof b&&(f=\"POST\"),g.length>0&&n.ajax({url:a,type:f,dataType:\"html\",data:b}).done(function(a){e=arguments,g.html(d?n(\"<div>\").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var dd=a.document.documentElement;function ed(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,\"position\"),l=n(a),m={};\"static\"===k&&(a.style.position=\"relative\"),h=l.offset(),f=n.css(a,\"top\"),i=n.css(a,\"left\"),j=(\"absolute\"===k||\"fixed\"===k)&&n.inArray(\"auto\",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),\"using\"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,n.contains(b,e)?(typeof e.getBoundingClientRect!==L&&(d=e.getBoundingClientRect()),c=ed(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return\"fixed\"===n.css(d,\"position\")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],\"html\")||(c=a.offset()),c.top+=n.css(a[0],\"borderTopWidth\",!0),c.left+=n.css(a[0],\"borderLeftWidth\",!0)),{top:b.top-c.top-n.css(d,\"marginTop\",!0),left:b.left-c.left-n.css(d,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||dd;while(a&&!n.nodeName(a,\"html\")&&\"static\"===n.css(a,\"position\"))a=a.offsetParent;return a||dd})}}),n.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return W(this,function(a,d,e){var f=ed(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each([\"top\",\"left\"],function(a,b){n.cssHooks[b]=Mb(l.pixelPosition,function(a,c){return c?(c=Kb(a,b),Ib.test(c)?n(a).position()[b]+\"px\":c):void 0})}),n.each({Height:\"height\",Width:\"width\"},function(a,b){n.each({padding:\"inner\"+a,content:b,\"\":\"outer\"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||\"boolean\"!=typeof d),g=c||(d===!0||e===!0?\"margin\":\"border\");return W(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement[\"client\"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[\"scroll\"+a],e[\"scroll\"+a],b.body[\"offset\"+a],e[\"offset\"+a],e[\"client\"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return n});var fd=a.jQuery,gd=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=gd),b&&a.jQuery===n&&(a.jQuery=fd),n},typeof b===L&&(a.jQuery=a.$=n),n});\n","/*! vex.js, vex.dialog.js 2.0.1 */\n(function(){var a;a=function(a){var b,c;return b=!1,a(function(){var d;return d=(document.body||document.documentElement).style,b=void 0!==d.animation||void 0!==d.WebkitAnimation||void 0!==d.MozAnimation||void 0!==d.MsAnimation||void 0!==d.OAnimation,a(window).bind(\"keyup.vex\",function(a){return 27===a.keyCode?c.closeByEscape():void 0})}),c={globalID:1,animationEndEvent:\"animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend\",baseClassNames:{vex:\"vex\",content:\"vex-content\",overlay:\"vex-overlay\",close:\"vex-close\",closing:\"vex-closing\",open:\"vex-open\"},defaultOptions:{content:\"\",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:\"body\",className:\"\",css:{},overlayClassName:\"\",overlayCSS:{},contentClassName:\"\",contentCSS:{},closeClassName:\"\",closeCSS:{}},open:function(b){return b=a.extend({},c.defaultOptions,b),b.id=c.globalID,c.globalID+=1,b.$vex=a(\"<div>\").addClass(c.baseClassNames.vex).addClass(b.className).css(b.css).data({vex:b}),b.$vexOverlay=a(\"<div>\").addClass(c.baseClassNames.overlay).addClass(b.overlayClassName).css(b.overlayCSS).data({vex:b}),b.overlayClosesOnClick&&b.$vexOverlay.bind(\"click.vex\",function(b){return b.target===this?c.close(a(this).data().vex.id):void 0}),b.$vex.append(b.$vexOverlay),b.$vexContent=a(\"<div>\").addClass(c.baseClassNames.content).addClass(b.contentClassName).css(b.contentCSS).append(b.content).data({vex:b}),b.$vex.append(b.$vexContent),b.showCloseButton&&(b.$closeButton=a(\"<div>\").addClass(c.baseClassNames.close).addClass(b.closeClassName).css(b.closeCSS).data({vex:b}).bind(\"click.vex\",function(){return c.close(a(this).data().vex.id)}),b.$vexContent.append(b.$closeButton)),a(b.appendLocation).append(b.$vex),c.setupBodyClassName(b.$vex),b.afterOpen&&b.afterOpen(b.$vexContent,b),setTimeout(function(){return b.$vexContent.trigger(\"vexOpen\",b)},0),b.$vexContent},getAllVexes:function(){return a(\".\"+c.baseClassNames.vex+':not(\".'+c.baseClassNames.closing+'\") .'+c.baseClassNames.content)},getVexByID:function(b){return c.getAllVexes().filter(function(){return a(this).data().vex.id===b})},close:function(a){var b;if(!a){if(b=c.getAllVexes().last(),!b.length)return!1;a=b.data().vex.id}return c.closeByID(a)},closeAll:function(){var b;return b=c.getAllVexes().map(function(){return a(this).data().vex.id}).toArray(),(null!=b?b.length:void 0)?(a.each(b.reverse(),function(a,b){return c.closeByID(b)}),!0):!1},closeByID:function(d){var e,f,g,h,i;return f=c.getVexByID(d),f.length?(e=f.data().vex.$vex,i=a.extend({},f.data().vex),g=function(){return i.beforeClose?i.beforeClose(f,i):void 0},h=function(){return f.trigger(\"vexClose\",i),e.remove(),i.afterClose?i.afterClose(f,i):void 0},b?(g(),e.unbind(c.animationEndEvent).bind(c.animationEndEvent,function(){return h()}).addClass(c.baseClassNames.closing)):(g(),h()),!0):void 0},closeByEscape:function(){var b,d,e;return e=c.getAllVexes().map(function(){return a(this).data().vex.id}).toArray(),(null!=e?e.length:void 0)?(d=Math.max.apply(Math,e),b=c.getVexByID(d),b.data().vex.escapeButtonCloses!==!0?!1:c.closeByID(d)):!1},setupBodyClassName:function(b){return b.bind(\"vexOpen.vex\",function(){return a(\"body\").addClass(c.baseClassNames.open)}).bind(\"vexClose.vex\",function(){return c.getAllVexes().length?void 0:a(\"body\").removeClass(c.baseClassNames.open)})},hideLoading:function(){return a(\".vex-loading-spinner\").remove()},showLoading:function(){return c.hideLoading(),a(\"body\").append('<div class=\"vex-loading-spinner '+c.defaultOptions.className+'\"></div>')}}},\"function\"==typeof define&&define.amd?define([\"jquery\"],a):\"object\"==typeof exports?module.exports=a(require(\"jquery\")):window.vex=a(jQuery)}).call(this),function(){var a;a=function(a,b){var c,d;return null==b?a.error(\"Vex is required to use vex.dialog\"):(c=function(b){var c;return c={},a.each(b.serializeArray(),function(){return c[this.name]?(c[this.name].push||(c[this.name]=[c[this.name]]),c[this.name].push(this.value||\"\")):c[this.name]=this.value||\"\"}),c},d={},d.buttons={YES:{text:\"OK\",type:\"submit\",className:\"vex-dialog-button-primary\"},NO:{text:\"Cancel\",type:\"button\",className:\"vex-dialog-button-secondary\",click:function(a){return a.data().vex.value=!1,b.close(a.data().vex.id)}}},d.defaultOptions={callback:function(){},afterOpen:function(){},message:\"Message\",input:'<input name=\"vex\" type=\"hidden\" value=\"_vex-empty-value\" />',value:!1,buttons:[d.buttons.YES,d.buttons.NO],showCloseButton:!1,onSubmit:function(e){var f,g;return f=a(this),g=f.parent(),e.preventDefault(),e.stopPropagation(),g.data().vex.value=d.getFormValueOnSubmit(c(f)),b.close(g.data().vex.id)},focusFirstInput:!0},d.defaultAlertOptions={message:\"Alert\",buttons:[d.buttons.YES]},d.defaultConfirmOptions={message:\"Confirm\"},d.open=function(c){var e;return c=a.extend({},b.defaultOptions,d.defaultOptions,c),c.content=d.buildDialogForm(c),c.beforeClose=function(a){return c.callback(a.data().vex.value)},e=b.open(c),c.focusFirstInput&&e.find('input[type=\"submit\"], textarea, input[type=\"date\"], input[type=\"datetime\"], input[type=\"datetime-local\"], input[type=\"email\"], input[type=\"month\"], input[type=\"number\"], input[type=\"password\"], input[type=\"search\"], input[type=\"tel\"], input[type=\"text\"], input[type=\"time\"], input[type=\"url\"], input[type=\"week\"]').first().focus(),e},d.alert=function(b){return\"string\"==typeof b&&(b={message:b}),b=a.extend({},d.defaultAlertOptions,b),d.open(b)},d.confirm=function(b){return\"string\"==typeof b?a.error(\"dialog.confirm(options) requires options.callback.\"):(b=a.extend({},d.defaultConfirmOptions,b),d.open(b))},d.prompt=function(b){var c;return\"string\"==typeof b?a.error(\"dialog.prompt(options) requires options.callback.\"):(c={message:'<label for=\"vex\">'+(b.label||\"Prompt:\")+\"</label>\",input:'<input name=\"vex\" type=\"text\" class=\"vex-dialog-prompt-input\" placeholder=\"'+(b.placeholder||\"\")+'\"  value=\"'+(b.value||\"\")+'\" />'},b=a.extend({},c,b),d.open(b))},d.buildDialogForm=function(b){var c,e,f;return c=a('<form class=\"vex-dialog-form\" />'),f=a('<div class=\"vex-dialog-message\" />'),e=a('<div class=\"vex-dialog-input\" />'),c.append(f.append(b.message)).append(e.append(b.input)).append(d.buttonsToDOM(b.buttons)).bind(\"submit.vex\",b.onSubmit),c},d.getFormValueOnSubmit=function(a){return a.vex||\"\"===a.vex?\"_vex-empty-value\"===a.vex?!0:a.vex:a},d.buttonsToDOM=function(c){var d;return d=a('<div class=\"vex-dialog-buttons\" />'),a.each(c,function(e,f){return d.append(a('<input type=\"'+f.type+'\" />').val(f.text).addClass(f.className+\" vex-dialog-button \"+(0===e?\"vex-first \":\"\")+(e===c.length-1?\"vex-last \":\"\")).bind(\"click.vex\",function(c){return f.click?f.click(a(this).parents(\".\"+b.baseClassNames.content),c):void 0}))}),d},d)},\"function\"==typeof define&&define.amd?define([\"jquery\",\"vex\"],a):\"object\"==typeof exports?module.exports=a(require(\"jquery\"),require(\"vex\")):window.vex.dialog=a(window.jQuery,window.vex)}.call(this);","/*! jQuery UI - v1.11.4 - 2016-04-09\n* http://jqueryui.com\n* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js\n* Copyright jQuery Foundation and other contributors; Licensed MIT */\n\n(function(t){\"function\"==typeof define&&define.amd?define([\"jquery\"],t):t(jQuery)})(function(t){function e(e,s){var n,a,o,r=e.nodeName.toLowerCase();return\"area\"===r?(n=e.parentNode,a=n.name,e.href&&a&&\"map\"===n.nodeName.toLowerCase()?(o=t(\"img[usemap='#\"+a+\"']\")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:\"a\"===r?e.href||s:s)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return\"hidden\"===t.css(this,\"visibility\")}).length}function s(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css(\"position\"),(\"absolute\"===e||\"relative\"===e||\"fixed\"===e)&&(i=parseInt(t.css(\"zIndex\"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId=\"ui-datepicker-div\",this._inlineClass=\"ui-datepicker-inline\",this._appendClass=\"ui-datepicker-append\",this._triggerClass=\"ui-datepicker-trigger\",this._dialogClass=\"ui-datepicker-dialog\",this._disableClass=\"ui-datepicker-disabled\",this._unselectableClass=\"ui-datepicker-unselectable\",this._currentClass=\"ui-datepicker-current-day\",this._dayOverClass=\"ui-datepicker-days-cell-over\",this.regional=[],this.regional[\"\"]={closeText:\"Done\",prevText:\"Prev\",nextText:\"Next\",currentText:\"Today\",monthNames:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthNamesShort:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],dayNames:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],dayNamesShort:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],dayNamesMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],weekHeader:\"Wk\",dateFormat:\"mm/dd/yy\",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:\"\"},this._defaults={showOn:\"focus\",showAnim:\"fadeIn\",showOptions:{},defaultDate:null,appendText:\"\",buttonText:\"...\",buttonImage:\"\",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:\"c-10:c+10\",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:\"+10\",minDate:null,maxDate:null,duration:\"fast\",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:\"\",altFormat:\"\",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[\"\"]),this.regional.en=t.extend(!0,{},this.regional[\"\"]),this.regional[\"en-US\"]=t.extend(!0,{},this.regional.en),this.dpDiv=a(t(\"<div id='\"+this._mainDivId+\"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\"))}function a(e){var i=\"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\";return e.delegate(i,\"mouseout\",function(){t(this).removeClass(\"ui-state-hover\"),-1!==this.className.indexOf(\"ui-datepicker-prev\")&&t(this).removeClass(\"ui-datepicker-prev-hover\"),-1!==this.className.indexOf(\"ui-datepicker-next\")&&t(this).removeClass(\"ui-datepicker-next-hover\")}).delegate(i,\"mouseover\",o)}function o(){t.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(t(this).parents(\".ui-datepicker-calendar\").find(\"a\").removeClass(\"ui-state-hover\"),t(this).addClass(\"ui-state-hover\"),-1!==this.className.indexOf(\"ui-datepicker-prev\")&&t(this).addClass(\"ui-datepicker-prev-hover\"),-1!==this.className.indexOf(\"ui-datepicker-next\")&&t(this).addClass(\"ui-datepicker-next-hover\"))}function r(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function h(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger(\"change\")}}t.ui=t.ui||{},t.extend(t.ui,{version:\"1.11.4\",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css(\"position\"),s=\"absolute\"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var e=t(this);return s&&\"static\"===e.css(\"position\")?!1:n.test(e.css(\"overflow\")+e.css(\"overflow-y\")+e.css(\"overflow-x\"))}).eq(0);return\"fixed\"!==i&&a.length?a:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id=\"ui-id-\"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\\d+$/.test(this.id)&&t(this).removeAttr(\"id\")})}}),t.extend(t.expr[\":\"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,\"tabindex\")))},tabbable:function(i){var s=t.attr(i,\"tabindex\"),n=isNaN(s);return(n||s>=0)&&e(i,!n)}}),t(\"<a>\").outerWidth(1).jquery||t.each([\"Width\",\"Height\"],function(e,i){function s(e,i,s,a){return t.each(n,function(){i-=parseFloat(t.css(e,\"padding\"+this))||0,s&&(i-=parseFloat(t.css(e,\"border\"+this+\"Width\"))||0),a&&(i-=parseFloat(t.css(e,\"margin\"+this))||0)}),i}var n=\"Width\"===i?[\"Left\",\"Right\"]:[\"Top\",\"Bottom\"],a=i.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn[\"inner\"+i]=function(e){return void 0===e?o[\"inner\"+i].call(this):this.each(function(){t(this).css(a,s(this,e)+\"px\")})},t.fn[\"outer\"+i]=function(e,n){return\"number\"!=typeof e?o[\"outer\"+i].call(this,e):this.each(function(){t(this).css(a,s(this,e,!0,n)+\"px\")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t(\"<a>\").data(\"a-b\",\"a\").removeData(\"a-b\").data(\"a-b\")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,s){return\"number\"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t=\"onselectstart\"in document.createElement(\"div\")?\"selectstart\":\"mousedown\";return function(){return this.bind(t+\".ui-disableSelection\",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(\".ui-disableSelection\")},zIndex:function(e){if(void 0!==e)return this.css(\"zIndex\",e);if(this.length)for(var i,s,n=t(this[0]);n.length&&n[0]!==document;){if(i=n.css(\"position\"),(\"absolute\"===i||\"relative\"===i||\"fixed\"===i)&&(s=parseInt(n.css(\"zIndex\"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),t.ui.plugin={add:function(e,i,s){var n,a=t.ui[e].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,a=t.plugins[e];if(a&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)t.options[a[n][0]]&&a[n][1].apply(t.element,i)}};var l=0,u=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=t._data(n,\"events\"),s&&s.remove&&t(n).triggerHandler(\"remove\")}catch(o){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,a,o,r,h={},l=e.split(\".\")[0];return e=e.split(\".\")[1],n=l+\"-\"+e,s||(s=i,i=t.Widget),t.expr[\":\"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[l]=t[l]||{},a=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,a,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(s,function(e,s){return t.isFunction(s)?(h[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,a=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=a,e}}(),void 0):(h[e]=s,void 0)}),o.prototype=t.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||e:e},h,{constructor:o,namespace:l,widgetName:e,widgetFullName:n}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+\".\"+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=u.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var a=\"string\"==typeof n,o=u.call(arguments,1),r=this;return a?this.each(function(){var i,a=t.data(this,s);return\"instance\"===n?(r=a,!1):a?t.isFunction(a[n])&&\"_\"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error(\"no such method '\"+n+\"' for \"+e+\" widget instance\"):t.error(\"cannot call methods on \"+e+\" prior to initialization; \"+\"attempted to call method '\"+n+\"'\")}):(o.length&&(n=t.widget.extend.apply(null,[n].concat(o))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:\"widget\",widgetEventPrefix:\"\",defaultElement:\"<div>\",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=l++,this.eventNamespace=\".\"+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger(\"create\",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr(\"aria-disabled\").removeClass(this.widgetFullName+\"-disabled \"+\"ui-state-disabled\"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass(\"ui-state-hover\"),this.focusable.removeClass(\"ui-state-focus\")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,a,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if(\"string\"==typeof e)if(o={},s=e.split(\".\"),e=s.shift(),s.length){for(n=o[e]=t.widget.extend({},this.options[e]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,\"disabled\"===t&&(this.widget().toggleClass(this.widgetFullName+\"-disabled\",!!e),e&&(this.hoverable.removeClass(\"ui-state-hover\"),this.focusable.removeClass(\"ui-state-focus\"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,s){var n,a=this;\"boolean\"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,o){function r(){return e||a.options.disabled!==!0&&!t(this).hasClass(\"ui-state-disabled\")?(\"string\"==typeof o?a[o]:o).apply(a,arguments):void 0}\"string\"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||t.guid++);var h=s.match(/^([\\w:-]*)\\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(e,i){i=(i||\"\").split(\" \").join(this.eventNamespace+\" \")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return(\"string\"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass(\"ui-state-hover\")},mouseleave:function(e){t(e.currentTarget).removeClass(\"ui-state-hover\")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass(\"ui-state-focus\")},focusout:function(e){t(e.currentTarget).removeClass(\"ui-state-focus\")}})},_trigger:function(e,i,s){var n,a,o=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(t.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:\"fadeIn\",hide:\"fadeOut\"},function(e,i){t.Widget.prototype[\"_\"+e]=function(s,n,a){\"string\"==typeof n&&(n={effect:n});var o,r=n?n===!0||\"number\"==typeof n?i:n.effect||i:e;n=n||{},\"number\"==typeof n&&(n={duration:n}),o=!t.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){t(this)[e](),a&&a.call(s[0]),i()})}}),t.widget;var c=!1;t(document).mouseup(function(){c=!1}),t.widget(\"ui.mouse\",{version:\"1.11.4\",options:{cancel:\"input,textarea,button,select,option\",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind(\"mousedown.\"+this.widgetName,function(t){return e._mouseDown(t)}).bind(\"click.\"+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+\".preventClickEvent\")?(t.removeData(i.target,e.widgetName+\".preventClickEvent\"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind(\".\"+this.widgetName),this._mouseMoveDelegate&&this.document.unbind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).unbind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n=\"string\"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+\".preventClickEvent\")&&t.removeData(e.target,this.widgetName+\".preventClickEvent\"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).bind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).unbind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+\".preventClickEvent\",!0),this._mouseStop(e)),c=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,c=/[\\+\\-]\\d+(\\.[\\d]+)?%?/,d=/^\\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t(\"<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>\"),a=s.children()[0];return t(\"body\").append(s),e=a.offsetWidth,s.css(\"overflow\",\"scroll\"),i=a.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?\"\":e.element.css(\"overflow-x\"),s=e.isWindow||e.isDocument?\"\":e.element.css(\"overflow-y\"),n=\"scroll\"===i||\"auto\"===i&&e.width<e.element[0].scrollWidth,a=\"scroll\"===s||\"auto\"===s&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=t.extend({},n);var p,m,g,v,_,b,y=t(n.of),x=t.position.getWithinInfo(n.within),w=t.position.getScrollInfo(x),k=(n.collision||\"flip\").split(\" \"),D={};return b=s(y),y[0].preventDefault&&(n.at=\"left top\"),m=b.width,g=b.height,v=b.offset,_=t.extend({},v),t.each([\"my\",\"at\"],function(){var t,e,i=(n[this]||\"\").split(\" \");1===i.length&&(i=l.test(i[0])?i.concat([\"center\"]):u.test(i[0])?[\"center\"].concat(i):[\"center\",\"center\"]),i[0]=l.test(i[0])?i[0]:\"center\",i[1]=u.test(i[1])?i[1]:\"center\",t=c.exec(i[0]),e=c.exec(i[1]),D[this]=[t?t[0]:0,e?e[0]:0],n[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),\"right\"===n.at[0]?_.left+=m:\"center\"===n.at[0]&&(_.left+=m/2),\"bottom\"===n.at[1]?_.top+=g:\"center\"===n.at[1]&&(_.top+=g/2),p=e(D.at,m,g),_.left+=p[0],_.top+=p[1],this.each(function(){var s,l,u=t(this),c=u.outerWidth(),d=u.outerHeight(),f=i(this,\"marginLeft\"),b=i(this,\"marginTop\"),T=c+f+i(this,\"marginRight\")+w.width,S=d+b+i(this,\"marginBottom\")+w.height,M=t.extend({},_),C=e(D.my,u.outerWidth(),u.outerHeight());\"right\"===n.my[0]?M.left-=c:\"center\"===n.my[0]&&(M.left-=c/2),\"bottom\"===n.my[1]?M.top-=d:\"center\"===n.my[1]&&(M.top-=d/2),M.left+=C[0],M.top+=C[1],a||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},t.each([\"left\",\"top\"],function(e,i){t.ui.position[k[e]]&&t.ui.position[k[e]][i](M,{targetWidth:m,targetHeight:g,elemWidth:c,elemHeight:d,collisionPosition:s,collisionWidth:T,collisionHeight:S,offset:[p[0]+C[0],p[1]+C[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(t){var e=v.left-M.left,i=e+m-c,s=v.top-M.top,a=s+g-d,h={target:{element:y,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:c,height:d},horizontal:0>i?\"left\":e>0?\"right\":\"center\",vertical:0>a?\"top\":s>0?\"bottom\":\"middle\"};c>m&&m>r(e+i)&&(h.horizontal=\"center\"),d>g&&g>r(s+a)&&(h.vertical=\"middle\"),h.important=o(r(e),r(i))>o(r(s),r(a))?\"horizontal\":\"vertical\",n.using.call(this,t,h)}),u.offset(t.extend(M,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,u=l-h,c=l+e.collisionWidth-o-h,d=\"left\"===e.my[0]?-e.elemWidth:\"right\"===e.my[0]?e.elemWidth:0,p=\"left\"===e.at[0]?e.targetWidth:\"right\"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>u?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(u)>i)&&(t.left+=d+p+f)):c>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||c>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,u=l-h,c=l+e.collisionHeight-o-h,d=\"top\"===e.my[1],p=d?-e.elemHeight:\"bottom\"===e.my[1]?e.elemHeight:0,f=\"top\"===e.at[1]?e.targetHeight:\"bottom\"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>u?(s=t.top+p+f+m+e.collisionHeight-o-a,(0>s||r(u)>s)&&(t.top+=p+f+m)):c>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-h,(i>0||c>r(i))&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,o,r=document.getElementsByTagName(\"body\")[0],h=document.createElement(\"div\");e=document.createElement(r?\"div\":\"body\"),s={visibility:\"hidden\",width:0,height:0,border:0,margin:0,background:\"none\"},r&&t.extend(s,{position:\"absolute\",left:\"-1000px\",top:\"-1000px\"});for(o in s)e.style[o]=s[o];e.appendChild(h),i=r||document.documentElement,i.insertBefore(e,i.firstChild),h.style.cssText=\"position: absolute; left: 10.7432222px;\",n=t(h).offset().left,a=n>10&&11>n,e.innerHTML=\"\",i.removeChild(e)}()}(),t.ui.position,t.widget(\"ui.draggable\",t.ui.mouse,{version:\"1.11.4\",widgetEventPrefix:\"drag\",options:{addClasses:!0,appendTo:\"parent\",axis:!1,connectToSortable:!1,containment:!1,cursor:\"auto\",cursorAt:!1,grid:!1,handle:!1,helper:\"original\",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:\"default\",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:\"both\",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){\"original\"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass(\"ui-draggable\"),this.options.disabled&&this.element.addClass(\"ui-draggable-disabled\"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),\"handle\"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(\".ui-draggable-dragging\")?(this.destroyOnClear=!0,void 0):(this.element.removeClass(\"ui-draggable ui-draggable-dragging ui-draggable-disabled\"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(\".ui-resizable-handle\").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?\"iframe\":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t(\"<div>\").css(\"position\",\"absolute\").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&\"body\"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(s){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass(\"ui-draggable-dragging\"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css(\"position\"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return\"fixed\"===t(this).css(\"position\")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger(\"start\",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo(\"absolute\"),!i){var s=this._uiHash();if(this._trigger(\"drag\",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+\"px\",this.helper[0].style.top=this.position.top+\"px\",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),\"invalid\"===this.options.revert&&!s||\"valid\"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger(\"stop\",e)!==!1&&i._clear()}):this._trigger(\"stop\",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(\".ui-draggable-dragging\")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass(\"ui-draggable-handle\")},_removeHandleClassName:function(){this.handleElement.removeClass(\"ui-draggable-handle\")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):\"clone\"===i.helper?this.element.clone().removeAttr(\"id\"):this.element;return n.parents(\"body\").length||n.appendTo(\"parent\"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css(\"position\"))||n.css(\"position\",\"absolute\"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css(\"position\"))||(this.element[0].style.position=\"relative\")},_adjustOffsetFromHelper:function(e){\"string\"==typeof e&&(e=e.split(\" \")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),\"left\"in e&&(this.offset.click.left=e.left+this.margins.left),\"right\"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),\"top\"in e&&(this.offset.click.top=e.top+this.margins.top),\"bottom\"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return\"absolute\"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:e.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(\"relative\"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css(\"top\"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css(\"left\"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css(\"marginLeft\"),10)||0,top:parseInt(this.element.css(\"marginTop\"),10)||0,right:parseInt(this.element.css(\"marginRight\"),10)||0,bottom:parseInt(this.element.css(\"marginBottom\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?\"window\"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):\"document\"===n.containment?(this.containment=[0,0,t(a).width()-this.helperProportions.width-this.margins.left,(t(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):(\"parent\"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css(\"overflow\")),this.containment=[(parseInt(i.css(\"borderLeftWidth\"),10)||0)+(parseInt(i.css(\"paddingLeft\"),10)||0),(parseInt(i.css(\"borderTopWidth\"),10)||0)+(parseInt(i.css(\"paddingTop\"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css(\"borderRightWidth\"),10)||0)-(parseInt(i.css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css(\"borderBottomWidth\"),10)||0)-(parseInt(i.css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i=\"absolute\"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-(\"fixed\"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-(\"fixed\"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),\"y\"===o.axis&&(h=this.originalPageX),\"x\"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\"fixed\"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\"fixed\"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}\n},_clear:function(){this.helper.removeClass(\"ui-draggable-dragging\"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){\"y\"!==this.options.axis&&\"auto\"!==this.helper.css(\"right\")&&(this.helper.width(this.helper.width()),this.helper.css(\"right\",\"auto\")),\"x\"!==this.options.axis&&\"auto\"!==this.helper.css(\"bottom\")&&(this.helper.height(this.helper.height()),this.helper.css(\"bottom\",\"auto\"))},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo(\"absolute\"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add(\"draggable\",\"connectToSortable\",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable(\"instance\");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger(\"activate\",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css(\"position\"),top:t.placeholder.css(\"top\"),left:t.placeholder.css(\"left\")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger(\"deactivate\",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&t.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data(\"ui-sortable-item\",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},e.target=a.currentItem[0],a._mouseCapture(e,!0),a._mouseStart(e,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger(\"toSortable\",e),s.dropped=a.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(e),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger(\"out\",e,a._uiHash(a)),a._mouseStop(e,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger(\"fromSortable\",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add(\"draggable\",\"cursor\",{start:function(e,i,s){var n=t(\"body\"),a=s.options;n.css(\"cursor\")&&(a._cursor=n.css(\"cursor\")),n.css(\"cursor\",a.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t(\"body\").css(\"cursor\",n._cursor)}}),t.ui.plugin.add(\"draggable\",\"opacity\",{start:function(e,i,s){var n=t(i.helper),a=s.options;n.css(\"opacity\")&&(a._opacity=n.css(\"opacity\")),n.css(\"opacity\",a.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css(\"opacity\",n._opacity)}}),t.ui.plugin.add(\"draggable\",\"scroll\",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&\"HTML\"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&\"HTML\"!==o.tagName?(n.axis&&\"x\"===n.axis||(s.overflowOffset.top+o.offsetHeight-e.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&\"y\"===n.axis||(s.overflowOffset.left+o.offsetWidth-e.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&\"x\"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?a=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(a=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&\"y\"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?a=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(a=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add(\"draggable\",\"snap\",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||\":data(ui-draggable)\":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,a,o,r,h,l,u,c,d,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,_=i.offset.top,b=_+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,u=s.snapElements[d].top-s.margins.top,c=u+s.snapElements[d].height,h-m>v||g>l+m||u-m>b||_>c+m||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):(\"inner\"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(c-_),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo(\"relative\",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo(\"relative\",{top:c,left:0}).top),o&&(i.position.left=s._convertPositionTo(\"relative\",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo(\"relative\",{top:0,left:l}).left)),p=n||a||o||r,\"outer\"!==f.snapMode&&(n=m>=Math.abs(u-_),a=m>=Math.abs(c-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo(\"relative\",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo(\"relative\",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo(\"relative\",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo(\"relative\",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||a||o||r||p)}}),t.ui.plugin.add(\"draggable\",\"stack\",{start:function(e,i,s){var n,a=s.options,o=t.makeArray(t(a.stack)).sort(function(e,i){return(parseInt(t(e).css(\"zIndex\"),10)||0)-(parseInt(t(i).css(\"zIndex\"),10)||0)});o.length&&(n=parseInt(t(o[0]).css(\"zIndex\"),10)||0,t(o).each(function(e){t(this).css(\"zIndex\",n+e)}),this.css(\"zIndex\",n+o.length))}}),t.ui.plugin.add(\"draggable\",\"zIndex\",{start:function(e,i,s){var n=t(i.helper),a=s.options;n.css(\"zIndex\")&&(a._zIndex=n.css(\"zIndex\")),n.css(\"zIndex\",a.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css(\"zIndex\",n._zIndex)}}),t.ui.draggable,t.widget(\"ui.droppable\",{version:\"1.11.4\",widgetEventPrefix:\"drop\",options:{accept:\"*\",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:\"default\",tolerance:\"intersect\",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass(\"ui-droppable\")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass(\"ui-droppable ui-droppable-disabled\")},_setOption:function(e,i){if(\"accept\"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if(\"scope\"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger(\"activate\",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger(\"deactivate\",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger(\"over\",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\"out\",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(\":data(ui-droppable)\").not(\".ui-draggable-dragging\").each(function(){var i=t(this).droppable(\"instance\");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\"drop\",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var a=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,r=a+e.helperProportions.width,h=o+e.helperProportions.height,l=i.offset.left,u=i.offset.top,c=l+i.proportions().width,d=u+i.proportions().height;switch(s){case\"fit\":return a>=l&&c>=r&&o>=u&&d>=h;case\"intersect\":return a+e.helperProportions.width/2>l&&c>r-e.helperProportions.width/2&&o+e.helperProportions.height/2>u&&d>h-e.helperProportions.height/2;case\"pointer\":return t(n.pageY,u,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case\"touch\":return(o>=u&&d>=o||h>=u&&d>=h||u>o&&h>d)&&(a>=l&&c>=a||r>=l&&c>=r||l>a&&r>c);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{\"default\":[]},prepareOffsets:function(e,i){var s,n,a=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,r=(e.currentItem||e.element).find(\":data(ui-droppable)\").addBack();t:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||e&&!a[s].accept.call(a[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue t}a[s].visible=\"none\"!==a[s].element.css(\"display\"),a[s].visible&&(\"mousedown\"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil(\"body\").bind(\"scroll.droppable\",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=t.ui.intersect(e,this,this.options.tolerance,i),r=!o&&this.isover?\"isout\":o&&!this.isover?\"isover\":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(\":data(ui-droppable)\").filter(function(){return t(this).droppable(\"instance\").options.scope===n}),a.length&&(s=t(a[0]).droppable(\"instance\"),s.greedyChild=\"isover\"===r)),s&&\"isover\"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this[\"isout\"===r?\"isover\":\"isout\"]=!1,this[\"isover\"===r?\"_over\":\"_out\"].call(this,i),s&&\"isout\"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil(\"body\").unbind(\"scroll.droppable\"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.ui.droppable,t.widget(\"ui.resizable\",t.ui.mouse,{version:\"1.11.4\",widgetEventPrefix:\"resize\",options:{alsoResize:!1,animate:!1,animateDuration:\"slow\",animateEasing:\"swing\",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:\"e,s,se\",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if(\"hidden\"===t(e).css(\"overflow\"))return!1;var s=i&&\"left\"===i?\"scrollLeft\":\"scrollTop\",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i,s,n,a,o=this,r=this.options;if(this.element.addClass(\"ui-resizable\"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||\"ui-resizable-helper\":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t(\"<div class='ui-wrapper' style='overflow: hidden;'></div>\").css({position:this.element.css(\"position\"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(\"top\"),left:this.element.css(\"left\")})),this.element=this.element.parent().data(\"ui-resizable\",this.element.resizable(\"instance\")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css(\"marginLeft\"),marginTop:this.originalElement.css(\"marginTop\"),marginRight:this.originalElement.css(\"marginRight\"),marginBottom:this.originalElement.css(\"marginBottom\")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css(\"resize\"),this.originalElement.css(\"resize\",\"none\"),this._proportionallyResizeElements.push(this.originalElement.css({position:\"static\",zoom:1,display:\"block\"})),this.originalElement.css({margin:this.originalElement.css(\"margin\")}),this._proportionallyResize()),this.handles=r.handles||(t(\".ui-resizable-handle\",this.element).length?{n:\".ui-resizable-n\",e:\".ui-resizable-e\",s:\".ui-resizable-s\",w:\".ui-resizable-w\",se:\".ui-resizable-se\",sw:\".ui-resizable-sw\",ne:\".ui-resizable-ne\",nw:\".ui-resizable-nw\"}:\"e,s,se\"),this._handles=t(),this.handles.constructor===String)for(\"all\"===this.handles&&(this.handles=\"n,e,s,w,se,sw,ne,nw\"),e=this.handles.split(\",\"),this.handles={},i=0;e.length>i;i++)s=t.trim(e[i]),a=\"ui-resizable-\"+s,n=t(\"<div class='ui-resizable-handle \"+a+\"'></div>\"),n.css({zIndex:r.zIndex}),\"se\"===s&&n.addClass(\"ui-icon ui-icon-gripsmall-diagonal-se\"),this.handles[s]=\".ui-resizable-\"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,a;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=[\"padding\",/ne|nw|n/.test(i)?\"Top\":/se|sw|s/.test(i)?\"Bottom\":/^e$/.test(i)?\"Right\":\"Left\"].join(\"\"),e.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(\".ui-resizable-handle\")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:\"se\")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass(\"ui-resizable-autohide\").mouseenter(function(){r.disabled||(t(this).removeClass(\"ui-resizable-autohide\"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(t(this).addClass(\"ui-resizable-autohide\"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass(\"ui-resizable ui-resizable-disabled ui-resizable-resizing\").removeData(\"resizable\").removeData(\"ui-resizable\").unbind(\".resizable\").find(\".ui-resizable-handle\").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css(\"position\"),width:e.outerWidth(),height:e.outerHeight(),top:e.css(\"top\"),left:e.css(\"left\")}).insertAfter(e),e.remove()),this.originalElement.css(\"resize\",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css(\"left\")),s=this._num(this.helper.css(\"top\")),a.containment&&(i+=t(a.containment).scrollLeft()||0,s+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio=\"number\"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(\".ui-resizable-\"+this.axis).css(\"cursor\"),t(\"body\").css(\"cursor\",\"auto\"===n?this.axis+\"-resize\":n),o.addClass(\"ui-resizable-resizing\"),this._propagate(\"start\",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,a=this.axis,o=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[e,o,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate(\"resize\",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger(\"resize\",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],\"left\")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css(\"left\"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css(\"top\"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(t.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t(\"body\").css(\"cursor\",\"auto\"),this.element.removeClass(\"ui-resizable-resizing\"),this._propagate(\"stop\",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+\"px\"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+\"px\"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+\"px\"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+\"px\"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),\"sw\"===s&&(t.left=e.left+(i.width-t.width),t.top=null),\"nw\"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(t.width=e.minWidth),o&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),a&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),o&&u&&(t.top=h-e.minHeight),n&&u&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css(\"borderTopWidth\"),t.css(\"borderRightWidth\"),t.css(\"borderBottomWidth\"),t.css(\"borderLeftWidth\")],n=[t.css(\"paddingTop\"),t.css(\"paddingRight\"),t.css(\"paddingBottom\"),t.css(\"paddingLeft\")];4>e;e++)i[e]=parseInt(s[e],10)||0,i[e]+=parseInt(n[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t(\"<div style='overflow:hidden;'></div>\"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:\"absolute\",left:this.elementOffset.left+\"px\",top:this.elementOffset.top+\"px\",zIndex:++i.zIndex}),this.helper.appendTo(\"body\").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),\"resize\"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add(\"resizable\",\"animate\",{stop:function(e){var i=t(this).resizable(\"instance\"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],\"left\")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css(\"left\"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css(\"top\"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css(\"width\"),10),height:parseInt(i.element.css(\"height\"),10),top:parseInt(i.element.css(\"top\"),10),left:parseInt(i.element.css(\"left\"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate(\"resize\",e)}})}}),t.ui.plugin.add(\"resizable\",\"containment\",{start:function(){var e,i,s,n,a,o,r,h=t(this).resizable(\"instance\"),l=h.options,u=h.element,c=l.containment,d=c instanceof t?c.get(0):/parent/.test(c)?u.parent().get(0):c;d&&(h.containerElement=t(d),/document/.test(c)||c===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t([\"Top\",\"Right\",\"Left\",\"Bottom\"]).each(function(t,s){i[t]=h._num(e.css(\"padding\"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(d,\"left\")?d.scrollWidth:a,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:o,height:r}))},resize:function(e){var i,s,n,a,o=t(this).resizable(\"instance\"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||e.shiftKey,c={top:0,left:0},d=o.containerElement,p=!0;d[0]!==document&&/static/.test(d.css(\"position\"))&&(c=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-c.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css(\"position\")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=t(this).resizable(\"instance\"),i=e.options,s=e.containerOffset,n=e.containerPosition,a=e.containerElement,o=t(e.helper),r=o.offset(),h=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(a.css(\"position\"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(a.css(\"position\"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add(\"resizable\",\"alsoResize\",{start:function(){var e=t(this).resizable(\"instance\"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data(\"ui-resizable-alsoresize\",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css(\"left\"),10),top:parseInt(e.css(\"top\"),10)})})},resize:function(e,i){var s=t(this).resizable(\"instance\"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data(\"ui-resizable-alsoresize\"),n={},a=e.parents(i.originalElement[0]).length?[\"width\",\"height\"]:[\"width\",\"height\",\"top\",\"left\"];t.each(a,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData(\"resizable-alsoresize\")}}),t.ui.plugin.add(\"resizable\",\"ghost\",{start:function(){var e=t(this).resizable(\"instance\"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:\"block\",position:\"relative\",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass(\"ui-resizable-ghost\").addClass(\"string\"==typeof i.ghost?i.ghost:\"\"),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable(\"instance\");e.ghost&&e.ghost.css({position:\"relative\",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable(\"instance\");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add(\"resizable\",\"grid\",{resize:function(){var e,i=t(this).resizable(\"instance\"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h=\"number\"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,c=Math.round((n.width-a.width)/l)*l,d=Math.round((n.height-a.height)/u)*u,p=a.width+c,f=a.height+d,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,_=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),_&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-c):((0>=f-u||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-d):(f=u-e.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-c):(p=l-e.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),t.ui.resizable,t.widget(\"ui.selectable\",t.ui.mouse,{version:\"1.11.4\",options:{appendTo:\"body\",autoRefresh:!0,distance:0,filter:\"*\",tolerance:\"touch\",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;\nthis.element.addClass(\"ui-selectable\"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass(\"ui-selectee\"),e.each(function(){var e=t(this),i=e.offset();t.data(this,\"selectable-item\",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass(\"ui-selected\"),selecting:e.hasClass(\"ui-selecting\"),unselecting:e.hasClass(\"ui-unselecting\")})})},this.refresh(),this.selectees=e.addClass(\"ui-selectee\"),this._mouseInit(),this.helper=t(\"<div class='ui-selectable-helper'></div>\")},_destroy:function(){this.selectees.removeClass(\"ui-selectee\").removeData(\"selectable-item\"),this.element.removeClass(\"ui-selectable ui-selectable-disabled\"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger(\"start\",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(\".ui-selected\").each(function(){var s=t.data(this,\"selectable-item\");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass(\"ui-selected\"),s.selected=!1,s.$element.addClass(\"ui-unselecting\"),s.unselecting=!0,i._trigger(\"unselecting\",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,\"selectable-item\");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass(\"ui-selected\"),n.$element.removeClass(s?\"ui-unselecting\":\"ui-selected\").addClass(s?\"ui-selecting\":\"ui-unselecting\"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger(\"selecting\",e,{selecting:n.element}):i._trigger(\"unselecting\",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=e.pageX,h=e.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=t.data(this,\"selectable-item\"),l=!1;i&&i.element!==s.element[0]&&(\"touch\"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):\"fit\"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass(\"ui-selected\"),i.selected=!1),i.unselecting&&(i.$element.removeClass(\"ui-unselecting\"),i.unselecting=!1),i.selecting||(i.$element.addClass(\"ui-selecting\"),i.selecting=!0,s._trigger(\"selecting\",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass(\"ui-selecting\"),i.selecting=!1,i.$element.addClass(\"ui-selected\"),i.selected=!0):(i.$element.removeClass(\"ui-selecting\"),i.selecting=!1,i.startselected&&(i.$element.addClass(\"ui-unselecting\"),i.unselecting=!0),s._trigger(\"unselecting\",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass(\"ui-selected\"),i.selected=!1,i.$element.addClass(\"ui-unselecting\"),i.unselecting=!0,s._trigger(\"unselecting\",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(\".ui-unselecting\",this.element[0]).each(function(){var s=t.data(this,\"selectable-item\");s.$element.removeClass(\"ui-unselecting\"),s.unselecting=!1,s.startselected=!1,i._trigger(\"unselected\",e,{unselected:s.element})}),t(\".ui-selecting\",this.element[0]).each(function(){var s=t.data(this,\"selectable-item\");s.$element.removeClass(\"ui-selecting\").addClass(\"ui-selected\"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger(\"selected\",e,{selected:s.element})}),this._trigger(\"stop\",e),this.helper.remove(),!1}}),t.widget(\"ui.sortable\",t.ui.mouse,{version:\"1.11.4\",widgetEventPrefix:\"sort\",ready:!1,options:{appendTo:\"parent\",axis:!1,connectWith:!1,containment:!1,cursor:\"auto\",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:\"original\",items:\"> *\",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:\"default\",tolerance:\"intersect\",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css(\"float\"))||/inline|table-cell/.test(t.css(\"display\"))},_create:function(){this.containerCache={},this.element.addClass(\"ui-sortable\"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),\"handle\"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(\".ui-sortable-handle\").removeClass(\"ui-sortable-handle\"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass(\"ui-sortable-handle\")})},_destroy:function(){this.element.removeClass(\"ui-sortable ui-sortable-disabled\").find(\".ui-sortable-handle\").removeClass(\"ui-sortable-handle\"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+\"-item\");return this},_mouseCapture:function(e,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||\"static\"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,a.widgetName+\"-item\")===a?(s=t(this),!1):void 0}),t.data(e.target,a.widgetName+\"-item\")===a&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find(\"*\").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css(\"position\",\"absolute\"),this.cssPosition=this.helper.css(\"position\"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&\"auto\"!==o.cursor&&(a=this.document.find(\"body\"),this.storedCursor=a.css(\"cursor\"),a.css(\"cursor\",o.cursor),this.storedStylesheet=t(\"<style>*{ cursor: \"+o.cursor+\" !important; }</style>\").appendTo(a)),o.opacity&&(this.helper.css(\"opacity\")&&(this._storedOpacity=this.helper.css(\"opacity\")),this.helper.css(\"opacity\",o.opacity)),o.zIndex&&(this.helper.css(\"zIndex\")&&(this._storedZIndex=this.helper.css(\"zIndex\")),this.helper.css(\"zIndex\",o.zIndex)),this.scrollParent[0]!==this.document[0]&&\"HTML\"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger(\"start\",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger(\"activate\",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass(\"ui-sortable-helper\"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo(\"absolute\"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&\"HTML\"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo(\"absolute\"),this.options.axis&&\"y\"===this.options.axis||(this.helper[0].style.left=this.position.left+\"px\"),this.options.axis&&\"x\"===this.options.axis||(this.helper[0].style.top=this.position.top+\"px\"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?\"next\":\"prev\"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&(\"semi-dynamic\"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===a?\"down\":\"up\",\"pointer\"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger(\"change\",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger(\"sort\",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&\"x\"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&\"y\"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),\"original\"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger(\"deactivate\",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger(\"out\",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),\"original\"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||\"id\")||\"\").match(e.expression||/(.+)[\\-=_](.+)/);i&&s.push((e.key||i[1]+\"[]\")+\"=\"+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+\"=\"),s.join(\"&\")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||\"id\")||\"\")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=t.left,o=a+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,u=this.offset.click.left,c=\"x\"===this.options.axis||s+l>r&&h>s+l,d=\"y\"===this.options.axis||e+u>a&&o>e+u,p=c&&d;return\"pointer\"===this.options.tolerance||this.options.forcePointerForContainers||\"pointer\"!==this.options.tolerance&&this.helperProportions[this.floating?\"width\":\"height\"]>t[this.floating?\"width\":\"height\"]?p:e+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e=\"x\"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i=\"y\"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=e&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&\"right\"===a||\"down\"===n?2:1:n&&(\"down\"===n?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?\"right\"===n&&i||\"left\"===n&&!i:s&&(\"down\"===s&&e||\"up\"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?\"down\":\"up\")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?\"right\":\"left\")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(a=t(l[s],this.document[0]),n=a.length-1;n>=0;n--)o=t.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),o]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(\":data(\"+this.widgetName+\"-item)\");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,c=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)a=t.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(c.push([t.isFunction(a.options.items)?a.options.items.call(a.element[0],e,{item:this.currentItem}):t(a.options.items,a.element),a]),this.containers.push(a));for(i=c.length-1;i>=0;i--)for(o=c[i][1],r=c[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+\"-item\",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?\"x\"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t(\"<\"+s+\">\",e.document[0]).addClass(i||e.currentItem[0].className+\" ui-sortable-placeholder\").removeClass(\"ui-sortable-helper\");return\"tbody\"===s?e._createTrPlaceholder(e.currentItem.find(\"tr\").eq(0),t(\"<tr>\",e.document[0]).appendTo(n)):\"tr\"===s?e._createTrPlaceholder(e.currentItem,n):\"img\"===s&&n.attr(\"src\",e.currentItem.attr(\"src\")),i||n.css(\"visibility\",\"hidden\"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css(\"paddingTop\")||0,10)-parseInt(e.currentItem.css(\"paddingBottom\")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css(\"paddingLeft\")||0,10)-parseInt(e.currentItem.css(\"paddingRight\")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t(\"<td>&#160;</td>\",s.document[0]).attr(\"colspan\",t(this).attr(\"colspan\")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,a,o,r,h,l,u,c,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger(\"out\",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger(\"over\",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=d.floating||this._isFloating(this.currentItem),o=u?\"left\":\"top\",r=u?\"width\":\"height\",c=u?\"clientX\":\"clientY\",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,e[c]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[c]-h)&&(n=Math.abs(e[c]-h),a=this.items[s],this.direction=l?\"up\":\"down\"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger(\"over\",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;a?this._rearrange(e,a,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger(\"change\",e,this._uiHash()),this.containers[p]._trigger(\"change\",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger(\"over\",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):\"clone\"===i.helper?this.currentItem.clone():this.currentItem;return s.parents(\"body\").length||t(\"parent\"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css(\"position\"),top:this.currentItem.css(\"top\"),left:this.currentItem.css(\"left\")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){\"string\"==typeof e&&(e=e.split(\" \")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),\"left\"in e&&(this.offset.click.left=e.left+this.margins.left),\"right\"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),\"top\"in e&&(this.offset.click.top=e.top+this.margins.top),\"bottom\"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return\"absolute\"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&\"html\"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:e.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(\"relative\"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css(\"marginLeft\"),10)||0,top:parseInt(this.currentItem.css(\"marginTop\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;\"parent\"===n.containment&&(n.containment=this.helper[0].parentNode),(\"document\"===n.containment||\"window\"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,\"document\"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(\"document\"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s=\"hidden\"!==t(e).css(\"overflow\"),this.containment=[i.left+(parseInt(t(e).css(\"borderLeftWidth\"),10)||0)+(parseInt(t(e).css(\"paddingLeft\"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css(\"borderTopWidth\"),10)||0)+(parseInt(t(e).css(\"paddingTop\"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css(\"borderLeftWidth\"),10)||0)-(parseInt(t(e).css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css(\"borderTopWidth\"),10)||0)-(parseInt(t(e).css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s=\"absolute\"===e?1:-1,n=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,a=e.pageX,o=e.pageY,r=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return\"relative\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],\"down\"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)(\"auto\"===this._storedCSS[s]||\"static\"===this._storedCSS[s])&&(this._storedCSS[s]=\"\");this.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger(\"receive\",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(\".ui-sortable-helper\")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger(\"update\",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger(\"remove\",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger(\"receive\",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger(\"update\",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i(\"deactivate\",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i(\"out\",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find(\"body\").css(\"cursor\",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css(\"opacity\",this._storedOpacity),this._storedZIndex&&this.helper.css(\"zIndex\",\"auto\"===this._storedZIndex?\"\":this._storedZIndex),this.dragging=!1,e||this._trigger(\"beforeStop\",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger(\"stop\",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget(\"ui.accordion\",{version:\"1.11.4\",options:{active:0,animate:{},collapsible:!1,event:\"click\",header:\"> li > :first-child,> :not(li):even\",heightStyle:\"auto\",icons:{activeHeader:\"ui-icon-triangle-1-s\",header:\"ui-icon-triangle-1-e\"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:\"hide\",borderBottomWidth:\"hide\",paddingTop:\"hide\",paddingBottom:\"hide\",height:\"hide\"},showProps:{borderTopWidth:\"show\",borderBottomWidth:\"show\",paddingTop:\"show\",paddingBottom:\"show\",height:\"show\"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass(\"ui-accordion ui-widget ui-helper-reset\").attr(\"role\",\"tablist\"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t(\"<span>\").addClass(\"ui-accordion-header-icon ui-icon \"+e.header).prependTo(this.headers),this.active.children(\".ui-accordion-header-icon\").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass(\"ui-accordion-icons\"))},_destroyIcons:function(){this.headers.removeClass(\"ui-accordion-icons\").children(\".ui-accordion-header-icon\").remove()},_destroy:function(){var t;this.element.removeClass(\"ui-accordion ui-widget ui-helper-reset\").removeAttr(\"role\"),this.headers.removeClass(\"ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top\").removeAttr(\"role\").removeAttr(\"aria-expanded\").removeAttr(\"aria-selected\").removeAttr(\"aria-controls\").removeAttr(\"tabIndex\").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass(\"ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled\").css(\"display\",\"\").removeAttr(\"role\").removeAttr(\"aria-hidden\").removeAttr(\"aria-labelledby\").removeUniqueId(),\"content\"!==this.options.heightStyle&&t.css(\"height\",\"\")},_setOption:function(t,e){return\"active\"===t?(this._activate(e),void 0):(\"event\"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),\"collapsible\"!==t||e||this.options.active!==!1||this._activate(0),\"icons\"===t&&(this._destroyIcons(),e&&this._createIcons()),\"disabled\"===t&&(this.element.toggleClass(\"ui-state-disabled\",!!e).attr(\"aria-disabled\",e),this.headers.add(this.headers.next()).toggleClass(\"ui-state-disabled\",!!e)),void 0)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),a=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(t(e.target).attr(\"tabIndex\",-1),t(a).attr(\"tabIndex\",0),a.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(\".ui-state-disabled\").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass(\"ui-accordion-header ui-state-default ui-corner-all\"),this.panels=this.headers.next().addClass(\"ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\").filter(\":not(.ui-accordion-content-active)\").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))\n},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass(\"ui-accordion-header-active ui-state-active ui-corner-top\").removeClass(\"ui-corner-all\"),this.active.next().addClass(\"ui-accordion-content-active\").show(),this.headers.attr(\"role\",\"tab\").each(function(){var e=t(this),i=e.uniqueId().attr(\"id\"),s=e.next(),n=s.uniqueId().attr(\"id\");e.attr(\"aria-controls\",n),s.attr(\"aria-labelledby\",i)}).next().attr(\"role\",\"tabpanel\"),this.headers.not(this.active).attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\",tabIndex:-1}).next().attr({\"aria-hidden\":\"true\"}).hide(),this.active.length?this.active.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0}).next().attr({\"aria-hidden\":\"false\"}):this.headers.eq(0).attr(\"tabIndex\",0),this._createIcons(),this._setupEvents(i.event),\"fill\"===s?(e=n.height(),this.element.siblings(\":visible\").each(function(){var i=t(this),s=i.css(\"position\");\"absolute\"!==s&&\"fixed\"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css(\"overflow\",\"auto\")):\"auto\"===s&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css(\"height\",\"\").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return\"number\"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:\"_keydown\"};e&&t.each(e.split(\" \"),function(t,e){i[e]=\"_eventHandler\"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:\"_panelKeyDown\"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?t():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?t():n,newPanel:r};e.preventDefault(),a&&!i.collapsible||this._trigger(\"beforeActivate\",e,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?t():n,this._toggle(l),s.removeClass(\"ui-accordion-header-active ui-state-active\"),i.icons&&s.children(\".ui-accordion-header-icon\").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass(\"ui-corner-all\").addClass(\"ui-accordion-header-active ui-state-active ui-corner-top\"),i.icons&&n.children(\".ui-accordion-header-icon\").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass(\"ui-accordion-content-active\")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({\"aria-hidden\":\"true\"}),s.prev().attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\"}),i.length&&s.length?s.prev().attr({tabIndex:-1,\"aria-expanded\":\"false\"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr(\"tabIndex\"),10)}).attr(\"tabIndex\",-1),i.attr(\"aria-hidden\",\"false\").prev().attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0})},_animate:function(t,e,i){var s,n,a,o=this,r=0,h=t.css(\"box-sizing\"),l=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},c=l&&u.down||u,d=function(){o._toggleComplete(i)};return\"number\"==typeof c&&(a=c),\"string\"==typeof c&&(n=c),n=n||c.easing||u.easing,a=a||c.duration||u.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:a,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:a,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),\"height\"!==i.prop?\"content-box\"===h&&(r+=i.now):\"content\"!==o.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,a,n,d):t.animate(this.showProps,a,n,d)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass(\"ui-accordion-content-active\").prev().removeClass(\"ui-corner-top\").addClass(\"ui-corner-all\"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger(\"activate\",null,t)}}),t.widget(\"ui.menu\",{version:\"1.11.4\",defaultElement:\"<ul>\",delay:300,options:{icons:{submenu:\"ui-icon-carat-1-e\"},items:\"> *\",menus:\"ul\",position:{my:\"left-1 top\",at:\"right top\"},role:\"menu\",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass(\"ui-menu ui-widget ui-widget-content\").toggleClass(\"ui-menu-icons\",!!this.element.find(\".ui-icon\").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass(\"ui-state-disabled\").attr(\"aria-disabled\",\"true\"),this._on({\"mousedown .ui-menu-item\":function(t){t.preventDefault()},\"click .ui-menu-item\":function(e){var i=t(e.target);!this.mouseHandled&&i.not(\".ui-state-disabled\").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(\".ui-menu\").length?this.expand(e):!this.element.is(\":focus\")&&t(this.document[0].activeElement).closest(\".ui-menu\").length&&(this.element.trigger(\"focus\",[!0]),this.active&&1===this.active.parents(\".ui-menu\").length&&clearTimeout(this.timer)))},\"mouseenter .ui-menu-item\":function(e){if(!this.previousFilter){var i=t(e.currentTarget);i.siblings(\".ui-state-active\").removeClass(\"ui-state-active\"),this.focus(e,i)}},mouseleave:\"collapseAll\",\"mouseleave .ui-menu\":\"collapseAll\",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:\"_keydown\"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr(\"aria-activedescendant\").find(\".ui-menu\").addBack().removeClass(\"ui-menu ui-widget ui-widget-content ui-menu-icons ui-front\").removeAttr(\"role\").removeAttr(\"tabIndex\").removeAttr(\"aria-labelledby\").removeAttr(\"aria-expanded\").removeAttr(\"aria-hidden\").removeAttr(\"aria-disabled\").removeUniqueId().show(),this.element.find(\".ui-menu-item\").removeClass(\"ui-menu-item\").removeAttr(\"role\").removeAttr(\"aria-disabled\").removeUniqueId().removeClass(\"ui-state-hover\").removeAttr(\"tabIndex\").removeAttr(\"role\").removeAttr(\"aria-haspopup\").children().each(function(){var e=t(this);e.data(\"ui-menu-submenu-carat\")&&e.remove()}),this.element.find(\".ui-menu-divider\").removeClass(\"ui-menu-divider ui-widget-content\")},_keydown:function(e){var i,s,n,a,o=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move(\"first\",\"first\",e);break;case t.ui.keyCode.END:this._move(\"last\",\"last\",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(\".ui-state-disabled\")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,s=this.previousFilter||\"\",n=String.fromCharCode(e.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(\".ui-menu-item\"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(t){this.active.is(\".ui-state-disabled\")||(this.active.is(\"[aria-haspopup='true']\")?this.expand(t):this.select(t))},refresh:function(){var e,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass(\"ui-menu-icons\",!!this.element.find(\".ui-icon\").length),a.filter(\":not(.ui-menu)\").addClass(\"ui-menu ui-widget ui-widget-content ui-front\").hide().attr({role:this.options.role,\"aria-hidden\":\"true\",\"aria-expanded\":\"false\"}).each(function(){var e=t(this),i=e.parent(),s=t(\"<span>\").addClass(\"ui-menu-icon ui-icon \"+n).data(\"ui-menu-submenu-carat\",!0);i.attr(\"aria-haspopup\",\"true\").prepend(s),e.attr(\"aria-labelledby\",i.attr(\"id\"))}),e=a.add(this.element),i=e.find(this.options.items),i.not(\".ui-menu-item\").each(function(){var e=t(this);s._isDivider(e)&&e.addClass(\"ui-widget-content ui-menu-divider\")}),i.not(\".ui-menu-item, .ui-menu-divider\").addClass(\"ui-menu-item\").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(\".ui-state-disabled\").attr(\"aria-disabled\",\"true\"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:\"menuitem\",listbox:\"option\"}[this.options.role]},_setOption:function(t,e){\"icons\"===t&&this.element.find(\".ui-menu-icon\").removeClass(this.options.icons.submenu).addClass(e.submenu),\"disabled\"===t&&this.element.toggleClass(\"ui-state-disabled\",!!e).attr(\"aria-disabled\",e),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&\"focus\"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.addClass(\"ui-state-focus\").removeClass(\"ui-state-active\"),this.options.role&&this.element.attr(\"aria-activedescendant\",s.attr(\"id\")),this.active.parent().closest(\".ui-menu-item\").addClass(\"ui-state-active\"),t&&\"keydown\"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(\".ui-menu\"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger(\"focus\",t,{item:e})},_scrollIntoView:function(e){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],\"borderTopWidth\"))||0,s=parseFloat(t.css(this.activeMenu[0],\"paddingTop\"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass(\"ui-state-focus\"),this.active=null,this._trigger(\"blur\",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),\"true\"===t.attr(\"aria-hidden\")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(\".ui-menu\").not(e.parents(\".ui-menu\")).hide().attr(\"aria-hidden\",\"true\"),e.show().removeAttr(\"aria-hidden\").attr(\"aria-expanded\",\"true\").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(\".ui-menu\"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(\".ui-menu\").hide().attr(\"aria-hidden\",\"true\").attr(\"aria-expanded\",\"false\").end().find(\".ui-state-active\").not(\".ui-state-focus\").removeClass(\"ui-state-active\")},_closeOnDocumentClick:function(e){return!t(e.target).closest(\".ui-menu\").length},_isDivider:function(t){return!/[^\\-\\u2014\\u2013\\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(\".ui-menu-item\",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(\".ui-menu \").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move(\"next\",\"first\",t)},previous:function(t){this._move(\"prev\",\"last\",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(\".ui-menu-item\").length},isLastItem:function(){return this.active&&!this.active.nextAll(\".ui-menu-item\").length},_move:function(t,e,i){var s;this.active&&(s=\"first\"===t||\"last\"===t?this.active[\"first\"===t?\"prevAll\":\"nextAll\"](\".ui-menu-item\").eq(-1):this.active[t+\"All\"](\".ui-menu-item\").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(\".ui-menu-item\").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?\"last\":\"first\"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(\".ui-menu-item\").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop(\"scrollHeight\")},select:function(e){this.active=this.active||t(e.target).closest(\".ui-menu-item\");var i={item:this.active};this.active.has(\".ui-menu\").length||this.collapseAll(e,!0),this._trigger(\"select\",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\"),s=RegExp(\"^\"+i,\"i\");return this.activeMenu.find(this.options.items).filter(\".ui-menu-item\").filter(function(){return s.test(t.trim(t(this).text()))})}}),t.widget(\"ui.autocomplete\",{version:\"1.11.4\",defaultElement:\"<input>\",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:\"left top\",at:\"left bottom\",collision:\"none\"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),a=\"textarea\"===n,o=\"input\"===n;this.isMultiLine=a?!0:o?!1:this.element.prop(\"isContentEditable\"),this.valueMethod=this.element[a||o?\"val\":\"text\"],this.isNewMenu=!0,this.element.addClass(\"ui-autocomplete-input\").attr(\"autocomplete\",\"off\"),this._on(this.element,{keydown:function(n){if(this.element.prop(\"readOnly\"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var a=t.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:e=!0,this._move(\"previousPage\",n);break;case a.PAGE_DOWN:e=!0,this._move(\"nextPage\",n);break;case a.UP:e=!0,this._keyEvent(\"previous\",n);break;case a.DOWN:e=!0,this._keyEvent(\"next\",n);break;case a.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(\":visible\")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(\":visible\"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move(\"previousPage\",s);break;case n.PAGE_DOWN:this._move(\"nextPage\",s);break;case n.UP:this._keyEvent(\"previous\",s);break;case n.DOWN:this._keyEvent(\"next\",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t(\"<ul>\").addClass(\"ui-autocomplete ui-front\").appendTo(this._appendTo()).menu({role:null}).hide().menu(\"instance\"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(\".ui-menu-item\").length||this._delay(function(){var e=this;this.document.one(\"mousedown\",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close()})})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one(\"mousemove\",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data(\"ui-autocomplete-item\"),!1!==this._trigger(\"focus\",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr(\"aria-label\")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t(\"<div>\").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(t,e){var i=e.item.data(\"ui-autocomplete-item\"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger(\"select\",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t(\"<span>\",{role:\"status\",\"aria-live\":\"assertive\",\"aria-relevant\":\"additions\"}).addClass(\"ui-helper-hidden-accessible\").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr(\"autocomplete\")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass(\"ui-autocomplete-input\").removeAttr(\"autocomplete\"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),\"source\"===t&&this._initSource(),\"appendTo\"===t&&this.menu.element.appendTo(this._appendTo()),\"disabled\"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(\".ui-front\")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):\"string\"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:\"json\",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(\":visible\"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger(\"search\",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass(\"ui-autocomplete-loading\"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass(\"ui-autocomplete-loading\")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger(\"response\",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger(\"open\")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(\":visible\")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger(\"close\",t))},_change:function(t){this.previous!==this._value()&&this._trigger(\"change\",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return\"string\"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width(\"\").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data(\"ui-autocomplete-item\",e)},_renderItem:function(e,i){return t(\"<li>\").text(i.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(\":visible\")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(\":visible\"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),\"i\");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget(\"ui.autocomplete\",t.ui.autocomplete,{options:{messages:{noResults:\"No search results.\",results:function(t){return t+(t>1?\" results are\":\" result is\")+\" available, use up and down arrow keys to navigate.\"}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t(\"<div>\").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var d,p=\"ui-button ui-widget ui-state-default ui-corner-all\",f=\"ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only\",m=function(){var e=t(this);setTimeout(function(){e.find(\":ui-button\").button(\"refresh\")},1)},g=function(e){var i=e.name,s=e.form,n=t([]);return i&&(i=i.replace(/'/g,\"\\\\'\"),n=s?t(s).find(\"[name='\"+i+\"'][type=radio]\"):t(\"[name='\"+i+\"'][type=radio]\",e.ownerDocument).filter(function(){return!this.form})),n};t.widget(\"ui.button\",{version:\"1.11.4\",defaultElement:\"<button>\",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest(\"form\").unbind(\"reset\"+this.eventNamespace).bind(\"reset\"+this.eventNamespace,m),\"boolean\"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop(\"disabled\"):this.element.prop(\"disabled\",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr(\"title\");var e=this,i=this.options,s=\"checkbox\"===this.type||\"radio\"===this.type,n=s?\"\":\"ui-state-active\";null===i.label&&(i.label=\"input\"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr(\"role\",\"button\").bind(\"mouseenter\"+this.eventNamespace,function(){i.disabled||this===d&&t(this).addClass(\"ui-state-active\")}).bind(\"mouseleave\"+this.eventNamespace,function(){i.disabled||t(this).removeClass(n)}).bind(\"click\"+this.eventNamespace,function(t){i.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass(\"ui-state-focus\")},blur:function(){this.buttonElement.removeClass(\"ui-state-focus\")}}),s&&this.element.bind(\"change\"+this.eventNamespace,function(){e.refresh()}),\"checkbox\"===this.type?this.buttonElement.bind(\"click\"+this.eventNamespace,function(){return i.disabled?!1:void 0}):\"radio\"===this.type?this.buttonElement.bind(\"click\"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass(\"ui-state-active\"),e.buttonElement.attr(\"aria-pressed\",\"true\");var s=e.element[0];g(s).not(s).map(function(){return t(this).button(\"widget\")[0]}).removeClass(\"ui-state-active\").attr(\"aria-pressed\",\"false\")}):(this.buttonElement.bind(\"mousedown\"+this.eventNamespace,function(){return i.disabled?!1:(t(this).addClass(\"ui-state-active\"),d=this,e.document.one(\"mouseup\",function(){d=null}),void 0)}).bind(\"mouseup\"+this.eventNamespace,function(){return i.disabled?!1:(t(this).removeClass(\"ui-state-active\"),void 0)}).bind(\"keydown\"+this.eventNamespace,function(e){return i.disabled?!1:((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass(\"ui-state-active\"),void 0)}).bind(\"keyup\"+this.eventNamespace+\" blur\"+this.eventNamespace,function(){t(this).removeClass(\"ui-state-active\")}),this.buttonElement.is(\"a\")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption(\"disabled\",i.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is(\"[type=checkbox]\")?\"checkbox\":this.element.is(\"[type=radio]\")?\"radio\":this.element.is(\"input\")?\"input\":\"button\",\"checkbox\"===this.type||\"radio\"===this.type?(t=this.element.parents().last(),e=\"label[for='\"+this.element.attr(\"id\")+\"']\",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass(\"ui-helper-hidden-accessible\"),i=this.element.is(\":checked\"),i&&this.buttonElement.addClass(\"ui-state-active\"),this.buttonElement.prop(\"aria-pressed\",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass(\"ui-helper-hidden-accessible\"),this.buttonElement.removeClass(p+\" ui-state-active \"+f).removeAttr(\"role\").removeAttr(\"aria-pressed\").html(this.buttonElement.find(\".ui-button-text\").html()),this.hasTitle||this.buttonElement.removeAttr(\"title\")},_setOption:function(t,e){return this._super(t,e),\"disabled\"===t?(this.widget().toggleClass(\"ui-state-disabled\",!!e),this.element.prop(\"disabled\",!!e),e&&(\"checkbox\"===this.type||\"radio\"===this.type?this.buttonElement.removeClass(\"ui-state-focus\"):this.buttonElement.removeClass(\"ui-state-focus ui-state-active\")),void 0):(this._resetButton(),void 0)},refresh:function(){var e=this.element.is(\"input, button\")?this.element.is(\":disabled\"):this.element.hasClass(\"ui-button-disabled\");e!==this.options.disabled&&this._setOption(\"disabled\",e),\"radio\"===this.type?g(this.element[0]).each(function(){t(this).is(\":checked\")?t(this).button(\"widget\").addClass(\"ui-state-active\").attr(\"aria-pressed\",\"true\"):t(this).button(\"widget\").removeClass(\"ui-state-active\").attr(\"aria-pressed\",\"false\")}):\"checkbox\"===this.type&&(this.element.is(\":checked\")?this.buttonElement.addClass(\"ui-state-active\").attr(\"aria-pressed\",\"true\"):this.buttonElement.removeClass(\"ui-state-active\").attr(\"aria-pressed\",\"false\"))},_resetButton:function(){if(\"input\"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var e=this.buttonElement.removeClass(f),i=t(\"<span></span>\",this.document[0]).addClass(\"ui-button-text\").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push(\"ui-button-text-icon\"+(n?\"s\":s.primary?\"-primary\":\"-secondary\")),s.primary&&e.prepend(\"<span class='ui-button-icon-primary ui-icon \"+s.primary+\"'></span>\"),s.secondary&&e.append(\"<span class='ui-button-icon-secondary ui-icon \"+s.secondary+\"'></span>\"),this.options.text||(a.push(n?\"ui-button-icons-only\":\"ui-button-icon-only\"),this.hasTitle||e.attr(\"title\",t.trim(i)))):a.push(\"ui-button-text-only\"),e.addClass(a.join(\" \"))}}),t.widget(\"ui.buttonset\",{version:\"1.11.4\",options:{items:\"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)\"},_create:function(){this.element.addClass(\"ui-buttonset\")},_init:function(){this.refresh()},_setOption:function(t,e){\"disabled\"===t&&this.buttons.button(\"option\",t,e),this._super(t,e)},refresh:function(){var e=\"rtl\"===this.element.css(\"direction\"),i=this.element.find(this.options.items),s=i.filter(\":ui-button\");i.not(\":ui-button\").button(),s.button(\"refresh\"),this.buttons=i.map(function(){return t(this).button(\"widget\")[0]}).removeClass(\"ui-corner-all ui-corner-left ui-corner-right\").filter(\":first\").addClass(e?\"ui-corner-right\":\"ui-corner-left\").end().filter(\":last\").addClass(e?\"ui-corner-left\":\"ui-corner-right\").end().end()},_destroy:function(){this.element.removeClass(\"ui-buttonset\"),this.buttons.map(function(){return t(this).button(\"widget\")[0]}).removeClass(\"ui-corner-left ui-corner-right\").end().button(\"destroy\")}}),t.ui.button,t.extend(t.ui,{datepicker:{version:\"1.11.4\"}});var v;t.extend(n.prototype,{markerClassName:\"hasDatepicker\",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,a;s=e.nodeName.toLowerCase(),n=\"div\"===s||\"span\"===s,e.id||(this.uuid+=1,e.id=\"dp\"+this.uuid),a=this._newInst(t(e),n),a.settings=t.extend({},i||{}),\"input\"===s?this._connectDatepicker(e,a):n&&this._inlineDatepicker(e,a)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\\-])/g,\"\\\\\\\\$1\");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(t(\"<div class='\"+this._inlineClass+\" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,\"datepicker\",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,a,o=this._get(i,\"appendText\"),r=this._get(i,\"isRTL\");i.append&&i.append.remove(),o&&(i.append=t(\"<span class='\"+this._appendClass+\"'>\"+o+\"</span>\"),e[r?\"before\":\"after\"](i.append)),e.unbind(\"focus\",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,\"showOn\"),(\"focus\"===s||\"both\"===s)&&e.focus(this._showDatepicker),(\"button\"===s||\"both\"===s)&&(n=this._get(i,\"buttonText\"),a=this._get(i,\"buttonImage\"),i.trigger=t(this._get(i,\"buttonImageOnly\")?t(\"<img/>\").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):t(\"<button type='button'></button>\").addClass(this._triggerClass).html(a?t(\"<img/>\").attr({src:a,alt:n,title:n}):n)),e[r?\"before\":\"after\"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,\"autoSize\")&&!t.inline){var e,i,s,n,a=new Date(2009,11,20),o=this._get(t,\"dateFormat\");o.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},a.setMonth(e(this._get(t,o.match(/MM/)?\"monthNames\":\"monthNamesShort\"))),a.setDate(e(this._get(t,o.match(/DD/)?\"dayNames\":\"dayNamesShort\"))+20-a.getDay())),t.input.attr(\"size\",this._formatDate(t,a).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,\"datepicker\",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css(\"display\",\"block\"))},_dialogDatepicker:function(e,i,s,n,a){var o,h,l,u,c,d=this._dialogInst;return d||(this.uuid+=1,o=\"dp\"+this.uuid,this._dialogInput=t(\"<input type='text' id='\"+o+\"' style='position: absolute; top: -100px; width: 0px;'/>\"),this._dialogInput.keydown(this._doKeyDown),t(\"body\").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],\"datepicker\",d)),r(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+c]),this._dialogInput.css(\"left\",this._pos[0]+20+\"px\").css(\"top\",this._pos[1]+\"px\"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],\"datepicker\",d),this\n},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,\"datepicker\");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,\"datepicker\"),\"input\"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind(\"focus\",this._showDatepicker).unbind(\"keydown\",this._doKeyDown).unbind(\"keypress\",this._doKeyPress).unbind(\"keyup\",this._doKeyUp)):(\"div\"===i||\"span\"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(e){var i,s,n=t(e),a=t.data(e,\"datepicker\");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),\"input\"===i?(e.disabled=!1,a.trigger.filter(\"button\").each(function(){this.disabled=!1}).end().filter(\"img\").css({opacity:\"1.0\",cursor:\"\"})):(\"div\"===i||\"span\"===i)&&(s=n.children(\".\"+this._inlineClass),s.children().removeClass(\"ui-state-disabled\"),s.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),a=t.data(e,\"datepicker\");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),\"input\"===i?(e.disabled=!0,a.trigger.filter(\"button\").each(function(){this.disabled=!0}).end().filter(\"img\").css({opacity:\"0.5\",cursor:\"default\"})):(\"div\"===i||\"span\"===i)&&(s=n.children(\".\"+this._inlineClass),s.children().addClass(\"ui-state-disabled\"),s.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,\"datepicker\")}catch(i){throw\"Missing instance data for this datepicker\"}},_optionDatepicker:function(e,i,s){var n,a,o,h,l=this._getInst(e);return 2===arguments.length&&\"string\"==typeof i?\"defaults\"===i?t.extend({},t.datepicker._defaults):l?\"all\"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},\"string\"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(l,\"min\"),h=this._getMinMaxDate(l,\"max\"),r(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),\"disabled\"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,a=t.datepicker._getInst(e.target),o=!0,r=a.dpDiv.is(\".ui-datepicker-rtl\");if(a._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return n=t(\"td.\"+t.datepicker._dayOverClass+\":not(.\"+t.datepicker._currentClass+\")\",a.dpDiv),n[0]&&t.datepicker._selectDay(e.target,a.selectedMonth,a.selectedYear,n[0]),i=t.datepicker._get(a,\"onSelect\"),i?(s=t.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,\"stepBigMonths\"):-t.datepicker._get(a,\"stepMonths\"),\"M\");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,\"stepBigMonths\"):+t.datepicker._get(a,\"stepMonths\"),\"M\");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,\"D\"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,\"stepBigMonths\"):-t.datepicker._get(a,\"stepMonths\"),\"M\");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,\"D\"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,\"D\"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,\"stepBigMonths\"):+t.datepicker._get(a,\"stepMonths\"),\"M\");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,\"D\"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,\"constrainInput\")?(i=t.datepicker._possibleChars(t.datepicker._get(n,\"dateFormat\")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||\" \">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,\"dateFormat\"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,\"input\"!==e.nodeName.toLowerCase()&&(e=t(\"input\",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,a,o,h,l,u;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,\"beforeShow\"),a=n?n.apply(e,[e,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=\"\"),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return o|=\"fixed\"===t(this).css(\"position\"),!o}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:\"absolute\",display:\"block\",top:\"-1000px\"}),t.datepicker._updateDatepicker(i),h=t.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?\"static\":o?\"fixed\":\"absolute\",display:\"none\",left:h.left+\"px\",top:h.top+\"px\"}),i.inline||(l=t.datepicker._get(i,\"showAnim\"),u=t.datepicker._get(i,\"duration\"),i.dpDiv.css(\"z-index\",s(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,\"showOptions\"),u):i.dpDiv[l||\"show\"](l?u:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,v=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find(\".\"+this._dayOverClass+\" a\");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass(\"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\").width(\"\"),n>1&&e.dpDiv.addClass(\"ui-datepicker-multi-\"+n).css(\"width\",a*n+\"em\"),e.dpDiv[(1!==s[0]||1!==s[1]?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-multi\"),e.dpDiv[(this._get(e,\"isRTL\")?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-rtl\"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find(\"select.ui-datepicker-year:first\").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(\":visible\")&&!t.input.is(\":disabled\")&&!t.input.is(\":focus\")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,\"isRTL\")?n-o:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,\"isRTL\");e&&(\"hidden\"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?\"previousSibling\":\"nextSibling\"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,a,o=this._curInst;!o||e&&o!==t.data(e,\"datepicker\")||this._datepickerShowing&&(i=this._get(o,\"showAnim\"),s=this._get(o,\"duration\"),n=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[i]||t.effects[i])?o.dpDiv.hide(i,t.datepicker._get(o,\"showOptions\"),s,n):o.dpDiv[\"slideDown\"===i?\"slideUp\":\"fadeIn\"===i?\"fadeOut\":\"hide\"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,\"onClose\"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():\"\",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:\"absolute\",left:\"0\",top:\"-100px\"}),t.blockUI&&(t.unblockUI(),t(\"body\").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(\".ui-datepicker-calendar\")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents(\"#\"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest(\".\"+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+(\"M\"===s?this._get(a,\"showCurrentAtPos\"):0),s),this._updateDatepicker(a))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,\"gotoCurrent\")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),a=this._getInst(n[0]);a[\"selected\"+(\"M\"===s?\"Month\":\"Year\")]=a[\"draw\"+(\"M\"===s?\"Month\":\"Year\")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(e,i,s,n){var a,o=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=t(\"a\",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,\"\")},_selectDate:function(e,i){var s,n=t(e),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,\"onSelect\"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger(\"change\"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],\"object\"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,a=this._get(e,\"altField\");a&&(i=this._get(e,\"altFormat\")||this._get(e,\"dateFormat\"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(a).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,\"\"]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw\"Invalid arguments\";if(i=\"object\"==typeof i?\"\"+i:i+\"\",\"\"===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u=\"string\"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),c=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,_=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},x=function(t){var e=y(t),s=\"@\"===t?14:\"!\"===t?20:\"y\"===t&&e?4:\"o\"===t?3:2,n=\"y\"===t?s:1,a=RegExp(\"^\\\\d{\"+n+\",\"+s+\"}\"),o=i.substring(h).match(a);if(!o)throw\"Missing number at position \"+h;return h+=o[0].length,parseInt(o[0],10)},w=function(e,s,n){var a=-1,o=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=e[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw\"Unknown name at position \"+h},k=function(){if(i.charAt(h)!==e.charAt(n))throw\"Unexpected literal at position \"+h;h++};for(n=0;e.length>n;n++)if(b)\"'\"!==e.charAt(n)||y(\"'\")?k():b=!1;else switch(e.charAt(n)){case\"d\":v=x(\"d\");break;case\"D\":w(\"D\",c,d);break;case\"o\":_=x(\"o\");break;case\"m\":g=x(\"m\");break;case\"M\":g=w(\"M\",p,f);break;case\"y\":m=x(\"y\");break;case\"@\":r=new Date(x(\"@\")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case\"!\":r=new Date((x(\"!\")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case\"'\":y(\"'\")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\\s+/.test(o)))throw\"Extra/unparsed characters found in date: \"+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),_>-1)for(g=1,v=_;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw\"Invalid date\";return r},ATOM:\"yy-mm-dd\",COOKIE:\"D, dd M yy\",ISO_8601:\"yy-mm-dd\",RFC_822:\"D, d M y\",RFC_850:\"DD, dd-M-y\",RFC_1036:\"D, d M y\",RFC_1123:\"D, d M yy\",RFC_2822:\"D, d M yy\",RSS:\"D, d M y\",TICKS:\"!\",TIMESTAMP:\"@\",W3C:\"yy-mm-dd\",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return\"\";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=\"\"+e;if(h(t))for(;i>s.length;)s=\"0\"+s;return s},u=function(t,e,i,s){return h(t)?s[e]:i[e]},c=\"\",d=!1;if(e)for(s=0;t.length>s;s++)if(d)\"'\"!==t.charAt(s)||h(\"'\")?c+=t.charAt(s):d=!1;else switch(t.charAt(s)){case\"d\":c+=l(\"d\",e.getDate(),2);break;case\"D\":c+=u(\"D\",e.getDay(),n,a);break;case\"o\":c+=l(\"o\",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case\"m\":c+=l(\"m\",e.getMonth()+1,2);break;case\"M\":c+=u(\"M\",e.getMonth(),o,r);break;case\"y\":c+=h(\"y\")?e.getFullYear():(10>e.getYear()%100?\"0\":\"\")+e.getYear()%100;break;case\"@\":c+=e.getTime();break;case\"!\":c+=1e4*e.getTime()+this._ticksTo1970;break;case\"'\":h(\"'\")?c+=\"'\":d=!0;break;default:c+=t.charAt(s)}return c},_possibleChars:function(t){var e,i=\"\",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)\"'\"!==t.charAt(e)||n(\"'\")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case\"d\":case\"m\":case\"y\":case\"@\":i+=\"0123456789\";break;case\"D\":case\"M\":return null;case\"'\":n(\"'\")?i+=\"'\":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,\"dateFormat\"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),a=n,o=this._getFormatConfig(t);try{a=this.parseDate(i,s,o)||n}catch(r){s=e?\"\":s}t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),t.currentDay=s?a.getDate():0,t.currentMonth=s?a.getMonth():0,t.currentYear=s?a.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,\"defaultDate\"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},a=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,\"dateFormat\"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\\-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||\"d\"){case\"d\":case\"D\":r+=parseInt(l[1],10);break;case\"w\":case\"W\":r+=7*parseInt(l[1],10);break;case\"m\":case\"M\":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(a,o));break;case\"y\":case\"Y\":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||\"\"===i?s:\"string\"==typeof i?a(i):\"number\"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&\"Invalid Date\"==\"\"+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,a=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),n===t.selectedMonth&&a===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?\"\":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&\"\"===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,\"stepMonths\"),s=\"#\"+e.id.replace(/\\\\\\\\/g,\"\\\\\");e.dpDiv.find(\"[data-handler]\").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,\"M\")},next:function(){t.datepicker._adjustDate(s,+i,\"M\")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute(\"data-month\"),+this.getAttribute(\"data-year\"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,\"M\"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,\"Y\"),!1}};t(this).bind(this.getAttribute(\"data-event\"),e[this.getAttribute(\"data-handler\")])})},_generateHTML:function(t){var e,i,s,n,a,o,r,h,l,u,c,d,p,f,m,g,v,_,b,y,x,w,k,D,T,S,M,C,N,P,I,A,H,z,F,E,O,W,L,R=new Date,j=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,\"isRTL\"),B=this._get(t,\"showButtonPanel\"),J=this._get(t,\"hideIfNoPrevNext\"),K=this._get(t,\"navigationAsDateFormat\"),U=this._getNumberOfMonths(t),q=this._get(t,\"showCurrentAtPos\"),V=this._get(t,\"stepMonths\"),G=1!==U[0]||1!==U[1],X=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),$=this._getMinMaxDate(t,\"min\"),Q=this._getMinMaxDate(t,\"max\"),Z=t.drawMonth-q,te=t.drawYear;if(0>Z&&(Z+=12,te--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-U[0]*U[1]+1,Q.getDate())),e=$&&$>e?$:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,\"prevText\"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-V,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?\"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='\"+i+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(Y?\"e\":\"w\")+\"'>\"+i+\"</span></a>\":J?\"\":\"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='\"+i+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(Y?\"e\":\"w\")+\"'>\"+i+\"</span></a>\",n=this._get(t,\"nextText\"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+V,1)),this._getFormatConfig(t)):n,a=this._canAdjustMonth(t,1,te,Z)?\"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='\"+n+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(Y?\"w\":\"e\")+\"'>\"+n+\"</span></a>\":J?\"\":\"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='\"+n+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(Y?\"w\":\"e\")+\"'>\"+n+\"</span></a>\",o=this._get(t,\"currentText\"),r=this._get(t,\"gotoCurrent\")&&t.currentDay?X:j,o=K?this.formatDate(o,r,this._getFormatConfig(t)):o,h=t.inline?\"\":\"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>\"+this._get(t,\"closeText\")+\"</button>\",l=B?\"<div class='ui-datepicker-buttonpane ui-widget-content'>\"+(Y?h:\"\")+(this._isInRange(t,r)?\"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>\"+o+\"</button>\":\"\")+(Y?\"\":h)+\"</div>\":\"\",u=parseInt(this._get(t,\"firstDay\"),10),u=isNaN(u)?0:u,c=this._get(t,\"showWeek\"),d=this._get(t,\"dayNames\"),p=this._get(t,\"dayNamesMin\"),f=this._get(t,\"monthNames\"),m=this._get(t,\"monthNamesShort\"),g=this._get(t,\"beforeShowDay\"),v=this._get(t,\"showOtherMonths\"),_=this._get(t,\"selectOtherMonths\"),b=this._getDefaultDate(t),y=\"\",w=0;U[0]>w;w++){for(k=\"\",this.maxRows=4,D=0;U[1]>D;D++){if(T=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),S=\" ui-corner-all\",M=\"\",G){if(M+=\"<div class='ui-datepicker-group\",U[1]>1)switch(D){case 0:M+=\" ui-datepicker-group-first\",S=\" ui-corner-\"+(Y?\"right\":\"left\");break;case U[1]-1:M+=\" ui-datepicker-group-last\",S=\" ui-corner-\"+(Y?\"left\":\"right\");break;default:M+=\" ui-datepicker-group-middle\",S=\"\"}M+=\"'>\"}for(M+=\"<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix\"+S+\"'>\"+(/all|left/.test(S)&&0===w?Y?a:s:\"\")+(/all|right/.test(S)&&0===w?Y?s:a:\"\")+this._generateMonthYearHeader(t,Z,te,$,Q,w>0||D>0,f,m)+\"</div><table class='ui-datepicker-calendar'><thead>\"+\"<tr>\",C=c?\"<th class='ui-datepicker-week-col'>\"+this._get(t,\"weekHeader\")+\"</th>\":\"\",x=0;7>x;x++)N=(x+u)%7,C+=\"<th scope='col'\"+((x+u+6)%7>=5?\" class='ui-datepicker-week-end'\":\"\")+\">\"+\"<span title='\"+d[N]+\"'>\"+p[N]+\"</span></th>\";for(M+=C+\"</tr></thead><tbody>\",P=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,P)),I=(this._getFirstDayOfMonth(te,Z)-u+7)%7,A=Math.ceil((I+P)/7),H=G?this.maxRows>A?this.maxRows:A:A,this.maxRows=H,z=this._daylightSavingAdjust(new Date(te,Z,1-I)),F=0;H>F;F++){for(M+=\"<tr>\",E=c?\"<td class='ui-datepicker-week-col'>\"+this._get(t,\"calculateWeek\")(z)+\"</td>\":\"\",x=0;7>x;x++)O=g?g.apply(t.input?t.input[0]:null,[z]):[!0,\"\"],W=z.getMonth()!==Z,L=W&&!_||!O[0]||$&&$>z||Q&&z>Q,E+=\"<td class='\"+((x+u+6)%7>=5?\" ui-datepicker-week-end\":\"\")+(W?\" ui-datepicker-other-month\":\"\")+(z.getTime()===T.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===z.getTime()&&b.getTime()===T.getTime()?\" \"+this._dayOverClass:\"\")+(L?\" \"+this._unselectableClass+\" ui-state-disabled\":\"\")+(W&&!v?\"\":\" \"+O[1]+(z.getTime()===X.getTime()?\" \"+this._currentClass:\"\")+(z.getTime()===j.getTime()?\" ui-datepicker-today\":\"\"))+\"'\"+(W&&!v||!O[2]?\"\":\" title='\"+O[2].replace(/'/g,\"&#39;\")+\"'\")+(L?\"\":\" data-handler='selectDay' data-event='click' data-month='\"+z.getMonth()+\"' data-year='\"+z.getFullYear()+\"'\")+\">\"+(W&&!v?\"&#xa0;\":L?\"<span class='ui-state-default'>\"+z.getDate()+\"</span>\":\"<a class='ui-state-default\"+(z.getTime()===j.getTime()?\" ui-state-highlight\":\"\")+(z.getTime()===X.getTime()?\" ui-state-active\":\"\")+(W?\" ui-priority-secondary\":\"\")+\"' href='#'>\"+z.getDate()+\"</a>\")+\"</td>\",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);M+=E+\"</tr>\"}Z++,Z>11&&(Z=0,te++),M+=\"</tbody></table>\"+(G?\"</div>\"+(U[0]>0&&D===U[1]-1?\"<div class='ui-datepicker-row-break'></div>\":\"\"):\"\"),k+=M}y+=k}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,a,o,r){var h,l,u,c,d,p,f,m,g=this._get(t,\"changeMonth\"),v=this._get(t,\"changeYear\"),_=this._get(t,\"showMonthAfterYear\"),b=\"<div class='ui-datepicker-title'>\",y=\"\";if(a||!g)y+=\"<span class='ui-datepicker-month'>\"+o[e]+\"</span>\";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+=\"<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>\",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(y+=\"<option value='\"+u+\"'\"+(u===e?\" selected='selected'\":\"\")+\">\"+r[u]+\"</option>\");y+=\"</select>\"}if(_||(b+=y+(!a&&g&&v?\"\":\"&#xa0;\")),!t.yearshtml)if(t.yearshtml=\"\",a||!v)b+=\"<span class='ui-datepicker-year'>\"+i+\"</span>\";else{for(c=this._get(t,\"yearRange\").split(\":\"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(c[0]),m=Math.max(f,p(c[1]||\"\")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,t.yearshtml+=\"<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>\";m>=f;f++)t.yearshtml+=\"<option value='\"+f+\"'\"+(f===i?\" selected='selected'\":\"\")+\">\"+f+\"</option>\";t.yearshtml+=\"</select>\",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,\"yearSuffix\"),_&&(b+=(!a&&g&&v?\"\":\"&#xa0;\")+y),b+=\"</div>\"},_adjustInstDate:function(t,e,i){var s=t.drawYear+(\"Y\"===i?e:0),n=t.drawMonth+(\"M\"===i?e:0),a=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+(\"D\"===i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,a)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),(\"M\"===i||\"Y\"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,\"min\"),s=this._getMinMaxDate(t,\"max\"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,\"onChangeMonthYear\");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,\"numberOfMonths\");return null==e?[1,1]:\"number\"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+\"Date\"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,\"min\"),a=this._getMinMaxDate(t,\"max\"),o=null,r=null,h=this._get(t,\"yearRange\");return h&&(i=h.split(\":\"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\\-].*/)&&(o+=s),i[1].match(/[+\\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!a||e.getTime()<=a.getTime())&&(!o||e.getFullYear()>=o)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,\"shortYearCutoff\");return e=\"string\"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,\"dayNamesShort\"),dayNames:this._get(t,\"dayNames\"),monthNamesShort:this._get(t,\"monthNamesShort\"),monthNames:this._get(t,\"monthNames\")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?\"object\"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,\"dateFormat\"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t(\"#\"+t.datepicker._mainDivId).length&&t(\"body\").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return\"string\"!=typeof e||\"isDisabled\"!==e&&\"getDate\"!==e&&\"widget\"!==e?\"option\"===e&&2===arguments.length&&\"string\"==typeof arguments[1]?t.datepicker[\"_\"+e+\"Datepicker\"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){\"string\"==typeof e?t.datepicker[\"_\"+e+\"Datepicker\"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker[\"_\"+e+\"Datepicker\"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version=\"1.11.4\",t.datepicker,t.widget(\"ui.dialog\",{version:\"1.11.4\",options:{appendTo:\"body\",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:\"Close\",dialogClass:\"\",draggable:!0,hide:null,height:\"auto\",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:\"center\",at:\"center\",of:window,collision:\"fit\",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css(\"top\",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr(\"title\"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr(\"title\").addClass(\"ui-dialog-content ui-widget-content\").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||\"body\").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass(\"ui-dialog-content ui-widget-content\").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr(\"title\",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,s=this;if(this._isOpen&&this._trigger(\"beforeClose\",e)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(\":focusable\").focus().length)try{i=this.document[0].activeElement,i&&\"body\"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger(\"close\",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(\".ui-front:visible\").map(function(){return+t(this).css(\"z-index\")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css(\"z-index\")&&(this.uiDialog.css(\"z-index\",a+1),s=!0),s&&!i&&this._trigger(\"focus\",e),s},open:function(){var e=this;\nreturn this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css(\"z-index\",this.uiDialog.css(\"z-index\")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger(\"focus\")}),this._makeFocusTarget(),this._trigger(\"open\"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find(\"[autofocus]\")),t.length||(t=this.element.find(\":tabbable\")),t.length||(t=this.uiDialogButtonPane.find(\":tabbable\")),t.length||(t=this.uiDialogTitlebarClose.filter(\":tabbable\")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t(\"<div>\").addClass(\"ui-dialog ui-widget ui-widget-content ui-corner-all ui-front \"+this.options.dialogClass).hide().attr({tabIndex:-1,role:\"dialog\"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(\":tabbable\"),s=i.filter(\":first\"),n=i.filter(\":last\");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.focus()}),e.preventDefault()):(this._delay(function(){s.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find(\"[aria-describedby]\").length||this.uiDialog.attr({\"aria-describedby\":this.element.uniqueId().attr(\"id\")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t(\"<div>\").addClass(\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(\".ui-dialog-titlebar-close\")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t(\"<button type='button'></button>\").button({label:this.options.closeText,icons:{primary:\"ui-icon-closethick\"},text:!1}).addClass(\"ui-dialog-titlebar-close\").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t(\"<span>\").uniqueId().addClass(\"ui-dialog-title\").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({\"aria-labelledby\":e.attr(\"id\")})},_title:function(t){this.options.title||t.html(\"&#160;\"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t(\"<div>\").addClass(\"ui-dialog-buttonpane ui-widget-content ui-helper-clearfix\"),this.uiButtonSet=t(\"<div>\").addClass(\"ui-dialog-buttonset\").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this.uiDialog.removeClass(\"ui-dialog-buttons\"),void 0):(t.each(i,function(i,s){var n,a;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:\"button\"},s),n=s.click,s.click=function(){n.apply(e.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,t(\"<button></button>\",s).button(a).appendTo(e.uiButtonSet)}),this.uiDialog.addClass(\"ui-dialog-buttons\"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:\".ui-dialog-content, .ui-dialog-titlebar-close\",handle:\".ui-dialog-titlebar\",containment:\"document\",start:function(s,n){t(this).addClass(\"ui-dialog-dragging\"),i._blockFrames(),i._trigger(\"dragStart\",s,e(n))},drag:function(t,s){i._trigger(\"drag\",t,e(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();s.position={my:\"left top\",at:\"left\"+(o>=0?\"+\":\"\")+o+\" \"+\"top\"+(r>=0?\"+\":\"\")+r,of:i.window},t(this).removeClass(\"ui-dialog-dragging\"),i._unblockFrames(),i._trigger(\"dragStop\",n,e(a))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css(\"position\"),o=\"string\"==typeof n?n:\"n,e,s,w,se,sw,ne,nw\";this.uiDialog.resizable({cancel:\".ui-dialog-content\",containment:\"document\",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){t(this).addClass(\"ui-dialog-resizing\"),i._blockFrames(),i._trigger(\"resizeStart\",s,e(n))},resize:function(t,s){i._trigger(\"resize\",t,e(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:\"left top\",at:\"left\"+(r>=0?\"+\":\"\")+r+\" \"+\"top\"+(h>=0?\"+\":\"\")+h,of:i.window},t(this).removeClass(\"ui-dialog-resizing\"),i._unblockFrames(),i._trigger(\"resizeStop\",n,e(a))}}).css(\"position\",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data(\"ui-dialog-instances\");return t||(t=[],this.document.data(\"ui-dialog-instances\",t)),t},_minHeight:function(){var t=this.options;return\"auto\"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(\":visible\");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(\":data(ui-resizable)\")&&this.uiDialog.resizable(\"option\",n)},_setOption:function(t,e){var i,s,n=this.uiDialog;\"dialogClass\"===t&&n.removeClass(this.options.dialogClass).addClass(e),\"disabled\"!==t&&(this._super(t,e),\"appendTo\"===t&&this.uiDialog.appendTo(this._appendTo()),\"buttons\"===t&&this._createButtons(),\"closeText\"===t&&this.uiDialogTitlebarClose.button({label:\"\"+e}),\"draggable\"===t&&(i=n.is(\":data(ui-draggable)\"),i&&!e&&n.draggable(\"destroy\"),!i&&e&&this._makeDraggable()),\"position\"===t&&this._position(),\"resizable\"===t&&(s=n.is(\":data(ui-resizable)\"),s&&!e&&n.resizable(\"destroy\"),s&&\"string\"==typeof e&&n.resizable(\"option\",\"handles\",e),s||e===!1||this._makeResizable()),\"title\"===t&&this._title(this.uiDialogTitlebar.find(\".ui-dialog-title\")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:\"auto\",minHeight:0,maxHeight:\"none\",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:\"auto\",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i=\"number\"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):\"none\",\"auto\"===s.height?this.element.css({minHeight:e,maxHeight:i,height:\"auto\"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(\":data(ui-resizable)\")&&this.uiDialog.resizable(\"option\",\"minHeight\",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find(\"iframe\").map(function(){var e=t(this);return t(\"<div>\").css({position:\"absolute\",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(\".ui-dialog\").length?!0:!!t(e.target).closest(\".ui-datepicker\").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data(\"ui-dialog-overlays\")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t(\"<div>\").addClass(\"ui-widget-overlay ui-front\").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:\"_keepFocus\"}),this.document.data(\"ui-dialog-overlays\",(this.document.data(\"ui-dialog-overlays\")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data(\"ui-dialog-overlays\")-1;t?this.document.data(\"ui-dialog-overlays\",t):this.document.unbind(\"focusin\").removeData(\"ui-dialog-overlays\"),this.overlay.remove(),this.overlay=null}}}),t.widget(\"ui.progressbar\",{version:\"1.11.4\",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass(\"ui-progressbar ui-widget ui-widget-content ui-corner-all\").attr({role:\"progressbar\",\"aria-valuemin\":this.min}),this.valueDiv=t(\"<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>\").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass(\"ui-progressbar ui-widget ui-widget-content ui-corner-all\").removeAttr(\"role\").removeAttr(\"aria-valuemin\").removeAttr(\"aria-valuemax\").removeAttr(\"aria-valuenow\"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,\"number\"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){\"max\"===t&&(e=Math.max(this.min,e)),\"disabled\"===t&&this.element.toggleClass(\"ui-state-disabled\",!!e).attr(\"aria-disabled\",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass(\"ui-corner-right\",e===this.options.max).width(i.toFixed(0)+\"%\"),this.element.toggleClass(\"ui-progressbar-indeterminate\",this.indeterminate),this.indeterminate?(this.element.removeAttr(\"aria-valuenow\"),this.overlayDiv||(this.overlayDiv=t(\"<div class='ui-progressbar-overlay'></div>\").appendTo(this.valueDiv))):(this.element.attr({\"aria-valuemax\":this.options.max,\"aria-valuenow\":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger(\"change\")),e===this.options.max&&this._trigger(\"complete\")}}),t.widget(\"ui.selectmenu\",{version:\"1.11.4\",defaultElement:\"<select>\",options:{appendTo:null,disabled:null,icons:{button:\"ui-icon-triangle-1-s\"},position:{my:\"left top\",at:\"left bottom\",collision:\"none\"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr(\"id\");this.ids={element:t,button:t+\"-button\",menu:t+\"-menu\"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this;this.label=t(\"label[for='\"+this.ids.element+\"']\").attr(\"for\",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t(\"<span>\",{\"class\":\"ui-selectmenu-button ui-widget ui-state-default ui-corner-all\",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:\"combobox\",\"aria-expanded\":\"false\",\"aria-autocomplete\":\"list\",\"aria-owns\":this.ids.menu,\"aria-haspopup\":\"true\"}).insertAfter(this.element),t(\"<span>\",{\"class\":\"ui-icon \"+this.options.icons.button}).prependTo(this.button),this.buttonText=t(\"<span>\",{\"class\":\"ui-selectmenu-text\"}).appendTo(this.button),this._setText(this.buttonText,this.element.find(\"option:selected\").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one(\"focusin\",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t(\"<ul>\",{\"aria-hidden\":\"true\",\"aria-labelledby\":this.ids.button,id:this.ids.menu}),this.menuWrap=t(\"<div>\",{\"class\":\"ui-selectmenu-menu ui-front\"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:\"listbox\",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data(\"ui-selectmenu-item\"),t)},focus:function(t,i){var s=i.item.data(\"ui-selectmenu-item\");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger(\"focus\",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr(\"aria-activedescendant\",e.menuItems.eq(s.index).attr(\"id\"))}}).menu(\"instance\"),this.menu.addClass(\"ui-corner-bottom\").removeClass(\"ui-corner-all\"),this.menuInstance._off(this.menu,\"mouseleave\"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find(\"option\");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find(\"li\").not(\".ui-selectmenu-optgroup\"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data(\"ui-selectmenu-item\")),this._setOption(\"disabled\",this.element.prop(\"disabled\")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(\".ui-state-focus\").removeClass(\"ui-state-focus\"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger(\"open\",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger(\"close\",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,i){var s=this,n=\"\";t.each(i,function(i,a){a.optgroup!==n&&(t(\"<li>\",{\"class\":\"ui-selectmenu-optgroup ui-menu-divider\"+(a.element.parent(\"optgroup\").prop(\"disabled\")?\" ui-state-disabled\":\"\"),text:a.optgroup}).appendTo(e),n=a.optgroup),s._renderItemData(e,a)})},_renderItemData:function(t,e){return this._renderItem(t,e).data(\"ui-selectmenu-item\",e)},_renderItem:function(e,i){var s=t(\"<li>\");return i.disabled&&s.addClass(\"ui-state-disabled\"),this._setText(s,i.label),s.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html(\"&#160;\")},_move:function(t,e){var i,s,n=\".ui-menu-item\";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=\":not(.ui-state-disabled)\"),s=\"first\"===t||\"last\"===t?i[\"first\"===t?\"prevAll\":\"nextAll\"](n).eq(-1):i[t+\"All\"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?\"close\":\"open\"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(\".ui-selectmenu-menu, #\"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move(\"prev\",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move(\"next\",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move(\"prev\",e);break;case t.ui.keyCode.RIGHT:this._move(\"next\",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move(\"first\",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move(\"last\",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass(\"ui-state-disabled\")||this._select(e.data(\"ui-selectmenu-item\"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger(\"select\",e,{item:t}),t.index!==i&&this._trigger(\"change\",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr(\"id\");this.button.attr({\"aria-labelledby\":e,\"aria-activedescendant\":e}),this.menu.attr(\"aria-activedescendant\",e)},_setOption:function(t,e){\"icons\"===t&&this.button.find(\"span.ui-icon\").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),\"appendTo\"===t&&this.menuWrap.appendTo(this._appendTo()),\"disabled\"===t&&(this.menuInstance.option(\"disabled\",e),this.button.toggleClass(\"ui-state-disabled\",e).attr(\"aria-disabled\",e),this.element.prop(\"disabled\",e),e?(this.button.attr(\"tabindex\",-1),this.close()):this.button.attr(\"tabindex\",0)),\"width\"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(\".ui-front\")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass(\"ui-corner-top\",this.isOpen).toggleClass(\"ui-corner-all\",!this.isOpen).attr(\"aria-expanded\",this.isOpen),this.menuWrap.toggleClass(\"ui-selectmenu-open\",this.isOpen),this.menu.attr(\"aria-hidden\",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width(\"\").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop(\"disabled\")}},_parseOptions:function(e){var i=[];e.each(function(e,s){var n=t(s),a=n.parent(\"optgroup\");i.push({element:n,index:e,value:n.val(),label:n.text(),optgroup:a.attr(\"label\")||\"\",disabled:a.prop(\"disabled\")||n.prop(\"disabled\")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr(\"for\",this.ids.element)}}),t.widget(\"ui.slider\",t.ui.mouse,{version:\"1.11.4\",widgetEventPrefix:\"slide\",options:{animate:!1,distance:0,max:100,min:0,orientation:\"horizontal\",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass(\"ui-slider ui-slider-\"+this.orientation+\" ui-widget\"+\" ui-widget-content\"+\" ui-corner-all\"),this._refresh(),this._setOption(\"disabled\",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(\".ui-slider-handle\").addClass(\"ui-state-default ui-corner-all\"),a=\"<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>\",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)o.push(a);this.handles=n.add(t(o.join(\"\")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data(\"ui-slider-handle-index\",e)})},_createRange:function(){var e=this.options,i=\"\";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass(\"ui-slider-range-min ui-slider-range-max\").css({left:\"\",bottom:\"\"}):(this.range=t(\"<div></div>\").appendTo(this.element),i=\"ui-slider-range ui-widget-header ui-corner-all\"),this.range.addClass(i+(\"min\"===e.range||\"max\"===e.range?\" ui-slider-range-\"+e.range:\"\"))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass(\"ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all\"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,a,o,r,h,l,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,a=t(this),o=e)}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass(\"ui-state-active\").focus(),h=a.offset(),l=!t(e.target).parents().addBack().is(\".ui-slider-handle\"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-a.width()/2,top:e.pageY-h.top-a.height()/2-(parseInt(a.css(\"borderTopWidth\"),10)||0)-(parseInt(a.css(\"borderBottomWidth\"),10)||0)+(parseInt(a.css(\"marginTop\"),10)||0)},this.handles.hasClass(\"ui-state-hover\")||this._slide(e,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass(\"ui-state-active\"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=\"vertical\"===this.options.orientation?\"vertical\":\"horizontal\"},_normValueFromMouse:function(t){var e,i,s,n,a;return\"horizontal\"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),\"vertical\"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger(\"start\",t,i)},_slide:function(t,e,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,a=this._trigger(\"slide\",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),a!==!1&&this.values(e,i))):i!==this.value()&&(a=this._trigger(\"slide\",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger(\"stop\",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger(\"change\",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch(\"range\"===e&&this.options.range===!0&&(\"min\"===i?(this.options.value=this._values(0),this.options.values=null):\"max\"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),\"disabled\"===e&&this.element.toggleClass(\"ui-state-disabled\",!!i),this._super(e,i),e){case\"orientation\":this._detectOrientation(),this.element.removeClass(\"ui-slider-horizontal ui-slider-vertical\").addClass(\"ui-slider-\"+this.orientation),this._refreshValue(),this.handles.css(\"horizontal\"===i?\"bottom\":\"left\",\"\");break;case\"value\":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case\"values\":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case\"step\":case\"min\":case\"max\":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case\"range\":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.floor(+(t-e).toFixed(this._precision())/i)*i;t=s+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=\"\"+t,i=e.indexOf(\".\");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u[\"horizontal\"===h.orientation?\"left\":\"bottom\"]=i+\"%\",t(this).stop(1,1)[l?\"animate\":\"css\"](u,r.animate),h.options.range===!0&&(\"horizontal\"===h.orientation?(0===s&&h.range.stop(1,1)[l?\"animate\":\"css\"]({left:i+\"%\"},r.animate),1===s&&h.range[l?\"animate\":\"css\"]({width:i-e+\"%\"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?\"animate\":\"css\"]({bottom:i+\"%\"},r.animate),1===s&&h.range[l?\"animate\":\"css\"]({height:i-e+\"%\"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u[\"horizontal\"===this.orientation?\"left\":\"bottom\"]=i+\"%\",this.handle.stop(1,1)[l?\"animate\":\"css\"](u,r.animate),\"min\"===o&&\"horizontal\"===this.orientation&&this.range.stop(1,1)[l?\"animate\":\"css\"]({width:i+\"%\"},r.animate),\"max\"===o&&\"horizontal\"===this.orientation&&this.range[l?\"animate\":\"css\"]({width:100-i+\"%\"},{queue:!1,duration:r.animate}),\"min\"===o&&\"vertical\"===this.orientation&&this.range.stop(1,1)[l?\"animate\":\"css\"]({height:i+\"%\"},r.animate),\"max\"===o&&\"vertical\"===this.orientation&&this.range[l?\"animate\":\"css\"]({height:100-i+\"%\"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(e){var i,s,n,a,o=t(e.target).data(\"ui-slider-handle-index\");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass(\"ui-state-active\"),i=this._start(e,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(e,o,n)},keyup:function(e){var i=t(e.target).data(\"ui-slider-handle-index\");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass(\"ui-state-active\"))}}}),t.widget(\"ui.spinner\",{version:\"1.11.4\",defaultElement:\"<input>\",widgetEventPrefix:\"spin\",options:{culture:null,icons:{down:\"ui-icon-triangle-1-s\",up:\"ui-icon-triangle-1-n\"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption(\"max\",this.options.max),this._setOption(\"min\",this.options.min),this._setOption(\"step\",this.options.step),\"\"!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr(\"autocomplete\")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each([\"min\",\"max\",\"step\"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:\"_stop\",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger(\"change\",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},\"mousedown .ui-spinner-button\":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass(\"ui-spinner-up\")?1:-1,e)},\"mouseup .ui-spinner-button\":\"_stop\",\"mouseenter .ui-spinner-button\":function(e){return t(e.currentTarget).hasClass(\"ui-state-active\")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass(\"ui-spinner-up\")?1:-1,e),void 0):void 0},\"mouseleave .ui-spinner-button\":\"_stop\"},_draw:function(){var t=this.uiSpinner=this.element.addClass(\"ui-spinner-input\").attr(\"autocomplete\",\"off\").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr(\"role\",\"spinbutton\"),this.buttons=t.find(\".ui-spinner-button\").attr(\"tabIndex\",-1).button().removeClass(\"ui-corner-all\"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()\n},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return\"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>\"},_buttonHtml:function(){return\"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon \"+this.options.icons.up+\"'>&#9650;</span>\"+\"</a>\"+\"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>\"+\"<span class='ui-icon \"+this.options.icons.down+\"'>&#9660;</span>\"+\"</a>\"},_start:function(t){return this.spinning||this._trigger(\"start\",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger(\"spin\",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=\"\"+t,i=e.indexOf(\".\");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger(\"stop\",t))},_setOption:function(t,e){if(\"culture\"===t||\"numberFormat\"===t){var i=this._parse(this.element.val());return this.options[t]=e,this.element.val(this._format(i)),void 0}(\"max\"===t||\"min\"===t||\"step\"===t)&&\"string\"==typeof e&&(e=this._parse(e)),\"icons\"===t&&(this.buttons.first().find(\".ui-icon\").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(\".ui-icon\").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),\"disabled\"===t&&(this.widget().toggleClass(\"ui-state-disabled\",!!e),this.element.prop(\"disabled\",!!e),this.buttons.button(e?\"disable\":\"enable\"))},_setOptions:h(function(t){this._super(t)}),_parse:function(t){return\"string\"==typeof t&&\"\"!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),\"\"===t||isNaN(t)?null:t},_format:function(t){return\"\"===t?\"\":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({\"aria-valuemin\":this.options.min,\"aria-valuemax\":this.options.max,\"aria-valuenow\":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;\"\"!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass(\"ui-spinner-input\").prop(\"disabled\",!1).removeAttr(\"autocomplete\").removeAttr(\"role\").removeAttr(\"aria-valuemin\").removeAttr(\"aria-valuemax\").removeAttr(\"aria-valuenow\"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:h(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:h(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:h(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(h(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.widget(\"ui.tabs\",{version:\"1.11.4\",delay:300,options:{active:null,collapsible:!1,event:\"click\",heightStyle:\"content\",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;e=e.cloneNode(!1),i=e.href.replace(t,\"\"),s=location.href.replace(t,\"\");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass(\"ui-tabs ui-widget ui-widget-content ui-corner-all\").toggleClass(\"ui-tabs-collapsible\",i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(\".ui-state-disabled\"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr(\"aria-controls\")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(\".ui-tabs-active\"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest(\"li\"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr(\"aria-selected\",\"false\"),this.tabs.eq(s).attr(\"aria-selected\",\"true\"),this.activating=this._delay(function(){this.option(\"active\",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return\"active\"===t?(this._activate(e),void 0):\"disabled\"===t?(this._setupDisabled(e),void 0):(this._super(t,e),\"collapsible\"===t&&(this.element.toggleClass(\"ui-tabs-collapsible\",e),e||this.options.active!==!1||this._activate(0)),\"event\"===t&&this._setupEvents(e),\"heightStyle\"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!\"$%&'()*+,.\\/:;<=>?@\\[\\]\\^`{|}~]/g,\"\\\\$&\"):\"\"},refresh:function(){var e=this.options,i=this.tablist.children(\":has(a[href])\");e.disabled=t.map(i.filter(\".ui-state-disabled\"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({\"aria-hidden\":\"true\"}),this.active.length?(this.active.addClass(\"ui-tabs-active ui-state-active\").attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0}),this._getPanelForTab(this.active).show().attr({\"aria-hidden\":\"false\"})):this.tabs.eq(0).attr(\"tabIndex\",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().addClass(\"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\").attr(\"role\",\"tablist\").delegate(\"> li\",\"mousedown\"+this.eventNamespace,function(e){t(this).is(\".ui-state-disabled\")&&e.preventDefault()}).delegate(\".ui-tabs-anchor\",\"focus\"+this.eventNamespace,function(){t(this).closest(\"li\").is(\".ui-state-disabled\")&&this.blur()}),this.tabs=this.tablist.find(\"> li:has(a[href])\").addClass(\"ui-state-default ui-corner-top\").attr({role:\"tab\",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t(\"a\",this)[0]}).addClass(\"ui-tabs-anchor\").attr({role:\"presentation\",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,s){var n,a,o,r=t(s).uniqueId().attr(\"id\"),h=t(s).closest(\"li\"),l=h.attr(\"aria-controls\");e._isLocal(s)?(n=s.hash,o=n.substring(1),a=e.element.find(e._sanitizeSelector(n))):(o=h.attr(\"aria-controls\")||t({}).uniqueId()[0].id,n=\"#\"+o,a=e.element.find(n),a.length||(a=e._createPanel(o),a.insertAfter(e.panels[i-1]||e.tablist)),a.attr(\"aria-live\",\"polite\")),a.length&&(e.panels=e.panels.add(a)),l&&h.data(\"ui-tabs-aria-controls\",l),h.attr({\"aria-controls\":o,\"aria-labelledby\":r}),a.attr(\"aria-labelledby\",r)}),this.panels.addClass(\"ui-tabs-panel ui-widget-content ui-corner-bottom\").attr(\"role\",\"tabpanel\"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find(\"ol,ul\").eq(0)},_createPanel:function(e){return t(\"<div>\").attr(\"id\",e).addClass(\"ui-tabs-panel ui-widget-content ui-corner-bottom\").data(\"ui-tabs-destroy\",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)e===!0||-1!==t.inArray(s,e)?t(i).addClass(\"ui-state-disabled\").attr(\"aria-disabled\",\"true\"):t(i).removeClass(\"ui-state-disabled\").removeAttr(\"aria-disabled\");this.options.disabled=e},_setupEvents:function(e){var i={};e&&t.each(e.split(\" \"),function(t,e){i[e]=\"_eventHandler\"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:\"_tabKeydown\"}),this._on(this.panels,{keydown:\"_panelKeydown\"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();\"fill\"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(\":visible\").each(function(){var e=t(this),s=e.css(\"position\");\"absolute\"!==s&&\"fixed\"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css(\"overflow\",\"auto\")):\"auto\"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height(\"\").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),a=n.closest(\"li\"),o=a[0]===s[0],r=o&&i.collapsible,h=r?t():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):t(),u={oldTab:s,oldPanel:l,newTab:r?t():a,newPanel:h};e.preventDefault(),a.hasClass(\"ui-state-disabled\")||a.hasClass(\"ui-tabs-loading\")||this.running||o&&!i.collapsible||this._trigger(\"beforeActivate\",e,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?t():a,this.xhr&&this.xhr.abort(),l.length||h.length||t.error(\"jQuery UI Tabs: Mismatching fragment identifier.\"),h.length&&this.load(this.tabs.index(a),e),this._toggle(e,u))},_toggle:function(e,i){function s(){a.running=!1,a._trigger(\"activate\",e,i)}function n(){i.newTab.closest(\"li\").addClass(\"ui-tabs-active ui-state-active\"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest(\"li\").removeClass(\"ui-tabs-active ui-state-active\"),n()}):(i.oldTab.closest(\"li\").removeClass(\"ui-tabs-active ui-state-active\"),r.hide(),n()),r.attr(\"aria-hidden\",\"true\"),i.oldTab.attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\"}),o.length&&r.length?i.oldTab.attr(\"tabIndex\",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr(\"tabIndex\")}).attr(\"tabIndex\",-1),o.attr(\"aria-hidden\",\"false\"),i.newTab.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(\".ui-tabs-anchor\")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return\"string\"==typeof t&&(t=this.anchors.index(this.anchors.filter(\"[href$='\"+t+\"']\"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass(\"ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible\"),this.tablist.removeClass(\"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\").removeAttr(\"role\"),this.anchors.removeClass(\"ui-tabs-anchor\").removeAttr(\"role\").removeAttr(\"tabIndex\").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,\"ui-tabs-destroy\")?t(this).remove():t(this).removeClass(\"ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel\").removeAttr(\"tabIndex\").removeAttr(\"aria-live\").removeAttr(\"aria-busy\").removeAttr(\"aria-selected\").removeAttr(\"aria-labelledby\").removeAttr(\"aria-hidden\").removeAttr(\"aria-expanded\").removeAttr(\"role\")}),this.tabs.each(function(){var e=t(this),i=e.data(\"ui-tabs-aria-controls\");i?e.attr(\"aria-controls\",i).removeData(\"ui-tabs-aria-controls\"):e.removeAttr(\"aria-controls\")}),this.panels.show(),\"content\"!==this.options.heightStyle&&this.panels.css(\"height\",\"\")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setupDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setupDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),a=n.find(\".ui-tabs-anchor\"),o=this._getPanelForTab(n),r={tab:n,panel:o},h=function(t,e){\"abort\"===e&&s.panels.stop(!1,!0),n.removeClass(\"ui-tabs-loading\"),o.removeAttr(\"aria-busy\"),t===s.xhr&&delete s.xhr};this._isLocal(a[0])||(this.xhr=t.ajax(this._ajaxSettings(a,i,r)),this.xhr&&\"canceled\"!==this.xhr.statusText&&(n.addClass(\"ui-tabs-loading\"),o.attr(\"aria-busy\",\"true\"),this.xhr.done(function(t,e,n){setTimeout(function(){o.html(t),s._trigger(\"load\",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr(\"href\"),beforeSend:function(e,a){return n._trigger(\"beforeLoad\",i,t.extend({jqXHR:e,ajaxSettings:a},s))}}},_getPanelForTab:function(e){var i=t(e).attr(\"aria-controls\");return this.element.find(this._sanitizeSelector(\"#\"+i))}}),t.widget(\"ui.tooltip\",{version:\"1.11.4\",options:{content:function(){var e=t(this).attr(\"title\")||\"\";return t(\"<a>\").text(e).html()},hide:!0,items:\"[title]:not([disabled])\",position:{my:\"left top+15\",at:\"left bottom\",collision:\"flipfit flip\"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr(\"aria-describedby\")||\"\").split(/\\s+/);s.push(i),e.data(\"ui-tooltip-id\",i).attr(\"aria-describedby\",t.trim(s.join(\" \")))},_removeDescribedBy:function(e){var i=e.data(\"ui-tooltip-id\"),s=(e.attr(\"aria-describedby\")||\"\").split(/\\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData(\"ui-tooltip-id\"),s=t.trim(s.join(\" \")),s?e.attr(\"aria-describedby\",s):e.removeAttr(\"aria-describedby\")},_create:function(){this._on({mouseover:\"open\",focusin:\"open\"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t(\"<div>\").attr({role:\"log\",\"aria-live\":\"assertive\",\"aria-relevant\":\"additions\"}).addClass(\"ui-helper-hidden-accessible\").appendTo(this.document[0].body)},_setOption:function(e,i){var s=this;return\"disabled\"===e?(this[i?\"_disable\":\"_enable\"](),this.options[e]=i,void 0):(this._super(e,i),\"content\"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)}),void 0)},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event(\"blur\");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is(\"[title]\")&&e.data(\"ui-tooltip-title\",e.attr(\"title\")).removeAttr(\"title\")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data(\"ui-tooltip-title\")&&e.attr(\"title\",e.data(\"ui-tooltip-title\"))})},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data(\"ui-tooltip-id\")&&(s.attr(\"title\")&&s.data(\"ui-tooltip-title\",s.attr(\"title\")),s.data(\"ui-tooltip-open\",!0),e&&\"mouseover\"===e.type&&s.parents().each(function(){var e,s=t(this);s.data(\"ui-tooltip-open\")&&(e=t.Event(\"blur\"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr(\"title\")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr(\"title\")},s.attr(\"title\",\"\"))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,a=e?e.type:null;return\"string\"==typeof s?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data(\"ui-tooltip-open\")&&(e&&(e.type=a),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){l.of=t,o.is(\":hidden\")||o.position(l)}var a,o,r,h,l=t.extend({},this.options.position);if(s){if(a=this._find(i))return a.tooltip.find(\".ui-tooltip-content\").html(s),void 0;i.is(\"[title]\")&&(e&&\"mouseover\"===e.type?i.attr(\"title\",\"\"):i.removeAttr(\"title\")),a=this._tooltip(i),o=a.tooltip,this._addDescribedBy(i,o.attr(\"id\")),o.find(\".ui-tooltip-content\").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr(\"id\").find(\"[id]\").removeAttr(\"id\")):h=s,t(\"<div>\").html(h).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):o.position(t.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(\":visible\")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger(\"open\",e,{tooltip:o})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&\"mouseover\"!==e.type||(s.mouseleave=\"close\"),e&&\"focusin\"!==e.type||(s.focusout=\"close\"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),a=this._find(n);return a?(i=a.tooltip,a.closing||(clearInterval(this.delayedShow),n.data(\"ui-tooltip-title\")&&!n.attr(\"title\")&&n.attr(\"title\",n.data(\"ui-tooltip-title\")),this._removeDescribedBy(n),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData(\"ui-tooltip-open\"),this._off(n,\"mouseleave focusout keyup\"),n[0]!==this.element[0]&&this._off(n,\"remove\"),this._off(this.document,\"mousemove\"),e&&\"mouseleave\"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr(\"title\",i.title),delete s.parents[e]}),a.closing=!0,this._trigger(\"close\",e,{tooltip:i}),a.hiding||(a.closing=!1)),void 0):(n.removeData(\"ui-tooltip-open\"),void 0)},_tooltip:function(e){var i=t(\"<div>\").attr(\"role\",\"tooltip\").addClass(\"ui-tooltip ui-widget ui-corner-all ui-widget-content \"+(this.options.tooltipClass||\"\")),s=i.uniqueId().attr(\"id\");return t(\"<div>\").addClass(\"ui-tooltip-content\").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:e,tooltip:i}},_find:function(t){var e=t.data(\"ui-tooltip-id\");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr(\"id\")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event(\"blur\"),a=s.element;n.target=n.currentTarget=a[0],e.close(n,!0),t(\"#\"+i).remove(),a.data(\"ui-tooltip-title\")&&(a.attr(\"title\")||a.attr(\"title\",a.data(\"ui-tooltip-title\")),a.removeData(\"ui-tooltip-title\"))}),this.liveRegion.remove()}})});"]}